"use strict";(self.webpackChunkasi_somos_asi_bailamos=self.webpackChunkasi_somos_asi_bailamos||[]).push([[179],{2011:(Et,Oe,V)=>{V.d(Oe,{Dh:()=>ve,GT:()=>_e,cc:()=>Pe,hO:()=>Ge,on:()=>z,pX:()=>de,xv:()=>De});var i=V(4650),B=V(9260),R=V(4976);Et=V.hmd(Et);const oe=["ngOnDestroy"],de=(ye,yt,pt,Ae={})=>new Proxy(ye,{get:(be,Se)=>pt.runOutsideAngular(()=>{var $e;if(ye[Se])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(Se,ye[Se]),ye[Se];if(oe.indexOf(Se)>-1)return()=>{};const ze=yt.toPromise().then(le=>{const Ye=le&&le[Se];return"function"==typeof Ye?Ye.bind(le):Ye&&Ye.then?Ye.then(At=>pt.run(()=>At)):pt.run(()=>Ye)});return new Proxy(()=>{},{get:(le,Ye)=>ze[Ye],apply:(le,Ye,At)=>ze.then(gt=>{var qt;const lt=gt&&gt(...At);return!(null===(qt=Ae?.spy)||void 0===qt)&&qt.apply&&Ae.spy.apply(Se,At,lt),lt})})})}),_e=(ye,yt)=>{yt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ae=>{Object.defineProperty(ye.prototype,Ae,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ae))})})};class pe{constructor(yt){return yt}}const ve=new i.OlP("angularfire2.app.options"),De=new i.OlP("angularfire2.app.name");function z(ye,yt,pt){const be="object"==typeof pt&&pt||{};be.name=be.name||"string"==typeof pt&&pt||"[DEFAULT]";const $e=B.Z.apps.filter(ze=>ze&&ze.name===be.name)[0]||yt.runOutsideAngular(()=>B.Z.initializeApp(ye,be));try{JSON.stringify(ye)!==JSON.stringify($e.options)&&$("error",`${$e.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe($e)}const $=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)},Q={provide:pe,useFactory:z,deps:[ve,i.R0b,[new i.FiY,De]]};let Ge=(()=>{class ye{constructor(pt){B.Z.registerVersion("angularfire",R.q4.full,"core"),B.Z.registerVersion("angularfire",R.q4.full,"app-compat"),B.Z.registerVersion("angular",i.q4F.full,pt.toString())}static initializeApp(pt,Ae){return{ngModule:ye,providers:[{provide:ve,useValue:pt},{provide:De,useValue:Ae}]}}}return ye.\u0275fac=function(pt){return new(pt||ye)(i.LFG(i.Lbi))},ye.\u0275mod=i.oAB({type:ye}),ye.\u0275inj=i.cJS({providers:[Q]}),ye})();function Pe(ye,yt,pt,Ae,be){const[,Se,$e]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ye)||[];if(Se)return function xe(ye,yt){try{return ye.toString()===yt.toString()}catch{return ye===yt}}(be,$e)||(Ce("error",`${yt} was already initialized on the ${pt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:be,was:$e})),Se;{const ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ye,ze,be]),ze}}const it=!!Et.hot,Ce=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Et,Oe,V)=>{V.d(Oe,{q4:()=>oc,iC:()=>$r,fc:()=>Cf,HU:()=>su,vb:()=>Jd,JM:()=>aa,u3:()=>ca});var i=V(4650),B=V(259),R=V(5861),oe=V(6881),de=V(2090),_e=V(4859),pe=V(1877);let De,z;const Ge=new WeakMap,Pe=new WeakMap,xe=new WeakMap,it=new WeakMap,Ce=new WeakMap;let pt={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Pe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xe.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return $e(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Se(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(ze(this),T),$e(Ge.get(this))}:function(...T){return $e(C.apply(ze(this),T))}:function(T,...S){const U=C.call(ze(this),T,...S);return xe.set(U,T.sort?T.sort():[T]),$e(U)}}(C):(C instanceof IDBTransaction&&function yt(C){if(Pe.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",me),C.removeEventListener("abort",me)},X=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",X),C.addEventListener("error",me),C.addEventListener("abort",me)});Pe.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function $(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,pt):C)}function $e(C){if(C instanceof IDBRequest)return function ye(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",X),C.removeEventListener("error",me)},X=()=>{S($e(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",X),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&Ge.set(S,C)}).catch(()=>{}),Ce.set(T,C),T}(C);if(it.has(C))return it.get(C);const T=Se(C);return T!==C&&(it.set(C,T),Ce.set(T,C)),T}const ze=C=>Ce.get(C),At=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],qt=new Map;function lt(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(qt.get(T))return qt.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=gt.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!At.includes(S))return;const X=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Lt=et.store;return U&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return qt.set(T,X),X}!function Ae(C){pt=C(pt)}(C=>({...C,get:(T,S,U)=>lt(T,S)||C.get(T,S,U),has:(T,S)=>!!lt(T,S)||C.has(T,S)}));const oo="@firebase/installations",so="w:0.6.4",ae="FIS_v2",ct=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function kt(C){return{token:C.token,requestStatus:2,expiresIn:mr(C.expiresIn),creationTime:Date.now()}}function on(C,T){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(C,T){const U=(yield T.json()).error;return ct.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function pn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Qn(C,{refreshToken:T}){const S=pn(C);return S.append("Authorization",function Ti(C){return`${ae} ${C}`}(T)),S}function Sn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function mr(C){return Number(C.replace("s","000"))}function ut(C,T){return _r.apply(this,arguments)}function _r(){return(_r=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:S}){const U=tn(C),K=pn(C),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:ae,appId:C.appId,sdkVersion:so})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok){const et=yield Ke.json();return{fid:et.fid||S,registrationStatus:2,refreshToken:et.refreshToken,authToken:kt(et.authToken)}}throw yield on("Create Installation",Ke)})).apply(this,arguments)}function Xn(C){return new Promise(T=>{setTimeout(T,C)})}const Bi=/^[cdef][\w-]{21}$/;function On(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Mn(C){return function $n(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Bi.test(S)?S:""}catch{return""}}function $t(C){return`${C.appName}!${C.appId}`}const dt=new Map;function bt(C,T){const S=$t(C);yr(S,T),function ir(C,T){const S=function zn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=C=>{yr(C.data.key,C.data.fid)}),St}();S&&S.postMessage({key:C,fid:T}),function zt(){0===dt.size&&St&&(St.close(),St=null)}()}(S,T)}function yr(C,T){const S=dt.get(C);if(S)for(const U of S)U(T)}let St=null;const jn="firebase-installations-store";let wn=null;function er(){return wn||(wn=function le(C,T,{blocked:S,upgrade:U,blocking:K,terminated:X}={}){const me=indexedDB.open(C,T),Qe=$e(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U($e(me.result),Ke.oldVersion,Ke.newVersion,$e(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(jn)}})),wn}function Pn(C,T){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield er()).transaction(jn,"readwrite"),X=K.objectStore(jn),me=yield X.get(S);return yield X.put(T,S),yield K.done,(!me||me.fid!==T.fid)&&bt(C,T.fid),T})).apply(this,arguments)}function tr(C){return xi.apply(this,arguments)}function xi(){return(xi=(0,R.Z)(function*(C){const T=$t(C),U=(yield er()).transaction(jn,"readwrite");yield U.objectStore(jn).delete(T),yield U.done})).apply(this,arguments)}function vr(C,T){return jr.apply(this,arguments)}function jr(){return(jr=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield er()).transaction(jn,"readwrite"),X=K.objectStore(jn),me=yield X.get(S),Qe=T(me);return void 0===Qe?yield X.delete(S):yield X.put(Qe,S),yield K.done,Qe&&(!me||me.fid!==Qe.fid)&&bt(C,Qe.fid),Qe})).apply(this,arguments)}function G(C){return H.apply(this,arguments)}function H(){return(H=(0,R.Z)(function*(C){let T;const S=yield vr(C.appConfig,U=>{const K=L(U),X=O(C,K);return T=X.registrationPromise,X.installationEntry});return""===S.fid?{installationEntry:yield T}:{installationEntry:S,registrationPromise:T}})).apply(this,arguments)}function L(C){return we(C||{fid:On(),registrationStatus:0})}function O(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ct.create("app-offline"))};const S={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(C,T){return J.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ee(C)}:{installationEntry:T}}function J(){return(J=(0,R.Z)(function*(C,T){try{const S=yield ut(C,T);return Pn(C.appConfig,S)}catch(S){throw xt(S)&&409===S.customData.serverCode?yield tr(C.appConfig):yield Pn(C.appConfig,{fid:T.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Ee(C){return Je.apply(this,arguments)}function Je(){return(Je=(0,R.Z)(function*(C){let T=yield mt(C.appConfig);for(;1===T.registrationStatus;)yield Xn(100),T=yield mt(C.appConfig);if(0===T.registrationStatus){const{installationEntry:S,registrationPromise:U}=yield G(C);return U||S}return T})).apply(this,arguments)}function mt(C){return vr(C,T=>{if(!T)throw ct.create("installation-not-found");return we(T)})}function we(C){return function tt(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function at(C,T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},S){const U=Ft(C,S),K=Qn(C,S),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:so,appId:C.appId}})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok)return kt(yield Ke.json());throw yield on("Generate Auth Token",Ke)})).apply(this,arguments)}function Ft(C,{fid:T}){return`${tn(C)}/${T}/authTokens:generate`}function an(C){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.Z)(function*(C,T=!1){let S;const U=yield vr(C.appConfig,X=>{if(!Bt(X))throw ct.create("not-registered");const me=X.authToken;if(!T&&gn(me))return X;if(1===me.requestStatus)return S=ce(C,T),X;{if(!navigator.onLine)throw ct.create("app-offline");const Qe=Xt(X);return S=Ue(C,Qe),Qe}});return S?yield S:U.authToken})).apply(this,arguments)}function ce(C,T){return ie.apply(this,arguments)}function ie(){return(ie=(0,R.Z)(function*(C,T){let S=yield Le(C.appConfig);for(;1===S.authToken.requestStatus;)yield Xn(100),S=yield Le(C.appConfig);const U=S.authToken;return 0===U.requestStatus?an(C,T):U})).apply(this,arguments)}function Le(C){return vr(C,T=>{if(!Bt(T))throw ct.create("not-registered");return function Hr(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ue(C,T){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,R.Z)(function*(C,T){try{const S=yield at(C,T),U=Object.assign(Object.assign({},T),{authToken:S});return yield Pn(C.appConfig,U),S}catch(S){if(!xt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Pn(C.appConfig,U)}else yield tr(C.appConfig);throw S}})).apply(this,arguments)}function Bt(C){return void 0!==C&&2===C.registrationStatus}function gn(C){return 2===C.requestStatus&&!function Bn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Xt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function li(){return(li=(0,R.Z)(function*(C){const T=C,{installationEntry:S,registrationPromise:U}=yield G(T);return U?U.catch(console.error):an(T).catch(console.error),S.fid})).apply(this,arguments)}function Ia(){return(Ia=(0,R.Z)(function*(C,T=!1){const S=C;return yield Kt(S),(yield an(S,T)).token})).apply(this,arguments)}function Kt(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.Z)(function*(C){const{registrationPromise:T}=yield G(C);T&&(yield T)})).apply(this,arguments)}function Tr(C){return ct.create("missing-app-config-values",{valueName:C})}const Gr="installations",bo=C=>{const T=C.getProvider("app").getImmediate(),S=function yd(C){if(!C||!C.options)throw Tr("App Configuration");if(!C.name)throw Tr("App Name");const T=["projectId","apiKey","appId"];for(const S of T)if(!C.options[S])throw Tr(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ma=C=>{const T=C.getProvider("app").getImmediate(),S=(0,oe._getProvider)(T,Gr).getImmediate();return{getId:()=>function Hi(C){return li.apply(this,arguments)}(S),getToken:K=>function xa(C){return Ia.apply(this,arguments)}(S,K)}};(function Ii(){(0,oe._registerComponent)(new _e.wA(Gr,bo,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("installations-internal",Ma,"PRIVATE"))})(),(0,oe.registerVersion)(oo,"0.6.4"),(0,oe.registerVersion)(oo,"0.6.4","esm2017");const ka="@firebase/remote-config",kn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gu{constructor(T,S,U,K){this.client=T,this.storage=S,this.storageCache=U,this.logger=K}isCachedDataFresh(T,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-S,K=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(T.cacheMaxAgeMillis,U))return K;T.eTag=K&&K.eTag;const X=yield S.client.fetch(T),me=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&me.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(me),X})()}}function Sc(C=navigator){return C.languages&&C.languages[0]||C.language}class qu{constructor(T,S,U,K,X,me){this.firebaseInstallations=T,this.sdkVersion=S,this.namespace=U,this.projectId=K,this.apiKey=X,this.appId=me}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ke={sdk_version:S.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:S.appId,language_code:Sc()},et={method:"POST",headers:Qe,body:JSON.stringify(Ke)},Lt=fetch(me,et),Ot=new Promise((ri,Rr)=>{T.signal.addEventListener(()=>{const la=new Error("The operation was aborted.");la.name="AbortError",Rr(la)})});let Or;try{yield Promise.race([Lt,Ot]),Or=yield Lt}catch(ri){let Rr="fetch-client-network";throw"AbortError"===ri?.name&&(Rr="fetch-timeout"),kn.create(Rr,{originalErrorMessage:ri?.message})}let fn=Or.status;const fo=Or.headers.get("ETag")||void 0;let ua,po;if(200===Or.status){let ri;try{ri=yield Or.json()}catch(Rr){throw kn.create("fetch-client-parse",{originalErrorMessage:Rr?.message})}ua=ri.entries,po=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===po?fn=500:"NO_CHANGE"===po?fn=304:("NO_TEMPLATE"===po||"EMPTY_CONFIG"===po)&&(ua={}),304!==fn&&200!==fn)throw kn.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:fo,config:ua}})()}}class $u{constructor(T,S){this.client=T,this.storage=S}fetch(T){var S=this;return(0,R.Z)(function*(){const U=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:S,backoffCount:U}){var K=this;return(0,R.Z)(function*(){yield function Pa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(X),U(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,S);try{const X=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),X}catch(X){if(!function Td(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const me={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(me),K.attemptFetch(T,me)}})()}}class zu{constructor(T,S,U,K,X){this.app=T,this._client=S,this._storageCache=U,this._storage=K,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kn(C,T){const S=C.target.error||void 0;return kn.create(T,{originalErrorMessage:S&&S?.message})}const To="app_namespace_store";class rf{constructor(T,S,U,K=function F_(){return new Promise((C,T)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=U=>{T(Kn(U,"storage-open"))},S.onsuccess=U=>{C(U.target.result)},S.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(S){T(kn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=T,this.appName=S,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,X)=>{const Qe=U.transaction([To],"readonly").objectStore(To),Ke=S.createCompositeKey(T);try{const et=Qe.get(Ke);et.onerror=Lt=>{X(Kn(Lt,"storage-get"))},et.onsuccess=Lt=>{const Ot=Lt.target.result;K(Ot?Ot.value:void 0)}}catch(et){X(kn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,S){var U=this;return(0,R.Z)(function*(){const K=yield U.openDbPromise;return new Promise((X,me)=>{const Ke=K.transaction([To],"readwrite").objectStore(To),et=U.createCompositeKey(T);try{const Lt=Ke.put({compositeKey:et,value:S});Lt.onerror=Ot=>{me(Kn(Ot,"storage-set"))},Lt.onsuccess=()=>{X()}}catch(Lt){me(kn.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,X)=>{const Qe=U.transaction([To],"readwrite").objectStore(To),Ke=S.createCompositeKey(T);try{const et=Qe.delete(Ke);et.onerror=Lt=>{X(Kn(Lt,"storage-delete"))},et.onsuccess=()=>{K()}}catch(et){X(kn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const S=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),X=yield S;X&&(T.lastFetchStatus=X);const me=yield U;me&&(T.lastSuccessfulFetchTimestampMillis=me);const Qe=yield K;Qe&&(T.activeConfig=Qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function di(){return Id.apply(this,arguments)}function Id(){return(Id=(0,R.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let Gi,kr;!function Hs(){(0,oe._registerComponent)(new _e.wA("remote-config",function C(T,{instanceIdentifier:S}){const U=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!(0,de.hl)())throw kn.create("indexed-db-unavailable");const{projectId:X,apiKey:me,appId:Qe}=U.options;if(!X)throw kn.create("registration-project-id");if(!me)throw kn.create("registration-api-key");if(!Qe)throw kn.create("registration-app-id");const Ke=new rf(Qe,U.name,S=S||"firebase"),et=new xn(Ke),Lt=new pe.Yd(ka);Lt.logLevel=pe.in.ERROR;const Ot=new qu(K,oe.SDK_VERSION,S,X,me,Qe),Or=new $u(Ot,Ke),fn=new Gu(Or,Ke,et,Lt),fo=new zu(U,fn,et,Ke,Lt);return function bd(C){const T=(0,de.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ka,"0.4.4"),(0,oe.registerVersion)(ka,"0.4.4","esm2017")}();const Oa=new WeakMap,Ai=new WeakMap,xr=new WeakMap,Gs=new WeakMap,Nt=new WeakMap;let Qu={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Ai.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xr.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return qi(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Pc(C){return"function"==typeof C?function sf(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kc(){return kr||(kr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Oc(this),T),qi(Oa.get(this))}:function(...T){return qi(C.apply(Oc(this),T))}:function(T,...S){const U=C.call(Oc(this),T,...S);return xr.set(U,T.sort?T.sort():[T]),qi(U)}}(C):(C instanceof IDBTransaction&&function Yu(C){if(Ai.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",me),C.removeEventListener("abort",me)},X=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",X),C.addEventListener("error",me),C.addEventListener("abort",me)});Ai.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function Ju(){return Gi||(Gi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Qu):C)}function qi(C){if(C instanceof IDBRequest)return function Nc(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",X),C.removeEventListener("error",me)},X=()=>{S(qi(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",X),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&Oa.set(S,C)}).catch(()=>{}),Nt.set(T,C),T}(C);if(Gs.has(C))return Gs.get(C);const T=Pc(C);return T!==C&&(Gs.set(C,T),Nt.set(T,C)),T}const Oc=C=>Nt.get(C);function ke(C,T,{blocked:S,upgrade:U,blocking:K,terminated:X}={}){const me=indexedDB.open(C,T),Qe=qi(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U(qi(me.result),Ke.oldVersion,Ke.newVersion,qi(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}function en(C,{blocked:T}={}){const S=indexedDB.deleteDatabase(C);return T&&S.addEventListener("blocked",()=>T()),qi(S).then(()=>{})}const Xu=["get","getKey","getAll","getAllKeys","count"],Rc=["put","add","delete","clear"],Wn=new Map;function Ra(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=Rc.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!Xu.includes(S))return;const X=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Lt=et.store;return U&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return Wn.set(T,X),X}!function Ad(C){Qu=C(Qu)}(C=>({...C,get:(T,S,U)=>Ra(T,S)||C.get(T,S,U),has:(T,S)=>!!Ra(T,S)||C.has(T,S)}));const qo="/firebase-messaging-sw.js",Si="/firebase-cloud-messaging-push-scope",Fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sd="google.c.a.c_id",Rn="google.c.a.c_l",L_="google.c.a.ts",el="google.c.a.e";var qr=(()=>{return(C=qr||(qr={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",qr;var C})();function fi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _s(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(S),K=new Uint8Array(U.length);for(let X=0;X<U.length;++X)K[X]=U.charCodeAt(X);return K}const pi="fcm_token_details_db",Md="fcm_token_object_Store";function kd(C){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(pi))return null;let T=null;return(yield ke(pi,5,{upgrade:(U=(0,R.Z)(function*(K,X,me,Qe){var Ke;if(X<2||!K.objectStoreNames.contains(Md))return;const et=Qe.objectStore(Md),Lt=yield et.index("fcmSenderId").get(C);if(yield et.clear(),Lt)if(2===X){const Ot=Lt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(Ke=Ot.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:fi(Ot.vapidKey)}}}else if(3===X){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:fi(Ot.auth),p256dh:fi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:fi(Ot.vapidKey)}}}else if(4===X){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:fi(Ot.auth),p256dh:fi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:fi(Ot.vapidKey)}}}}),function(X,me,Qe,Ke){return U.apply(this,arguments)})})).close(),yield en(pi),yield en("fcm_vapid_details_db"),yield en("undefined"),Ua(T)?T:null;var U}),Lc.apply(this,arguments)}function Ua(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ti="firebase-messaging-store";let Uc=null;function nl(){return Uc||(Uc=ke("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ti)}})),Uc}function ys(C){return Va.apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(C){const T=Pd(C),U=yield(yield nl()).transaction(ti).objectStore(ti).get(T);if(U)return U;{const K=yield kd(C.appConfig.senderId);if(K)return yield Za(C,K),K}})).apply(this,arguments)}function Za(C,T){return rl.apply(this,arguments)}function rl(){return(rl=(0,R.Z)(function*(C,T){const S=Pd(C),K=(yield nl()).transaction(ti,"readwrite");return yield K.objectStore(ti).put(T,S),yield K.done,T})).apply(this,arguments)}function Nd(C){return $o.apply(this,arguments)}function $o(){return($o=(0,R.Z)(function*(C){const T=Pd(C),U=(yield nl()).transaction(ti,"readwrite");yield U.objectStore(ti).delete(T),yield U.done})).apply(this,arguments)}function Pd({appConfig:C}){return C.appId}const hn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vs(C,T){return An.apply(this,arguments)}function An(){return(An=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Ds(T),K={method:"POST",headers:S,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(Od(C.appConfig),K)).json()}catch(me){throw hn.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(X.error)throw hn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw hn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function cg(C,T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Ds(T.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(`${Od(C.appConfig)}/${T.token}`,K)).json()}catch(me){throw hn.create("token-update-failed",{errorInfo:me?.toString()})}if(X.error)throw hn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw hn.create("token-update-no-token");return X.token})).apply(this,arguments)}function af(C,T){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,R.Z)(function*(C,T){const U={method:"DELETE",headers:yield ja(C)};try{const X=yield(yield fetch(`${Od(C.appConfig)}/${T}`,U)).json();if(X.error)throw hn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(K){throw hn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Od({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ja(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,R.Z)(function*({appConfig:C,installations:T}){const S=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Ds({p256dh:C,auth:T,endpoint:S,vapidKey:U}){const K={web:{endpoint:S,auth:T,p256dh:C}};return U!==Fa&&(K.web.applicationPubKey=U),K}const jc=6048e5;function Bc(C){return il.apply(this,arguments)}function il(){return(il=(0,R.Z)(function*(C){const T=yield Fd(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:fi(T.getKey("auth")),p256dh:fi(T.getKey("p256dh"))},U=yield ys(C.firebaseDependencies);if(U){if(uf(U.subscriptionOptions,S))return Date.now()>=U.createTime+jc?$s(C,{token:U.token,createTime:Date.now(),subscriptionOptions:S}):U.token;try{yield af(C.firebaseDependencies,U.token)}catch(K){console.warn(K)}return zs(C.firebaseDependencies,S)}return zs(C.firebaseDependencies,S)})).apply(this,arguments)}function cf(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,R.Z)(function*(C){const T=yield ys(C.firebaseDependencies);T&&(yield af(C.firebaseDependencies,T.token),yield Nd(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function $s(C,T){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,R.Z)(function*(C,T){try{const S=yield cg(C.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:S,createTime:Date.now()});return yield Za(C.firebaseDependencies,U),S}catch(S){throw yield cf(C),S}})).apply(this,arguments)}function zs(C,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,R.Z)(function*(C,T){const U={token:yield vs(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Za(C,U),U.token})).apply(this,arguments)}function Fd(C,T){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,R.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_s(T)})})).apply(this,arguments)}function uf(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function ol(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Hc(C,T){if(!T.notification)return;C.notification={};const S=T.notification.title;S&&(C.notification.title=S);const U=T.notification.body;U&&(C.notification.body=U);const K=T.notification.image;K&&(C.notification.image=K);const X=T.notification.icon;X&&(C.notification.icon=X)}(T,C),function sl(C,T){!T.data||(C.data=T.data)}(T,C),function Gc(C,T){var S,U,K,X,me;if(!(T.fcmOptions||null!==(S=T.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Qe=null!==(K=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==K?K:null===(X=T.notification)||void 0===X?void 0:X.click_action;Qe&&(C.fcmOptions.link=Qe);const Ke=null===(me=T.fcmOptions)||void 0===me?void 0:me.analytics_label;Ke&&(C.fcmOptions.analyticsLabel=Ke)}(T,C),T}function Ud(C){return"object"==typeof C&&!!C&&Sd in C}function Ks(C,T){const S=[];for(let U=0;U<C.length;U++)S.push(C.charAt(U)),U<T.length&&S.push(T.charAt(U));return S.join("")}function al(C){return hn.create("missing-app-config-values",{valueName:C})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ha{constructor(T,S,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function lf(C){if(!C||!C.options)throw al("App Configuration Object");if(!C.name)throw al("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const U of T)if(!S[U])throw al(U);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:S,analyticsProvider:U}}_delete(){return Promise.resolve()}}function df(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(qo,{scope:Si}),C.swRegistration.update().catch(()=>{})}catch(T){throw hn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function zo(C,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,R.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield df(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function cl(C,T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Fa)})).apply(this,arguments)}function Ga(){return(Ga=(0,R.Z)(function*(C,T){if(!navigator)throw hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hn.create("permission-blocked");return yield cl(C,T?.vapidKey),yield zo(C,T?.serviceWorkerRegistration),Bc(C)})).apply(this,arguments)}function $i(C,T,S){return $c.apply(this,arguments)}function $c(){return($c=(0,R.Z)(function*(C,T,S){const U=Ws(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:S[Sd],message_name:S[Rn],message_time:S[L_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ws(C){switch(C){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Es(){return(Es=(0,R.Z)(function*(C,T){const S=T.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===qr.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ol(S)):C.onMessageHandler.next(ol(S)));const U=S.data;Ud(U)&&"1"===U[el]&&(yield $i(C,S.messageType,U))})).apply(this,arguments)}const $a="@firebase/messaging",za=C=>{const T=new Ha(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function qa(C,T){return Es.apply(this,arguments)}(T,S)),T},ul=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:U=>function qc(C,T){return Ga.apply(this,arguments)}(T,U)}};function Js(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,R.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hf(){(0,oe._registerComponent)(new _e.wA("messaging",za,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("messaging-internal",ul,"PRIVATE")),(0,oe.registerVersion)($a,"0.12.4"),(0,oe.registerVersion)($a,"0.12.4","esm2017")}();const Wa="analytics",Ja="firebase_id",Zd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xo="https://www.googletagmanager.com/gtag/js",Fn=new pe.Yd("@firebase/analytics"),sr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zc(C){if(!C.startsWith(xo)){const T=sr.create("invalid-gtag-resource",{gtagURL:C});return Fn.warn(T.message),""}return C}function Mi(C){return Promise.all(C.map(T=>T.catch(S=>S)))}function jd(C,T){const S=function hl(C,T){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,T)),S}("firebase-js-sdk-policy",{createScriptURL:zc}),U=document.createElement("script"),K=`${xo}?l=${C}&id=${T}`;U.src=S?S?.createScriptURL(K):K,U.async=!0,document.head.appendChild(U)}function Bd(C,T,S,U,K,X){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,R.Z)(function*(C,T,S,U,K,X){const me=U[K];try{if(me)yield T[me];else{const Ke=(yield Mi(S)).find(et=>et.measurementId===K);Ke&&(yield T[Ke.appId])}}catch(Qe){Fn.error(Qe)}C("config",K,X)})).apply(this,arguments)}function U_(C,T,S,U,K){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(C,T,S,U,K){try{let X=[];if(K&&K.send_to){let me=K.send_to;Array.isArray(me)||(me=[me]);const Qe=yield Mi(S);for(const Ke of me){const et=Qe.find(Ot=>Ot.measurementId===Ke),Lt=et&&T[et.appId];if(!Lt){X=[];break}X.push(Lt)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),C("event",U,K||{})}catch(X){Fn.error(X)}})).apply(this,arguments)}function pf(C){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(xo)&&S.src.includes(C))return S;return null}const ar=new class V_{constructor(T={},S=1e3){this.throttleMetadata=T,this.intervalMillis=S}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,S){this.throttleMetadata[T]=S}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Jc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ki(C){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,R.Z)(function*(C){var T;const{appId:S,apiKey:U}=C,K={method:"GET",headers:Jc(U)},X=Zd.replace("{app-id}",S),me=yield fetch(X,K);if(200!==me.status&&304!==me.status){let Qe="";try{const Ke=yield me.json();null!==(T=Ke.error)&&void 0!==T&&T.message&&(Qe=Ke.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Qe})}return me.json()})).apply(this,arguments)}function Yc(C){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,R.Z)(function*(C,T=ar,S){const{appId:U,apiKey:K,measurementId:X}=C.options;if(!U)throw sr.create("no-app-id");if(!K){if(X)return{measurementId:X,appId:U};throw sr.create("no-api-key")}const me=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Gd;return setTimeout((0,R.Z)(function*(){Qe.abort()}),void 0!==S?S:6e4),zi({appId:U,apiKey:K,measurementId:X},me,Qe,T)})).apply(this,arguments)}function zi(C,T,S){return fl.apply(this,arguments)}function fl(){return(fl=(0,R.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:S},U,K=ar){var X;const{appId:me,measurementId:Qe}=C;try{yield Qa(U,T)}catch(Ke){if(Qe)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:me,measurementId:Qe};throw Ke}try{const Ke=yield ki(C);return K.deleteThrottleMetadata(me),Ke}catch(Ke){const et=Ke;if(!Qc(et)){if(K.deleteThrottleMetadata(me),Qe)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:me,measurementId:Qe};throw Ke}const Lt=503===Number(null===(X=et?.customData)||void 0===X?void 0:X.httpStatus)?(0,de.$s)(S,K.intervalMillis,30):(0,de.$s)(S,K.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Lt,backoffCount:S+1};return K.setThrottleMetadata(me,Ot),Fn.debug(`Calling attemptFetch again in ${Lt} millis`),zi(C,Ot,U,K)}})).apply(this,arguments)}function Qa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(X),U(sr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Qc(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Gd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let qd,Xa;function mf(){return(mf=(0,R.Z)(function*(C,T,S,U,K){if(K&&K.global)C("event",S,U);else{const X=yield T;C("event",S,Object.assign(Object.assign({},U),{send_to:X}))}})).apply(this,arguments)}function ea(C){Xa=C}function ml(C){qd=C}function _n(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,R.Z)(function*(){if(!(0,de.hl)())return Fn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return Fn.warn(sr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _i(){return(_i=(0,R.Z)(function*(C,T,S,U,K,X,me){var Qe;const Ke=Yc(C);Ke.then(fn=>{S[fn.measurementId]=fn.appId,C.options.measurementId&&fn.measurementId!==C.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Fn.error(fn)),T.push(Ke);const et=_n().then(fn=>{if(fn)return U.getId()}),[Lt,Ot]=yield Promise.all([Ke,et]);pf(X)||jd(X,Lt.measurementId),Xa&&(K("consent","default",Xa),ea(void 0)),K("js",new Date);const Or=null!==(Qe=me?.config)&&void 0!==Qe?Qe:{};return Or.origin="firebase",Or.update=!0,null!=Ot&&(Or[Ja]=Ot),K("config",Lt.measurementId,Or),qd&&(K("set",qd),ml(void 0)),Lt.measurementId})).apply(this,arguments)}class ec{constructor(T){this.app=T}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},_l=[];const Kd={};let Gn,ht,Io="dataLayer",tc=!1;function yl(C,T,S){!function nc(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((U,K)=>`(${K+1}) ${U}`).join(" "),S=sr.create("invalid-analytics-context",{errorInfo:T});Fn.warn(S.message)}}();const U=C.options.appId;if(!U)throw sr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw sr.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yi[U])throw sr.create("already-exists",{id:U});if(!tc){!function yn(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Io);const{wrappedGtag:X,gtagCore:me}=function dg(C,T,S,U,K){let X=function(...me){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(X=window[K]),window[K]=function lg(C,T,S,U){function X(){return(X=(0,R.Z)(function*(me,...Qe){try{if("event"===me){const[Ke,et]=Qe;yield U_(C,T,S,Ke,et)}else if("config"===me){const[Ke,et]=Qe;yield Bd(C,T,S,U,Ke,et)}else if("consent"===me){const[Ke]=Qe;C("consent","update",Ke)}else if("get"===me){const[Ke,et,Lt]=Qe;C("get",Ke,et,Lt)}else if("set"===me){const[Ke]=Qe;C("set",Ke)}else C(me,...Qe)}catch(Ke){Fn.error(Ke)}})).apply(this,arguments)}return function K(me){return X.apply(this,arguments)}}(X,C,T,S),{gtagCore:X,wrappedGtag:window[K]}}(yi,_l,Kd,Io,"gtag");ht=X,Gn=me,tc=!0}return yi[U]=function pg(C,T,S,U,K,X,me){return _i.apply(this,arguments)}(C,_l,Kd,T,Gn,Io,S),new ec(C)}function bs(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Dr="@firebase/analytics";!function Cl(){(0,oe._registerComponent)(new _e.wA(Wa,(T,{options:S})=>yl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new _e.wA("analytics-internal",function C(T){try{const S=T.getProvider(Wa).getImmediate();return{logEvent:(U,K,X)=>function vi(C,T,S,U){C=(0,de.m9)(C),function hg(C,T,S,U,K){return mf.apply(this,arguments)}(ht,yi[C.app.options.appId],T,S,U).catch(K=>Fn.error(K))}(S,U,K,X)}}catch(S){throw sr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(Dr,"0.10.0"),(0,oe.registerVersion)(Dr,"0.10.0","esm2017")}();var Pr=V(4408),nu=V(7565);const El=new class yf extends nu.v{}(class na extends Pr.o{constructor(T,S){super(T,S),this.scheduler=T,this.work=S}schedule(T,S=0){return S>0?super.schedule(T,S):(this.delay=S,this.state=T,this.scheduler.flush(this),this)}execute(T,S){return S>0||this.closed?super.execute(T,S):this._execute(T,S)}requestAsyncId(T,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,S,U):(T.flush(this),0)}});var vf=V(4986),ic=V(9751),ru=V(8505),Xo=V(5363),Ts=V(9468);const oc=new i.GfV("7.6.1"),iu="__angularfire_symbol__analyticsIsSupportedValue",ra="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",ia="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",oa="__angularfire_symbol__messagingIsSupported";function aa(C,T,S){if(T){if(1===T.length)return T[0];const X=T.filter(me=>me.app===S);if(1===X.length)return X[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[ra]||(globalThis[ra]=bs().then(C=>globalThis[iu]=C).catch(()=>globalThis[iu]=!1)),globalThis[oa]||(globalThis[oa]=Js().then(C=>globalThis[Tl]=C).catch(()=>globalThis[Tl]=!1)),globalThis[ia]||(globalThis[ia]=di().then(C=>globalThis[bl]=C).catch(()=>globalThis[bl]=!1));const Jd=(C,T)=>{const S=T?[T]:(0,B.C6)(),U=[];return S.forEach(K=>{K.container.getProvider(C).instances.forEach(me=>{U.includes(me)||U.push(me)})}),U};function es(){}class xl{constructor(T,S=El){this.zone=T,this.delegate=S}now(){return this.delegate.now()}schedule(T,S,U){const K=this.zone;return this.delegate.schedule(function(me){K.runGuarded(()=>{T.apply(this,[me])})},S,U)}}class Df{constructor(T){this.zone=T,this.task=null}call(T,S){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),S.pipe((0,ru.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=S.run(()=>new xl(Zone.current,vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(i.LFG(i.R0b))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Jn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ko(C){return Jn().ngZone.runOutsideAngular(()=>C())}function ho(C){return Jn().ngZone.run(()=>C())}function Cf(C){return C.pipe((0,Xo.Q)(Jn().outsideAngular))}function $r(C){return Jn(),function Yn(C){return function(S){return(S=S.lift(new Df(C.ngZone))).pipe((0,Ts.R)(C.outsideAngular),(0,Xo.Q)(C.insideAngular))}}(Jn())(C)}const Il=(C,T)=>function(){const U=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ho(()=>C.apply(void 0,U))},ca=(C,T)=>function(){let S;const U=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof U[X]&&(T&&(S||(S=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)))),U[X]=Il(U[X],S));const K=ko(()=>C.apply(this,U));if(!T){if(K instanceof ic.y){const X=Jn();return K.pipe((0,Ts.R)(X.outsideAngular),(0,Xo.Q)(X.insideAngular))}return ho(()=>K)}return K instanceof ic.y?K.pipe($r):K instanceof Promise?ho(()=>new Promise((X,me)=>K.then(Qe=>ho(()=>X(Qe)),Qe=>ho(()=>me(Qe))))):"function"==typeof K&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),K.apply(this,arguments)}:ho(()=>K)}},1389:(Et,Oe,V)=>{V.d(Oe,{$:()=>qo,A:()=>$,D:()=>Pe,I:()=>mn,J:()=>bo,L:()=>co,N:()=>vr,P:()=>pg,Q:()=>rf,R:()=>mi,U:()=>ms,V:()=>di,W:()=>Id,X:()=>Ku,Y:()=>Ju,Z:()=>kc,_:()=>Nt,a:()=>Jo,a0:()=>Fa,a1:()=>Sd,a2:()=>hi,a3:()=>Md,a4:()=>Lc,a5:()=>tl,a6:()=>ti,a7:()=>nl,a8:()=>Va,a9:()=>rl,aA:()=>le,aB:()=>ra,aC:()=>tr,aD:()=>jr,aE:()=>ru,aF:()=>Wd,aG:()=>ni,aH:()=>Hn,aL:()=>Yo,aO:()=>Gi,aa:()=>Nd,ab:()=>Pd,ac:()=>ag,ad:()=>cg,ae:()=>af,af:()=>Od,ai:()=>jc,aj:()=>il,ak:()=>cf,an:()=>sf,ao:()=>Hc,aq:()=>Ko,ar:()=>$a,as:()=>At,at:()=>we,au:()=>Ee,av:()=>Ae,aw:()=>Ot,ax:()=>oa,ay:()=>tt,az:()=>be,b:()=>Vd,c:()=>ht,d:()=>yl,e:()=>cr,f:()=>Dr,g:()=>yf,h:()=>Pr,i:()=>gf,j:()=>vf,k:()=>po,l:()=>$d,m:()=>la,p:()=>ve,r:()=>eu,s:()=>_f,u:()=>_n});var i=V(5861),B=V(2090),R=V(6881),oe=V(7582),de=V(1877),_e=V(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new de.Yd("@firebase/auth");function pt(D,...p){ye.logLevel<=de.in.ERROR&&ye.error(`Auth (${R.SDK_VERSION}): ${D}`,...p)}function Ae(D,...p){throw ze(D,...p)}function be(D,...p){return ze(D,...p)}function Se(D,p,_){const E=Object.assign(Object.assign({},xe()),{[p]:_});return new B.LL("auth","Firebase",E).create(p,{appName:D.name})}function $e(D,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ae(D,"argument-error"),Se(D,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(D,...p){if("string"!=typeof D){const _=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=D.name),D._errorFactory.create(_,...E)}return it.create(D,...p)}function le(D,p,..._){if(!D)throw ze(p,..._)}function Ye(D){const p="INTERNAL ASSERTION FAILED: "+D;throw pt(p),new Error(p)}function At(D,p){D||Ye(p)}function gt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function qt(){return"http:"===lt()||"https:"===lt()}function lt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ui{constructor(p,_){this.shortDelay=p,this.longDelay=_,At(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function oo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function so(D,p){At(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class ae{static initialize(p,_,E){this.fetchImpl=p,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new ui(3e4,6e4);function fe(D,p){return D.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:D.tenantId}):p}function Ne(D,p,_,E){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(D,p,_,E,M={}){return ct(D,M,(0,i.Z)(function*(){let P={},Y={};E&&("GET"===p?Y=E:P={body:JSON.stringify(E)});const he=(0,B.xO)(Object.assign({key:D.config.apiKey},Y)).slice(1),qe=yield D._getAdditionalHeaders();return qe["Content-Type"]="application/json",D.languageCode&&(qe["X-Firebase-Locale"]=D.languageCode),ae.fetch()(on(D,D.config.apiHost,_,he),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function ct(D,p,_){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.Z)(function*(D,p,_){D._canInitEmulator=!1;const E=Object.assign(Object.assign({},ne),p);try{const M=new Nn(D),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw pn(D,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const he=P.ok?Y.errorMessage:Y.error.message,[qe,nt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw pn(D,"credential-already-in-use",Y);if("EMAIL_EXISTS"===qe)throw pn(D,"email-already-in-use",Y);if("USER_DISABLED"===qe)throw pn(D,"user-disabled",Y);const vt=E[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Se(D,vt,nt);Ae(D,vt)}}catch(M){if(M instanceof B.ZR)throw M;Ae(D,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function tn(D,p,_,E){return kt.apply(this,arguments)}function kt(){return(kt=(0,i.Z)(function*(D,p,_,E,M={}){const P=yield Ne(D,p,_,E,M);return"mfaPendingCredential"in P&&Ae(D,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function on(D,p,_,E){const M=`${p}${_}?${E}`;return D.config.emulator?so(D.config,M):`${D.config.apiScheme}://${M}`}class Nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(be(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(D,p,_){const E={appName:D.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=be(D,p,E);return M.customData._tokenResponse=_,M}function Sn(){return(Sn=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(D,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ti(D,p){return ut.apply(this,arguments)}function ut(){return(ut=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(D){if(D)try{const p=new Date(Number(D));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bi(){return(Bi=(0,i.Z)(function*(D,p=!1){const _=(0,B.m9)(D),E=yield _.getIdToken(p),M=On(E);le(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,Y=P?.sign_in_provider;return{claims:M,token:E,authTime:_r(Yr(M.auth_time)),issuedAtTime:_r(Yr(M.iat)),expirationTime:_r(Yr(M.exp)),signInProvider:Y||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Yr(D){return 1e3*Number(D)}function On(D){const[p,_,E]=D.split(".");if(void 0===p||void 0===_||void 0===E)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(_);return M?JSON.parse(M):(pt("Failed to decode base64 JWT payload"),null)}catch(M){return pt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function $t(D,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)(function*(D,p,_=!1){if(_)return p;try{return yield p}catch(E){throw E instanceof B.ZR&&bt(E)&&D.auth.currentUser===D&&(yield D.auth.signOut()),E}})).apply(this,arguments)}function bt({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class nn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield _.iteration()}),E)}iteration(){var p=this;return(0,i.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Qr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(D){return ir.apply(this,arguments)}function ir(){return(ir=(0,i.Z)(function*(D){var p;const _=D.auth,E=yield D.getIdToken(),M=yield $t(D,Ti(_,{idToken:E}));le(M?.users.length,_,"internal-error");const P=M.users[0];D._notifyReloadListener(P);const Y=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?ao(P.providerUserInfo):[],he=zt(D.providerData,Y),vt=!!D.isAnonymous&&!(D.email&&P.passwordHash||he?.length),cn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:he,metadata:new Qr(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(D,cn)})).apply(this,arguments)}function zn(){return(zn=(0,i.Z)(function*(D){const p=(0,B.m9)(D);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zt(D,p){return[...D.filter(E=>!p.some(M=>M.providerId===E.providerId)),...p]}function ao(D){return D.map(p=>{var{providerId:_}=p,E=(0,oe._T)(p,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function jn(){return(jn=(0,i.Z)(function*(D,p){const _=yield ct(D,{},(0,i.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:P}=D.config,Y=on(D,M,"/v1/token",`key=${P}`),he=yield D._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Y,{method:"POST",headers:he,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class wn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mn(D){const p=On(D);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var E=this;return(0,i.Z)(function*(){return le(!E.accessToken||E.refreshToken,p,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var E=this;return(0,i.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:Y}=yield function sn(D,p){return jn.apply(this,arguments)}(p,_);E.updateTokensAndExpiration(M,P,Number(Y))})()}updateTokensAndExpiration(p,_,E){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,_){const{refreshToken:E,accessToken:M,expirationTime:P}=_,Y=new wn;return E&&(le("string"==typeof E,"internal-error",{appName:p}),Y.refreshToken=E),M&&(le("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),P&&(le("number"==typeof P,"internal-error",{appName:p}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new wn,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function er(D,p){le("string"==typeof D||typeof D>"u","internal-error",{appName:p})}class Pn{constructor(p){var{uid:_,auth:E,stsTokenManager:M}=p,P=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Qr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,i.Z)(function*(){const E=yield $t(_,_.stsTokenManager.getToken(_.auth,p));return le(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(p){return function $n(D){return Bi.apply(this,arguments)}(this,p)}reload(){return function St(D){return zn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Pn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var E=this;return(0,i.Z)(function*(){let M=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield yr(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,i.Z)(function*(){const _=yield p.getIdToken();return yield $t(p,function Qn(D,p){return Sn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var E,M,P,Y,he,qe,nt,vt;const cn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Ki=null!==(M=_.email)&&void 0!==M?M:void 0,da=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,cu=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,bf=null!==(he=_.tenantId)&&void 0!==he?he:void 0,uu=null!==(qe=_._redirectEventId)&&void 0!==qe?qe:void 0,th=null!==(nt=_.createdAt)&&void 0!==nt?nt:void 0,Tf=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Pl,emailVerified:xf,isAnonymous:vg,providerData:xs,stsTokenManager:sc}=_;le(Pl&&sc,p,"internal-error");const go=wn.fromJSON(this.name,sc);le("string"==typeof Pl,p,"internal-error"),er(cn,p.name),er(Ki,p.name),le("boolean"==typeof xf,p,"internal-error"),le("boolean"==typeof vg,p,"internal-error"),er(da,p.name),er(cu,p.name),er(bf,p.name),er(uu,p.name),er(th,p.name),er(Tf,p.name);const nh=new Pn({uid:Pl,auth:p,email:Ki,emailVerified:xf,displayName:cn,isAnonymous:vg,photoURL:cu,phoneNumber:da,tenantId:bf,stsTokenManager:go,createdAt:th,lastLoginAt:Tf});return xs&&Array.isArray(xs)&&(nh.providerData=xs.map(Z_=>Object.assign({},Z_))),uu&&(nh._redirectEventId=uu),nh}static _fromIdTokenResponse(p,_,E=!1){return(0,i.Z)(function*(){const M=new wn;M.updateFromServerResponse(_);const P=new Pn({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:E});return yield yr(P),P})()}}const Xr=new Map;function tr(D){At(D instanceof Function,"Expected a class definition");let p=Xr.get(D);return p?(At(p instanceof D,"Instance stored in cache mismatched with class"),p):(p=new D,Xr.set(D,p),p)}const vr=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,i.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,i.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,i.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return D.type="NONE",D})();function jr(D,p,_){return`firebase:${D}:${p}:${_}`}class G{constructor(p,_,E){this.persistence=p,this.auth=_,this.userKey=E;const{config:M,name:P}=this.auth;this.fullUserKey=jr(this.userKey,M.apiKey,P),this.fullPersistenceKey=jr("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Pn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,i.Z)(function*(){if(_.persistence===p)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,E="authUser"){return(0,i.Z)(function*(){if(!_.length)return new G(tr(vr),p,E);const M=(yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=M[0]||tr(vr);const Y=jr(E,p.config.apiKey,p.name);let he=null;for(const nt of _)try{const vt=yield nt._get(Y);if(vt){const cn=Pn._fromJSON(p,vt);nt!==P&&(he=cn),P=nt;break}}catch{}const qe=M.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&qe.length?(P=qe[0],he&&(yield P._set(Y,he.toJSON())),yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(vt!==P)try{yield vt._remove(Y)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new G(P,p,E)):new G(P,p,E)})()}}function H(D){const p=D.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(L(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Je(p))return"Blackberry";if(mt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(Ee(p))return"Android";{const E=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function L(D=(0,B.z$)()){return/firefox\//i.test(D)}function O(D=(0,B.z$)()){const p=D.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(D=(0,B.z$)()){return/crios\//i.test(D)}function J(D=(0,B.z$)()){return/iemobile/i.test(D)}function Ee(D=(0,B.z$)()){return/android/i.test(D)}function Je(D=(0,B.z$)()){return/blackberry/i.test(D)}function mt(D=(0,B.z$)()){return/webos/i.test(D)}function we(D=(0,B.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function tt(D=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Ft(D=(0,B.z$)()){return we(D)||Ee(D)||mt(D)||Je(D)||/windows phone/i.test(D)||J(D)}function Br(D,p=[]){let _;switch(D){case"Browser":_=H((0,B.z$)());break;case"Worker":_=`${H((0,B.z$)())}-${D}`;break;default:_=D}const E=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${E}`}function ie(){return(ie=(0,i.Z)(function*(D){return(yield Ne(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(D,p){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,i.Z)(function*(D,p){return Ne(D,"GET","/v2/recaptchaConfig",fe(D,p))})).apply(this,arguments)}function Mt(D){return void 0!==D&&void 0!==D.getResponse}function Bt(D){return void 0!==D&&void 0!==D.enterprise}class gn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Xt(D){return new Promise((p,_)=>{const E=document.createElement("script");E.setAttribute("src",D),E.onload=p,E.onerror=M=>{const P=be("internal-error");P.customData=M,_(P)},E.type="text/javascript",E.charset="UTF-8",function Bn(){var D,p;return null!==(p=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==p?p:document}().appendChild(E)})}function Hr(D){return`__${D}${Math.floor(1e6*Math.random())}`}class Ia{constructor(p){this.type="recaptcha-enterprise",this.auth=Hn(p)}verify(p="verify",_=!1){var E=this;return(0,i.Z)(function*(){function P(){return P=(0,i.Z)(function*(he){if(!_){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var qe=(0,i.Z)(function*(nt,vt){Le(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cn=>{if(void 0!==cn.recaptchaKey){const Ki=new gn(cn);return null==he.tenantId?he._agentRecaptchaConfig=Ki:he._tenantRecaptchaConfigs[he.tenantId]=Ki,nt(Ki.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(cn=>{vt(cn)})});return function(nt,vt){return qe.apply(this,arguments)}}())}),P.apply(this,arguments)}function Y(he,qe,nt){const vt=window.grecaptcha;Bt(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(he,{action:p}).then(cn=>{qe(cn)}).catch(()=>{qe("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,qe)=>{(function M(he){return P.apply(this,arguments)})(E.auth).then(nt=>{if(!_&&Bt(window.grecaptcha))Y(nt,he,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));Xt("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Y(nt,he,qe)}).catch(vt=>{qe(vt)})}}).catch(nt=>{qe(nt)})})})()}}function Kt(D,p,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,i.Z)(function*(D,p,_,E=!1){const M=new Ia(D);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const Y=Object.assign({},p);return Object.assign(Y,E?{captchaResp:P}:{captchaResponse:P}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class _d{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const E=P=>new Promise((Y,he)=>{try{Y(p(P))}catch(qe){he(qe)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,i.Z)(function*(){if(_.auth.currentUser===p)return;const E=[];try{for(const M of _.queue)yield M(p),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const P of E)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class hs{constructor(p,_,E,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new _d(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var E=this;return _&&(this._popupRedirectResolver=tr(_)),this._initializationPromise=this.queue((0,i.Z)(function*(){var M,P;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,i.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let P=M,Y=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,qe=P?._redirectEventId,nt=yield _.tryRedirectSignIn(p);(!he||he===qe)&&nt?.user&&(P=nt.user,Y=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(P)}catch(he){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var _=this;return(0,i.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,i.Z)(function*(){try{yield yr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gr(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,i.Z)(function*(){const E=p?(0,B.m9)(p):null;return E&&le(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(p,_=!1){var E=this;return(0,i.Z)(function*(){if(!E._deleted)return p&&le(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,i.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,i.Z)(function*(){yield _.assertedPersistence.setPersistence(tr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,i.Z)(function*(){const _=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new gn(_);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Ia(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,_,E){return this.registerStateListener(this.authStateSubscription,p,_,E)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,E){return this.registerStateListener(this.idTokenSubscription,p,_,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var E=this;return(0,i.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,i.Z)(function*(){if(!_.redirectPersistenceManager){const E=p&&tr(p)||_._popupRedirectResolver;le(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[tr(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,i.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,i.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,i.Z)(function*(){if(p===_.currentUser)return _.queue((0,i.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,E,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof _?p.addObserver(_,E,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,i.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var _;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const P=yield p._getAppCheckToken();return P&&(E["X-Firebase-AppCheck"]=P),E})()}_getAppCheckToken(){var p=this;return(0,i.Z)(function*(){var _;const E=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function yt(D,...p){ye.logLevel<=de.in.WARN&&ye.warn(`Auth (${R.SDK_VERSION}): ${D}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Hn(D){return(0,B.m9)(D)}class ei{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(D,p,_){const E=Hn(D);le(E._canInitEmulator,E,"emulator-config-failed"),le(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=yd(p),{host:Y,port:he}=function Tr(D){const p=yd(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(p.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const P=M[1];return{host:P,port:Gr(E.substr(P.length+1))}}{const[P,Y]=E.split(":");return{host:P,port:Gr(Y)}}}(p);E.config.emulator={url:`${P}//${Y}${null===he?"":`:${he}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Y,port:he,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Sa(){function D(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function yd(D){const p=D.indexOf(":");return p<0?"":D.substr(0,p+1)}function Gr(D){if(!D)return null;const p=Number(D);return isNaN(p)?null:p}class bo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ye("not implemented")}_getIdTokenResponse(p){return Ye("not implemented")}_linkToIdToken(p,_){return Ye("not implemented")}_getReauthenticationResolver(p){return Ye("not implemented")}}function Ma(D,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:resetPassword",fe(D,p))})).apply(this,arguments)}function ka(D,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vd(D,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",fe(D,p))})).apply(this,arguments)}function ef(D,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPassword",fe(D,p))})).apply(this,arguments)}function ju(D,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendOobCode",fe(D,p))})).apply(this,arguments)}function ig(D,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,i.Z)(function*(D,p){return ju(D,p)})).apply(this,arguments)}function Cd(D,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,i.Z)(function*(D,p){return ju(D,p)})).apply(this,arguments)}function tf(D,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,i.Z)(function*(D,p){return ju(D,p)})).apply(this,arguments)}function wd(D,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,i.Z)(function*(D,p){return ju(D,p)})).apply(this,arguments)}function Ic(){return(Ic=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}function Ac(){return(Ac=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}class Hu extends bo{constructor(p,_,E,M=null){super("password",E),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Hu(p,_,"password")}static _fromEmailAndCode(p,_,E=null){return new Hu(p,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,i.Z)(function*(){var E;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const P=yield Kt(p,M,"signInWithPassword");return ef(p,P)}return ef(p,M).catch(function(){var P=(0,i.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const he=yield Kt(p,M,"signInWithPassword");return ef(p,he)}return Promise.reject(Y)});return function(Y){return P.apply(this,arguments)}}());case"emailLink":return function og(D,p){return Ic.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,_){var E=this;return(0,i.Z)(function*(){switch(E.signInMethod){case"password":return ka(p,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function nf(D,p){return Ac.apply(this,arguments)}(p,{idToken:_,email:E._email,oobCode:E._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ps(D,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithIdp",fe(D,p))})).apply(this,arguments)}class co extends bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new co(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:M}=_,P=(0,oe._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const Y=new co(E,M);return Y.idToken=P.idToken||void 0,Y.accessToken=P.accessToken||void 0,Y.secret=P.secret,Y.nonce=P.nonce,Y.pendingToken=P.pendingToken||null,Y}_getIdTokenResponse(p){return ps(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,ps(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ps(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,B.xO)(_)}return p}}function Gu(D,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendVerificationCode",fe(D,p))})).apply(this,arguments)}function Pa(){return(Pa=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p))})).apply(this,arguments)}function $u(){return($u=(0,i.Z)(function*(D,p){const _=yield tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p));if(_.temporaryProof)throw pn(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const xd={USER_NOT_FOUND:"user-not-found"};function zu(){return(zu=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,Object.assign(Object.assign({},p),{operation:"REAUTH"})),xd)})).apply(this,arguments)}class Kn extends bo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Kn({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Kn({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function qu(D,p){return Pa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Td(D,p){return $u.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Mc(D,p){return zu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}=p;return E||_||M||P?new Kn({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}):null}}class Go{constructor(p){var _,E,M,P,Y,he;const qe=(0,B.zd)((0,B.pd)(p)),nt=null!==(_=qe.apiKey)&&void 0!==_?_:null,vt=null!==(E=qe.oobCode)&&void 0!==E?E:null,cn=function To(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=qe.mode)&&void 0!==M?M:null);le(nt&&vt&&cn,"argument-error"),this.apiKey=nt,this.operation=cn,this.code=vt,this.continueUrl=null!==(P=qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(he=qe.tenantId)&&void 0!==he?he:null}static parseLink(p){const _=function sg(D){const p=(0,B.zd)((0,B.pd)(D)).link,_=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(D)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||_||p||D}(p);try{return new Go(_)}catch{return null}}}let rf=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,E){return Hu._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=Go.parseLink(E);return le(M,"argument-error"),Hu._fromEmailAndCode(_,M.code,M.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class xn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Hs extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ku extends Hs{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return le("providerId"in _&&"signInMethod"in _,"argument-error"),co._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ku.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ku.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:P,nonce:Y,providerId:he}=p;if(!E&&!M&&!_&&!P||!he)return null;try{return new Ku(he)._credential({idToken:_,accessToken:E,nonce:Y,pendingToken:P})}catch{return null}}}let ms=(()=>{class D extends Hs{constructor(){super("facebook.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),di=(()=>{class D extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return D.credential(E,M)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Id=(()=>{class D extends Hs{constructor(){super("github.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Gi extends bo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return ps(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,ps(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ps(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:M,pendingToken:P}=_;return E&&M&&P&&E===M?new Gi(E,P):null}static _create(p,_){return new Gi(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ju extends xn{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ju.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ju.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Gi.fromJSON(p);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:E}=p;if(!_||!E)return null;try{return Gi._create(E,_)}catch{return null}}}let kc=(()=>{class D extends Hs{constructor(){super("twitter.com")}static credential(_,E){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return D.credential(E,M)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Oa(D,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signUp",fe(D,p))})).apply(this,arguments)}class xr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,E,M=!1){return(0,i.Z)(function*(){const P=yield Pn._fromIdTokenResponse(p,E,M),Y=Gs(E);return new xr({user:P,providerId:Y,_tokenResponse:E,operationType:_})})()}static _forOperation(p,_,E){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const M=Gs(E);return new xr({user:p,providerId:M,_tokenResponse:E,operationType:_})})()}}function Gs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Nt(D){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.Z)(function*(D){var p;const _=Hn(D);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new xr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Oa(_,{returnSecureToken:!0}),M=yield xr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Yu extends B.ZR{constructor(p,_,E,M){var P;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,_,E,M){return new Yu(p,_,E,M)}}function Qu(D,p,_,E){return("reauthenticate"===p?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Yu._fromErrorAndOperation(D,P,p,E):P})}function Ad(D){return new Set(D.map(({providerId:p})=>p).filter(p=>!!p))}function sf(D,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D);yield ke(!0,_,p);const{providerUserInfo:E}=yield Zn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Ad(E||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function qi(D,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,i.Z)(function*(D,p,_=!1){const E=yield $t(D,p._linkToIdToken(D.auth,yield D.getIdToken()),_);return xr._forOperation(D,"link",E)})).apply(this,arguments)}function ke(D,p,_){return en.apply(this,arguments)}function en(){return(en=(0,i.Z)(function*(D,p,_){yield yr(p);const M=!1===D?"provider-already-linked":"no-such-provider";le(Ad(p.providerData).has(_)===D,p.auth,M)})).apply(this,arguments)}function Xu(D,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,i.Z)(function*(D,p,_=!1){const{auth:E}=D,M="reauthenticate";try{const P=yield $t(D,Qu(E,M,p,D),_);le(P.idToken,E,"internal-error");const Y=On(P.idToken);le(Y,E,"internal-error");const{sub:he}=Y;return le(D.uid===he,E,"user-mismatch"),xr._forOperation(D,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ae(E,"user-mismatch"),P}})).apply(this,arguments)}function Wn(D,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,i.Z)(function*(D,p,_=!1){const E="signIn",M=yield Qu(D,E,p),P=yield xr._fromIdTokenResponse(D,E,M);return _||(yield D._updateCurrentUser(P.user)),P})).apply(this,arguments)}function qo(D,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,i.Z)(function*(D,p){return Wn(Hn(D),p)})).apply(this,arguments)}function Fa(D,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D);return yield ke(!1,_,p.providerId),qi(_,p)})).apply(this,arguments)}function Sd(D,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,i.Z)(function*(D,p){return Xu((0,B.m9)(D),p)})).apply(this,arguments)}function L_(D,p){return el.apply(this,arguments)}function el(){return(el=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithCustomToken",fe(D,p))})).apply(this,arguments)}function hi(D,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,i.Z)(function*(D,p){const _=Hn(D),E=yield L_(_,{token:p,returnSecureToken:!0}),M=yield xr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class fi{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?_s._fromServerResponse(p,_):"totpInfo"in _?pi._fromServerResponse(p,_):Ae(p,"internal-error")}}class _s extends fi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new _s(_)}}class pi extends fi{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new pi(_)}}function La(D,p,_){var E;le((null===(E=_.url)||void 0===E?void 0:E.length)>0,D,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,D,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Md(D,p,_){return kd.apply(this,arguments)}function kd(){return kd=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Y=yield Kt(M,P,"getOobCode",!0);_&&La(M,Y,_),yield Cd(M,Y)}else _&&La(M,P,_),yield Cd(M,P).catch(function(){var Y=(0,i.Z)(function*(he){if("auth/missing-recaptcha-token"!==he.code)return Promise.reject(he);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield Kt(M,P,"getOobCode",!0);_&&La(M,qe,_),yield Cd(M,qe)}});return function(he){return Y.apply(this,arguments)}}())}),kd.apply(this,arguments)}function Lc(D,p,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,i.Z)(function*(D,p,_){yield Ma((0,B.m9)(D),{oobCode:p,newPassword:_})})).apply(this,arguments)}function tl(D,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,i.Z)(function*(D,p){yield vd((0,B.m9)(D),{oobCode:p})})).apply(this,arguments)}function ti(D,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D),E=yield Ma(_,{oobCode:p}),M=E.requestType;switch(le(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(E.mfaInfo,_,"internal-error");default:le(E.email,_,"internal-error")}let P=null;return E.mfaInfo&&(P=fi._fromServerResponse(Hn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function nl(D,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,i.Z)(function*(D,p){const{data:_}=yield ti((0,B.m9)(D),p);return _.email})).apply(this,arguments)}function Va(D,p,_){return Za.apply(this,arguments)}function Za(){return Za=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const nt=yield Kt(M,P,"signUpPassword");Y=Oa(M,nt)}else Y=Oa(M,P).catch(function(){var nt=(0,i.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cn=yield Kt(M,P,"signUpPassword");return Oa(M,cn)}return Promise.reject(vt)});return function(vt){return nt.apply(this,arguments)}}());const he=yield Y.catch(nt=>Promise.reject(nt)),qe=yield xr._fromIdTokenResponse(M,"signIn",he);return yield M._updateCurrentUser(qe.user),qe}),Za.apply(this,arguments)}function rl(D,p,_){return qo((0,B.m9)(D),rf.credential(p,_))}function Nd(D,p,_){return $o.apply(this,arguments)}function $o(){return $o=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Y(he,qe){le(qe.handleCodeInApp,M,"argument-error"),qe&&La(M,he,qe)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const he=yield Kt(M,P,"getOobCode",!0);Y(he,_),yield tf(M,he)}else Y(P,_),yield tf(M,P).catch(function(){var he=(0,i.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Kt(M,P,"getOobCode",!0);Y(nt,_),yield tf(M,nt)}});return function(qe){return he.apply(this,arguments)}}())}),$o.apply(this,arguments)}function Pd(D,p){return"EMAIL_SIGNIN"===Go.parseLink(p)?.operation}function ag(D,p,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D),M=rf.credentialWithLink(p,_||gt());return le(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),qo(E,M)})).apply(this,arguments)}function vs(D,p){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:createAuthUri",fe(D,p))})).apply(this,arguments)}function cg(D,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,i.Z)(function*(D,p){const E={identifier:p,continueUri:qt()?gt():"http://localhost"},{signinMethods:M}=yield vs((0,B.m9)(D),E);return M||[]})).apply(this,arguments)}function af(D,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D),M={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};p&&La(_.auth,M,p);const{email:P}=yield ig(_.auth,M);P!==D.email&&(yield D.reload())})).apply(this,arguments)}function Od(D,p,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:p};_&&La(E.auth,P,_);const{email:Y}=yield wd(E.auth,P);Y!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ba(D,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jc(D,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,i.Z)(function*(D,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const E=(0,B.m9)(D),P={idToken:yield E.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Y=yield $t(E,Ba(E.auth,P));E.displayName=Y.displayName||null,E.photoURL=Y.photoUrl||null;const he=E.providerData.find(({providerId:qe})=>"password"===qe);he&&(he.displayName=E.displayName,he.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Y)})).apply(this,arguments)}function il(D,p){return uo((0,B.m9)(D),p,null)}function cf(D,p){return uo((0,B.m9)(D),null,p)}function uo(D,p,_){return $s.apply(this,arguments)}function $s(){return($s=(0,i.Z)(function*(D,p,_){const{auth:E}=D,P={idToken:yield D.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const Y=yield $t(D,ka(E,P));yield D._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class zs{constructor(p,_,E={}){this.isNewUser=p,this.providerId=_,this.profile=E}}class Cs extends zs{constructor(p,_,E,M){super(p,_,E),this.username=M}}class Fd extends zs{constructor(p,_){super(p,"facebook.com",_)}}class Ld extends Cs{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class uf extends zs{constructor(p,_){super(p,"google.com",_)}}class ol extends Cs{constructor(p,_,E){super(p,"twitter.com",_,E)}}function Hc(D){const{user:p,_tokenResponse:_}=D;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Rd(D){var p,_;if(!D)return null;const{providerId:E}=D,M=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},P=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!E&&D?.idToken){const Y=null===(_=null===(p=On(D.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new zs(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!E)return null;switch(E){case"facebook.com":return new Fd(P,M);case"github.com":return new Ld(P,M);case"google.com":return new uf(P,M);case"twitter.com":return new ol(P,M,D.screenName||null);case"custom":case"anonymous":return new zs(P,null);default:return new zs(P,E,M)}}(_)}class gi{constructor(p,_,E){this.type=p,this.credential=_,this.auth=E}static _fromIdtoken(p,_){return new gi("enroll",p,_)}static _fromMfaPendingCredential(p){return new gi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,E;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return gi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return gi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class cl{constructor(p,_,E){this.session=p,this.hints=_,this.signInResolver=E}static _fromError(p,_){const E=Hn(p),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(he=>fi._fromServerResponse(E,he));le(M.mfaPendingCredential,E,"internal-error");const Y=gi._fromMfaPendingCredential(M.mfaPendingCredential);return new cl(Y,P,function(){var he=(0,i.Z)(function*(qe){const nt=yield qe._process(E,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(_.operationType){case"signIn":const cn=yield xr._fromIdTokenResponse(E,_.operationType,vt);return yield E._updateCurrentUser(cn.user),cn;case"reauthenticate":return le(_.user,E,"internal-error"),xr._forOperation(_.user,_.operationType,vt);default:Ae(E,"internal-error")}});return function(qe){return he.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,i.Z)(function*(){return _.signInResolver(p)})()}}function Ko(D,p){var _;const E=(0,B.m9)(D),M=p;return le(p.customData.operationType,E,"argument-error"),le(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),cl._fromError(E,M)}function qc(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:start",fe(D,p))}class qa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>fi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new qa(p)}getSession(){var p=this;return(0,i.Z)(function*(){return gi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var E=this;return(0,i.Z)(function*(){const M=p,P=yield E.getSession(),Y=yield $t(E.user,M._process(E.user.auth,P,_));return yield E.user._updateTokensIfNecessary(Y),E.user.reload()})()}unenroll(p){var _=this;return(0,i.Z)(function*(){const E="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const P=yield $t(_.user,function Ws(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(D,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==E),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const Es=new WeakMap;function $a(D){const p=(0,B.m9)(D);return Es.has(p)||Es.set(p,qa._fromUser(p)),Es.get(p)}const Wo="__sak";class za{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Wo,"1"),this.storage.removeItem(Wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vd=(()=>{class D extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ul(){const D=(0,B.z$)();return O(D)||we(D)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),P=this.localCache[E];M!==P&&_(E,P,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((he,qe,nt)=>{this.notifyListeners(he,nt)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(M);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const P=()=>{const he=this.storage.getItem(M);!E&&this.localCache[M]===he||this.notifyListeners(M,he)},Y=this.storage.getItem(M);!function Qt(){return(0,B.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,P=this;return(0,i.Z)(function*(){yield M().call(P,_,E),P.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,i.Z)(function*(){const P=yield E().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var E=()=>super._remove,M=this;return(0,i.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return D.type="LOCAL",D})(),Jo=(()=>{class D extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return D.type="SESSION",D})();let ff=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(P=>P.isListeningto(_));if(E)return E;const M=new D(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,i.Z)(function*(){const M=_,{eventId:P,eventType:Y,data:he}=M.data,qe=E.handlersMap[Y];if(!qe?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const nt=Array.from(qe).map(function(){var cn=(0,i.Z)(function*(Ki){return Ki(M.origin,he)});return function(Ki){return cn.apply(this,arguments)}}()),vt=yield function ug(D){return Promise.all(D.map(function(){var p=(0,i.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:vt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Yo(D="",p=10){let _="";for(let E=0;E<p;E++)_+=Math.floor(10*Math.random());return D+_}class Qs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,E=50){var M=this;return(0,i.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,he;return new Promise((qe,nt)=>{const vt=Yo("",20);P.port1.start();const cn=setTimeout(()=>{nt(new Error("unsupported_event"))},E);he={messageChannel:P,onMessage(Ki){const da=Ki;if(da.data.eventId===vt)switch(da.data.status){case"ack":clearTimeout(cn),Y=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),qe(da.data.response);break;default:clearTimeout(cn),clearTimeout(Y),nt(new Error("invalid_response"))}}},M.handlers.add(he),P.port1.addEventListener("message",he.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:_},[P.port2])}).finally(()=>{he&&M.removeMessageHandler(he)})})()}}function or(){return window}function Ja(){return typeof or().WorkerGlobalScope<"u"&&"function"==typeof or().importScripts}function dl(){return(dl=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",sr="firebaseLocalStorage",zc="fbase_key";class Mi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function hl(D,p){return D.transaction([sr],p?"readwrite":"readonly").objectStore(sr)}function yn(){const D=indexedDB.open(Fn,1);return new Promise((p,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const E=D.result;try{E.createObjectStore(sr,{keyPath:zc})}catch(M){_(M)}}),D.addEventListener("success",(0,i.Z)(function*(){const E=D.result;E.objectStoreNames.contains(sr)?p(E):(E.close(),yield function jd(){const D=indexedDB.deleteDatabase(Fn);return new Mi(D).toPromise()}(),p(yield yn()))}))})}function Bd(D,p,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,i.Z)(function*(D,p,_){const E=hl(D,!0).put({[zc]:p,value:_});return new Mi(E).toPromise()})).apply(this,arguments)}function Kc(){return(Kc=(0,i.Z)(function*(D,p){const _=hl(D,!1).get(p),E=yield new Mi(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function lg(D,p){const _=hl(D,!0).delete(p);return new Mi(_).toPromise()}const gf=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,i.Z)(function*(){return _.db||(_.db=yield yn()),_.db})()}_withRetries(_){var E=this;return(0,i.Z)(function*(){let M=0;for(;;)try{const P=yield E._openDb();return yield _(P)}catch(P){if(M++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,i.Z)(function*(){return Ja()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,i.Z)(function*(){_.receiver=ff._getInstance(function xo(){return Ja()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,i.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,i.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,i.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function ll(){return dl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qs(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=P[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,i.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Zd(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const _=yield yn();return yield Bd(_,Wo,"1"),yield lg(_,Wo),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,i.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,i.Z)(function*(){return M._withPendingWrite((0,i.Z)(function*(){return yield M._withRetries(P=>Bd(P,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,i.Z)(function*(){const M=yield E._withRetries(P=>function U_(D,p){return Kc.apply(this,arguments)}(P,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,i.Z)(function*(){return E._withPendingWrite((0,i.Z)(function*(){return yield E._withRetries(M=>lg(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,i.Z)(function*(){const E=yield _._withRetries(Y=>{const he=hl(Y,!1).getAll();return new Mi(he).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:Y,value:he}of E)P.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(he)&&(_.notifyListeners(Y,he),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!P.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function V_(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:start",fe(D,p))}const Yc=1e12;class Ir{constructor(p){this.auth=p,this.counter=Yc,this._widgets=new Map}render(p,_){const E=this.counter;return this._widgets.set(E,new zi(p,this.auth.name,_||{})),this.counter++,E}reset(p){var _;const E=p||Yc;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Yc))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,i.Z)(function*(){var E;return null===(E=_._widgets.get(p||Yc))||void 0===E||E.execute(),""})()}}class zi{constructor(p,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;le(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fl(D){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<D;E++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=Hr("rcb"),Qc=new ui(3e4,6e4);class qd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=or().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return le(function hg(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Mt(or().grecaptcha)?Promise.resolve(or().grecaptcha):new Promise((E,M)=>{const P=or().setTimeout(()=>{M(be(p,"network-request-failed"))},Qc.get());or()[Qa]=()=>{or().clearTimeout(P),delete or()[Qa];const he=or().grecaptcha;if(!he||!Mt(he))return void M(be(p,"internal-error"));const qe=he.render;he.render=(nt,vt)=>{const cn=qe(nt,vt);return this.counter++,cn},this.hostLanguage=_,E(he)},Xt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Qa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=or().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mf{load(p){return(0,i.Z)(function*(){return new Ir(p)})()}clearedOneInstance(){}}const fg="recaptcha",pl={theme:"light",type:"image"};class mi{constructor(p,_=Object.assign({},pl),E){this.parameters=_,this.type=fg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(E),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;le(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mf:new qd,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(_)||new Promise(P=>{const Y=he=>{!he||(p.tokenChangeListeners.delete(Y),P(he))};p.tokenChangeListeners.add(Y),p.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof p)p(_);else if("string"==typeof p){const E=or()[p];"function"==typeof E&&E(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){le(qt()&&!Ja(),p.auth,"internal-error"),yield function Xc(){let D=null;return new Promise(p=>{"complete"!==document.readyState?(D=()=>p(),window.addEventListener("load",D)):p()}).catch(p=>{throw D&&window.removeEventListener("load",D),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ce(D){return ie.apply(this,arguments)}(p.auth);le(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Kn._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function _f(D,p,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,i.Z)(function*(D,p,_){const E=Hn(D),M=yield ea(E,p,(0,B.m9)(_));return new ws(M,P=>qo(E,P))})).apply(this,arguments)}function $d(D,p,_){return zd.apply(this,arguments)}function zd(){return(zd=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D);yield ke(!1,E,"phone");const M=yield ea(E.auth,p,(0,B.m9)(_));return new ws(M,P=>Fa(E,P))})).apply(this,arguments)}function eu(D,p,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D),M=yield ea(E.auth,p,(0,B.m9)(_));return new ws(M,P=>Sd(E,P))})).apply(this,arguments)}function ea(D,p,_){return ml.apply(this,arguments)}function ml(){return(ml=(0,i.Z)(function*(D,p,_){var E;const M=yield _.verify();try{let P;if(le("string"==typeof M,D,"argument-error"),le(_.type===fg,D,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Y=P.session;if("phoneNumber"in P)return le("enroll"===Y.type,D,"internal-error"),(yield qc(D,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{le("signin"===Y.type,D,"internal-error");const he=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return le(he,D,"missing-multi-factor-info"),(yield V_(D,{mfaPendingCredential:Y.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Gu(D,{phoneNumber:P.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}})).apply(this,arguments)}function _n(D,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,i.Z)(function*(D,p){yield qi((0,B.m9)(D),p)})).apply(this,arguments)}let pg=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=Hn(_)}verifyPhoneNumber(_,E){return ea(this.auth,_,(0,B.m9)(E))}static credential(_,E){return Kn._fromVerification(_,E)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?Kn._fromTokenResponse(E,M):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _i(D,p){return p?tr(p):(le(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ec extends bo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ps(p,this._buildIdpRequest())}_linkToIdToken(p,_){return ps(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return ps(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function yi(D){return Wn(D.auth,new ec(D),D.bypassAuthState)}function _l(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),Xu(_,new ec(D),D.bypassAuthState)}function Kd(D){return Io.apply(this,arguments)}function Io(){return(Io=(0,i.Z)(function*(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),qi(_,new ec(D),D.bypassAuthState)})).apply(this,arguments)}class Ao{constructor(p,_,E,M,P=!1){this.auth=p,this.resolver=E,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,i.Z)(function*(E,M){p.pendingPromise={resolve:E,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,i.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:P,tenantId:Y,error:he,type:qe}=p;if(he)return void _.reject(he);const nt={auth:_.auth,requestUri:E,sessionId:M,tenantId:Y||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(qe)(nt))}catch(vt){_.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return yi;case"linkViaPopup":case"linkViaRedirect":return Kd;case"reauthViaPopup":case"reauthViaRedirect":return _l;default:Ae(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gn=new ui(2e3,1e4);function ht(D,p,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,i.Z)(function*(D,p,_){const E=Hn(D);$e(D,p,xn);const M=_i(E,_);return new Qo(E,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function cr(D,p,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D);$e(E.auth,p,xn);const M=_i(E.auth,_);return new Qo(E.auth,"reauthViaPopup",p,M,E).executeNotNull()})).apply(this,arguments)}function yl(D,p,_){return tu.apply(this,arguments)}function tu(){return(tu=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D);$e(E.auth,p,xn);const M=_i(E.auth,_);return new Qo(E.auth,"linkViaPopup",p,M,E).executeNotNull()})).apply(this,arguments)}let Qo=(()=>{class D extends Ao{constructor(_,E,M,P,Y){super(_,E,P,Y),this.provider=M,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,i.Z)(function*(){const E=yield _.execute();return le(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,i.Z)(function*(){At(1===_.filter.length,"Popup operations only handle one event");const E=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Gn.get())};_()}}return D.currentPopupAction=null,D})();const Nr=new Map;class gg extends Ao{constructor(p,_,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,i.Z)(function*(){let E=Nr.get(_.auth._key());if(!E){try{const P=(yield function vl(D,p){return So.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;E=()=>Promise.resolve(P)}catch(M){E=()=>Promise.reject(M)}Nr.set(_.auth._key(),E)}return _.bypassAuthState||Nr.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,E=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(E,p);if("unknown"!==p.type){if(p.eventId){const M=yield E.auth._redirectUserForId(p.eventId);if(M)return E.user=M,_().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,i.Z)(function*(D,p){const _=rc(p),E=vi(D);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Dl(D,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,i.Z)(function*(D,p){return vi(D)._set(rc(p),"true")})).apply(this,arguments)}function ni(){Nr.clear()}function Wd(D,p){Nr.set(D._key(),p)}function vi(D){return tr(D._redirectPersistence)}function rc(D){return jr("pendingRedirect",D.config.apiKey,D.name)}function Dr(D,p,_){return function Mo(D,p,_){return Cl.apply(this,arguments)}(D,p,_)}function Cl(){return(Cl=(0,i.Z)(function*(D,p,_){const E=Hn(D);$e(D,p,xn),yield E._initializationPromise;const M=_i(E,_);return yield Dl(M,E),M._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Pr(D,p,_){return function na(D,p,_){return nu.apply(this,arguments)}(D,p,_)}function nu(){return(nu=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D);$e(E.auth,p,xn),yield E.auth._initializationPromise;const M=_i(E.auth,_);yield Dl(M,E.auth);const P=yield Ts(E);return M._openRedirect(E.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function yf(D,p,_){return function El(D,p,_){return wl.apply(this,arguments)}(D,p,_)}function wl(){return(wl=(0,i.Z)(function*(D,p,_){const E=(0,B.m9)(D);$e(E.auth,p,xn),yield E.auth._initializationPromise;const M=_i(E.auth,_);yield ke(!1,E,p.providerId),yield Dl(M,E.auth);const P=yield Ts(E);return M._openRedirect(E.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function vf(D,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,i.Z)(function*(D,p){return yield Hn(D)._initializationPromise,ru(D,p,!1)})).apply(this,arguments)}function ru(D,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,i.Z)(function*(D,p,_=!1){const E=Hn(D),M=_i(E,p),Y=yield new gg(E,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield E._persistUserIfCurrent(Y.user),yield E._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Ts(D){return oc.apply(this,arguments)}function oc(){return(oc=(0,i.Z)(function*(D){const p=Yo(`${D.uid}:::`);return D._redirectEventId=p,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),p})).apply(this,arguments)}class ra{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(_=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Tl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(D);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var E;if(p.error&&!ia(p)){const M=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(be(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const E=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(p))}saveEventToCache(p){this.cachedEventUids.add(bl(p)),this.lastProcessedEventTime=Date.now()}}function bl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(p=>p).join("-")}function ia({type:D,error:p}){return"unknown"===D&&"auth/no-auth-event"===p?.code}function oa(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,i.Z)(function*(D,p={}){return Ne(D,"GET","/v1/projects",p)})).apply(this,arguments)}const ou=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mg=/^https?/;function aa(){return(aa=(0,i.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:p}=yield oa(D);for(const _ of p)try{if(Jd(_))return}catch{}Ae(D,"unauthorized-domain")})).apply(this,arguments)}function Jd(D){const p=gt(),{protocol:_,hostname:E}=new URL(p);if(D.startsWith("chrome-extension://")){const Y=new URL(D);return""===Y.hostname&&""===E?"chrome-extension:"===_&&D.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===E}if(!mg.test(_))return!1;if(ou.test(D))return E===D;const M=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const es=new ui(3e4,6e4);function xl(){const D=or().___jsl;if(D?.H)for(const p of Object.keys(D.H))if(D.H[p].r=D.H[p].r||[],D.H[p].L=D.H[p].L||[],D.H[p].r=[...D.H[p].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let su=null;function Jn(D){return su=su||function Df(D){return new Promise((p,_)=>{var E,M,P;function Y(){xl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xl(),_(be(D,"network-request-failed"))},timeout:es.get()})}if(null!==(M=null===(E=or().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(P=or().gapi)||void 0===P||!P.load){const he=Hr("iframefcb");return or()[he]=()=>{gapi.load?Y():_(be(D,"network-request-failed"))},Xt(`https://apis.google.com/js/api.js?onload=${he}`).catch(qe=>_(qe))}Y()}}).catch(p=>{throw su=null,p})}(D),su}const ko=new ui(5e3,15e3),yg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$r=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yn(D){const p=D.config;le(p.authDomain,D,"auth-domain-config-required");const _=p.emulator?so(p,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:D.name,v:R.SDK_VERSION},M=$r.get(D.config.apiHost);M&&(E.eid=M);const P=D._getFrameworks();return P.length&&(E.fw=P.join(",")),`${_}?${(0,B.xO)(E).slice(1)}`}function ca(){return ca=(0,i.Z)(function*(D){const p=yield Jn(D),_=or().gapi;return le(_,D,"internal-error"),p.open({where:document.body,url:Yn(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yg,dontclear:!0},E=>new Promise(function(){var M=(0,i.Z)(function*(P,Y){yield E.restyle({setHideOnLeave:!1});const he=be(D,"network-request-failed"),qe=or().setTimeout(()=>{Y(he)},ko.get());function nt(){or().clearTimeout(qe),P(E)}E.ping(nt).then(nt,()=>{Y(he)})});return function(P,Y){return M.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lt=encodeURIComponent("fac");function Ot(D,p,_,E,M,P){return Or.apply(this,arguments)}function Or(){return(Or=(0,i.Z)(function*(D,p,_,E,M,P){le(D.config.authDomain,D,"auth-domain-config-required"),le(D.config.apiKey,D,"invalid-api-key");const Y={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:E,v:R.SDK_VERSION,eventId:M};if(p instanceof xn){p.setDefaultLanguage(D.languageCode),Y.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,cn]of Object.entries(P||{}))Y[vt]=cn}if(p instanceof Hs){const vt=p.getScopes().filter(cn=>""!==cn);vt.length>0&&(Y.scopes=vt.join(","))}D.tenantId&&(Y.tid=D.tenantId);const he=Y;for(const vt of Object.keys(he))void 0===he[vt]&&delete he[vt];const qe=yield D._getAppCheckToken(),nt=qe?`#${Lt}=${encodeURIComponent(qe)}`:"";return`${fn(D)}?${(0,B.xO)(he).slice(1)}${nt}`})).apply(this,arguments)}function fn({config:D}){return D.emulator?so(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}const fo="webStorageSupport",po=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jo,this._completeRedirectFn=ru,this._overrideRedirectResult=Wd}_openPopup(p,_,E,M){var P=this;return(0,i.Z)(function*(){var Y;At(null===(Y=P.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const he=yield Ot(p,_,E,gt(),M);return function me(D,p,_,E=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-E)/2,0).toString();let he="";const qe=Object.assign(Object.assign({},C),{width:E.toString(),height:M.toString(),top:P,left:Y}),nt=(0,B.z$)().toLowerCase();_&&(he=N(nt)?"_blank":_),L(nt)&&(p=p||"http://localhost",qe.scrollbars="yes");const vt=Object.entries(qe).reduce((Ki,[da,cu])=>`${Ki}${da}=${cu},`,"");if(function at(D=(0,B.z$)()){var p;return we(D)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==he)return function Qe(D,p){const _=document.createElement("a");_.href=D,_.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(p||"",he),new X(null);const cn=window.open(p||"",he,vt);le(cn,D,"popup-blocked");try{cn.focus()}catch{}return new X(cn)}(p,he,Yo())})()}_openRedirect(p,_,E,M){var P=this;return(0,i.Z)(function*(){return yield P._originValidation(p),function Wa(D){or().location.href=D}(yield Ot(p,_,E,gt(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(At(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(p);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(p){var _=this;return(0,i.Z)(function*(){const E=yield function Il(D){return ca.apply(this,arguments)}(p),M=new ra(p);return E.register("authEvent",P=>(le(P?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=E,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(fo,{type:fo},M=>{var P;const Y=null===(P=M?.[0])||void 0===P?void 0:P[fo];void 0!==Y&&_(!!Y),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function _g(D){return aa.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ft()||O()||we()}};class Rr extends class ri{constructor(p){this.factorId=p}_process(p,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,E);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Rr(p)}_finalizeEnroll(p,_,E){return function Ga(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:finalize",fe(D,p))}(p,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ar(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:finalize",fe(D,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let la=(()=>{class D{constructor(){}static assertion(_){return Rr._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var Ml="@firebase/auth";class Qd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,i.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function au(D){(0,R._registerComponent)(new _e.wA("auth",(p,{options:_})=>{const E=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:Y,authDomain:he}=E.options;le(Y&&!Y.includes(":"),"invalid-api-key",{appName:E.name});const qe={apiKey:Y,authDomain:he,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(D)},nt=new hs(E,M,P,qe);return function Bs(D,p){const _=p?.persistence||[],E=(Array.isArray(_)?_:[_]).map(tr);p?.errorMap&&D._updateErrorMap(p.errorMap),D._initializeWithPersistence(E,p?.popupRedirectResolver)}(nt,_),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,E)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.wA("auth-internal",p=>{const _=Hn(p.getProvider("auth").getImmediate());return new Qd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ml,"0.23.2",function Xd(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(Ml,"0.23.2","esm2017")}("Browser")},2090:(Et,Oe,V)=>{V.d(Oe,{$s:()=>tr,BH:()=>Se,G6:()=>so,L:()=>De,LL:()=>Me,P0:()=>pt,Pz:()=>be,Sg:()=>$e,UG:()=>Ye,US:()=>_e,ZB:()=>Q,ZR:()=>Ne,aH:()=>Ae,b$:()=>qt,eu:()=>ne,hl:()=>ae,jU:()=>At,m9:()=>jr,ne:()=>$t,pd:()=>On,r3:()=>Zn,ru:()=>gt,tV:()=>z,uI:()=>le,vZ:()=>_r,w1:()=>oo,xO:()=>Bi,xb:()=>Ti,z$:()=>ze,zI:()=>Ie,zd:()=>Yr});const oe=function(G){const H=[];let L=0;for(let O=0;O<G.length;O++){let N=G.charCodeAt(O);N<128?H[L++]=N:N<2048?(H[L++]=N>>6|192,H[L++]=63&N|128):55296==(64512&N)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++O)),H[L++]=N>>18|240,H[L++]=N>>12&63|128,H[L++]=N>>6&63|128,H[L++]=63&N|128):(H[L++]=N>>12|224,H[L++]=N>>6&63|128,H[L++]=63&N|128)}return H},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let N=0;N<G.length;N+=3){const J=G[N],Ee=N+1<G.length,Je=Ee?G[N+1]:0,mt=N+2<G.length,we=mt?G[N+2]:0;let Qt=(15&Je)<<2|we>>6,Ft=63&we;mt||(Ft=64,Ee||(Qt=64)),O.push(L[J>>2],L[(3&J)<<4|Je>>4],L[Qt],L[Ft])}return O.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(oe(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let L=0,O=0;for(;L<G.length;){const N=G[L++];if(N<128)H[O++]=String.fromCharCode(N);else if(N>191&&N<224){const J=G[L++];H[O++]=String.fromCharCode((31&N)<<6|63&J)}else if(N>239&&N<365){const mt=((7&N)<<18|(63&G[L++])<<12|(63&G[L++])<<6|63&G[L++])-65536;H[O++]=String.fromCharCode(55296+(mt>>10)),H[O++]=String.fromCharCode(56320+(1023&mt))}else{const J=G[L++],Ee=G[L++];H[O++]=String.fromCharCode((15&N)<<12|(63&J)<<6|63&Ee)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const L=H?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let N=0;N<G.length;){const J=L[G.charAt(N++)],Je=N<G.length?L[G.charAt(N)]:0;++N;const we=N<G.length?L[G.charAt(N)]:64;++N;const at=N<G.length?L[G.charAt(N)]:64;if(++N,null==J||null==Je||null==we||null==at)throw new pe;O.push(J<<2|Je>>4),64!==we&&(O.push(Je<<4&240|we>>2),64!==at&&O.push(we<<6&192|at))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(G){return function(G){const H=oe(G);return _e.encodeByteArray(H,!0)}(G).replace(/\./g,"")},z=function(G){try{return _e.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Q(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const L in H)!H.hasOwnProperty(L)||!Ge(L)||(G[L]=Q(G[L],H[L]));return G}function Ge(G){return"__proto__"!==G}const ye=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&z(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},pt=G=>{const H=(G=>{var H,L;return null===(L=null===(H=ye())||void 0===H?void 0:H.emulatorHosts)||void 0===L?void 0:L[G]})(G);if(!H)return;const L=H.lastIndexOf(":");if(L<=0||L+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const O=parseInt(H.substring(L+1),10);return"["===H[0]?[H.substring(1,L-1),O]:[H.substring(0,L),O]},Ae=()=>{var G;return null===(G=ye())||void 0===G?void 0:G.config},be=G=>{var H;return null===(H=ye())||void 0===H?void 0:H[`_${G}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,L)=>{this.resolve=H,this.reject=L})}wrapCallback(H){return(L,O)=>{L?this.reject(L):this.resolve(O),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(L):H(L,O))}}}function $e(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=H||"demo-project",N=G.iat||0,J=G.sub||G.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:N,exp:N+3600,auth_time:N,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},G);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(Ee)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ye(){var G;const H=null===(G=ye())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function gt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oo(){const G=ze();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function so(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((G,H)=>{try{let L=!0;const O="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(O);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(O),G(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var J;H((null===(J=N.error)||void 0===J?void 0:J.message)||"")}}catch(L){H(L)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(H,L,O){super(L),this.code=H,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(H,L,O){this.service=H,this.serviceName=L,this.errors=O}create(H,...L){const O=L[0]||{},N=`${this.service}/${H}`,J=this.errors[H],Ee=J?function ct(G,H){return G.replace(xt,(L,O)=>{const N=H[O];return null!=N?String(N):`<${O}?>`})}(J,O):"Error";return new Ne(N,`${this.serviceName}: ${Ee} (${N}).`,O)}}const xt=/\{\$([^}]+)}/g;function Zn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Ti(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function _r(G,H){if(G===H)return!0;const L=Object.keys(G),O=Object.keys(H);for(const N of L){if(!O.includes(N))return!1;const J=G[N],Ee=H[N];if(Xn(J)&&Xn(Ee)){if(!_r(J,Ee))return!1}else if(J!==Ee)return!1}for(const N of O)if(!L.includes(N))return!1;return!0}function Xn(G){return null!==G&&"object"==typeof G}function Bi(G){const H=[];for(const[L,O]of Object.entries(G))Array.isArray(O)?O.forEach(N=>{H.push(encodeURIComponent(L)+"="+encodeURIComponent(N))}):H.push(encodeURIComponent(L)+"="+encodeURIComponent(O));return H.length?"&"+H.join("&"):""}function Yr(G){const H={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[N,J]=O.split("=");H[decodeURIComponent(N)]=decodeURIComponent(J)}}),H}function On(G){const H=G.indexOf("?");if(!H)return"";const L=G.indexOf("#",H);return G.substring(H,L>0?L:void 0)}function $t(G,H){const L=new dt(G,H);return L.subscribe.bind(L)}class dt{constructor(H,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{H(this)}).catch(O=>{this.error(O)})}next(H){this.forEachObserver(L=>{L.next(H)})}error(H){this.forEachObserver(L=>{L.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,L,O){let N;if(void 0===H&&void 0===L&&void 0===O)throw new Error("Missing Observer.");N=function nn(G,H){if("object"!=typeof G||null===G)return!1;for(const L of H)if(L in G&&"function"==typeof G[L])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:L,complete:O},void 0===N.next&&(N.next=Qr),void 0===N.error&&(N.error=Qr),void 0===N.complete&&(N.complete=Qr);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),J}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,H)}sendOne(H,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{L(this.observers[H])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qr(){}function tr(G,H=1e3,L=2){const O=H*Math.pow(L,G),N=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+N)}function jr(G){return G&&G._delegate?G._delegate:G}},3882:(Et,Oe,V)=>{var i=V(4650);let B=null;function R(){return B}const pe=new i.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function De(){return(0,i.LFG)($)}()},providedIn:"platform"}),n})();const z=new i.OlP("Location Initialized");let $=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){Q()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){Q()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Ge(){return new $((0,i.LFG)(pe))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(yt)},providedIn:"root"}),n})();const ye=new i.OlP("appBaseHref");let yt=(()=>{class n extends Ce{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const l=this.prepareExternalUrl(o+it(c));this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,c){const l=this.prepareExternalUrl(o+it(c));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pt=(()=>{class n extends Ce{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Pe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let l=this.prepareExternalUrl(o+it(c));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,c){let l=this.prepareExternalUrl(o+it(c));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=xe($e(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+it(r))}normalize(e){return n.stripTrailingSlash(function Se(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=it,n.joinWithSlash=Pe,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(i.LFG(Ce))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function be(){return new Ae((0,i.LFG)(Ce))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}let Kt=(()=>{class n{constructor(e,r,o,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hn{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,c,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Hn(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,l),fs(f,o)}});for(let o=0,c=r.length;o<c;o++){const f=r.get(o).context;f.index=o,f.count=c,f.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{fs(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fs(n,t){n.context.$implicit=t.item}let mn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yd{constructor(){this.$implicit=null,this.ngIf=null}}function Tr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}let vd=(()=>{class n{constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,c]=e.split("."),l=-1===o.indexOf("-")?void 0:i.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,c?`${r}${c}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,o,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),xd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function Go(n){return"server"===n}let Hs=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new Ku((0,i.LFG)(pe),window)}),n})();class Ku{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function di(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const l=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ol extends class uf extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){B||(B=n)}(new ol)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function sl(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==e?null:function Ud(n){Gc=Gc||document.createElement("a"),Gc.setAttribute("href",n);const t=Gc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ia(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Gc,Hc=null;const Ks=new i.OlP("TRANSITION_ID"),al=[{provide:i.ip1,useFactory:function lf(n,t,e){return()=>{e.get(i.CZH).donePromise.then(()=>{const r=R(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Ks,pe,i.zs3],multi:!0}];let df=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const lo=new i.OlP("EventManagerPlugins");let zo=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const l=o[c];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(lo),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class gi{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=R().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let cl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ko=(()=>{class n extends cl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(c=>{const l=this._doc.createElement("style");l.textContent=c,o.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qc))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){R().remove(n)}const Ga={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$i=/%COMP%/g;function za(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?za(n,o,e):(o=o.replace($i,n),e.push(o))}return e}function ul(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Js=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ka(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ug(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case i.ifc.ShadowDom:return new ff(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=za(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(zo),i.LFG(Ko),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ga[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Jo(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Jo(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=Ga[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Ga[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,r,o&i.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ul(r)):this.eventManager.addEventListener(t,e,ul(r))}}function Jo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ug extends Ka{constructor(t,e,r,o){super(t),this.component=r;const c=za(o+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function $a(n){return"_ngcontent-%COMP%".replace($i,n)}(o+"-"+r.id),this.hostAttr=function Wo(n){return"_nghost-%COMP%".replace($i,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ff extends Ka{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=za(o.id,o.styles,[]);for(let l=0;l<c.length;l++){const f=document.createElement("style");f.textContent=c[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Yo=(()=>{class n extends gi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=["alt","control","meta","shift"],or={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ja=(()=>{class n extends gi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),l=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,c.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Qs.forEach(v=>{const x=r.indexOf(v);x>-1&&(r.splice(x,1),l+=v+".")}),l+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static matchEventFullKeyCode(e,r){let o=or[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(o=e.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Qs.forEach(l=>{l!==o&&(0,Wa[l])(e)&&(c+=l+".")}),c+=o,c===r)}static eventCallback(e,r,o){return c=>{n.matchEventFullKeyCode(c,e)&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function Xs(){ol.makeCurrent()},multi:!0},{provide:pe,useFactory:function zc(){return(0,i.RDi)(document),document},deps:[]}]),jd=new i.OlP(""),yn=[{provide:i.rWj,useClass:class Ha{addToWindow(t){i.dqk.getAngularTestability=(r,o=!0)=>{const c=t.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let c=o.length,l=!1;const f=function(m){l=l||m,c--,0==c&&r(l)};o.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],Bd=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function sr(){return new i.qLn},deps:[]},{provide:lo,useClass:Yo,multi:!0,deps:[pe,i.R0b,i.Lbi]},{provide:lo,useClass:Ja,multi:!0,deps:[pe]},{provide:Js,useClass:Js,deps:[zo,Ko,i.AFp]},{provide:i.FYo,useExisting:Js},{provide:cl,useExisting:Ko},{provide:Ko,useClass:Ko,deps:[pe]},{provide:zo,useClass:zo,deps:[lo,i.R0b]},{provide:class Wu{},useClass:df,deps:[]},[]];let Ya=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:i.AFp,useValue:e.appId},{provide:Ks,useExisting:i.AFp},al]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(jd,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...Bd,...yn],imports:[xd,i.hGG]}),n})(),pf=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function dg(){return new pf((0,i.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):i.LFG(ea),r},providedIn:"root"}),n})(),ea=(()=>{class n extends eu{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Xa(n){return new ea(n.get(pe))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();var _n=V(8996),Ar=V(9751);const{isArray:pg}=Array,{getPrototypeOf:_i,prototype:ec,keys:yi}=Object;function _l(n){if(1===n.length){const t=n[0];if(pg(t))return{args:t,keys:null};if(function Kd(n){return n&&"object"==typeof n&&_i(n)===ec}(t)){const e=yi(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Io=V(8421),Ao=V(7669),Gn=V(5403),ht=V(4004);const{isArray:tc}=Array;function nc(n){return(0,ht.U)(t=>function cr(n,t){return tc(t)?n(...t):n(t)}(n,t))}function yl(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}let Qo=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),bs=(()=>{class n extends Qo{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Nr=new i.OlP("NgValueAccessor"),So={provide:Nr,useExisting:(0,i.Gpc)(()=>ni),multi:!0},ta=new i.OlP("CompositionEventMode");let ni=(()=>{class n extends Qo{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(ta,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[i._Bn([So]),i.qOj]}),n})();function vi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function rc(n){return null!=n&&"number"==typeof n.length}const Dr=new i.OlP("NgValidators"),Mo=new i.OlP("NgAsyncValidators"),Cl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pr{static min(t){return function na(n){return t=>{if(vi(t.value)||vi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function nu(n){return t=>{if(vi(t.value)||vi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return yf(t)}static requiredTrue(t){return function El(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function wl(n){return vi(n.value)||Cl.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function vf(n){return t=>vi(t.value)||!rc(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return ic(t)}static pattern(t){return function ru(n){if(!n)return Xo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(vi(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return Tl(t)}static composeAsync(t){return sa(t)}}function yf(n){return vi(n.value)?{required:!0}:null}function ic(n){return t=>rc(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Xo(n){return null}function Ts(n){return null!=n}function oc(n){return(0,i.QGY)(n)?(0,_n.D)(n):n}function iu(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ra(n,t){return t.map(e=>e(n))}function ia(n){return n.map(t=>function bl(n){return!n.validate}(t)?t:e=>t.validate(e))}function Tl(n){if(!n)return null;const t=n.filter(Ts);return 0==t.length?null:function(e){return iu(ra(e,t))}}function oa(n){return null!=n?Tl(ia(n)):null}function sa(n){if(!n)return null;const t=n.filter(Ts);return 0==t.length?null:function(e){return function tu(...n){const t=(0,Ao.jO)(n),{args:e,keys:r}=_l(n),o=new Ar.y(c=>{const{length:l}=e;if(!l)return void c.complete();const f=new Array(l);let m=l,v=l;for(let x=0;x<l;x++){let I=!1;(0,Io.Xf)(e[x]).subscribe((0,Gn.x)(c,F=>{I||(I=!0,v--),f[x]=F},()=>m--,void 0,()=>{(!m||!I)&&(v||c.next(r?yl(r,f):f),c.complete())}))}});return t?o.pipe(nc(t)):o}(ra(e,t).map(oc)).pipe((0,ht.U)(iu))}}function ou(n){return null!=n?sa(ia(n)):null}function mg(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function _g(n){return n._rawValidators}function aa(n){return n._rawAsyncValidators}function Jd(n){return n?Array.isArray(n)?n:[n]:[]}function es(n,t){return Array.isArray(n)?n.includes(t):n===t}function xl(n,t){const e=Jd(t);return Jd(n).forEach(o=>{es(e,o)||e.push(o)}),e}function Df(n,t){return Jd(t).filter(e=>!es(n,e))}class su{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oa(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ou(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Jn extends su{get formDirective(){return null}get path(){return null}}class ko extends su{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ho{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $r=(()=>{class n extends ho{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ko,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),Yn=(()=>{class n extends ho{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Jn,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const po="VALID",ri="INVALID",Rr="PENDING",la="DISABLED";function Ef(n){return(Ml(n)?n.validators:n)||null}function Yd(n){return Array.isArray(n)?oa(n):n||null}function Al(n,t){return(Ml(t)?t.asyncValidators:n)||null}function Sl(n){return Array.isArray(n)?ou(n):n||null}function Ml(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function kl(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[e])throw new i.vHH(1001,"")}function Qd(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new i.vHH(1002,"")})}class Xd{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Yd(this._rawValidators),this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===po}get invalid(){return this.status===ri}get pending(){return this.status==Rr}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Yd(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Sl(t)}addValidators(t){this.setValidators(xl(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xl(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Df(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Df(t,this._rawAsyncValidators))}hasValidator(t){return es(this._rawValidators,t)}hasAsyncValidator(t){return es(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rr,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=la,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=po,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===po||this.status===Rr)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator=!0;const e=oc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(ri)?ri:po}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ml(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class au extends Xd{constructor(t,e,r){super(Ef(e),Al(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Qd(this,0,t),Object.keys(t).forEach(r=>{kl(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,c)=>{r=e(r,o,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class wf extends au{}function Nl(n,t){return[...t.path,n]}function D(n,t){M(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Y(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qe(n,t)})}(n,t),function nt(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function he(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qe(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function E(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function p(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),P(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function M(n,t){const e=_g(n);null!==t.validator?n.setValidators(mg(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=aa(n);null!==t.asyncValidator?n.setAsyncValidators(mg(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_(t._rawValidators,o),_(t._rawAsyncValidators,o)}function P(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=_g(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(l=>l!==t.validator);c.length!==o.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const o=aa(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(l=>l!==t.asyncValidator);c.length!==o.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return _(t._rawValidators,r),_(t._rawAsyncValidators,r),e}function qe(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vt(n,t){M(n,t)}function uu(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Tf(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Pl(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(c=>{c.constructor===ni?e=c:function th(n){return Object.getPrototypeOf(n.constructor)===bs}(c)?r=c:o=c}),o||r||e||null}const xs={provide:Jn,useExisting:(0,i.Gpc)(()=>go)},sc=(()=>Promise.resolve())();let go=(()=>{class n extends Jn{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.vpe,this.form=new au({},oa(e),ou(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sc.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),D(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sc.then(()=>{const r=this._findContainer(e.path),o=new au({});vt(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){sc.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Tf(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Dr,10),i.Y36(Mo,10))},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([xs]),i.qOj]}),n})();function nh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Z_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lu=class extends Xd{constructor(t=null,e,r){super(Ef(e),Al(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ml(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Z_(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Z_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},G_={provide:ko,useExisting:(0,i.Gpc)(()=>No)},Cg=(()=>Promise.resolve())();let No=(()=>{class n extends ko{constructor(e,r,o,c,l){super(),this._changeDetectorRef=l,this.control=new lu,this._registered=!1,this.update=new i.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Pl(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Cg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,i.D6c)(r);Cg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Nl(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Jn,9),i.Y36(Dr,10),i.Y36(Mo,10),i.Y36(Nr,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([G_]),i.qOj,i.TTD]}),n})(),Ni=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const QT={provide:Nr,useExisting:(0,i.Gpc)(()=>Eg),multi:!0};let Eg=(()=>{class n extends bs{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([QT]),i.qOj]}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const K_=new i.OlP("NgModelWithFormControlWarning"),n1={provide:Jn,useExisting:(0,i.Gpc)(()=>hu)};let hu=(()=>{class n extends Jn{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return D(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){p(e.control||null,e,!1),function xf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Tf(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(p(r||null,e),(n=>n instanceof lu)(o)&&(D(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);vt(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function cn(n,t){return P(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&P(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Dr,10),i.Y36(Mo,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([n1]),i.qOj,i.TTD]}),n})();const VD={provide:ko,useExisting:(0,i.Gpc)(()=>rh)};let rh=(()=>{class n extends ko{constructor(e,r,o,c,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Pl(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),uu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Nl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(i.Y36(Jn,13),i.Y36(Dr,10),i.Y36(Mo,10),i.Y36(Nr,10),i.Y36(K_,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([VD]),i.qOj,i.TTD]}),n})();const Ol={provide:Nr,useExisting:(0,i.Gpc)(()=>Tg),multi:!0};function ZD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Tg=(()=>{class n extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=ZD(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function i1(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([Ol]),i.qOj]}),n})(),jD=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ZD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Tg,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const o1={provide:Nr,useExisting:(0,i.Gpc)(()=>J_),multi:!0};function ha(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let J_=(()=>{class n extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const o=e.map(c=>this._getOptionId(c));r=(c,l)=>{c._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const o=[],c=r.selectedOptions;if(void 0!==c){const l=c;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);o.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);o.push(v)}}}this.value=o,e(o)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function ih(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([o1]),i.qOj]}),n})(),BD=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ha(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ha(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(J_,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Rl=(()=>{class n{constructor(){this._validator=Xo}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const a1={provide:Dr,useExisting:(0,i.Gpc)(()=>ii),multi:!0};let ii=(()=>{class n extends Rl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.D6c,this.createValidator=e=>yf}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[i._Bn([a1]),i.qOj]}),n})();const s2={provide:Dr,useExisting:(0,i.Gpc)(()=>JD),multi:!0};let JD=(()=>{class n extends Rl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function HD(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>ic(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i._Bn([s2]),i.qOj]}),n})(),YD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[q_]}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[YD]}),n})(),QD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:K_,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[YD]}),n})();class XD extends Xd{constructor(t,e,r){super(Ef(e),Al(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Qd(this,0,t),t.forEach((r,o)=>{kl(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function ey(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Sf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let c={};return ey(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new au(o,c)}record(e,r=null){const o=this._reduceControls(e);return new wf(o,r)}control(e,r,o){let c={};return this.useNonNullable?(ey(r)?c=r:(c.validators=r,c.asyncValidators=o),new lu(e,{...c,nonNullable:!0})):new lu(e,r,o)}array(e,r,o){const c=e.map(l=>this._createControl(l));return new XD(c,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof lu||e instanceof Xd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:QD}),n})();class eC{}const fa="*";function f1(n,t){return{type:7,name:n,definitions:t,options:{}}}function tC(n,t=null){return{type:4,styles:t,timings:n}}function nC(n,t=null){return{type:2,steps:n,options:t}}function Mf(n){return{type:6,styles:n,offset:null}}function rC(n,t,e){return{type:0,name:n,styles:t,options:e}}function sh(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ny(n){Promise.resolve().then(n)}class ah{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ny(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Ag{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const c=this.players.length;0==c?ny(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==c&&this._onFinish()}),l.onDestroy(()=>{++r==c&&this._onDestroy()}),l.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Sg(n){return new i.vHH(3e3,!1)}function O1(){return typeof window<"u"&&typeof window.document<"u"}function Ng(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ac(n){switch(n.length){case 0:return new ah;case 1:return n[0];default:return new Ag(n)}}function Pg(n,t,e,r,o=new Map,c=new Map){const l=[],f=[];let m=-1,v=null;if(r.forEach(x=>{const I=x.get("offset"),F=I==m,j=F&&v||new Map;x.forEach((q,ee)=>{let se=ee,Ve=q;if("offset"!==ee)switch(se=t.normalizePropertyName(se,l),Ve){case"!":Ve=o.get(ee);break;case fa:Ve=c.get(ee);break;default:Ve=t.normalizeStyleValue(ee,se,Ve,l)}j.set(se,Ve)}),F||f.push(j),v=j,m=I}),l.length)throw function I1(n){return new i.vHH(3502,!1)}();return f}function Pf(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&ay(e,"start",n)));break;case"done":n.onDone(()=>r(e&&ay(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&ay(e,"destroy",n)))}}function ay(n,t,e){const c=Of(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(c._data=l),c}function Of(n,t,e,r,o="",c=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:c,disabled:!!l}}function Di(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function dC(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let cy=(n,t)=>!1,hC=(n,t,e)=>[],fC=null;function uy(n){const t=n.parentNode||n.host;return t===fC?null:t}(Ng()||typeof Element<"u")&&(O1()?(fC=(()=>document.documentElement)(),cy=(n,t)=>{for(;t;){if(t===n)return!0;t=uy(t)}return!1}):cy=(n,t)=>n.contains(t),hC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let ts=null,pa=!1;const L1=cy,ly=hC;let dy=(()=>{class n{validateStyleProperty(e){return function F1(n){ts||(ts=function g2(){return typeof document<"u"?document.body:null}()||{},pa=!!ts.style&&"WebkitAppearance"in ts.style);let t=!0;return ts.style&&!function R1(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ts.style,!t&&pa&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ts.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return L1(e,r)}getParentElement(e){return uy(e)}query(e,r,o){return ly(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,c,l,f=[],m){return new ah(o,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),pC=(()=>{class n{}return n.NOOP=new dy,n})();const hy="ng-enter",Og="ng-leave",mo="ng-trigger",Rg=".ng-trigger",fy="ng-animating",py=".ng-animating";function cc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gy(parseFloat(t[1]),t[2])}function gy(n,t){return"s"===t?1e3*n:n}function Fg(n,t,e){return n.hasOwnProperty("duration")?n:function yC(n,t,e){let o,c=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(Sg()),{duration:0,delay:0,easing:""};o=gy(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(c=gy(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else o=n;if(!e){let f=!1,m=t.length;o<0&&(t.push(function sC(){return new i.vHH(3100,!1)}()),f=!0),c<0&&(t.push(function aC(){return new i.vHH(3101,!1)}()),f=!0),f&&t.splice(m,0,Sg())}return{duration:o,delay:c,easing:l}}(n,t,e)}function Rf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function vC(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function uc(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function my(n,t,e){return e?t+":"+e+";":""}function _y(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=my(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=my(0,Vl(e),n.style[e]));n.setAttribute("style",t)}function ga(n,t,e){n.style&&(t.forEach((r,o)=>{const c=Ug(o);e&&!e.has(o)&&e.set(o,n.style[c]),n.style[c]=r}),Ng()&&_y(n))}function Ul(n,t){n.style&&(t.forEach((e,r)=>{const o=Ug(r);n.style[o]=""}),Ng()&&_y(n))}function lh(n){return Array.isArray(n)?1==n.length?n[0]:nC(n):n}const Lg=new RegExp("{{\\s*(.+?)\\s*}}","g");function DC(n){let t=[];if("string"==typeof n){let e;for(;e=Lg.exec(n);)t.push(e[1]);Lg.lastIndex=0}return t}function Ff(n,t,e){const r=n.toString(),o=r.replace(Lg,(c,l)=>{let f=t[l];return null==f&&(e.push(function _1(n){return new i.vHH(3003,!1)}()),f=""),f.toString()});return o==r?n:o}function yy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CC=/-+([a-z0-9])/g;function Ug(n){return n.replace(CC,(...t)=>t[1].toUpperCase())}function Vl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ry(n){return new i.vHH(3004,!1)}()}}function EC(n,t){return window.getComputedStyle(n)[t]}function B1(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bC(n,t,e){if(":"==n[0]){const m=function Vg(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function T1(n){return new i.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function b1(n){return new i.vHH(3015,!1)}()),t;const o=r[1],c=r[2],l=r[3];t.push(TC(o,l));"<"==c[0]&&!("*"==o&&"*"==l)&&t.push(TC(l,o))}(r,e,t)):e.push(n),e}const Zg=new Set(["true","1"]),Lf=new Set(["false","0"]);function TC(n,t){const e=Zg.has(n)||Lf.has(n),r=Zg.has(t)||Lf.has(t);return(o,c)=>{let l="*"==n||n==o,f="*"==t||t==c;return!l&&e&&"boolean"==typeof o&&(l=o?Zg.has(n):Lf.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?Zg.has(t):Lf.has(t)),l&&f}}const H1=new RegExp("s*:selfs*,?","g");function Ey(n,t,e,r){return new AC(n).build(t,e,r)}class AC{constructor(t){this._driver=t}build(t,e,r){const o=new MC(e);return this._resetContextStyleTimingState(o),Wi(this,lh(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const c=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function y1(){return new i.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,c.push(this.visitState(m,e))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,e);r+=m.queryCount,o+=m.depCount,l.push(m)}else e.errors.push(function iy(){return new i.vHH(3007,!1)}())}),{type:7,name:t.name,states:c,transitions:l,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,l=o||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{DC(m).forEach(v=>{l.hasOwnProperty(v)||c.add(v)})})}),c.size&&(yy(c.values()),e.errors.push(function kg(n,t){return new i.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Wi(this,lh(t.animation),e);return{type:1,matchers:B1(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:dc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Wi(this,r,e)),options:dc(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const c=t.steps.map(l=>{e.currentTime=r;const f=Wi(this,l,e);return o=Math.max(o,e.currentTime),f});return e.currentTime=o,{type:3,steps:c,options:dc(t.options)}}visitAnimate(t,e){const r=function y2(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return by(Fg(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=by(0,0,"");return c.dynamic=!0,c.strValue=e,c}const o=Fg(e,t);return by(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,c=t.styles?t.styles:Mf({});if(5==c.type)o=this.visitKeyframes(c,e);else{let l=t.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=Mf(v)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,e);m.isEmptyStep=f,o=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of o)"string"==typeof f?f===fa?r.push(f):e.errors.push(new i.vHH(3002,!1)):r.push(vC(f));let c=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!c))for(let m of f.values())if(m.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),x=v.get(m);let I=!0;x&&(c!=o&&c>=x.startTime&&o<=x.endTime&&(e.errors.push(function oy(n,t,e,r,o){return new i.vHH(3010,!1)}()),I=!1),c=x.startTime),I&&v.set(m,{startTime:c,endTime:o}),e.options&&function V1(n,t,e){const r=t.params||{},o=DC(n);o.length&&o.forEach(c=>{r.hasOwnProperty(c)||e.push(function Fl(n){return new i.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function D1(){return new i.vHH(3011,!1)}()),r;let c=0;const l=[];let f=!1,m=!1,v=0;const x=t.steps.map(Ve=>{const Be=this._makeStyleAst(Ve,e);let je=null!=Be.offset?Be.offset:function wy(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Be.styles),We=0;return null!=je&&(c++,We=Be.offset=je),m=m||We<0||We>1,f=f||We<v,v=We,l.push(We),Be});m&&e.errors.push(function C1(){return new i.vHH(3012,!1)}()),f&&e.errors.push(function cC(){return new i.vHH(3200,!1)}());const I=t.steps.length;let F=0;c>0&&c<I?e.errors.push(function ch(){return new i.vHH(3202,!1)}()):0==c&&(F=1/(I-1));const j=I-1,q=e.currentTime,ee=e.currentAnimateTimings,se=ee.duration;return x.forEach((Ve,Be)=>{const je=F>0?Be==j?1:F*Be:l[Be],We=je*se;e.currentTime=q+ee.delay+We,ee.duration=We,this._validateStyleAst(Ve,e),Ve.offset=je,r.styles.push(Ve)}),r}visitReference(t,e){return{type:8,animation:Wi(this,lh(t.animation),e),options:dc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[c,l]=function G1(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(H1,"")),n=n.replace(/@\*/g,Rg).replace(/@\w+/g,e=>Rg+"-"+e.slice(1)).replace(/:animating/g,py),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Di(e.collectedStyles,e.currentQuerySelector,new Map);const f=Wi(this,lh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:f,originalSelector:t.selector,options:dc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function E1(){return new i.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fg(t.timings,e.errors,!0);return{type:12,animation:Wi(this,lh(t.animation),e),timings:r,options:null}}}class MC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dc(n){return n?(n=Rf(n)).params&&(n.params=function SC(n){return n?Rf(n):null}(n.params)):n={},n}function by(n,t,e){return{duration:n,delay:t,easing:e}}function kC(n,t,e,r,o,c,l=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:c,totalTime:o+c,easing:l,subTimeline:f}}class hc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const jg=new RegExp(":enter","g"),OC=new RegExp(":leave","g");function Ty(n,t,e,r,o,c=new Map,l=new Map,f,m,v=[]){return(new xy).buildKeyframes(n,t,e,r,o,c,l,f,m,v)}class xy{buildKeyframes(t,e,r,o,c,l,f,m,v,x=[]){v=v||new hc;const I=new Uf(t,e,v,o,c,x,[]);I.options=m;const F=m.delay?cc(m.delay):0;I.currentTimeline.delayNextStep(F),I.currentTimeline.setStyles([l],null,I.errors,m),Wi(this,r,I);const j=I.timelines.filter(q=>q.containsAnimation());if(j.length&&f.size){let q;for(let ee=j.length-1;ee>=0;ee--){const se=j[ee];if(se.element===e){q=se;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,I.errors,m)}return j.length?j.map(q=>q.buildKeyframes()):[kC(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),c=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);c!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const o of t){const c=o?.delay;if(c){const l="number"==typeof c?c:cc(Ff(c,o?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const l=null!=r.duration?cc(r.duration):null,f=null!=r.delay?cc(r.delay):null;return 0!==l&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,l,f);c=Math.max(c,v.duration+v.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Wi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const c=t.options;if(c&&(c.params||c.delay)&&(o=e.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ns);const l=cc(c.delay);o.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Wi(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?cc(t.options.delay):0;t.steps.forEach(l=>{const f=e.createSubContext(t.options);c&&f.delayNextStep(c),Wi(this,l,f),o=Math.max(o,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Fg(e.params?Ff(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,c=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*c),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(o+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},c=o.delay?cc(o.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ns);let l=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((v,x)=>{e.currentQueryIndex=x;const I=e.createSubContext(t.options,v);c&&I.delayNextStep(c),v===e.element&&(m=I.currentTimeline),Wi(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,c=t.timings,l=Math.abs(c.duration),f=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const x=e.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;Wi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-I+(o.startTime-r.currentTimeline.startTime)}}const ns={};class Uf{constructor(t,e,r,o,c,l,f,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=c,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ns,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Vf(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=cc(r.duration)),null!=r.delay&&(o.delay=cc(r.delay));const c=r.params;if(c){let l=o.params;l||(l=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!l.hasOwnProperty(f))&&(l[f]=Ff(c[f],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,c=new Uf(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=ns,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},c=new Iy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,c,l){let f=[];if(o&&f.push(this.element),t.length>0){t=(t=t.replace(jg,"."+this._enterClassName)).replace(OC,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!c&&0==f.length&&l.push(function w1(n){return new i.vHH(3014,!1)}()),f}}class Vf{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||fa),this._currentKeyframe.set(e,fa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&this._previousKeyframe.set("easing",e);const c=o&&o.params||{},l=function RC(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let c of r)e.set(c,fa)}else uc(o,e)}),e}(t,this._globalTimelineStyles);for(let[f,m]of l){const v=Ff(m,c,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??fa),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,m)=>{const v=uc(f,new Map,this._backFill);v.forEach((x,I)=>{"!"===x?t.add(I):x===fa&&e.add(I)}),r||v.set("offset",m/this.duration),o.push(v)});const c=t.size?yy(t.values()):[],l=e.size?yy(e.values()):[];if(r){const f=o[0],m=new Map(f);f.set("offset",0),m.set("offset",1),o=[f,m]}return kC(this.element,o,c,l,this.duration,this.startTime,this.easing,!1)}}class Iy extends Vf{constructor(t,e,r,o,c,l,f=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],l=r+e,f=e/l,m=uc(t[0]);m.set("offset",0),c.push(m);const v=uc(t[0]);v.set("offset",q1(f)),c.push(v);const x=t.length-1;for(let I=1;I<=x;I++){let F=uc(t[I]);const j=F.get("offset");F.set("offset",q1((e+j*r)/l)),c.push(F)}r=l,e=0,o="",t=c}return kC(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function q1(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dh{}const Sy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class My extends dh{normalizePropertyName(t,e){return Ug(t)}normalizeStyleValue(t,e,r,o){let c="";const l=r.toString().trim();if(Sy.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(function Mg(n,t){return new i.vHH(3005,!1)}())}return l+c}}function Bg(n,t,e,r,o,c,l,f,m,v,x,I,F){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:c,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:I,errors:F}}const FC={};class LC{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function $1(n,t,e,r,o){return n.some(c=>c(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,c,l,f,m,v,x){const I=[],F=this.ast.options&&this.ast.options.params||FC,q=this.buildStyles(r,f&&f.params||FC,I),ee=m&&m.params||FC,se=this.buildStyles(o,ee,I),Ve=new Set,Be=new Map,je=new Map,We="void"===o,Vt={params:z1(ee,F),delay:this.ast.options?.delay},Zt=x?[]:Ty(t,e,this.ast.animation,c,l,q,se,Vt,v,I);let Cn=0;if(Zt.forEach(Eo=>{Cn=Math.max(Eo.duration+Eo.delay,Cn)}),I.length)return Bg(e,this._triggerName,r,o,We,q,se,[],[],Be,je,Cn,I);Zt.forEach(Eo=>{const md=Eo.element,m6=Di(Be,md,new Set);Eo.preStyleProps.forEach(ng=>m6.add(ng));const OD=Di(je,md,new Set);Eo.postStyleProps.forEach(ng=>OD.add(ng)),md!==e&&Ve.add(md)});const Sr=yy(Ve.values());return Bg(e,this._triggerName,r,o,We,q,se,Zt,Sr,Be,je,Cn)}}function z1(n,t){const e=Rf(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class UC{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=Rf(this.defaultParams);return Object.keys(t).forEach(c=>{const l=t[c];null!==l&&(o[c]=l)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((l,f)=>{l&&(l=Ff(l,o,e));const m=this.normalizer.normalizePropertyName(f,e);l=this.normalizer.normalizeStyleValue(f,m,l,e),r.set(m,l)})}),r}}class K1{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new UC(o.style,o.options&&o.options.params||{},r))}),ky(this.states,"true","1"),ky(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new LC(t,o,this.states))}),this.fallbackTransition=function C2(n,t,e){return new LC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(l=>l.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function ky(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const VC=new hc;class W1{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],c=Ey(this._driver,e,r,[]);if(r.length)throw function lC(n){return new i.vHH(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,r){const o=t.element,c=Pg(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],c=this._animations.get(t);let l;const f=new Map;if(c?(l=Ty(this._driver,e,c,hy,Og,new Map,new Map,r,VC,o),l.forEach(x=>{const I=Di(f,x.element,new Map);x.postStyleProps.forEach(F=>I.set(F,null))})):(o.push(function d2(){return new i.vHH(3300,!1)}()),l=[]),o.length)throw function A1(n){return new i.vHH(3504,!1)}();f.forEach((x,I)=>{x.forEach((F,j)=>{x.set(j,this._driver.computeStyle(I,j,fa))})});const v=ac(l.map(x=>{const I=f.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function kf(n){return new i.vHH(3301,!1)}();return e}listen(t,e,r,o){const c=Of(e,"","","");return Pf(this._getPlayer(t),r,c,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Hg="ng-animate-queued",ZC="ng-animate-disabled",x2=[],J1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},As="__ng_removed";class jC{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Ny(n){return n??null}(r?t.value:t),r){const c=Rf(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const rs="void",Zf=new jC(rs);class Y1{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Po(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function S1(n,t){return new i.vHH(3302,!1)}();if(null==r||0==r.length)throw function uh(n){return new i.vHH(3303,!1)}();if(!function fu(n){return"start"==n||"done"==n}(r))throw function Nf(n,t){return new i.vHH(3400,!1)}();const c=Di(this._elementListeners,t,[]),l={name:e,phase:r,callback:o};c.push(l);const f=Di(this._engine.statesByElement,t,new Map);return f.has(e)||(Po(t,mo),Po(t,mo+"-"+e),f.set(e,Zf)),()=>{this._engine.afterFlush(()=>{const m=c.indexOf(l);m>=0&&c.splice(m,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function M1(n){return new i.vHH(3401,!1)}();return e}trigger(t,e,r,o=!0){const c=this._getTrigger(e),l=new jf(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Po(t,mo),Po(t,mo+"-"+e),this._engine.statesByElement.set(t,f=new Map));let m=f.get(e);const v=new jC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(e,v),m||(m=Zf),v.value!==rs&&m.value===v.value){if(!function Oy(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const c=e[o];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(m.params,v.params)){const ee=[],se=c.matchStyles(m.value,m.params,ee),Ve=c.matchStyles(v.value,v.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Ul(t,se),ga(t,Ve)})}return}const F=Di(this._engine.playersByElement,t,[]);F.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let j=c.matchTransition(m.value,v.value,t,v.params),q=!1;if(!j){if(!o)return;j=c.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:m,toState:v,player:l,isFallbackTransition:q}),q||(Po(t,Hg),l.onStart(()=>{hh(t,Hg)})),l.onDone(()=>{let ee=this.players.indexOf(l);ee>=0&&this.players.splice(ee,1);const se=this._engine.playersByElement.get(t);if(se){let Ve=se.indexOf(l);Ve>=0&&se.splice(Ve,1)}}),this.players.push(l),F.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Rg,!0);r.forEach(o=>{if(o[As])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const c=this._engine.statesByElement.get(t),l=new Map;if(c){const f=[];if(c.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const x=this.trigger(t,v,rs,o);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&ac(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(c=>{const l=c.name;if(o.has(l))return;o.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||Zf,x=new jC(rs),I=new jf(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:m,fromState:v,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)o=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[As];(!c||c===J1)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Po(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const c=r.element,l=this._elementListeners.get(c);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=Of(c,r.triggerName,r.fromState.value,r.toState.value);m._data=t,Pf(r.player,f.phase,m,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const c=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==c||0==l?c-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class BC{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Y1(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(e);for(;f;){const m=o.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,t),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const c=this._fetchNamespace(o.namespaceId);c&&e.add(c)}return e}trigger(t,e,r,o){if(Gg(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!Gg(e))return;const c=e[As];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Po(t,ZC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hh(t,ZC))}removeNode(t,e,r,o){if(Gg(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,c){this.collectedLeaveElements.push(e),e[As]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,o,c){return Gg(e)?this._fetchNamespace(t).listen(e,r,o,c):()=>{}}_buildInstruction(t,e,r,o,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Rg,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,py,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ac(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[As];if(e&&e.setForRemoval){if(t[As]=J1,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ZC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Po(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ac(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function h2(n){return new i.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new hc,o=[],c=new Map,l=[],f=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(wt=>{x.add(wt);const jt=this.driver.query(wt,".ng-animate-queued",!0);for(let Gt=0;Gt<jt.length;Gt++)x.add(jt[Gt])});const I=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=qC(F,this.collectedEnterElements),q=new Map;let ee=0;j.forEach((wt,jt)=>{const Gt=hy+ee++;q.set(jt,Gt),wt.forEach(In=>Po(In,Gt))});const se=[],Ve=new Set,Be=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const jt=this.collectedLeaveElements[wt],Gt=jt[As];Gt&&Gt.setForRemoval&&(se.push(jt),Ve.add(jt),Gt.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(In=>Ve.add(In)):Be.add(jt))}const je=new Map,We=qC(F,Array.from(Ve));We.forEach((wt,jt)=>{const Gt=Og+ee++;je.set(jt,Gt),wt.forEach(In=>Po(In,Gt))}),t.push(()=>{j.forEach((wt,jt)=>{const Gt=q.get(jt);wt.forEach(In=>hh(In,Gt))}),We.forEach((wt,jt)=>{const Gt=je.get(jt);wt.forEach(In=>hh(In,Gt))}),se.forEach(wt=>{this.processLeaveNode(wt)})});const Vt=[],Zt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Gt=>{const In=Gt.player,ji=Gt.element;if(Vt.push(In),this.collectedEnterElements.length){const wo=ji[As];if(wo&&wo.setForMove){if(wo.previousTriggersValues&&wo.previousTriggersValues.has(Gt.triggerName)){const rg=wo.previousTriggersValues.get(Gt.triggerName),Ta=this.statesByElement.get(Gt.element);if(Ta&&Ta.has(Gt.triggerName)){const WT=Ta.get(Gt.triggerName);WT.value=rg,Ta.set(Gt.triggerName,WT)}}return void In.destroy()}}const Vu=!I||!this.driver.containsElement(I,ji),js=je.get(ji),Xh=q.get(ji),Mr=this._buildInstruction(Gt,r,Xh,js,Vu);if(Mr.errors&&Mr.errors.length)return void Zt.push(Mr);if(Vu)return In.onStart(()=>Ul(ji,Mr.fromStyles)),In.onDestroy(()=>ga(ji,Mr.toStyles)),void o.push(In);if(Gt.isFallbackTransition)return In.onStart(()=>Ul(ji,Mr.fromStyles)),In.onDestroy(()=>ga(ji,Mr.toStyles)),void o.push(In);const v6=[];Mr.timelines.forEach(wo=>{wo.stretchStartingKeyframe=!0,this.disabledNodes.has(wo.element)||v6.push(wo)}),Mr.timelines=v6,r.append(ji,Mr.timelines),l.push({instruction:Mr,player:In,element:ji}),Mr.queriedElements.forEach(wo=>Di(f,wo,[]).push(In)),Mr.preStyleProps.forEach((wo,rg)=>{if(wo.size){let Ta=m.get(rg);Ta||m.set(rg,Ta=new Set),wo.forEach((WT,n2)=>Ta.add(n2))}}),Mr.postStyleProps.forEach((wo,rg)=>{let Ta=v.get(rg);Ta||v.set(rg,Ta=new Set),wo.forEach((WT,n2)=>Ta.add(n2))})});if(Zt.length){const wt=[];Zt.forEach(jt=>{wt.push(function N1(n,t){return new i.vHH(3505,!1)}())}),Vt.forEach(jt=>jt.destroy()),this.reportError(wt)}const Cn=new Map,Sr=new Map;l.forEach(wt=>{const jt=wt.element;r.has(jt)&&(Sr.set(jt,jt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,Cn))}),o.forEach(wt=>{const jt=wt.element;this._getPreviousPlayers(jt,!1,wt.namespaceId,wt.triggerName,null).forEach(In=>{Di(Cn,jt,[]).push(In),In.destroy()})});const Eo=se.filter(wt=>jl(wt,m,v)),md=new Map;GC(md,this.driver,Be,v,fa).forEach(wt=>{jl(wt,m,v)&&Eo.push(wt)});const OD=new Map;j.forEach((wt,jt)=>{GC(OD,this.driver,new Set(wt),m,"!")}),Eo.forEach(wt=>{const jt=md.get(wt),Gt=OD.get(wt);md.set(wt,new Map([...Array.from(jt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const ng=[],_6=[],y6={};l.forEach(wt=>{const{element:jt,player:Gt,instruction:In}=wt;if(r.has(jt)){if(x.has(jt))return Gt.onDestroy(()=>ga(jt,In.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(In.totalTime),void o.push(Gt);let ji=y6;if(Sr.size>1){let js=jt;const Xh=[];for(;js=js.parentNode;){const Mr=Sr.get(js);if(Mr){ji=Mr;break}Xh.push(js)}Xh.forEach(Mr=>Sr.set(Mr,ji))}const Vu=this._buildAnimation(Gt.namespaceId,In,Cn,c,OD,md);if(Gt.setRealPlayer(Vu),ji===y6)ng.push(Gt);else{const js=this.playersByElement.get(ji);js&&js.length&&(Gt.parentPlayer=ac(js)),o.push(Gt)}}else Ul(jt,In.fromStyles),Gt.onDestroy(()=>ga(jt,In.toStyles)),_6.push(Gt),x.has(jt)&&o.push(Gt)}),_6.forEach(wt=>{const jt=c.get(wt.element);if(jt&&jt.length){const Gt=ac(jt);wt.setRealPlayer(Gt)}}),o.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<se.length;wt++){const jt=se[wt],Gt=jt[As];if(hh(jt,Og),Gt&&Gt.hasAnimation)continue;let In=[];if(f.size){let Vu=f.get(jt);Vu&&Vu.length&&In.push(...Vu);let js=this.driver.query(jt,py,!0);for(let Xh=0;Xh<js.length;Xh++){let Mr=f.get(js[Xh]);Mr&&Mr.length&&In.push(...Mr)}}const ji=In.filter(Vu=>!Vu.destroyed);ji.length?Q1(this,jt,ji):this.processLeaveNode(jt)}return se.length=0,ng.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const jt=this.players.indexOf(wt);this.players.splice(jt,1)}),wt.play()}),ng}elementContainsData(t,e){let r=!1;const o=e[As];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,c){let l=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(l=f)}else{const f=this.playersByElement.get(t);if(f){const m=!c||c==rs;f.forEach(v=>{v.queued||!m&&v.triggerName!=o||l.push(v)})}}return(r||o)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||o&&o!=f.triggerName))),l}_beforeAnimationBuild(t,e,r){const c=e.element,l=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,x=v!==c,I=Di(r,v,[]);this._getPreviousPlayers(v,x,l,f,e.toState).forEach(j=>{const q=j.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),j.destroy(),I.push(j)})}Ul(c,e.fromStyles)}_buildAnimation(t,e,r,o,c,l){const f=e.triggerName,m=e.element,v=[],x=new Set,I=new Set,F=e.timelines.map(q=>{const ee=q.element;x.add(ee);const se=ee[As];if(se&&se.removedBeforeQueried)return new ah(q.duration,q.delay);const Ve=ee!==m,Be=function qg(n){const t=[];return Zl(n,t),t}((r.get(ee)||x2).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===ee),je=c.get(ee),We=l.get(ee),Vt=Pg(0,this._normalizer,0,q.keyframes,je,We),Zt=this._buildPlayer(q,Vt,Be);if(q.subTimeline&&o&&I.add(ee),Ve){const Cn=new jf(t,f,ee);Cn.setRealPlayer(Zt),v.push(Cn)}return Zt});v.forEach(q=>{Di(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function HC(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,q.element,q))}),x.forEach(q=>Po(q,fy));const j=ac(F);return j.onDestroy(()=>{x.forEach(q=>hh(q,fy)),ga(m,e.toStyles)}),I.forEach(q=>{Di(o,q,[]).push(j)}),j}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ah(t.duration,t.delay)}}class jf{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ah,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>Pf(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Di(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Gg(n){return n&&1===n.nodeType}function Py(n,t){const e=n.style.display;return n.style.display=t??"none",e}function GC(n,t,e,r,o){const c=[];e.forEach(m=>c.push(Py(m)));const l=[];r.forEach((m,v)=>{const x=new Map;m.forEach(I=>{const F=t.computeStyle(v,I,o);x.set(I,F),(!F||0==F.length)&&(v[As]=I2,l.push(v))}),n.set(v,x)});let f=0;return e.forEach(m=>Py(m,c[f++])),l}function qC(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const o=new Set(t),c=new Map;function l(f){if(!f)return 1;let m=c.get(f);if(m)return m;const v=f.parentNode;return m=e.has(v)?v:o.has(v)?1:l(v),c.set(f,m),m}return t.forEach(f=>{const m=l(f);1!==m&&e.get(m).push(f)}),e}function Po(n,t){n.classList?.add(t)}function hh(n,t){n.classList?.remove(t)}function Q1(n,t,e){ac(e).onDone(()=>n.processLeaveNode(t))}function Zl(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Ag?Zl(r.players,t):t.push(r)}}function jl(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(c=>o.add(c)):t.set(n,r),e.delete(n),!0}class fh{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new BC(t,e,r),this._timelineEngine=new W1(t,e,r),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(t,e,r,o,c){const l=t+"-"+o;let f=this._triggerCache[l];if(!f){const m=[],x=Ey(this._driver,c,m,[]);if(m.length)throw function uC(n,t){return new i.vHH(3404,!1)}();f=function D2(n,t,e){return new K1(n,t,e)}(o,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(e,o,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[c,l]=dC(r);this._timelineEngine.command(c,e,l,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,c){if("@"==r.charAt(0)){const[l,f]=dC(r);return this._timelineEngine.listen(l,e,f,c)}return this._transitionEngine.listen(t,e,r,o,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $C=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&ga(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ga(this._element,this._initialStyles),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ul(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ul(this._element,this._endStyles),this._endStyles=null),ga(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zg(n){let t=null;return n.forEach((e,r)=>{(function Ry(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class Kg{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:EC(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zC{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return L1(t,e)}getParentElement(t){return uy(t)}query(t,e,r){return ly(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,c,l=[]){const m={duration:r,delay:o,fill:0==o?"both":"forwards"};c&&(m.easing=c);const v=new Map,x=l.filter(j=>j instanceof Kg);(function Z1(n,t){return 0===n||0===t})(r,o)&&x.forEach(j=>{j.currentSnapshot.forEach((q,ee)=>v.set(ee,q))});let I=function U1(n){return n.length?n[0]instanceof Map?n:n.map(t=>vC(t)):[]}(e).map(j=>uc(j));I=function vy(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((c,l)=>{r.has(l)||o.push(l),r.set(l,c)}),o.length)for(let c=1;c<t.length;c++){let l=t[c];o.forEach(f=>l.set(f,EC(n,f)))}}return t}(t,I,v);const F=function $g(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=zg(t[0]),t.length>1&&(r=zg(t[t.length-1]))):t instanceof Map&&(e=zg(t)),e||r?new $C(n,e,r):null}(t,I);return new Kg(t,I,m,F)}}let Fy=(()=>{class n extends eC{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?nC(e):e;return KC(this._renderer,null,r,"register",[o]),new X1(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class X1 extends class ty{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new A2(this._id,t,e||{},this._renderer)}}class A2{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return KC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KC(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const WC="@.disabled";let JC=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,l)=>{const f=l?.parentNode(c);f&&l.removeChild(f,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(c);return x||(x=new Ly("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,x)),x}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(l,f,e,x.name,x)};return r.data.animation.forEach(m),new ex(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[l,f]=c;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(fh),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ly{constructor(t,e,r,o){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?c=>e.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==WC?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ex extends Ly{constructor(t,e,r,o,c){super(e,r,o,c),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==WC?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function Oo(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),l="";return"@"!=c.charAt(0)&&([c,l]=function YC(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,o,c,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let tx=(()=>{class n extends fh{constructor(e,r,o,c){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe),i.LFG(pC),i.LFG(dh),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Wg=[{provide:eC,useClass:Fy},{provide:dh,useFactory:function S2(){return new My}},{provide:fh,useClass:tx},{provide:i.FYo,useFactory:function nx(n,t,e){return new JC(n,t,e)},deps:[Js,fh,i.R0b]}],Jg=[{provide:pC,useFactory:()=>new zC},{provide:i.QbO,useValue:"BrowserAnimations"},...Wg],QC=[{provide:pC,useClass:dy},{provide:i.QbO,useValue:"NoopAnimations"},...Wg];let rx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?QC:Jg}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:Jg,imports:[Ya]}),n})();function Ct(...n){const t=(0,Ao.yG)(n);return(0,_n.D)(n,t)}var Pi=V(7579);class Ss extends Pi.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Hf=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Gf=V(4671),ma=V(9672);function Yg(...n){const t=(0,Ao.yG)(n),e=(0,Ao.jO)(n),{args:r,keys:o}=_l(n);if(0===r.length)return(0,_n.D)([],t);const c=new Ar.y(function ox(n,t,e=Gf.y){return r=>{eE(t,()=>{const{length:o}=n,c=new Array(o);let l=o,f=o;for(let m=0;m<o;m++)eE(t,()=>{const v=(0,_n.D)(n[m],t);let x=!1;v.subscribe((0,Gn.x)(r,I=>{c[m]=I,x||(x=!0,f--),f||r.next(e(c.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,o?l=>yl(o,l):Gf.y));return e?c.pipe(nc(e)):c}function eE(n,t,e){n?(0,ma.f)(e,n,t):t()}var Qg=V(8189);function Uy(...n){return function tE(){return(0,Qg.J)(1)}()((0,_n.D)(n,(0,Ao.yG)(n)))}function nE(n){return new Ar.y(t=>{(0,Io.Xf)(n()).subscribe(t)})}var sx=V(9635),qf=V(576);function $f(n,t){const e=(0,qf.m)(n)?n:()=>n,r=o=>o.error(e());return new Ar.y(t?o=>t.schedule(r,0,o):r)}var Bl=V(515),zf=V(727),oi=V(4482);function ph(){return(0,oi.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Gn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,c=e;e=null,o&&(!c||o===c)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class ax extends Ar.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,oi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new zf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Gn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=zf.w0.EMPTY)}return t}refCount(){return ph()(this)}}function Cr(n,t){return(0,oi.e)((e,r)=>{let o=null,c=0,l=!1;const f=()=>l&&!o&&r.complete();e.subscribe((0,Gn.x)(r,m=>{o?.unsubscribe();let v=0;const x=c++;(0,Io.Xf)(n(m,x)).subscribe(o=(0,Gn.x)(r,I=>r.next(t?t(m,I,x,v++):I),()=>{o=null,f()}))},()=>{l=!0,f()}))})}function Xg(n){return n<=0?()=>Bl.E:(0,oi.e)((t,e)=>{let r=0;t.subscribe((0,Gn.x)(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function Kf(...n){const t=(0,Ao.yG)(n);return(0,oi.e)((e,r)=>{(t?Uy(n,e,t):Uy(n,e)).subscribe(r)})}function is(n,t){return(0,oi.e)((e,r)=>{let o=0;e.subscribe((0,Gn.x)(r,c=>n.call(t,c,o++)&&r.next(c)))})}var Oi=V(5577);function Wf(n){return(0,oi.e)((t,e)=>{let r=!1;t.subscribe((0,Gn.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function em(n=fc){return(0,oi.e)((t,e)=>{let r=!1;t.subscribe((0,Gn.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function fc(){return new Hf}function os(n,t){const e=arguments.length>=2;return r=>r.pipe(n?is((o,c)=>n(o,c,r)):Gf.y,Xg(1),e?Wf(t):em(()=>new Hf))}function _a(n,t){return(0,qf.m)(t)?(0,Oi.z)(n,t,1):(0,Oi.z)(n,1)}var Lr=V(8505);function pu(n){return(0,oi.e)((t,e)=>{let c,r=null,o=!1;r=t.subscribe((0,Gn.x)(e,void 0,void 0,l=>{c=(0,Io.Xf)(n(l,pu(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(e))})}function Vy(n,t,e,r,o){return(c,l)=>{let f=e,m=t,v=0;c.subscribe((0,Gn.x)(l,x=>{const I=v++;m=f?n(m,x,I):(f=!0,x),r&&l.next(m)},o&&(()=>{f&&l.next(m),l.complete()})))}}function gh(n,t){return(0,oi.e)(Vy(n,t,arguments.length>=2,!0))}function Zy(n){return n<=0?()=>Bl.E:(0,oi.e)((t,e)=>{let r=[];t.subscribe((0,Gn.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function rE(n,t){const e=arguments.length>=2;return r=>r.pipe(n?is((o,c)=>n(o,c,r)):Gf.y,Zy(1),e?Wf(t):em(()=>new Hf))}function gu(n){return(0,oi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const un="primary",tm=Symbol("RouteTitle");class ux{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mh(n){return new ux(n)}function lx(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const l=r[c],f=n[c];if(l.startsWith(":"))o[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ss(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!oE(n[o],t[o]))return!1;return!0}function oE(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function nm(n){return Array.prototype.concat.apply([],n)}function sE(n){return n.length>0?n[n.length-1]:null}function Ci(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function mu(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,_n.D)(Promise.resolve(n)):Ct(n)}const rm={exact:function aE(n,t,e){if(!si(n.segments,t.segments)||!Ro(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!aE(n.children[r],t.children[r],e))return!1;return!0},subset:im},_u={exact:function Yf(n,t){return ss(n,t)},subset:function fx(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>oE(n[e],t[e]))},ignored:()=>!0};function hx(n,t,e){return rm[e.paths](n.root,t.root,e.matrixParams)&&_u[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function im(n,t,e){return cE(n,t,t.segments,e)}function cE(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!si(o,e)||t.hasChildren()||!Ro(o,e,r))}if(n.segments.length===e.length){if(!si(n.segments,e)||!Ro(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!im(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(si(n.segments,o)&&Ro(n.segments,o,r)&&n.children[un])&&cE(n.children[un],t,c,r)}}function Ro(n,t,e){return t.every((r,o)=>_u[e](n[o].parameters,r.parameters))}class Ms{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return _h.serialize(this)}}class Rt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ci(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pc(this)}}class ks{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mh(this.parameters)),this._parameterMap}toString(){return Gy(this)}}function si(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Hl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new yu},providedIn:"root"}),n})();class yu{parse(t){const e=new pE(t);return new Ms(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ya(t.root,!0)}`,r=function lE(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${gc(e)}=${gc(o)}`).join("&"):`${gc(e)}=${gc(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function yh(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _h=new yu;function pc(n){return n.segments.map(t=>Gy(t)).join("/")}function ya(n,t){if(!n.hasChildren())return pc(n);if(t){const e=n.children[un]?ya(n.children[un],!1):"",r=[];return Ci(n.children,(o,c)=>{c!==un&&r.push(`${c}:${ya(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function By(n,t){let e=[];return Ci(n.children,(r,o)=>{o===un&&(e=e.concat(t(r,o)))}),Ci(n.children,(r,o)=>{o!==un&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===un?[ya(n.children[un],!1)]:[`${o}:${ya(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${pc(n)}/${e[0]}`:`${pc(n)}/(${e.join("//")})`}}function Gl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(n){return Gl(n).replace(/%3B/gi,";")}function vu(n){return Gl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qf(n){return decodeURIComponent(n)}function Hy(n){return Qf(n.replace(/\+/g,"%20"))}function Gy(n){return`${vu(n.path)}${function uE(n){return Object.keys(n).map(t=>`;${vu(t)}=${vu(n[t])}`).join("")}(n.parameters)}`}const dE=/^[^\/()?;=#]+/;function Xf(n){const t=n.match(dE);return t?t[0]:""}const hE=/^[^=?&#]+/,px=/^[^&#]+/;class pE{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[un]=new Rt(t,e)),r}parseSegment(){const t=Xf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(t),new ks(Qf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xf(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Xf(this.remaining);o&&(r=o,this.capture(r))}t[Qf(e)]=Qf(r)}parseQueryParam(t){const e=function fE(n){const t=n.match(hE);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function gx(n){const t=n.match(px);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Hy(e),c=Hy(r);if(t.hasOwnProperty(o)){let l=t[o];Array.isArray(l)||(l=[l],t[o]=l),l.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xf(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=un);const l=this.parseChildren();e[c]=1===Object.keys(l).length?l[un]:new Rt([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new i.vHH(4011,!1)}}function qy(n){return n.segments.length>0?new Rt([],{[un]:n}):n}function ep(n){const t={};for(const r of Object.keys(n.children)){const c=ep(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function $y(n){if(1===n.numberOfChildren&&n.children[un]){const t=n.children[un];return new Rt(n.segments.concat(t.segments),t.children)}return n}(new Rt(n.segments,t))}function mc(n){return n instanceof Ms}function mx(n,t,e,r,o){if(0===e.length)return ql(t.root,t.root,t.root,r,o);const c=function Yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new am(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,l)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Ci(c.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...o,{outlets:f}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===l?(c.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&o.push(f))}),o):[...o,c]},[]);return new am(e,t,r)}(e);return c.toRoot()?ql(t.root,t.root,new Rt([],{}),r,o):function l(m){const v=function gE(n,t,e,r){if(n.isAbsolute)return new $l(t.root,!0,0);if(-1===r)return new $l(e,e===t.root,0);return function mE(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new i.vHH(4005,!1);o=r.segments.length}return new $l(r,!1,o-c)}(e,r+(Du(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,m),x=v.processChildren?vh(v.segmentGroup,v.index,c.commands):cm(v.segmentGroup,v.index,c.commands);return ql(t.root,v.segmentGroup,x,r,o)}(n.snapshot?._lastPathIndex)}function Du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cu(n){return"object"==typeof n&&null!=n&&n.outlets}function ql(n,t,e,r,o){let l,c={};r&&Ci(r,(m,v)=>{c[v]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=n===t?e:Jy(n,t,e);const f=qy(ep(l));return new Ms(f,c,o)}function Jy(n,t,e){const r={};return Ci(n.children,(o,c)=>{r[c]=o===t?e:Jy(o,t,e)}),new Rt(n.segments,r)}class am{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Du(r[0]))throw new i.vHH(4003,!1);const o=r.find(Cu);if(o&&o!==sE(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $l{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function cm(n,t,e){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return vh(n,t,e);const r=function yE(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const l=n.segments[o],f=e[r];if(Cu(f))break;const m=`${f}`,v=r<e.length-1?e[r+1]:null;if(o>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!ev(m,v,l))return c;r+=2}else{if(!ev(m,{},l))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Rt(n.segments.slice(0,r.pathIndex),{});return c.children[un]=new Rt(n.segments.slice(r.pathIndex),n.children),vh(c,0,o)}return r.match&&0===o.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?Xy(n,t,e):r.match?vh(n,0,o):Xy(n,t,e)}function vh(n,t,e){if(0===e.length)return new Rt(n.segments,{});{const r=function _E(n){return Cu(n[0])?n[0].outlets:{[un]:n}}(e),o={};return Ci(r,(c,l)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[l]=cm(n.children[l],t,c))}),Ci(n.children,(c,l)=>{void 0===r[l]&&(o[l]=c)}),new Rt(n.segments,o)}}function Xy(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(Cu(c)){const m=_x(c.outlets);return new Rt(r,m)}if(0===o&&Du(e[0])){r.push(new ks(n.segments[t].path,vE(e[0]))),o++;continue}const l=Cu(c)?c.outlets[un]:`${c}`,f=o<e.length-1?e[o+1]:null;l&&f&&Du(f)?(r.push(new ks(l,vE(f))),o+=2):(r.push(new ks(l,{})),o++)}return new Rt(r,{})}function _x(n){const t={};return Ci(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Xy(new Rt([],{}),0,e))}),t}function vE(n){const t={};return Ci(n,(e,r)=>t[r]=`${e}`),t}function ev(n,t,e){return n==e.path&&ss(t,e.parameters)}class Ns{constructor(t,e){this.id=t,this.url=e}}class um extends Ns{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eu extends Ns{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tp extends Ns{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tv extends Ns{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DE extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CE extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EE extends Ns{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wE extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P2 extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dx{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TE{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xE{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=rv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return lm(t,this._root).map(e=>e.value)}}function rv(n,t){if(n===t.value)return t;for(const e of t.children){const r=rv(n,e);if(r)return r}return null}function lm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=lm(n,e);if(r.length)return r.unshift(t),r}return[]}class va{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ps(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class IE extends nv{constructor(t,e){super(t),this.snapshot=e,as(this,t)}toString(){return this.snapshot.toString()}}function AE(n,t){const e=function SE(n,t){const l=new Dh([],{},{},"",{},un,t,null,n.root,-1,{});return new dm("",new va(l,[]))}(n,t),r=new Ss([new ks("",{})]),o=new Ss({}),c=new Ss({}),l=new Ss({}),f=new Ss(""),m=new _c(r,o,l,f,c,un,t,e.root);return m.snapshot=e.root,new IE(new va(m,[]),e)}class _c{constructor(t,e,r,o,c,l,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,ht.U)(v=>v[tm]))??Ct(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>mh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>mh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iv(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],c=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function O2(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Dh{constructor(t,e,r,o,c,l,f,m,v,x,I,F){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=l,this.component=f,this.title=this.data?.[tm],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._correctedLastPathIndex=F??x,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dm extends nv{constructor(t,e){super(e),this.url=t,as(this,e)}toString(){return ME(this._root)}}function as(n,t){t.value._routerState=n,t.children.forEach(e=>as(n,e))}function ME(n){const t=n.children.length>0?` { ${n.children.map(ME).join(", ")} } `:"";return`${n.value}${t}`}function hm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ss(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ss(t.params,e.params)||n.params.next(e.params),function iE(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ss(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ss(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cs(n,t){const e=ss(n.params,t.params)&&function om(n,t){return si(n,t)&&n.every((e,r)=>ss(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cs(n.parent,t.parent))}function Ji(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function kE(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ji(n,r,o);return Ji(n,r)})}(n,t,e);return new va(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const l=c.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(f=>Ji(n,f)),l}}const r=function NE(n){return new _c(new Ss(n.url),new Ss(n.params),new Ss(n.queryParams),new Ss(n.fragment),new Ss(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>Ji(n,c));return new va(r,o)}}const ov="ngNavigationCancelingError";function PE(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=mc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=OE(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function OE(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[ov]=!0,r.cancellationCode=t,e&&(r.url=e),r}function RE(n){return fm(n)&&mc(n.url)}function fm(n){return n&&n[ov]}class np{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rp,this.attachRef=null}}let rp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new np,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ip=!1;let sv=(()=>{class n{constructor(e,r,o,c,l){this.parentContexts=e,this.location=r,this.changeDetector=c,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=o||un,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,ip);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,ip);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,ip);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new i.vHH(4013,ip);this._activatedRoute=e;const o=this.location,l=e._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new FE(e,f,o.injector);if(r&&function LE(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=o.createComponent(v,o.length,m)}else this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(rp),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class FE{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===_c?this.route:t===rp?this.childContexts:this.parent.get(t,e)}}let Ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},dependencies:[sv],encapsulation:2}),n})();function UE(n,t){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pm(n){const t=n.children&&n.children.map(pm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==un&&(e.component=Ch),e}function Fo(n){return n.outlet||un}function cv(n,t){const e=n.filter(r=>Fo(r)===t);return e.push(...n.filter(r=>Fo(r)!==t)),e}function Eh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Tx{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),hm(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Ps(e);t.children.forEach(c=>{const l=c.value.outlet;this.deactivateRoutes(c,o[l],r),delete o[l]}),Ci(o,(c,l)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=Ps(t);for(const l of Object.keys(c))this.deactivateRouteAndItsChildren(c[l],o);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=Ps(t);for(const l of Object.keys(c))this.deactivateRouteAndItsChildren(c[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Ps(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new TE(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Dx(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(hm(o),o===c)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),hm(f.route.value),this.activateChildRoutes(t,null,l.children)}else{const f=Eh(o.snapshot),m=f?.get(i._Vd)??null;l.attachRef=null,l.route=o,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class HE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gm{constructor(t,e){this.component=t,this.route=e}}function xx(n,t,e){const r=n._root;return sp(r,t?t._root:null,e,[r.value])}function wh(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,i.Z0I)(n)?t.get(n):n:r}function sp(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ps(t);return n.children.forEach(l=>{(function Ax(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,l=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(l&&c.routeConfig===l.routeConfig){const m=function Sx(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!si(n.url,t.url);case"pathParamsOrQueryParamsChange":return!si(n.url,t.url)||!ss(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cs(n,t)||!ss(n.queryParams,t.queryParams);default:return!cs(n,t)}}(l,c,c.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new HE(r)):(c.data=l.data,c._resolvedData=l._resolvedData),sp(n,t,c.component?f?f.children:null:e,r,o),m&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new gm(f.outlet.component,l))}else l&&ap(t,f,o),o.canActivateChecks.push(new HE(r)),sp(n,null,c.component?f?f.children:null:e,r,o)})(l,c[l.value.outlet],e,r.concat([l.value]),o),delete c[l.value.outlet]}),Ci(c,(l,f)=>ap(l,e.getContext(f),o)),o}function ap(n,t,e){const r=Ps(n),o=n.value;Ci(r,(c,l)=>{ap(c,o.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new gm(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function cp(n){return"function"==typeof n}function mm(n){return n instanceof Hf||"EmptyError"===n?.name}const up=Symbol("INITIAL_VALUE");function zl(){return Cr(n=>Yg(n.map(t=>t.pipe(Xg(1),Kf(up)))).pipe((0,ht.U)(t=>{for(const e of t)if(!0!==e){if(e===up)return up;if(!1===e||e instanceof Ms)return e}return!0}),is(t=>t!==up),Xg(1)))}function Wl(n){return(0,sx.z)((0,Lr.b)(t=>{if(mc(t))throw PE(0,t)}),(0,ht.U)(t=>!0===t))}const lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vx(n,t,e,r,o){const c=_m(n,t,e);return c.matched?function R2(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?Ct(o.map(l=>{const f=wh(l,n);return mu(function Rx(n){return n&&cp(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))})).pipe(zl(),Wl()):Ct(!0)}(r=UE(t,r),t,e).pipe((0,ht.U)(l=>!0===l?c:{...lp})):Ct(c)}function _m(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...lp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||lx)(e,n,t);if(!o)return{...lp};const c={};Ci(o.posParams,(f,m)=>{c[m]=f.path});const l=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function dp(n,t,e,r,o="corrected"){if(e.length>0&&function Zx(n,t,e){return e.some(r=>ym(n,t,r)&&Fo(r)!==un)}(n,e,r)){const l=new Rt(t,function Ut(n,t,e,r){const o={};o[un]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Fo(c)!==un){const l=new Rt([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,o[Fo(c)]=l}return o}(n,t,r,new Rt(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function jx(n,t,e){return e.some(r=>ym(n,t,r))}(n,e,r)){const l=new Rt(n.segments,function F2(n,t,e,r,o,c){const l={};for(const f of r)if(ym(n,e,f)&&!o[Fo(f)]){const m=new Rt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===c?n.segments.length:t.length,l[Fo(f)]=m}return{...o,...l}}(n,t,e,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const c=new Rt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function ym(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jl(n,t,e,r){return!!(Fo(n)===r||r!==un&&ym(t,e,n))&&("**"===n.path||_m(t,n,e).matched)}function JE(n,t,e){return 0===t.length&&!n.children[e]}const Yl=!1;class Ql{constructor(t){this.segmentGroup=t||null}}class ur{constructor(t){this.urlTree=t}}function vm(n){return $f(new Ql(n))}function lv(n){return $f(new ur(n))}class XE{constructor(t,e,r,o,c){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0}apply(){const t=dp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,un).pipe((0,ht.U)(c=>this.createUrlTree(ep(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pu(c=>{if(c instanceof ur)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Ql?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,un).pipe((0,ht.U)(o=>this.createUrlTree(ep(o),t.queryParams,t.fragment))).pipe(pu(o=>{throw o instanceof Ql?this.noMatchError(o):o}))}noMatchError(t){return new i.vHH(4002,Yl)}createUrlTree(t,e,r){const o=qy(t);return new Ms(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ht.U)(c=>new Rt([],c))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,_n.D)(o).pipe(_a(c=>{const l=r.children[c],f=cv(e,c);return this.expandSegmentGroup(t,f,l,c).pipe((0,ht.U)(m=>({segment:m,outlet:c})))}),gh((c,l)=>(c[l.outlet]=l.segment,c),{}),rE())}expandSegment(t,e,r,o,c,l){return(0,_n.D)(r).pipe(_a(f=>this.expandSegmentAgainstRoute(t,e,r,f,o,c,l).pipe(pu(v=>{if(v instanceof Ql)return Ct(null);throw v}))),os(f=>!!f),pu((f,m)=>{if(mm(f))return JE(e,o,c)?Ct(new Rt([],{})):vm(e);throw f}))}expandSegmentAgainstRoute(t,e,r,o,c,l,f){return Jl(o,e,c,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,l):vm(e):vm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lv(c):this.lineralizeSegments(r,c).pipe((0,Oi.z)(l=>{const f=new Rt(l,{});return this.expandSegment(t,f,e,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=_m(e,o,c);if(!f)return vm(e);const I=this.applyRedirectCommands(m,o.redirectTo,x);return o.redirectTo.startsWith("/")?lv(I):this.lineralizeSegments(o,I).pipe((0,Oi.z)(F=>this.expandSegment(t,e,r,F.concat(v),l,!1)))}matchSegmentAgainstRoute(t,e,r,o,c){return"**"===r.path?(t=UE(r,t),r.loadChildren?(r._loadedRoutes?Ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,ht.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Rt(o,{})))):Ct(new Rt(o,{}))):Vx(e,r,o,t).pipe(Cr(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(t=r._injector??t,r,o).pipe((0,Oi.z)(x=>{const I=x.injector??t,F=x.routes,{segmentGroup:j,slicedSegments:q}=dp(e,f,m,F),ee=new Rt(j.segments,j.children);if(0===q.length&&ee.hasChildren())return this.expandChildren(I,F,ee).pipe((0,ht.U)(je=>new Rt(f,je)));if(0===F.length&&0===q.length)return Ct(new Rt(f,{}));const se=Fo(r)===c;return this.expandSegment(I,ee,F,q,se?un:c,!0).pipe((0,ht.U)(Be=>new Rt(f.concat(Be.segments),Be.children)))})):vm(e)))}getChildConfig(t,e,r){return e.children?Ct({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ct({routes:e._loadedRoutes,injector:e._loadedInjector}):function Ux(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?Ct(!0):Ct(o.map(l=>{const f=wh(l,n);return mu(function kx(n){return n&&cp(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))})).pipe(zl(),Wl())}(t,e,r).pipe((0,Oi.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,Lr.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Bx(n){return $f(OE(Yl,3))}())):Ct({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ct(r);if(o.numberOfChildren>1||!o.children[un])return $f(new i.vHH(4e3,Yl));o=o.children[un]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new Ms(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Ci(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[c]=e[f]}else r[c]=o}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let l={};return Ci(e.children,(f,m)=>{l[m]=this.createSegmentGroup(t,f,r,o)}),new Rt(c,l)}createSegments(t,e,r,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new i.vHH(4001,Yl);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class Hx{}class fp{constructor(t,e,r,o,c,l,f,m){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=m}recognize(){const t=dp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,un).pipe((0,ht.U)(e=>{if(null===e)return null;const r=new Dh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new va(r,e),c=new dm(this.url,o);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,r=iv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return(0,_n.D)(Object.keys(r.children)).pipe(_a(o=>{const c=r.children[o],l=cv(e,o);return this.processSegmentGroup(t,l,c,o)}),gh((o,c)=>o&&c?(o.push(...c),o):null),function Jf(n,t=!1){return(0,oi.e)((e,r)=>{let o=0;e.subscribe((0,Gn.x)(r,c=>{const l=n(c,o++);(l||t)&&r.next(c),!l&&r.complete()}))})}(o=>null!==o),Wf(null),rE(),(0,ht.U)(o=>{if(null===o)return null;const c=pp(o);return function $x(n){n.sort((t,e)=>t.value.outlet===un?-1:e.value.outlet===un?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,r,o,c){return(0,_n.D)(e).pipe(_a(l=>this.processSegmentAgainstRoute(l._injector??t,l,r,o,c)),os(l=>!!l),pu(l=>{if(mm(l))return JE(r,o,c)?Ct([]):Ct(null);throw l}))}processSegmentAgainstRoute(t,e,r,o,c){if(e.redirectTo||!Jl(e,r,o,c))return Ct(null);let l;if("**"===e.path){const f=o.length>0?sE(o).parameters:{},m=hv(r)+o.length;l=Ct({snapshot:new Dh(o,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bh(e),Fo(e),e.component??e._loadedComponent??null,e,dv(r),m,Th(e),m),consumedSegments:[],remainingSegments:[]})}else l=Vx(r,e,o,t).pipe((0,ht.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:x})=>{if(!f)return null;const I=hv(r)+m.length;return{snapshot:new Dh(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bh(e),Fo(e),e.component??e._loadedComponent??null,e,dv(r),I,Th(e),I),consumedSegments:m,remainingSegments:v}}));return l.pipe(Cr(f=>{if(null===f)return Ct(null);const{snapshot:m,consumedSegments:v,remainingSegments:x}=f;t=e._injector??t;const I=e._loadedInjector??t,F=function zx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:j,slicedSegments:q}=dp(r,v,x,F.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===q.length&&j.hasChildren())return this.processChildren(I,F,j).pipe((0,ht.U)(se=>null===se?null:[new va(m,se)]));if(0===F.length&&0===q.length)return Ct([new va(m,[])]);const ee=Fo(e)===c;return this.processSegment(I,F,j,q,ee?un:c).pipe((0,ht.U)(se=>null===se?null:[new va(m,se)]))}))}}function Kx(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pp(n){const t=[],e=new Set;for(const r of n){if(!Kx(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=pp(r.children);t.push(new va(r.value,o))}return t.filter(r=>!e.has(r))}function dv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hv(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function bh(n){return n.data||{}}function Th(n){return n.resolve||{}}function sw(n){return"string"==typeof n.title||null===n.title}function Dm(n){return Cr(t=>{const e=n(t);return e?(0,_n.D)(e).pipe((0,ht.U)(()=>t)):Ct(t)})}let aw=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===un);return r}getResolvedTitleForRoute(e){return e.data[tm]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(cw)},providedIn:"root"}),n})(),cw=(()=>{class n extends aw{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pf))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class L2{}class V2 extends class U2{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xl=new i.OlP("",{providedIn:"root",factory:()=>({})}),fv=new i.OlP("ROUTES");let Cm=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ct(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=mu(e.loadComponent()).pipe((0,Lr.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),gu(()=>{this.componentLoaders.delete(e)})),o=new ax(r,()=>new Pi.x).pipe(ph());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,x=!1;Array.isArray(f)?v=f:(m=f.create(e).injector,v=nm(m.get(fv,[],i.XFs.Self|i.XFs.Optional)));return{routes:v.map(pm),injector:m}}),gu(()=>{this.childrenLoaders.delete(r)})),l=new ax(c,()=>new Pi.x).pipe(ph());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return mu(e()).pipe((0,Oi.z)(r=>r instanceof i.YKP||Array.isArray(r)?Ct(r):(0,_n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gp{}class Qx{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xx(n){throw n}function eI(n,t,e){return t.parse("/")}const tI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hw(){const n=(0,i.f3M)(Hl),t=(0,i.f3M)(rp),e=(0,i.f3M)(Ae),r=(0,i.f3M)(i.zs3),o=(0,i.f3M)(i.Sil),c=(0,i.f3M)(fv,{optional:!0})??[],l=(0,i.f3M)(Xl,{optional:!0})??{},f=(0,i.f3M)(cw),m=(0,i.f3M)(aw,{optional:!0}),v=(0,i.f3M)(gp,{optional:!0}),x=(0,i.f3M)(L2,{optional:!0}),I=new dn(null,n,t,e,r,o,nm(c));return v&&(I.urlHandlingStrategy=v),x&&(I.routeReuseStrategy=x),I.titleStrategy=m??f,function nI(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,I),I}let dn=(()=>{class n{constructor(e,r,o,c,l,f,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pi.x,this.errorHandler=Xx,this.malformedUriErrorHandler=eI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ct(void 0),this.urlHandlingStrategy=new Qx,this.routeReuseStrategy=new V2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(Cm),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new vx(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new yx(F)),this.ngModule=l.get(i.h0i),this.console=l.get(i.c2e);const I=l.get(i.R0b);this.isNgZoneEnabled=I instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function dx(){return new Ms(new Rt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AE(this.currentUrlTree,this.rootComponentType),this.transitions=new Ss({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(is(o=>0!==o.id),(0,ht.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cr(o=>{let c=!1,l=!1;return Ct(o).pipe((0,Lr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cr(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return pv(f.source)&&(this.browserUrlTree=f.extractedUrl),Ct(f).pipe(Cr(I=>{const F=this.transitions.getValue();return r.next(new um(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),F!==this.transitions.getValue()?Bl.E:Promise.resolve(I)}),function ew(n,t,e,r){return Cr(o=>function QE(n,t,e,r,o){return new XE(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ht.U)(c=>({...o,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Lr.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},o.urlAfterRedirects=I.urlAfterRedirects}),function Wx(n,t,e,r,o,c){return(0,Oi.z)(l=>function qx(n,t,e,r,o,c,l="emptyOnly",f="legacy"){return new fp(n,t,e,r,o,l,f,c).recognize().pipe(Cr(m=>null===m?function Gx(n){return new Ar.y(t=>t.error(n))}(new Hx):Ct(m)))}(n,t,e,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,o,c).pipe((0,ht.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Lr.b)(I=>{if(o.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(j,I)}this.browserUrlTree=I.urlAfterRedirects}const F=new DE(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(F)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:q,restoredState:ee,extras:se}=f,Ve=new um(F,this.serializeUrl(j),q,ee);r.next(Ve);const Be=AE(j,this.rootComponentType).snapshot;return Ct(o={...f,targetSnapshot:Be,urlAfterRedirects:j,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Bl.E}),(0,Lr.b)(f=>{const m=new CE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,ht.U)(f=>o={...f,guards:xx(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function qE(n,t){return(0,Oi.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:l}}=e;return 0===l.length&&0===c.length?Ct({...e,guardsResult:!0}):function $E(n,t,e,r){return(0,_n.D)(n).pipe((0,Oi.z)(o=>function Lx(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Ct(c.map(f=>{const m=Eh(t)??o,v=wh(f,m);return mu(function Ox(n){return n&&cp(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,r):m.runInContext(()=>v(n,t,e,r))).pipe(os())})).pipe(zl()):Ct(!0)}(o.component,o.route,e,t,r)),os(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Oi.z)(f=>f&&function Mx(n){return"boolean"==typeof n}(f)?function zE(n,t,e,r){return(0,_n.D)(t).pipe(_a(o=>Uy(function WE(n,t){return null!==n&&t&&t(new bE(n)),Ct(!0)}(o.route.parent,r),function KE(n,t){return null!==n&&t&&t(new zr(n)),Ct(!0)}(o.route,r),function Kl(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(l=>function Ix(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>nE(()=>Ct(l.guards.map(m=>{const v=Eh(l.node)??e,x=wh(m,v);return mu(function Px(n){return n&&cp(n.canActivateChild)}(x)?x.canActivateChild(r,n):v.runInContext(()=>x(r,n))).pipe(os())})).pipe(zl())));return Ct(c).pipe(zl())}(n,o.path,e),function uv(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const o=r.map(c=>nE(()=>{const l=Eh(t)??e,f=wh(c,l);return mu(function Nx(n){return n&&cp(n.canActivate)}(f)?f.canActivate(t,n):l.runInContext(()=>f(t,n))).pipe(os())}));return Ct(o).pipe(zl())}(n,o.route,e))),os(o=>!0!==o,!0))}(r,c,n,t):Ct(f)),(0,ht.U)(f=>({...e,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Lr.b)(f=>{if(o.guardsResult=f.guardsResult,mc(f.guardsResult))throw PE(0,f.guardsResult);const m=new EE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),is(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Dm(f=>{if(f.guards.canActivateChecks.length)return Ct(f).pipe((0,Lr.b)(m=>{const v=new wE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Cr(m=>{let v=!1;return Ct(m).pipe(function Jx(n,t){return(0,Oi.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Ct(e);let c=0;return(0,_n.D)(o).pipe(_a(l=>function Yx(n,t,e,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!sw(o)&&(c[tm]=o.title),function rw(n,t,e,r){const o=function iw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ct({});const c={};return(0,_n.D)(o).pipe((0,Oi.z)(l=>function ow(n,t,e,r){const o=Eh(t)??r,c=wh(n,o);return mu(c.resolve?c.resolve(t,e):o.runInContext(()=>c(t,e)))}(n[l],t,e,r).pipe(os(),(0,Lr.b)(f=>{c[l]=f}))),Zy(1),function cx(n){return(0,ht.U)(()=>n)}(c),pu(l=>mm(l)?Bl.E:$f(l)))}(c,n,t,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=iv(n,e).resolve,o&&sw(o)&&(n.data[tm]=o.title),null)))}(l.route,r,n,t)),(0,Lr.b)(()=>c++),Zy(1),(0,Oi.z)(l=>c===o.length?Ct(e):Bl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Lr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Lr.b)(m=>{const v=new P2(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Dm(f=>{const m=v=>{const x=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Lr.b)(I=>{v.component=I}),(0,ht.U)(()=>{})));for(const I of v.children)x.push(...m(I));return x};return Yg(m(f.targetSnapshot.root)).pipe(Wf(),Xg(1))}),Dm(()=>this.afterPreactivation()),(0,ht.U)(f=>{const m=function Os(n,t,e){const r=Ji(n,t._root,e?e._root:void 0);return new IE(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return o={...f,targetRouterState:m}}),(0,Lr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,ht.U)(r=>(new Tx(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Lr.b)({next(){c=!0},complete(){c=!0}}),gu(()=>{c||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),pu(f=>{if(l=!0,fm(f)){RE(f)||(this.navigated=!0,this.restoreHistory(o,!0));const m=new tp(o.id,this.serializeUrl(o.extractedUrl),f.message,f.cancellationCode);if(r.next(m),RE(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pv(o.source)};this.scheduleNavigation(v,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const m=new tv(o.id,this.serializeUrl(o.extractedUrl),f,o.targetSnapshot??void 0);r.next(m);try{o.resolve(this.errorHandler(f))}catch(v){o.reject(v)}}return Bl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const f={...c};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(pm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=o||this.routerState.root,x=m?this.currentUrlTree.fragment:l;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...c};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=c||null}return null!==I&&(I=this.removeEmptyProps(I)),mx(v,this.currentUrlTree,e,I,x??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=mc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function rI(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new i.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...tI}:!1===r?{...dw}:r,mc(e))return hx(this.currentUrlTree,e,o);const c=this.parseUrl(e);return hx(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const c=e[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Eu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,c,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((F,j)=>{f=F,m=j});const x=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),I=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:x,targetPageId:I,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(F=>Promise.reject(F))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const c=new tp(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return hw()},providedIn:"root"}),n})();function pv(n){return"imperative"!==n}let yc=(()=>{class n{constructor(e,r,o,c,l){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Pi.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(dn),i.Y36(_c),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),Rs=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Pi.x,this.subscription=e.events.subscribe(c=>{c instanceof Eu&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,c,l){return!!(0!==e||r||o||c||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(dn),i.Y36(_c),i.Y36(Ce))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&i.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})();class pw{}let mw=(()=>{class n{constructor(e,r,o,c,l){this.router=e,this.injector=o,this.preloadingStrategy=c,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(is(e=>e instanceof Eu),_a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,i.MMx)(c.providers,e,`Route: ${c.path}`));const l=c._injector??e,f=c._loadedInjector??l;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?o.push(this.preloadConfig(l,c)):(c.children||c._loadedRoutes)&&o.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,_n.D)(o).pipe((0,Qg.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ct(null);const c=o.pipe((0,Oi.z)(l=>null===l?Ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,_n.D)([c,l]).pipe((0,Qg.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(dn),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(pw),i.LFG(Cm))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wm=new i.OlP("");let _w=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Eu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new xE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function xh(n,t){return{\u0275kind:n,\u0275providers:t}}function xm(n){return[{provide:fv,multi:!0,useValue:n}]}function yw(){const n=(0,i.f3M)(i.zs3);return t=>{const e=n.get(i.z2F);if(t!==e.components[0])return;const r=n.get(dn),o=n.get(vw);1===n.get(gv)&&r.initialNavigation(),n.get(Dw,null,i.XFs.Optional)?.setUpPreloading(),n.get(wm,null,i.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const vw=new i.OlP("",{factory:()=>new Pi.x}),gv=new i.OlP("",{providedIn:"root",factory:()=>1});const Dw=new i.OlP("");function Cw(n){return xh(0,[{provide:Dw,useExisting:mw},{provide:pw,useExisting:n}])}const mv=new i.OlP("ROUTER_FORROOT_GUARD"),uI=[Ae,{provide:Hl,useClass:yu},{provide:dn,useFactory:hw},rp,{provide:_c,useFactory:function Tm(n){return n.routerState.root},deps:[dn]},Cm];function lI(){return new i.PXZ("Router",dn)}let Ew=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[uI,[],xm(e),{provide:mv,useFactory:vv,deps:[[dn,new i.FiY,new i.tp0]]},{provide:Xl,useValue:r||{}},r?.useHash?{provide:Ce,useClass:pt}:{provide:Ce,useClass:yt},{provide:wm,useFactory:()=>{const n=(0,i.f3M)(dn),t=(0,i.f3M)(Hs),e=(0,i.f3M)(Xl);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _w(n,t,e)}},r?.preloadingStrategy?Cw(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:lI},r?.initialNavigation?dI(r):[],[{provide:bw,useFactory:yw},{provide:i.tb,multi:!0,useExisting:bw}]]}}static forChild(e){return{ngModule:n,providers:[xm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(mv,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Ch]}),n})();function vv(n){return"guarded"}function dI(n){return["disabled"===n.initialNavigation?xh(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const t=(0,i.f3M)(dn);return()=>{t.setUpLocationChangeListener()}}},{provide:gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xh(2,[{provide:gv,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:t=>{const e=t.get(z,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(c=>{const l=t.get(dn),f=t.get(vw);(function o(c){t.get(dn).events.pipe(is(f=>f instanceof Eu||f instanceof tp||f instanceof tv),(0,ht.U)(f=>f instanceof Eu||f instanceof tp&&(0===f.code||1===f.code)&&null),is(f=>null!==f),Xg(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),l.afterPreactivation=()=>(c(!0),r||f.closed?Ct(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const bw=new i.OlP("");var Tw=V(6451),vc=V(5363),xw=V(6063);class hI extends Pi.x{constructor(t=1/0,e=1/0,r=xw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:l}=this;e||(r.push(t),!o&&r.push(c.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let l=0;l<c.length&&!t.closed;l+=r?1:2)t.next(c[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const l=e.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var q2=V(3099);function Cv(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=n??1/0,(0,q2.B)({connector:()=>new hI(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Am(n,t){return(0,qf.m)(t)?Cr(()=>n,t):Cr(()=>n)}var Ev=V(9468),ln=V(4976),Yi=V(2011),wu=V(259);class bu{constructor(t){return t}}class wv{constructor(){return(0,wu.C6)()}}const Sm=new i.OlP("angularfire2._apps"),pI={provide:bu,useFactory:function Iw(n){return n&&1===n.length?n[0]:new bu((0,wu.Mq)())},deps:[[new i.FiY,Sm]]},gI={provide:wv,deps:[[new i.FiY,Sm]]};function mI(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new bu(r)}}let _I=(()=>{class n{constructor(e){(0,wu.KN)("angularfire",ln.q4.full,"core"),(0,wu.KN)("angularfire",ln.q4.full,"app"),(0,wu.KN)("angular",i.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.Lbi))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[pI,gI]}),n})();function Aw(n,...t){return{ngModule:_I,providers:[{provide:Sm,useFactory:mI(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,...t]}]}}const vI=(0,ln.u3)(wu.ZF,!0);var te=V(5861),Lo=V(6881),ed=V(4859),Ht=V(2090),Dc=V(1877);const bv=new Map,Sw={activated:!1,tokenObservers:[]},DI={initialized:!1,enabled:!1};function Er(n){return bv.get(n)||Object.assign({},Sw)}function Mm(){return DI}class EI{constructor(t,e,r,o,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,te.Z)(function*(){e.stop();try{e.pending=new Ht.BH,yield function wI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ht.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ei=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xv(n){if(!Er(n).activated)throw Ei.create("use-before-activation",{appName:n.name})}function Tu(n,t){return Av.apply(this,arguments)}function Av(){return(Av=(0,te.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const I=yield o.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const c={method:"POST",body:JSON.stringify(t),headers:r};let l,f;try{l=yield fetch(n,c)}catch(I){throw Ei.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw Ei.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(I){throw Ei.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function Ow(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const _p="firebase-app-check-store";let Pm=null;function yp(){return Pm||(Pm=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(Ei.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_p,{keyPath:"compositeKey"})}}catch(e){t(Ei.create("storage-open",{originalErrorMessage:e?.message}))}}),Pm)}function vp(){return(vp=(0,te.Z)(function*(n,t){const r=(yield yp()).transaction(_p,"readwrite"),c=r.objectStore(_p).put({compositeKey:n,value:t});return new Promise((l,f)=>{c.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Ei.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Rm=new Dc.Yd("@firebase/app-check");function Fm(n,t){return(0,Ht.hl)()?function bI(n,t){return function kv(n,t){return vp.apply(this,arguments)}(function Lw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Rm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Fv(){return Mm().enabled}function Lv(){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,te.Z)(function*(){const n=Mm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Uw={error:"UNKNOWN_ERROR"};function Vv(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function Ep(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,te.Z)(function*(n,t=!1){const e=n.app;xv(e);const r=Er(e);let c,o=r.token;if(o&&!Ih(o)&&(r.token=void 0,o=void 0),!o){const m=yield r.cachedTokenPromise;m&&(Ih(m)?o=m:yield Fm(e,void 0))}if(!t&&o&&Ih(o))return{token:o.token};let f,l=!1;if(Fv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tu(Ow(e,yield Lv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield Fm(e,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Er(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Rm.warn(m.message):Rm.error(m),c=m}return o?c?f=Ih(o)?{token:o.token,internalError:c}:Ri(c):(f={token:o.token},r.token=o,yield Fm(e,o)):f=Ri(c),l&&Gv(e,f),f})).apply(this,arguments)}function Lm(){return(Lm=(0,te.Z)(function*(n){const t=n.app;xv(t);const{provider:e}=Er(t);if(Fv()){const r=yield Lv(),{token:o}=yield Tu(Ow(t,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function Um(n,t){const e=Er(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function Hv(n){const{app:t}=n,e=Er(t);let r=e.tokenRefresher;r||(r=function II(n){const{app:t}=n;return new EI((0,te.Z)(function*(){let r;if(r=Er(t).token?yield Ep(n,!0):yield Ep(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=Er(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Gv(n,t){const e=Er(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Ih(n){return n.expireTimeMillis-Date.now()>0}function Ri(n){return{token:Vv(Uw),error:n}}class Ah{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Er(this.app);for(const e of t)Um(this.app,e.next);return Promise.resolve()}}const Hw="app-check-internal";!function Q2(){(0,Lo._registerComponent)(new ed.wA("app-check",n=>function AI(n,t){return new Ah(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Hw).initialize()})),(0,Lo._registerComponent)(new ed.wA(Hw,n=>function SI(n){return{getToken:t=>Ep(n,t),getLimitedUseToken:()=>function jv(n){return Lm.apply(this,arguments)}(n),addTokenListener:t=>function Bv(n,t,e,r){const{app:o}=n,c=Er(o);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:r,type:t}],c.token&&Ih(c.token)){const f=c.token;Promise.resolve().then(()=>{e({token:f.token}),Hv(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Hv(n))}(n,"INTERNAL",t),removeTokenListener:t=>Um(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lo.registerVersion)("@firebase/app-check","0.8.0")}();class xp{constructor(){return(0,ln.vb)("app-check")}}typeof window<"u"&&window;var rN=V(9260);const $I=new i.OlP("angularfire2.auth.use-emulator"),zI=new i.OlP("angularfire2.auth.settings"),KI=new i.OlP("angularfire2.auth.tenant-id"),WI=new i.OlP("angularfire2.auth.langugage-code"),JI=new i.OlP("angularfire2.auth.use-device-language"),YI=new i.OlP("angularfire.auth.persistence"),QI=(n,t,e,r,o,c,l,f)=>(0,Yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=o,c&&m.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))m.settings[v]=x;return f&&m.setPersistence(f),m},[e,r,o,c,l,f]);let ai=(()=>{class n{constructor(e,r,o,c,l,f,m,v,x,I,F,j){const q=new Pi.x,ee=Ct(void 0).pipe((0,vc.Q)(l.outsideAngular),Cr(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,ht.U)(()=>(0,Yi.on)(e,c,r)),(0,ht.U)(se=>QI(se,c,f,v,x,I,m,F)),Cv({bufferSize:1,refCount:!1}));if(Go(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ee.pipe(os()).subscribe();const Ve=ee.pipe(Cr(We=>We.getRedirectResult().then(Vt=>Vt,()=>null)),ln.iC,Cv({bufferSize:1,refCount:!1})),Be=ee.pipe(Cr(We=>new Ar.y(Vt=>({unsubscribe:c.runOutsideAngular(()=>We.onAuthStateChanged(Zt=>Vt.next(Zt),Zt=>Vt.error(Zt),()=>Vt.complete()))})))),je=ee.pipe(Cr(We=>new Ar.y(Vt=>({unsubscribe:c.runOutsideAngular(()=>We.onIdTokenChanged(Zt=>Vt.next(Zt),Zt=>Vt.error(Zt),()=>Vt.complete()))}))));this.authState=Ve.pipe(Am(Be),(0,Ev.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular)),this.user=Ve.pipe(Am(je),(0,Ev.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular)),this.idToken=this.user.pipe(Cr(We=>We?(0,_n.D)(We.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Cr(We=>We?(0,_n.D)(We.getIdTokenResult()):Ct(null))),this.credential=(0,Tw.T)(Ve,q,this.authState.pipe(is(We=>!We))).pipe((0,ht.U)(We=>We?.user?We:null),(0,Ev.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular))}return(0,Yi.pX)(this,ee,c,{spy:{apply:(se,Ve,Be)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Be.then(je=>q.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG($I,8),i.LFG(zI,8),i.LFG(KI,8),i.LFG(WI,8),i.LFG(JI,8),i.LFG(YI,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jm=(()=>{class n{constructor(){rN.Z.registerVersion("angularfire",ln.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[ai]}),n})();const XI=["toast-component",""];function Kw(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function Bm(n,t){if(1&n&&(i.ynx(0),i._uU(1),i.BQk()),2&n){const e=i.oxw(2);i.xp6(1),i.hij("[",e.duplicatesCount+1,"]")}}function Ww(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,Bm,2,1,"ng-container",4),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.titleClass),i.uIk("aria-label",e.title),i.xp6(1),i.hij(" ",e.title," "),i.xp6(1),i.Q6J("ngIf",e.duplicatesCount)}}function Jw(n,t){if(1&n&&i._UZ(0,"div",7),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.Q6J("innerHTML",e.message,i.oJD)}}function iN(n,t){if(1&n&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.uIk("aria-label",e.message),i.xp6(1),i.hij(" ",e.message," ")}}function Qv(n,t){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Udp("width",e.width+"%")}}class rA{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class e0{constructor(t,e,r,o,c,l){this.toastId=t,this.config=e,this.message=r,this.title=o,this.toastType=c,this.toastRef=l,this._onTap=new Pi.x,this._onAction=new Pi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Xw=new i.OlP("ToastConfig");class oA{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Pi.x,this._activate=new Pi.x,this._manualClose=new Pi.x,this._resetTimeout=new Pi.x,this._countDuplicate=new Pi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class sA{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,r){return t===e0?this._toastPackage:this._parentInjector.get(t,e,r)}}class cN extends class aN{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let o;return o=r.create(t.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class aA{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let eb=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(e,r,o,c){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=o,this._document=c,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new cN(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new aA(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(eb),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qi=(()=>{class n{constructor(e,r,o,c,l){this.overlay=r,this._injector=o,this.sanitizer=c,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,o={},c=""){return this._preBuildNotification(c,e,r,this.applyConfig(o))}success(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(o))}error(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(o))}info(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(o))}warning(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(o))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",r="",o,c){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const m=l&&f.title===e;if((!l||m)&&f.message===r)return f.toastRef.onDuplicate(o,c),f}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,o,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,o,c)):this._buildNotification(e,r,o,c)}_buildNotification(e,r,o,c){if(!c.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&c.enableHtml&&(v=this.sanitizer.sanitize(i.q3G.HTML,r));const x=new oA(m),I=new e0(this.index,c,v,o,e,x),F=new sA(I,this._injector),j=new rA(c.toastComponent,F),q=m.attach(j,this.toastrConfig.newestOnTop);x.componentInstance=q.instance;const ee={toastId:this.index,title:o||"",message:r||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:q};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Xw),i.LFG(tb),i.LFG(i.zs3),i.LFG(eu),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,r,o){this.toastrService=e,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qi),i.Y36(e0),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(i.d8E("@flyInOut",r.state),i.Tol(r.toastClasses),i.Udp("display",r.displayStyle))},attrs:XI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(i.YNc(0,Kw,3,0,"button",0),i.YNc(1,Ww,3,5,"div",1),i.YNc(2,Jw,1,3,"div",2),i.YNc(3,iN,2,4,"div",3),i.YNc(4,Qv,2,2,"div",4)),2&e&&(i.Q6J("ngIf",r.options.closeButton),i.xp6(1),i.Q6J("ngIf",r.title),i.xp6(1),i.Q6J("ngIf",r.message&&r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.message&&!r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.options.progressBar))},dependencies:[mn],encapsulation:2,data:{animation:[f1("flyInOut",[rC("inactive",Mf({opacity:0})),rC("active",Mf({opacity:1})),rC("removed",Mf({opacity:0})),sh("inactive => active",tC("{{ easeTime }}ms {{ easing }}")),sh("active => removed",tC("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let t0=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:Xw,useValue:{default:cA,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[xd]]}),n})();function uA(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",10)(1,"div",11)(2,"span",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",13)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",15),i._uU(10,"Registrate"),i.qZA()()()()()}}let Hm=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA(),i.TgZ(14,"a",8),i._uU(15,"MUSICA"),i.qZA()()(),i.TgZ(16,"div"),i.YNc(17,uA,11,0,"div",9),i.qZA()),2&e&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(13),i.Q6J("ngIf",r.modal))},dependencies:[mn,Rs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(76,175,80,.3294117647),rgba(33,150,243,.5490196078));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();const n0=function(n){return{"background-image":n,"background-blend-mode":"soft-light","background-size":"cover","background-position":"center"}};let rb=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.imagenesFondo=["https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto1.jpg?alt=media&token=144909e5-fa88-4785-a196-a9e829d644ee","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp30.jpg?alt=media&token=8835ef58-75a7-46ed-8d66-182c8b12a5b9","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp37.jpg?alt=media&token=1b507c45-18ad-44ab-9080-fcb944188969","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp45.jpg?alt=media&token=805448f0-c5f8-4c9d-b163-7de9487ea921","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp46.jpg?alt=media&token=52922013-1f5c-413d-8008-5bb74a93bad0","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp62.jpg?alt=media&token=96809e52-9a26-42fb-a0d1-608b0ec80cc4","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10500411_10201454213716073_6332111602942763551_n_10201454213716073.jpg?alt=media&token=6e7caa54-9319-4551-83bf-53cb96bbf047","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10580144_10201454209915978_1885626682807728120_n_10201454209915978.jpg?alt=media&token=eb7ef51f-afe5-490a-b17d-864642c1136a","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F164789_1372685215984_2451351_n_1372685215984.jpg?alt=media&token=46c640a2-1a32-458f-ab07-a6dbb2370cc4"],this.indiceImagen=0}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e&&e.displayName?e.displayName:"Invitad@"}),this.cambiarImagenFondo(),setInterval(()=>this.cambiarImagenFondo(),15e3)}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}cambiarImagenFondo(){const e=Math.floor(Math.random()*this.imagenesFondo.length);this.backgroundImage=this.imagenesFondo[e]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main"]],decls:15,vars:3,consts:[[1,"contenedor",2,"user-select","none"],[1,"box",3,"ngStyle"],[1,"titulo"],[1,"align"],[1,"msj"],[1,"pie"],["href","https://www.facebook.com/profile.php?id=100013672369598",1,"foo"],[1,"fab","fa-facebook-square"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"h1",2),i._uU(4,"Asi somos asi Bailamos Corinto"),i.qZA(),i.TgZ(5,"div")(6,"p",3),i._uU(7," Sum\xe9rgete en el coraz\xf3n de Corinto, Cauca, a trav\xe9s de esta conmovedora recopilaci\xf3n de ensayos, presentaciones, eventos, im\xe1genes y m\xfasica, protagonizados por nuestros queridos j\xf3venes. Cada momento capturado refleja la dedicaci\xf3n, el talento y la pasi\xf3n de nuestros muchachos, quienes con su esfuerzo y creatividad han dejado una huella imborrable en nuestra comunidad. "),i.qZA()(),i.TgZ(8,"div",4),i._uU(9,"Gracias a todos espero lo disfruten tanto como yo!!."),i.qZA(),i.TgZ(10,"aside")(11,"footer",5)(12,"a",6),i._UZ(13,"i",7),i._uU(14," by Edwin 2022"),i.qZA()()()()()),2&e&&(i.xp6(1),i.Q6J("ngStyle",i.VKq(1,n0,"url("+r.backgroundImage+")")))},dependencies:[vd,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:0;overflow:hidden}.log[_ngcontent-%COMP%]{display:flex;justify-content:space-between;animation:moveText .8s ease-in;white-space:nowrap;overflow:hidden}.logout[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.box[_ngcontent-%COMP%]{background-color:#3144c169;display:flex;flex-direction:column;justify-content:space-around;height:90%;width:85%;color:#fff;font-size:20px;padding:20px;border:1px solid white;border-radius:15px;outline:solid #ffffff;background-repeat:no-repeat;background-position:right;background-size:contain;animation:apearText 2s linear}.titulo[_ngcontent-%COMP%]{padding:10px;font-size:30px;text-align:center;background-color:#09ffb340;border-radius:8px;animation:moveText .5s linear}.align[_ngcontent-%COMP%]{padding:12px;text-align:center;border-radius:12px;border:1px solid white;color:#fff;margin-bottom:15px;font-size:17px;animation:moveText 1s linear;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff}.msj[_ngcontent-%COMP%]{color:#fff;margin-bottom:9px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{animation:apearText 2.3s linear;position:relative}.foo[_ngcontent-%COMP%]{color:#fff;text-decoration:none}@media (max-width: 767px){.titulo[_ngcontent-%COMP%]{font-size:22px}.welcome[_ngcontent-%COMP%]{font-size:20px;padding:0;margin:0}.t1[_ngcontent-%COMP%]{animation:moveText 1.2s linear;white-space:nowrap;overflow:hidden}.t2[_ngcontent-%COMP%]{animation:moveText 1.4s linear;white-space:nowrap;overflow:hidden}.t3[_ngcontent-%COMP%]{animation:moveText 1.6s linear;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}.msj[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2.3s linear}}@media (max-width: 433px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.msj[_ngcontent-%COMP%]{font-size:13px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:16px;animation:apearText 2.3s linear}}@media (max-width: 348px){.titulo[_ngcontent-%COMP%]{font-size:16px}.align[_ngcontent-%COMP%]{padding:4px}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})();V(1389);class r0{constructor(){return(0,ln.vb)("auth")}}const d0="firebasestorage.googleapis.com",lb="storageBucket";class nr extends Ht.ZR{constructor(t,e,r=0){super($m(t),`Firebase Storage: ${e} (${$m(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $m(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ln=(()=>{return(n=Ln||(Ln={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ln;var n})();function $m(n){return"storage/"+n}function h0(){return new nr(Ln.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zm(){return new nr(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fb(){return new nr(Ln.CANCELED,"User canceled the upload/download.")}function pb(){return new nr(Ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ip(n){return new nr(Ln.INVALID_ARGUMENT,n)}function OA(){return new nr(Ln.APP_DELETED,"The Firebase app was deleted.")}function RA(n){return new nr(Ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Km(n,t){return new nr(Ln.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ap(n){throw new nr(Ln.INTERNAL_ERROR,"Internal error: "+n)}class Xi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Xi.makeFromUrl(t,e)}catch{return new Xi(t,"")}if(""===r.path)return r;throw function SN(n){return new nr(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const I=e.replace(/[.]/g,"\\."),je=[{regex:f,indices:{bucket:1,path:3},postModify:function c(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===d0?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<je.length;We++){const Vt=je[We],Zt=Vt.regex.exec(t);if(Zt){let Sr=Zt[Vt.indices.path];Sr||(Sr=""),r=new Xi(Zt[Vt.indices.bucket],Sr),Vt.postModify(r);break}}if(null==r)throw function kA(n){return new nr(Ln.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return r}}class NN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function a(n){return"string"==typeof n||n instanceof String}function u(n){return d()&&n instanceof Blob}function d(){return typeof Blob<"u"&&!(0,Ht.UG)()}function h(n,t,e,r){if(r<t)throw Ip(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ip(`Invalid value for '${n}'. Expected ${e} or less.`)}function g(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function y(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var w=(()=>{return(n=w||(w={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",w;var n})();function b(n,t){const e=n>=500&&n<600,o=-1!==[408,429].indexOf(n),c=-1!==t.indexOf(n);return e||o||c}class A{constructor(t,e,r,o,c,l,f,m,v,x,I,F=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=I,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,q)=>{this.resolve_=j,this.reject_=q,this.start_()})}start_(){const e=(r,o)=>{const c=this.resolve_,l=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function RN(n){return void 0!==n}(m)?c():c(m)}catch(m){l(m)}else if(null!==f){const m=h0();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(o.canceled?this.appDelete_?OA():fb():zm())};this.canceled_?e(0,new k(!1,null,!0)):this.backoffId_=function PN(n,t,e){let r=1,o=null,c=null,l=!1,f=0;function m(){return 2===f}let v=!1;function x(...se){v||(v=!0,t.apply(null,se))}function I(se){o=setTimeout(()=>{o=null,n(j,m())},se)}function F(){c&&clearTimeout(c)}function j(se,...Ve){if(v)return void F();if(se)return F(),void x.call(null,se,...Ve);if(m()||l)return F(),void x.call(null,se,...Ve);let je;r<64&&(r*=2),1===f?(f=2,je=0):je=1e3*(r+Math.random()),I(je)}let q=!1;function ee(se){q||(q=!0,F(),!v&&(null!==o?(se||(f=2),clearTimeout(o),I(0)):se||(f=1)))}return I(0),c=setTimeout(()=>{l=!0,ee(!0)},e),ee}((r,o)=>{if(o)return void r(!1,new k(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(l),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(l),this.pendingConnection_=null;const f=c.getErrorCode()===w.NO_ERROR,m=c.getStatus();if(!f||b(m,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===w.ABORT;return void r(!1,new k(!1,null,x))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new k(v,c))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function ON(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function _t(...n){const t=function Xe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(d())return new Blob(n);throw new nr(Ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class En{constructor(t,e){this.data=t,this.contentType=e||null}}function qn(n,t){switch(n){case Dt.RAW:return new En(Iu(t));case Dt.BASE64:case Dt.BASE64URL:return new En(Wm(n,t));case Dt.DATA_URL:return new En(function g0(n){const t=new Jm(n);return t.base64?Wm(Dt.BASE64,t.rest):function p0(n){let t;try{t=decodeURIComponent(n)}catch{throw Km(Dt.DATA_URL,"Malformed data URL.")}return Iu(t)}(t.rest)}(t),function m0(n){return new Jm(n).contentType}(t))}throw h0()}function Iu(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wm(n,t){switch(n){case Dt.BASE64:{const o=-1!==t.indexOf("-"),c=-1!==t.indexOf("_");if(o||c)throw Km(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dt.BASE64URL:{const o=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(o||c)throw Km(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Fe(n){if(typeof atob>"u")throw function kN(n){return new nr(Ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(o){throw o.message.includes("polyfill")?o:Km(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class Jm{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Km(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function _0(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class us{constructor(t,e){let r=0,o="";u(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(u(this.data_)){const o=function Pt(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new us(o)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new us(r,!0)}}static getBlob(...t){if(d()){const e=t.map(r=>r instanceof us?r.data_:r);return new us(_t.apply(null,e))}{const e=t.map(l=>a(l)?qn(Dt.RAW,l).data:l.data_);let r=0;e.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let c=0;return e.forEach(l=>{for(let f=0;f<l.length;f++)o[c++]=l[f]}),new us(o,!0)}}uploadData(){return this.data_}}function Sp(n){let t;try{t=JSON.parse(n)}catch{return null}return function s(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function LN(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function q6(n,t){return t}class Uo{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||q6}}let gb=null;function v0(){if(gb)return gb;const n=[];n.push(new Uo("bucket")),n.push(new Uo("generation")),n.push(new Uo("metageneration")),n.push(new Uo("name","fullPath",!0));const e=new Uo("name");e.xform=function t(c,l){return function $6(n){return!a(n)||n.length<2?n:LN(n)}(l)},n.push(e);const o=new Uo("size");return o.xform=function r(c,l){return void 0!==l?Number(l):l},n.push(o),n.push(new Uo("timeCreated")),n.push(new Uo("updated")),n.push(new Uo("md5Hash",null,!0)),n.push(new Uo("cacheControl",null,!0)),n.push(new Uo("contentDisposition",null,!0)),n.push(new Uo("contentEncoding",null,!0)),n.push(new Uo("contentLanguage",null,!0)),n.push(new Uo("contentType",null,!0)),n.push(new Uo("metadata","customMetadata",!0)),gb=n,gb}function UN(n,t,e){const r=Sp(t);return null===r?null:function K6(n,t,e){const r={type:"file"},o=e.length;for(let c=0;c<o;c++){const l=e[c];r[l.local]=l.xform(r,t[l.server])}return function z6(n,t){Object.defineProperty(n,"ref",{get:function e(){const c=new Xi(n.bucket,n.fullPath);return t._makeStorageReference(c)}})}(r,n),r}(n,r,e)}function FA(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const c=t[o];c.writable&&(e[c.server]=n[c.local])}return JSON.stringify(e)}const VN="prefixes";class Au{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Su(n){if(!n)throw h0()}function mb(n,t){return function e(r,o){const c=UN(n,o,t);return Su(null!==c),c}}function Ym(n){return function t(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function AN(){return new nr(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function f0(){return new nr(Ln.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function db(n){return new nr(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function hb(n){return new nr(Ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}}function D0(n){const t=Ym(n);return function e(r,o){let c=t(r,o);return 404===r.getStatus()&&(c=function MA(n){return new nr(Ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function jN(n,t,e){const o=g(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Au(o,"GET",mb(n,e),l);return f.errorHandler=D0(t),f}function eL(n,t,e,r,o){const c={};c.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(c.delimiter=e),r&&(c.pageToken=r),o&&(c.maxResults=o);const f=g(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new Au(f,"GET",function Q6(n,t){return function e(r,o){const c=function Y6(n,t,e){const r=Sp(e);return null===r?null:function J6(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[VN])for(const o of e[VN]){const c=o.replace(/\/$/,""),l=n._makeStorageReference(new Xi(t,c));r.prefixes.push(l)}if(e.items)for(const o of e.items){const c=n._makeStorageReference(new Xi(t,o.name));r.items.push(c)}return r}(n,t,r)}(n,t,o);return Su(null!==c),c}}(n,t.bucket),v);return x.urlParams=c,x.errorHandler=Ym(t),x}function HN(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function iL(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function GN(n,t,e,r,o){const c=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let je="";for(let We=0;We<2;We++)je+=Math.random().toString().slice(2);return je}();l["Content-Type"]="multipart/related; boundary="+m;const v=HN(t,r,o),x=FA(v,e),j=us.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===j)throw pb();const q={name:v.fullPath},ee=g(c,n.host,n._protocol),Ve=n.maxUploadRetryTime,Be=new Au(ee,"POST",mb(n,e),Ve);return Be.urlParams=q,Be.headers=l,Be.body=j.uploadData(),Be.errorHandler=Ym(t),Be}class _b{constructor(t,e,r,o){this.current=t,this.total=e,this.finalized=!!r,this.metadata=o||null}}function LA(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Su(!1)}return Su(!!e&&-1!==(t||["active"]).indexOf(e)),e}const cL={STATE_CHANGED:"state_changed"},Vo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UA(n){switch(n){case"running":case"pausing":case"canceling":return Vo.RUNNING;case"paused":return Vo.PAUSED;case"success":return Vo.SUCCESS;case"canceled":return Vo.CANCELED;default:return Vo.ERROR}}class uL{constructor(t,e,r){if(function FN(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const c=t;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Qm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class dL extends class lL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=w.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=w.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=w.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o){if(this.sent_)throw Ap("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ap("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ap("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ap("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ap("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Cc(){return new dL}class zN{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=v0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(b(o.status,[])){if(!c)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=zm()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ln.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function oL(n,t,e,r,o){const c=t.bucketOnlyServerUrl(),l=HN(t,r,o),f={name:l.fullPath},m=g(c,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},I=FA(l,e),q=new Au(m,"POST",function j(ee){let se;LA(ee);try{se=ee.getResponseHeader("X-Goog-Upload-URL")}catch{Su(!1)}return Su(a(se)),se},n.maxUploadRetryTime);return q.urlParams=f,q.headers=x,q.body=I,q.errorHandler=Ym(t),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const o=function sL(n,t,e,r){const m=new Au(e,"POST",function c(v){const x=LA(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Su(!1)}I||Su(!1);const F=Number(I);return Su(!isNaN(F)),new _b(F,r.size(),"final"===x)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Ym(t),m}(this._ref.storage,this._ref._location,t,this._blob),c=this._ref.storage._makeRequest(o,Cc,e,r);this._request=c,c.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _b(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let l;try{l=function aL(n,t,e,r,o,c,l,f){const m=new _b(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function NA(){return new nr(Ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let x=v;o>0&&(x=Math.min(x,o));const I=m.current;let j="";j=0===x?"finalize":v===x?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":j,"X-Goog-Upload-Offset":`${m.current}`},ee=r.slice(I,I+x);if(null===ee)throw pb();const je=new Au(e,"POST",function se(We,Vt){const Zt=LA(We,["active","final"]),Cn=m.current+x,Sr=r.size();let Eo;return Eo="final"===Zt?mb(t,c)(We,Vt):null,new _b(Cn,Sr,"final"===Zt,Eo)},t.maxUploadRetryTime);return je.headers=q,je.body=ee.uploadData(),je.progressCallback=f||null,je.errorHandler=Ym(n),je}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(l,Cc,o,c,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=jN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=GN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=fb(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=UA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,o){const c=new uL(e||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(UA(this._state)){case Vo.SUCCESS:Qm(this._resolve.bind(null,this.snapshot))();break;case Vo.CANCELED:case Vo.ERROR:Qm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(UA(this._state)){case Vo.RUNNING:case Vo.PAUSED:t.next&&Qm(t.next.bind(t,this.snapshot))();break;case Vo.SUCCESS:t.complete&&Qm(t.complete.bind(t))();break;default:t.error&&Qm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Mp{constructor(t,e){this._service=t,this._location=e instanceof Xi?e:Xi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Mp(t,e)}get root(){const t=new Xi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LN(this._location.path)}get storage(){return this._service}get parent(){const t=function y0(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Xi(this._location.bucket,t);return new Mp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw RA(t)}}function WN(n,t,e){return VA.apply(this,arguments)}function VA(){return(VA=(0,te.Z)(function*(n,t,e){const o=yield JN(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield WN(n,t,o.nextPageToken))})).apply(this,arguments)}function JN(n,t){null!=t&&"number"==typeof t.maxResults&&h("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=eL(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,Cc)}function wL(n){n._throwIfRoot("getDownloadURL");const t=function tL(n,t,e){const o=g(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Au(o,"GET",function X6(n,t){return function e(r,o){const c=UN(n,o,t);return Su(null!==c),function W6(n,t,e,r){const o=Sp(t);if(null===o||!a(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const l=encodeURIComponent;return c.split(",").map(v=>{const I=n.fullPath;return g("/b/"+l(n.bucket)+"/o/"+l(I),e,r)+y({alt:"media",token:v})})[0]}(c,o,n.host,n._protocol)}}(n,e),l);return f.errorHandler=D0(t),f}(n.storage,n._location,v0());return n.storage.makeRequestWithTokens(t,Cc).then(e=>{if(null===e)throw function PA(){return new nr(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function YN(n,t){const e=function G6(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Xi(n._location.bucket,e);return new Mp(n.storage,r)}function QN(n,t){if(n instanceof ZA){const e=n;if(null==e._bucket)throw function MN(){return new nr(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lb+"' property when initializing the app?")}();const r=new Mp(e,e._bucket);return null!=t?QN(r,t):r}return void 0!==t?YN(n,t):n}function IL(n,t){if(t&&function TL(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ZA)return function xL(n,t){return new Mp(n,t)}(n,t);throw Ip("To use ref(service, url), the first argument must be a Storage instance.")}return QN(n,t)}function XN(n,t){const e=t?.[lb];return null==e?null:Xi.makeFromBucketSpec(e,n)}class ZA{constructor(t,e,r,o,c){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=d0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Xi.makeFromBucketSpec(o,this._host):XN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Xi.makeFromBucketSpec(this._url,t):XN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){h("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){h("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,te.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,te.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mp(this,t)}_makeRequest(t,e,r,o,c=!0){if(this._deleted)return new NN(OA());{const l=function He(n,t,e,r,o,c,l=!0){const f=y(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function re(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function Z(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function W(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,c),function Te(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,r),new A(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l)}(t,this._appId,r,o,e,this._firebaseVersion,c);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var r=this;return(0,te.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,o,c).getPromise()})()}}const eP="@firebase/storage",nP="storage";function SL(n,t,e){return function KN(n,t,e){n._throwIfRoot("uploadBytes");const r=GN(n.storage,n._location,v0(),new us(t,!0),e);return n.storage.makeRequestWithTokens(r,Cc).then(o=>({metadata:o,ref:n}))}(n=(0,Ht.m9)(n),t,e)}function rP(n){return function DL(n){const t={prefixes:[],items:[]};return WN(n,t).then(()=>t)}(n=(0,Ht.m9)(n))}function iP(n){return wL(n=(0,Ht.m9)(n))}function jA(n,t){return IL(n=(0,Ht.m9)(n),t)}function FL(n=(0,Lo.getApp)(),t){n=(0,Ht.m9)(n);const r=(0,Lo._getProvider)(n,nP).getImmediate({identifier:t}),o=(0,Ht.P0)("storage");return o&&oP(r,...o),r}function oP(n,t,e,r={}){!function AL(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Ht.Sg)(o,n.app.options.projectId))}(n,t,e,r)}function LL(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ZA(e,r,o,t,Lo.SDK_VERSION)}!function UL(){(0,Lo._registerComponent)(new ed.wA(nP,LL,"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(eP,"0.11.2",""),(0,Lo.registerVersion)(eP,"0.11.2","esm2017")}();class Xm{constructor(t){return t}}const sP="storage",BA=new i.OlP("angularfire2.storage-instances");function jL(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Xm(r)}}const BL={provide:class VL{constructor(){return(0,ln.vb)(sP)}},deps:[[new i.FiY,BA]]},HL={provide:Xm,useFactory:function ZL(n,t){const e=(0,ln.JM)(sP,n,t);return e&&new Xm(e)},deps:[[new i.FiY,BA],bu]};let GL=(()=>{class n{constructor(){(0,wu.KN)("angularfire",ln.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[HL,BL]}),n})();function qL(n,...t){return{ngModule:GL,providers:[{provide:BA,useFactory:jL(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,wv,[new i.FiY,r0],[new i.FiY,xp],...t]}]}}const $L=(0,ln.u3)(iP,!0),zL=(0,ln.u3)(FL,!0),KL=(0,ln.u3)(rP,!0),aP=(0,ln.u3)(jA,!0),WL=(0,ln.u3)(SL,!0);var cP=V(4986);function HA(){return(0,oi.e)((n,t)=>{let e,r=!1;n.subscribe((0,Gn.x)(t,o=>{const c=e;e=o,r&&t.next([c,o]),r=!0}))})}function YL(n,t){return n===t}V(9568);var st,uP=V(3942),QL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ec={},GA=GA||{},Yt=QL||self;function yb(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function C0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var qA="closure_uid_"+(1e9*Math.random()>>>0),eU=0;function tU(n,t,e){return n.call.apply(n.bind,arguments)}function nU(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function _o(n,t,e){return(_o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tU:nU).apply(null,arguments)}function vb(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(r,o,c){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return t.prototype[o].apply(r,l)}}function kh(){this.s=this.s,this.o=this.o}kh.prototype.s=!1,kh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XL(n){Object.prototype.hasOwnProperty.call(n,qA)&&n[qA]||(n[qA]=++eU)}(this)},kh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lP=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function $A(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function dP(n,t){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(yb(r)){const o=n.length||0,c=r.length||0;n.length=o+c;for(let l=0;l<c;l++)n[o+l]=r[l]}else n.push(r)}}function yo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}yo.prototype.h=function(){this.defaultPrevented=!0};var iU=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",()=>{},t),Yt.removeEventListener("test",()=>{},t)}catch{}return n}();function E0(n){return/^[\s\xa0]*$/.test(n)}function Db(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Mu(n){return-1!=Db().indexOf(n)}function zA(n){return zA[" "](n),n}zA[" "]=function(){};var WA,n,sU=Mu("Opera"),e_=Mu("Trident")||Mu("MSIE"),hP=Mu("Edge"),KA=hP||e_,fP=Mu("Gecko")&&!(-1!=Db().toLowerCase().indexOf("webkit")&&!Mu("Edge"))&&!(Mu("Trident")||Mu("MSIE"))&&!Mu("Edge"),aU=-1!=Db().toLowerCase().indexOf("webkit")&&!Mu("Edge");function pP(){var n=Yt.document;return n?n.documentMode:void 0}e:{var JA="",YA=(n=Db(),fP?/rv:([^\);]+)(\)|;)/.exec(n):hP?/Edge\/([\d\.]+)/.exec(n):e_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aU?/WebKit\/(\S+)/.exec(n):sU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YA&&(JA=YA?YA[1]:""),e_){var QA=pP();if(null!=QA&&QA>parseFloat(JA)){WA=String(QA);break e}}WA=JA}var cU=Yt.document&&e_&&(pP()||parseInt(WA,10))||void 0;function w0(n,t){if(yo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(fP){e:{try{zA(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&w0.$.h.call(this)}}Fi(w0,yo);var uU={2:"touch",3:"pen",4:"mouse"};w0.prototype.h=function(){w0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var b0="closure_listenable_"+(1e6*Math.random()|0),lU=0;function dU(n,t,e,r,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.la=o,this.key=++lU,this.fa=this.ia=!1}function Cb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function eS(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function mP(n){const t={};for(const e in n)t[e]=n[e];return t}const _P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yP(n,t){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)n[e]=r[e];for(let c=0;c<_P.length;c++)e=_P[c],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Eb(n){this.src=n,this.g={},this.h=0}function tS(n,t){var e=t.type;if(e in n.g){var c,r=n.g[e],o=lP(r,t);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Cb(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function nS(n,t,e,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.fa&&c.listener==t&&c.capture==!!e&&c.la==r)return o}return-1}Eb.prototype.add=function(n,t,e,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var l=nS(n,t,r,o);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new dU(t,this.src,c,!!r,o)).ia=e,n.push(t)),t};var rS="closure_lm_"+(1e6*Math.random()|0),iS={};function vP(n,t,e,r,o){if(r&&r.once)return CP(n,t,e,r,o);if(Array.isArray(t)){for(var c=0;c<t.length;c++)vP(n,t[c],e,r,o);return null}return e=cS(e),n&&n[b0]?n.O(t,e,C0(r)?!!r.capture:!!r,o):DP(n,t,e,!1,r,o)}function DP(n,t,e,r,o,c){if(!t)throw Error("Invalid event type");var l=C0(o)?!!o.capture:!!o,f=sS(n);if(f||(n[rS]=f=new Eb(n)),(e=f.add(t,e,r,l,c)).proxy)return e;if(r=function fU(){const t=pU;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)iU||(o=l),void 0===o&&(o=!1),n.addEventListener(t.toString(),r,o);else if(n.attachEvent)n.attachEvent(wP(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function CP(n,t,e,r,o){if(Array.isArray(t)){for(var c=0;c<t.length;c++)CP(n,t[c],e,r,o);return null}return e=cS(e),n&&n[b0]?n.P(t,e,C0(r)?!!r.capture:!!r,o):DP(n,t,e,!0,r,o)}function EP(n,t,e,r,o){if(Array.isArray(t))for(var c=0;c<t.length;c++)EP(n,t[c],e,r,o);else r=C0(r)?!!r.capture:!!r,e=cS(e),n&&n[b0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=nS(c=n.g[t],e,r,o))&&(Cb(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete n.g[t],n.h--))):n&&(n=sS(n))&&(t=n.g[t.toString()],n=-1,t&&(n=nS(t,e,r,o)),(e=-1<n?t[n]:null)&&oS(e))}function oS(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[b0])tS(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(wP(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=sS(t))?(tS(e,n),0==e.h&&(e.src=null,t[rS]=null)):Cb(n)}}}function wP(n){return n in iS?iS[n]:iS[n]="on"+n}function pU(n,t){if(n.fa)n=!0;else{t=new w0(t,this);var e=n.listener,r=n.la||n.src;n.ia&&oS(n),n=e.call(r,t)}return n}function sS(n){return(n=n[rS])instanceof Eb?n:null}var aS="__closure_events_fn_"+(1e9*Math.random()>>>0);function cS(n){return"function"==typeof n?n:(n[aS]||(n[aS]=function(t){return n.handleEvent(t)}),n[aS])}function Li(){kh.call(this),this.i=new Eb(this),this.S=this,this.J=null}function eo(n,t){var e,r=n.J;if(r)for(e=[];r;r=r.J)e.push(r);if(n=n.S,r=t.type||t,"string"==typeof t)t=new yo(t,n);else if(t instanceof yo)t.target=t.target||n;else{var o=t;yP(t=new yo(r,n),o)}if(o=!0,e)for(var c=e.length-1;0<=c;c--){var l=t.g=e[c];o=wb(l,r,!0,t)&&o}if(o=wb(l=t.g=n,r,!0,t)&&o,o=wb(l,r,!1,t)&&o,e)for(c=0;c<e.length;c++)o=wb(l=t.g=e[c],r,!1,t)&&o}function wb(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,c=0;c<t.length;++c){var l=t[c];if(l&&!l.fa&&l.capture==e){var f=l.listener,m=l.la||l.src;l.ia&&tS(n.i,l),o=!1!==f.call(m,r)&&o}}return o&&!r.defaultPrevented}Fi(Li,kh),Li.prototype[b0]=!0,Li.prototype.removeEventListener=function(n,t,e,r){EP(this,n,t,e,r)},Li.prototype.N=function(){if(Li.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Cb(e[r]);delete n.g[t],n.h--}}this.J=null},Li.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Li.prototype.P=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var uS=Yt.JSON.stringify;function mU(){var n=lS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var bP=new class gU{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new yU,n=>n.reset());class yU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vU(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function DU(n){Yt.setTimeout(()=>{throw n},0)}let T0,x0=!1,lS=new class _U{constructor(){this.h=this.g=null}add(t,e){const r=bP.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}},TP=()=>{const n=Yt.Promise.resolve(void 0);T0=()=>{n.then(CU)}};var CU=()=>{for(var n;n=mU();){try{n.h.call(n.g)}catch(e){DU(e)}var t=bP;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}x0=!1};function bb(n,t){Li.call(this),this.h=n||1,this.g=t||Yt,this.j=_o(this.qb,this),this.l=Date.now()}function dS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function hS(n,t,e){if("function"==typeof n)e&&(n=_o(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_o(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function xP(n){n.g=hS(()=>{n.g=null,n.i&&(n.i=!1,xP(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Fi(bb,Li),(st=bb.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eo(this,"tick"),this.ga&&(dS(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){bb.$.N.call(this),dS(this),delete this.g};class EU extends kh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xP(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function I0(n){kh.call(this),this.h=n,this.g={}}Fi(I0,kh);var IP=[];function AP(n,t,e,r){Array.isArray(e)||(e&&(IP[0]=e.toString()),e=IP);for(var o=0;o<e.length;o++){var c=vP(t,e[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function SP(n){eS(n.g,function(t,e){this.g.hasOwnProperty(e)&&oS(t)},n),n.g={}}function Tb(){this.g=!0}function t_(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function xU(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<o.length;l++)o[l]=""}}}return uS(e)}catch{return t}}(n,e)+(r?" "+r:"")})}I0.prototype.N=function(){I0.$.N.call(this),SP(this)},I0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tb.prototype.Ea=function(){this.g=!1},Tb.prototype.info=function(){};var kp={},MP=null;function xb(){return MP=MP||new Li}function kP(n){yo.call(this,kp.Ta,n)}function A0(n){const t=xb();eo(t,new kP(t))}function NP(n,t){yo.call(this,kp.STAT_EVENT,n),this.stat=t}function Zo(n){const t=xb();eo(t,new NP(t,n))}function PP(n,t){yo.call(this,kp.Ua,n),this.size=t}function S0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}kp.Ta="serverreachability",Fi(kP,yo),kp.STAT_EVENT="statevent",Fi(NP,yo),kp.Ua="timingevent",Fi(PP,yo);var Ib={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fS(){}function FP(){}fS.prototype.h=null;var mS,M0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pS(){yo.call(this,"d")}function gS(){yo.call(this,"c")}function Ab(){}function k0(n,t,e,r){this.l=n,this.j=t,this.m=e,this.W=r||1,this.U=new I0(this),this.P=IU,this.V=new bb(n=KA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LP}function LP(){this.i=null,this.g="",this.h=!1}Fi(pS,yo),Fi(gS,yo),Fi(Ab,fS),Ab.prototype.g=function(){return new XMLHttpRequest},Ab.prototype.i=function(){return{}},mS=new Ab;var IU=45e3,_S={},Sb={};function yS(n,t,e){n.L=1,n.v=Pb(rd(t)),n.s=e,n.S=!0,UP(n,null)}function UP(n,t){n.G=Date.now(),N0(n),n.A=rd(n.v);var e=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),KP(e.i,"t",r),n.C=0,e=n.l.J,n.h=new LP,n.g=yO(n.l,e?t:null,!n.s),0<n.O&&(n.M=new EU(_o(n.Pa,n,n.g),n.O)),AP(n.U,n.g,"readystatechange",n.nb),t=n.I?mP(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),A0(),function wU(n,t,e,r,o,c){n.info(function(){if(n.g)if(c)for(var l="",f=c.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var x=v[0];v=v[1];var I=x.split("_");l=2<=I.length&&"type"==I[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function VP(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ZP(n,t,e){let o,r=!0;for(;!n.J&&n.C<e.length;){if(o=AU(n,e),o==Sb){4==t&&(n.o=4,Zo(14),r=!1),t_(n.j,n.m,null,"[Incomplete Response]");break}if(o==_S){n.o=4,Zo(15),t_(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}t_(n.j,n.m,o,null),vS(n,o)}VP(n)&&o!=Sb&&o!=_S&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Zo(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),xS(t),t.M=!0,Zo(11))):(t_(n.j,n.m,e,"[Invalid Chunked Response]"),Np(n),P0(n))}function AU(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Sb:(e=Number(t.substring(e,r)),isNaN(e)?_S:(r+=1)+e>t.length?Sb:(t=t.slice(r,r+e),n.C=r+e,t))}function N0(n){n.Y=Date.now()+n.P,jP(n,n.P)}function jP(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=S0(_o(n.lb,n),t)}function Mb(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function P0(n){0==n.l.H||n.J||pO(n.l,n)}function Np(n){Mb(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,dS(n.V),SP(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function vS(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||DS(e.i,n)))if(!n.K&&DS(e.i,n)&&3==e.H){try{var r=e.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Vb(e),Lb(e)}TS(e),Zo(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=S0(_o(e.ib,e),6e3));if(1>=YP(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Op(e,11)}else if((n.K||e.g==n)&&Vb(e),!E0(t))for(o=e.Ja.g.parse(t),t=0;t<o.length;t++){let v=o[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.K=v[1],e.pa=v[2];const x=v[3];null!=x&&(e.ra=x,e.l.info("VER="+e.ra));const I=v[4];null!=I&&(e.Ga=I,e.l.info("SVER="+e.Ga));const F=v[5];null!=F&&"number"==typeof F&&0<F&&(e.L=r=1.5*F,e.l.info("backChannelRequestTimeoutMs_="+r)),r=e;const j=n.g;if(j){const q=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var c=r.i;c.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(CS(c,c.h),c.h=null))}if(r.F){const ee=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.Da=ee,lr(r.I,r.F,ee))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((r=e).wa=_O(r,r.J?r.pa:null,r.Y),l.K){QP(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(Mb(f),N0(f)),r.g=l}else hO(r);0<e.j.length&&Ub(e)}else"stop"!=v[0]&&"close"!=v[0]||Op(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Op(e,7):bS(e):"noop"!=v[0]&&e.h&&e.h.Aa(v),e.A=0)}A0()}catch{}}function BP(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(yb(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function MU(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yb(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const r in n)t[e++]=r;return t}}}(n),r=function SU(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yb(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),o=r.length,c=0;c<o;c++)t.call(void 0,r[c],e&&e[c],n)}(st=k0.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const t=this.M;t&&3==ku(n)?t.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const x=ku(this.g);var t=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||KA||this.g&&(this.h.h||this.g.ja()||sO(this.g)))){this.J||4!=x||7==t||A0(),Mb(this);var e=this.g.da();this.ca=e;t:if(VP(this)){var r=sO(this.g);n="";var o=r.length,c=4==ku(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Np(this),P0(this);var l="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:c&&t==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function bU(n,t,e,r,o,c,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+c+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E0(f)){var v=f;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Zo(12),Np(this),P0(this);break e}t_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vS(this,e)}this.S?(ZP(this,x,l),KA&&this.i&&3==x&&(AP(this.U,this.V,"tick",this.mb),this.V.start())):(t_(this.j,this.m,l,null),vS(this,l)),4==x&&Np(this),this.i&&!this.J&&(4==x?pO(this.l,this):(this.i=!1,N0(this)))}else(function KU(n){const t={};n=(n.g&&2<=ku(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(E0(n[r]))continue;var e=vU(n[r]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const c=t[o]||[];t[o]=c,c.push(e)}!function hU(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(r){return r.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Zo(12)):(this.o=0,Zo(13)),Np(this),P0(this)}}}catch{}},st.mb=function(){if(this.g){var n=ku(this.g),t=this.g.ja();this.C<t.length&&(Mb(this),ZP(this,n,t),this.i&&4!=n&&N0(this))}},st.cancel=function(){this.J=!0,Np(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function TU(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(A0(),Zo(17)),Np(this),this.o=2,P0(this)):jP(this,this.Y-n)};var HP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pp){this.h=n.h,kb(this,n.j),this.s=n.s,this.g=n.g,Nb(this,n.m),this.l=n.l;var t=n.i,e=new F0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),GP(this,e),this.o=n.o}else n&&(t=String(n).match(HP))?(this.h=!1,kb(this,t[1]||"",!0),this.s=O0(t[2]||""),this.g=O0(t[3]||"",!0),Nb(this,t[4]),this.l=O0(t[5]||"",!0),GP(this,t[6]||"",!0),this.o=O0(t[7]||"")):(this.h=!1,this.i=new F0(null,this.h))}function rd(n){return new Pp(n)}function kb(n,t,e){n.j=e?O0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Nb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GP(n,t,e){t instanceof F0?(n.i=t,function LU(n,t){t&&!n.j&&(Nh(n),n.i=null,n.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&($P(this,r),KP(this,o,e))},n)),n.j=t}(n.i,n.h)):(e||(t=R0(t,RU)),n.i=new F0(t,n.h))}function lr(n,t,e){n.i.set(t,e)}function Pb(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function O0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function R0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,NU),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(R0(t,qP,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(R0(t,qP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(R0(e,"/"==e.charAt(0)?OU:PU,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",R0(e,FU)),n.join("")};var qP=/[#\/\?@]/g,PU=/[#\?:]/g,OU=/[#\?]/g,RU=/[#\?@]/g,FU=/#/g;function F0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Nh(n){n.g||(n.g=new Map,n.h=0,n.i&&function kU(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),o=null;if(0<=r){var c=n[e].substring(0,r);o=n[e].substring(r+1)}else c=n[e];t(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function $P(n,t){Nh(n),t=n_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function zP(n,t){return Nh(n),t=n_(n,t),n.g.has(t)}function KP(n,t,e){$P(n,t),0<e.length&&(n.i=null,n.g.set(n_(n,t),$A(e)),n.h+=e.length)}function n_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function WP(n){this.l=n||VU,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=F0.prototype).add=function(n,t){Nh(this),this.i=null,n=n_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){Nh(this),this.g.forEach(function(e,r){e.forEach(function(o){n.call(t,o,r,this)},this)},this)},st.ta=function(){Nh(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let r=0;r<t.length;r++){const o=n[r];for(let c=0;c<o.length;c++)e.push(t[r])}return e},st.Z=function(n){Nh(this);let t=[];if("string"==typeof n)zP(this,n)&&(t=t.concat(this.g.get(n_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},st.set=function(n,t){return Nh(this),this.i=null,zP(this,n=n_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var r=t[e];const c=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=c;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var VU=10;function JP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YP(n){return n.h?1:n.g?n.g.size:0}function DS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function CS(n,t){n.g?n.g.add(t):n.h=t}function QP(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function XP(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return $A(n.i)}function jU(){this.g=new class{stringify(n){return Yt.JSON.stringify(n,void 0)}parse(n){return Yt.JSON.parse(n,void 0)}}}function BU(n,t,e){const r=e||"";try{BP(n,function(o,c){let l=o;C0(o)&&(l=uS(o)),t.push(r+c+"="+encodeURIComponent(l))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ob(n,t,e,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function L0(n){this.l=n.fc||null,this.j=n.ob||!1}function Rb(n,t){Li.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=ES,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WP.prototype.cancel=function(){if(this.i=XP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fi(L0,fS),L0.prototype.g=function(){return new Rb(this.l,this.j)},L0.prototype.i=function(n){return function(){return n}}({}),Fi(Rb,Li);var ES=0;function eO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function U0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,V0(n)}function V0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Rb.prototype).open=function(n,t){if(this.readyState!=ES)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,V0(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Yt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U0(this)),this.readyState=ES},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,V0(this)),this.g&&(this.readyState=3,V0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?U0(this):V0(this),3==this.readyState&&eO(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,U0(this))},st.Ya=function(n){this.g&&(this.response=n,U0(this))},st.ka=function(){this.g&&U0(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Rb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GU=Yt.JSON.parse;function Ur(n){Li.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tO,this.L=this.M=!1}Fi(Ur,Li);var tO="",qU=/^https?$/i,$U=["POST","PUT"];function nO(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,rO(n),Fb(n)}function rO(n){n.F||(n.F=!0,eo(n,"complete"),eo(n,"error"))}function iO(n){if(n.h&&typeof GA<"u"&&(!n.C[1]||4!=ku(n)||2!=n.da()))if(n.v&&4==ku(n))hS(n.La,0,n);else if(eo(n,"readystatechange"),4==ku(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===l){var o=String(n.I).match(HP)[1]||null;!o&&Yt.self&&Yt.self.location&&(o=Yt.self.location.protocol.slice(0,-1)),r=!qU.test(o?o.toLowerCase():"")}e=r}if(e)eo(n,"complete"),eo(n,"success");else{n.m=6;try{var c=2<ku(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",rO(n)}}finally{Fb(n)}}}function Fb(n,t){if(n.g){oO(n);const e=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||eo(n,"ready");try{e.onreadystatechange=r}catch{}}}function oO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function ku(n){return n.g?n.g.readyState:0}function sO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aO(n){let t="";return eS(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function wS(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=aO(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):lr(n,t,e))}function Z0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function cO(n){this.Ga=0,this.j=[],this.l=new Tb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Z0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Z0("baseRetryDelayMs",5e3,n),this.hb=Z0("retryDelaySeedMs",1e4,n),this.eb=Z0("forwardChannelMaxRetries",2,n),this.xa=Z0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new WP(n&&n.concurrentRequestLimit),this.Ja=new jU,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bS(n){if(uO(n),3==n.H){var t=n.W++,e=rd(n.I);if(lr(e,"SID",n.K),lr(e,"RID",t),lr(e,"TYPE","terminate"),j0(n,e),(t=new k0(n,n.l,t)).L=2,t.v=Pb(rd(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon)try{e=Yt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=yO(t.l,null),t.g.ha(t.v)),t.G=Date.now(),N0(t)}mO(n)}function Lb(n){n.g&&(xS(n),n.g.cancel(),n.g=null)}function uO(n){Lb(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),Vb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function Ub(n){if(!JP(n.i)&&!n.m){n.m=!0;var t=n.Na;T0||TP(),x0||(T0(),x0=!0),lS.add(t,n),n.C=0}}function lO(n,t){var e;e=t?t.m:n.W++;const r=rd(n.I);lr(r,"SID",n.K),lr(r,"RID",e),lr(r,"AID",n.V),j0(n,r),n.o&&n.s&&wS(r,n.o,n.s),e=new k0(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=dO(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),CS(n.i,e),yS(e,r,t)}function j0(n,t){n.na&&eS(n.na,function(e,r){lr(t,r,e)}),n.h&&BP({},function(e,r){lr(t,r,e)})}function dO(n,t,e){e=Math.min(n.j.length,e);var r=n.h?_o(n.h.Va,n.h,n):null;e:{var o=n.j;let c=-1;for(;;){const l=["count="+e];-1==c?0<e?(c=o[0].g,l.push("ofs="+c)):c=0:l.push("ofs="+c);let f=!0;for(let m=0;m<e;m++){let v=o[m].g;const x=o[m].map;if(v-=c,0>v)c=Math.max(0,o[m].g-100),f=!1;else try{BU(x,l,"req"+v+"_")}catch{r&&r(x)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,r}function hO(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;T0||TP(),x0||(T0(),x0=!0),lS.add(t,n),n.A=0}}function TS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=S0(_o(n.Ma,n),gO(n,n.A)),n.A++,0))}function xS(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function fO(n){n.g=new k0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=rd(n.wa);lr(t,"RID","rpc"),lr(t,"SID",n.K),lr(t,"AID",n.V),lr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&lr(t,"TO",n.qa),lr(t,"TYPE","xmlhttp"),j0(n,t),n.o&&n.s&&wS(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=Pb(rd(t)),e.s=null,e.S=!0,UP(e,n)}function Vb(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function pO(n,t){var e=null;if(n.g==t){Vb(n),xS(n),n.g=null;var r=2}else{if(!DS(n.i,t))return;e=t.F,QP(n.i,t),r=1}if(0!=n.H)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.G;var o=n.C;eo(r=xb(),new PP(r,e)),Ub(n)}else hO(n);else if(3==(o=t.o)||0==o&&0<t.ca||!(1==r&&function WU(n,t){return!(YP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=S0(_o(n.Na,n,t),gO(n,n.C)),n.C++,0)))}(n,t)||2==r&&TS(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:Op(n,5);break;case 4:Op(n,10);break;case 3:Op(n,6);break;default:Op(n,2)}}function gO(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Op(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var r=_o(n.pb,n);e||(e=new Pp("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||kb(e,"https"),Pb(e)),function HU(n,t){const e=new Tb;if(Yt.Image){const r=new Image;r.onload=vb(Ob,e,r,"TestLoadImage: loaded",!0,t),r.onerror=vb(Ob,e,r,"TestLoadImage: error",!1,t),r.onabort=vb(Ob,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=vb(Ob,e,r,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Zo(2);n.H=0,n.h&&n.h.za(t),mO(n),uO(n)}function mO(n){if(n.H=0,n.ma=[],n.h){const t=XP(n.i);(0!=t.length||0!=n.j.length)&&(dP(n.ma,t),dP(n.ma,n.j),n.i.i.length=0,$A(n.j),n.j.length=0),n.h.ya()}}function _O(n,t,e){var r=e instanceof Pp?rd(e):new Pp(e);if(""!=r.g)t&&(r.g=t+"."+r.g),Nb(r,r.m);else{var o=Yt.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var c=new Pp(null);r&&kb(c,r),t&&(c.g=t),o&&Nb(c,o),e&&(c.l=e),r=c}return t=n.Da,(e=n.F)&&t&&lr(r,e,t),lr(r,"VER",n.ra),j0(n,r),r}function yO(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ur(e&&n.Ha&&!n.va?new L0({ob:!0}):n.va)).Oa(n.J),t}function vO(){}function Zb(){if(e_&&!(10<=Number(cU)))throw Error("Environmental error: no available transport.")}function Ls(n,t){Li.call(this),this.g=new cO(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!E0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E0(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new r_(this)}function DO(n){pS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function CO(){gS.call(this),this.status=1}function r_(n){this.g=n}function wc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function IS(n,t,e){e||(e=0);var r=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(o=0;16>o;++o)r[o]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var c=n.g[3],l=(t=n.g[0])+(c^(e=n.g[1])&((o=n.g[2])^c))+r[0]+3614090360&4294967295;l=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=(e=(o=(c=(t=e+(l<<7&4294967295|l>>>25))+((l=c+(o^t&(e^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^c&(t^e))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(c^t))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(c^e&(o^c))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^t&(e^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^c&(t^e))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(c^t))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(c^e&(o^c))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^t&(e^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^c&(t^e))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(c^t))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(c^e&(o^c))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=c+(o^t&(e^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^c&(t^e))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(c^t))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^c&(e^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=c+(e^o&(t^e))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(c^t))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(c^t&(o^c))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^c&(e^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=c+(e^o&(t^e))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(c^t))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(c^t&(o^c))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^c&(e^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=c+(e^o&(t^e))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(c^t))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(c^t&(o^c))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^c&(e^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=c+(e^o&(t^e))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(c^t))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(c^t&(o^c))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^o^c)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=c+(t^e^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^t^e)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^c^t)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^c)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=c+(t^e^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^t^e)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^c^t)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^c)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=c+(t^e^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^t^e)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^c^t)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^c)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=c+(t^e^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(c^t^e)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^c^t)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(o^(e|~c))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=c+(e^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(c|~e))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(c^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(o^(e|~c))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=c+(e^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(c|~e))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(c^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(o^(e|~c))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=c+(e^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(c|~e))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(c^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((c=(t=e+((l=t+(o^(e|~c))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=c+(e^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=c+((l=o+(t^(c|~e))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+c&4294967295}function Un(n,t){this.h=t;for(var e=[],r=!0,o=n.length-1;0<=o;o--){var c=0|n[o];r&&c==t||(e[o]=c,r=!1)}this.g=e}(st=Ur.prototype).Oa=function(n){this.M=n},st.ha=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mS.g(),this.C=function RP(n){return n.h||(n.h=n.i())}(this.u?this.u:mS),this.g.onreadystatechange=_o(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(c){return void nO(this,c)}if(n=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)e.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())e.set(c,r.get(c))}r=Array.from(e.keys()).find(c=>"content-type"==c.toLowerCase()),o=Yt.FormData&&n instanceof Yt.FormData,!(0<=lP($U,t))||r||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,l]of e)this.g.setRequestHeader(c,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oO(this),0<this.B&&((this.L=function zU(n){return e_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_o(this.ua,this)):this.A=hS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){nO(this,c)}},st.ua=function(){typeof GA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,eo(this,"complete"),eo(this,"abort"),Fb(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fb(this,!0)),Ur.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?iO(this):this.kb())},st.kb=function(){iO(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<ku(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),GU(t)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=cO.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new k0(this,this.l,n);let c=this.s;if(this.U&&(c?(c=mP(c),yP(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var r=this.j[e];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dO(this,o,t),lr(e=rd(this.I),"RID",n),lr(e,"CVER",22),this.F&&lr(e,"X-HTTP-Session-Id",this.F),j0(this,e),c&&(this.O?t="headers="+encodeURIComponent(String(aO(c)))+"&"+t:this.o&&wS(e,this.o,c)),CS(this.i,o),this.bb&&lr(e,"TYPE","init"),this.P?(lr(e,"$req",t),lr(e,"SID","null"),o.aa=!0,yS(o,e,null)):yS(o,e,t),this.H=2}}else 3==this.H&&(n?lO(this,n):0==this.j.length||JP(this.i)||lO(this))},st.Ma=function(){if(this.u=null,fO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=S0(_o(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zo(10),Lb(this),fO(this))},st.ib=function(){null!=this.v&&(this.v=null,Lb(this),TS(this),Zo(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Zo(2)):(this.l.info("Failed to ping google.com"),Zo(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=vO.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},Zb.prototype.g=function(n,t){return new Ls(n,t)},Fi(Ls,Li),Ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Zo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=_O(n,null,n.Y),Ub(n)},Ls.prototype.close=function(){bS(this.g)},Ls.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=uS(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Ub(t)},Ls.prototype.N=function(){this.g.h=null,delete this.j,bS(this.g),delete this.g,Ls.$.N.call(this)},Fi(DO,pS),Fi(CO,gS),Fi(r_,vO),r_.prototype.Ba=function(){eo(this.g,"a")},r_.prototype.Aa=function(n){eo(this.g,new DO(n))},r_.prototype.za=function(n){eo(this.g,new CO)},r_.prototype.ya=function(){eo(this.g,"b")},Fi(wc,function JU(){this.blockSize=-1}),wc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wc.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,r=this.m,o=this.h,c=0;c<t;){if(0==o)for(;c<=e;)IS(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<t;)if(r[o++]=n.charCodeAt(c++),o==this.blockSize){IS(this,r),o=0;break}}else for(;c<t;)if(r[o++]=n[c++],o==this.blockSize){IS(this,r),o=0;break}}this.h=o,this.i+=t},wc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var r=0;32>r;r+=8)n[e++]=this.g[t]>>>r&255;return n};var YU={};function AS(n){return-128<=n&&128>n?function oU(n,t){var e=YU;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Un([0|t],0>t?-1:0)}):new Un([0|n],0>n?-1:0)}function Nu(n){if(isNaN(n)||!isFinite(n))return i_;if(0>n)return to(Nu(-n));for(var t=[],e=1,r=0;n>=e;r++)t[r]=n/e|0,e*=SS;return new Un(t,0)}var SS=4294967296,i_=AS(0),MS=AS(1),wO=AS(16777216);function id(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ea(n){return-1==n.h}function to(n){for(var t=n.g.length,e=[],r=0;r<t;r++)e[r]=~n.g[r];return new Un(e,~n.h).add(MS)}function jb(n,t){return n.add(to(t))}function Bb(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function B0(n,t){this.g=n,this.h=t}function Hb(n,t){if(id(t))throw Error("division by zero");if(id(n))return new B0(i_,i_);if(Ea(n))return t=Hb(to(n),t),new B0(to(t.g),to(t.h));if(Ea(t))return t=Hb(n,to(t)),new B0(to(t.g),t.h);if(30<n.g.length){if(Ea(n)||Ea(t))throw Error("slowDivide_ only works with positive integers.");for(var e=MS,r=t;0>=r.X(n);)e=bO(e),r=bO(r);var o=o_(e,1),c=o_(r,1);for(r=o_(r,2),e=o_(e,2);!id(r);){var l=c.add(r);0>=l.X(n)&&(o=o.add(e),c=l),r=o_(r,1),e=o_(e,1)}return t=jb(n,o.R(t)),new B0(o,t)}for(o=i_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,r-48),l=(c=Nu(e)).R(t);Ea(l)||0<l.X(n);)l=(c=Nu(e-=r)).R(t);id(c)&&(c=MS),o=o.add(c),n=jb(n,l)}return new B0(o,n)}function bO(n){for(var t=n.g.length+1,e=[],r=0;r<t;r++)e[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Un(e,n.h)}function o_(n,t){var e=t>>5;t%=32;for(var r=n.g.length-e,o=[],c=0;c<r;c++)o[c]=0<t?n.D(c+e)>>>t|n.D(c+e+1)<<32-t:n.D(c+e);return new Un(o,n.h)}(st=Un.prototype).ea=function(){if(Ea(this))return-to(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var r=this.D(e);n+=(0<=r?r:SS+r)*t,t*=SS}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(id(this))return"0";if(Ea(this))return"-"+to(this).toString(n);for(var t=Nu(Math.pow(n,6)),e=this,r="";;){var o=Hb(e,t).g,c=((0<(e=jb(e,o.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(id(e=o))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return Ea(n=jb(this,n))?-1:id(n)?0:1},st.abs=function(){return Ea(this)?to(this):this},st.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0,o=0;o<=t;o++){var c=r+(65535&this.D(o))+(65535&n.D(o)),l=(c>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,e[o]=(l&=65535)<<16|(c&=65535)}return new Un(e,-2147483648&e[e.length-1]?-1:0)},st.R=function(n){if(id(this)||id(n))return i_;if(Ea(this))return Ea(n)?to(this).R(to(n)):to(to(this).R(n));if(Ea(n))return to(this.R(to(n)));if(0>this.X(wO)&&0>n.X(wO))return Nu(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],r=0;r<2*t;r++)e[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var c=this.D(r)>>>16,l=65535&this.D(r),f=n.D(o)>>>16,m=65535&n.D(o);e[2*r+2*o]+=l*m,Bb(e,2*r+2*o),e[2*r+2*o+1]+=c*m,Bb(e,2*r+2*o+1),e[2*r+2*o+1]+=l*f,Bb(e,2*r+2*o+1),e[2*r+2*o+2]+=c*f,Bb(e,2*r+2*o+2)}for(r=0;r<t;r++)e[r]=e[2*r+1]<<16|e[2*r];for(r=t;r<2*t;r++)e[r]=0;return new Un(e,0)},st.gb=function(n){return Hb(this,n).h},st.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)&n.D(r);return new Un(e,this.h&n.h)},st.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)|n.D(r);return new Un(e,this.h|n.h)},st.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)^n.D(r);return new Un(e,this.h^n.h)},Zb.prototype.createWebChannel=Zb.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,Ib.NO_ERROR=0,Ib.TIMEOUT=8,Ib.HTTP_ERROR=6,OP.COMPLETE="complete",FP.EventType=M0,M0.OPEN="a",M0.CLOSE="b",M0.ERROR="c",M0.MESSAGE="d",Li.prototype.listen=Li.prototype.O,Ur.prototype.listenOnce=Ur.prototype.P,Ur.prototype.getLastError=Ur.prototype.Sa,Ur.prototype.getLastErrorCode=Ur.prototype.Ia,Ur.prototype.getStatus=Ur.prototype.da,Ur.prototype.getResponseJson=Ur.prototype.Wa,Ur.prototype.getResponseText=Ur.prototype.ja,Ur.prototype.send=Ur.prototype.ha,Ur.prototype.setWithCredentials=Ur.prototype.Oa,wc.prototype.digest=wc.prototype.l,wc.prototype.reset=wc.prototype.reset,wc.prototype.update=wc.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=Nu,Un.fromString=function EO(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return to(EO(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Nu(Math.pow(t,8)),r=i_,o=0;o<n.length;o+=8){var c=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+c),t);8>c?(c=Nu(Math.pow(t,c)),r=r.R(c).add(Nu(l))):r=(r=r.R(e)).add(Nu(l))}return r};var QU=Ec.createWebChannelTransport=function(){return new Zb},XU=Ec.getStatEventTarget=function(){return xb()},kS=Ec.ErrorCode=Ib,eV=Ec.EventType=OP,tV=Ec.Event=kp,TO=Ec.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nV=Ec.FetchXmlHttpFactory=L0,Gb=Ec.WebChannel=FP,rV=Ec.XhrIo=Ur,iV=Ec.Md5=wc,s_=Ec.Integer=Un;const xO="@firebase/firestore";class Ui{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let a_="9.23.0";const Ph=new Dc.Yd("@firebase/firestore");function NS(){return Ph.logLevel}function Ze(n,...t){if(Ph.logLevel<=Dc.in.DEBUG){const e=t.map(PS);Ph.debug(`Firestore (${a_}): ${n}`,...e)}}function Kr(n,...t){if(Ph.logLevel<=Dc.in.ERROR){const e=t.map(PS);Ph.error(`Firestore (${a_}): ${n}`,...e)}}function wa(n,...t){if(Ph.logLevel<=Dc.in.WARN){const e=t.map(PS);Ph.warn(`Firestore (${a_}): ${n}`,...e)}}function PS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: `+n;throw Kr(t),new Error(t)}function Tt(n,t){n||ft()}function ot(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ht.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class IO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ui.UNAUTHENTICATED))}shutdown(){}}class cV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class uV{constructor(t){this.t=t,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const c=v=>this.i!==o?(o=this.i,e(v)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,t.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const v=l;t.enqueueRetryable((0,te.Z)(function*(){yield v.promise,yield c(r.currentUser)}))},m=v=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new IO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new Ui(t)}}class lV{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dV{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new lV(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hV{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const r=c=>{null!=c.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const l=c.token!==this.T;return this.T=c.token,Ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const o=c=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?o(c):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),this.T=e.token,new AO(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class SO{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=fV(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<e&&(r+=t.charAt(o[c]%t.length))}return r}}function Jt(n,t){return n<t?-1:n>t?1:0}function c_(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}function MO(n){return n+"\0"}class wr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wr.fromMillis(Date.now())}static fromDate(t){return wr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new wr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new wr(0,0))}static max(){return new It(new wr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class H0{constructor(t,e,r){void 0===e?e=0:e>t.length&&ft(),void 0===r?r=t.length-e:r>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===H0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof H0?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const c=t.get(o),l=e.get(o);if(c<l)return-1;if(c>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bn extends H0{construct(t,e,r){return new bn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const pV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends H0{construct(t,e,r){return new Vr(t,e,r)}static isValidIdentifier(t){return pV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let l=!1;for(;o<t.length;){const f=t[o];if("\\"===f){if(o+1===t.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(r+=f,o++):(c(),o++)}if(c(),l)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vr(e)}static emptyPath(){return new Vr([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(bn.fromString(t))}static fromName(t){return new rt(bn.fromString(t).popFirst(5))}static empty(){return new rt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new bn(t.slice()))}}class qb{constructor(t,e,r,o){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=o}}function OS(n){return n.fields.find(t=>2===t.kind)}function Rp(n){return n.fields.filter(t=>2!==t.kind)}qb.UNKNOWN_ID=-1;class $b{constructor(t,e){this.fieldPath=t,this.kind=e}}class G0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new G0(0,Us.min())}}function kO(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=It.fromTimestamp(1e9===r?new wr(e+1,0):new wr(e,r));return new Us(o,rt.empty(),t)}function NO(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Us(It.min(),rt.empty(),-1)}static max(){return new Us(It.max(),rt.empty(),-1)}}function RS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:Jt(n.largestBatchId,t.largestBatchId))}const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Oh(n){return FS.apply(this,arguments)}function FS(){return FS=(0,te.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==PO)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),FS.apply(this,arguments)}class ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ue((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ue?e:ue.resolve(e)}catch(e){return ue.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.reject(e)}static resolve(t){return new ue((e,r)=>{e(t)})}static reject(t){return new ue((e,r)=>{r(t)})}static waitFor(t){return new ue((e,r)=>{let o=0,c=0,l=!1;t.forEach(f=>{++o,f.next(()=>{++c,l&&c===o&&e()},m=>r(m))}),l=!0,c===o&&e()})}static or(t){let e=ue.resolve(!1);for(const r of t)e=e.next(o=>o?ue.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,c)=>{r.push(e.call(this,o,c))}),this.waitFor(r)}static mapArray(t,e){return new ue((r,o)=>{const c=t.length,l=new Array(c);let f=0;for(let m=0;m<c;m++){const v=m;e(t[v]).next(x=>{l[v]=x,++f,f===c&&r(l)},x=>o(x))}})}static doWhile(t,e){return new ue((r,o)=>{const c=()=>{!0===t()?e().next(()=>{c()},o):r()};c()})}}class zb{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new wi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new q0(t,e.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=LS(r.target.error);this.v.reject(new q0(t,o))}}static open(t,e,r,o){try{return new zb(e,t.transaction(o,r))}catch(c){throw new q0(e,c)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new yV(e)}}class bc{constructor(t,e,r){this.name=t,this.version=e,this.V=r,12.2===bc.S((0,Ht.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ze("SimpleDb","Removing database:",t),Fp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ht.hl)())return!1;if(bc.C())return!0;const t=(0,Ht.z$)(),e=bc.S(t),r=0<e&&e<10,o=bc.N(t),c=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||c)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(t){var e=this;return(0,te.Z)(function*(){return e.db||(Ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const c=indexedDB.open(e.name,e.version);c.onsuccess=l=>{r(l.target.result)},c.onblocked=()=>{o(new q0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=l=>{const f=l.target.error;o("VersionError"===f.name?new Re(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new q0(t,f))},c.onupgradeneeded=l=>{Ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,c.transaction,l.oldVersion,e.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=r=>e.F(r)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,o){var c=this;return(0,te.Z)(function*(){const l="readonly"===e;let f=0;for(;;){++f;try{c.db=yield c.$(t);const m=zb.open(c.db,t,l?"readonly":"readwrite",r),v=o(m).next(x=>(m.P(),x)).catch(x=>(m.abort(x),ue.reject(x))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,x="FirebaseError"!==v.name&&f<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),c.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _V{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Fp(this.L.delete())}}class q0 extends Re{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rh(n){return"IndexedDbTransactionError"===n.name}class yV{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Ze("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Fp(r)}add(t){return Ze("SimpleDb","ADD",this.store.name,t,t),Fp(this.store.add(t))}get(t){return Fp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ze("SimpleDb","DELETE",this.store.name,t),Fp(this.store.delete(t))}count(){return Ze("SimpleDb","COUNT",this.store.name),Fp(this.store.count())}j(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.W(o,(l,f)=>{c.push(f)}).next(()=>c)}{const o=this.store.getAll(r.range);return new ue((c,l)=>{o.onerror=f=>{l(f.target.error)},o.onsuccess=f=>{c(f.target.result)}})}}H(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new ue((o,c)=>{r.onerror=l=>{c(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(t,e){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Y=!1;const o=this.cursor(r);return this.W(o,(c,l,f)=>f.delete())}X(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.W(o,e)}Z(t){const e=this.cursor({});return new ue((r,o)=>{e.onerror=c=>{const l=LS(c.target.error);o(l)},e.onsuccess=c=>{const l=c.target.result;l?t(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(t,e){const r=[];return new ue((o,c)=>{t.onerror=l=>{c(l.target.error)},t.onsuccess=l=>{const f=l.target.result;if(!f)return void o();const m=new _V(f),v=e(f.primaryKey,f.value,m);if(v instanceof ue){const x=v.catch(I=>(m.done(),ue.reject(I)));r.push(x)}m.isDone?o():null===m.K?f.continue():f.continue(m.K)}}).next(()=>ue.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Fp(n){return new ue((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const o=LS(r.target.error);e(o)}})}let RO=!1;function LS(n){const t=bc.S((0,Ht.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RO||(RO=!0,setTimeout(()=>{throw r},0)),r}}return n}class vV{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ze("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,te.Z)(function*(){e.task=null;try{Ze("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(r){Rh(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Oh(r)}yield e.et(6e4)}))}}class DV{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,te.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))})()}st(t,e){const r=new Set;let o=e,c=!0;return ue.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!r.has(l))return Ze("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,o).next(f=>{o-=f,r.add(l)});c=!1})).next(()=>e-o)}it(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(o=>this.localStore.localDocuments.getNextDocuments(t,e,o,r).next(c=>{const l=c.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(o,c)).next(f=>(Ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>l.size)}))}rt(t,e){let r=t;return e.changes.forEach((o,c)=>{const l=NO(c);RS(l,r)>0&&(r=l)}),new Us(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Vs=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function $0(n){return null==n}function z0(n){return 0===n&&1/n==-1/0}function FO(n){return"number"==typeof n&&Number.isInteger(n)&&!z0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=LO(t)),t=CV(n.get(e),t);return LO(t)}function CV(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function LO(n){return n+"\x01\x01"}function Pu(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const e=t-2,r=[];let o="";for(let c=0;c<t;){const l=n.indexOf("\x01",c);switch((l<0||l>e)&&ft(),n.charAt(l+1)){case"\x01":const f=n.substring(c,l);let m;0===o.length?m=f:(o+=f,m=o,o=""),r.push(m);break;case"\x10":o+=n.substring(c,l),o+="\0";break;case"\x11":o+=n.substring(c,l+1);break;default:ft()}c=l+2}return new bn(r)}const UO=["userId","batchId"];function Kb(n,t){return[n,vo(t)]}function VO(n,t,e){return[n,vo(t),e]}const EV={},wV=["prefixPath","collectionGroup","readTime","documentId"],bV=["prefixPath","collectionGroup","documentId"],TV=["collectionGroup","readTime","prefixPath","documentId"],xV=["canonicalId","targetId"],IV=["targetId","path"],AV=["path","targetId"],SV=["collectionId","parent"],MV=["indexId","uid"],kV=["uid","sequenceNumber"],NV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PV=["indexId","uid","orderedDocumentKey"],OV=["userId","collectionPath","documentId"],RV=["userId","collectionPath","largestBatchId"],FV=["userId","collectionGroup","largestBatchId"],ZO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LV=[...ZO,"documentOverlays"],jO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BO=jO,UV=[...BO,"indexConfiguration","indexState","indexEntries"];class US extends OO{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Vi(n,t){const e=ot(n);return bc.M(e.ht,t)}function HO(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function GO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class rr{constructor(t,e){this.comparator=t,this.root=e||no.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,no.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,no.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wb(this.root,t,this.comparator,!0)}}class Wb{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,e&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class no{constructor(t,e,r,o,c){this.key=t,this.value=e,this.color=r??no.RED,this.left=o??no.EMPTY,this.right=c??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,c){return new no(t??this.key,e??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===c?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return no.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,r,o){return this}insert(n,t,e){return new no(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qO(this.data.getIterator())}getIteratorFrom(t){return new qO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof dr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new dr(this.comparator);return e.data=t,e}}class qO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function u_(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(t){this.fields=t,t.sort(Vr.comparator)}static empty(){return new ls([])}unionWith(t){let e=new dr(Vr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ls(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return c_(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class $O extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $O("Invalid base64 string: "+o):o}}(t);return new bi(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new bi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const ZV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=ZV.exec(n);if(Tt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zr(n.seconds),nanos:Zr(n.nanos)}}function Zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function od(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function Jb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Yb(n){const t=n.mapValue.fields.__previous_value__;return Jb(t)?Yb(t):t}function K0(n){const t=Lh(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(t.seconds,t.nanos)}class jV{constructor(t,e,r,o,c,l,f,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Uh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Uh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Uh&&t.projectId===this.projectId&&t.database===this.database}}const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Zh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jb(n)?4:JO(n)?9007199254740991:10:ft()}function Ou(n,t){if(n===t)return!0;const e=Zh(n);if(e!==Zh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return K0(n).isEqual(K0(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Lh(r.timestampValue),l=Lh(o.timestampValue);return c.seconds===l.seconds&&c.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,od(n.bytesValue).isEqual(od(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Zr(r.geoPointValue.latitude)===Zr(o.geoPointValue.latitude)&&Zr(r.geoPointValue.longitude)===Zr(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Zr(r.integerValue)===Zr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Zr(r.doubleValue),l=Zr(o.doubleValue);return c===l?z0(c)===z0(l):isNaN(c)&&isNaN(l)}return!1}(n,t);case 9:return c_(n.arrayValue.values||[],t.arrayValue.values||[],Ou);case 10:return function(r,o){const c=r.mapValue.fields||{},l=o.mapValue.fields||{};if(HO(c)!==HO(l))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(void 0===l[f]||!Ou(c[f],l[f])))return!1;return!0}(n,t);default:return ft()}var o}function W0(n,t){return void 0!==(n.values||[]).find(e=>Ou(e,t))}function jh(n,t){if(n===t)return 0;const e=Zh(n),r=Zh(t);if(e!==r)return Jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(o,c){const l=Zr(o.integerValue||o.doubleValue),f=Zr(c.integerValue||c.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,t);case 3:return zO(n.timestampValue,t.timestampValue);case 4:return zO(K0(n),K0(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(o,c){const l=od(o),f=od(c);return l.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const l=o.split("/"),f=c.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=Jt(l[m],f[m]);if(0!==v)return v}return Jt(l.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const l=Jt(Zr(o.latitude),Zr(c.latitude));return 0!==l?l:Jt(Zr(o.longitude),Zr(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,c){const l=o.values||[],f=c.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=jh(l[m],f[m]);if(v)return v}return Jt(l.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,c){if(o===Vh.mapValue&&c===Vh.mapValue)return 0;if(o===Vh.mapValue)return 1;if(c===Vh.mapValue)return-1;const l=o.fields||{},f=Object.keys(l),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const I=Jt(f[x],v[x]);if(0!==I)return I;const F=jh(l[f[x]],m[v[x]]);if(0!==F)return F}return Jt(f.length,v.length)}(n.mapValue,t.mapValue);default:throw ft()}}function zO(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Jt(n,t);const e=Lh(n),r=Lh(t),o=Jt(e.seconds,r.seconds);return 0!==o?o:Jt(e.nanos,r.nanos)}function l_(n){return VS(n)}function VS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Lh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?od(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const l of r.values||[])c?c=!1:o+=",",o+=VS(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",l=!0;for(const f of o)l?l=!1:c+=",",c+=`${f}:${VS(r.fields[f])}`;return c+"}"}(n.mapValue):ft();var t}function Lp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ZS(n){return!!n&&"integerValue"in n}function J0(n){return!!n&&"arrayValue"in n}function KO(n){return!!n&&"nullValue"in n}function WO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eT(n){return!!n&&"mapValue"in n}function Y0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fh(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Y0(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Y0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function JO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function BV(n){return"nullValue"in n?Qb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Lp(Uh.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function HV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Lp(Uh.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vh:ft()}function YO(n,t){const e=jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function QO(n,t){const e=jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ro{constructor(t){this.value=t}static empty(){return new ro({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!eT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Y0(e)}setAll(t){let e=Vr.emptyPath(),r={},o=[];t.forEach((l,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=f.popLast()}l?r[f.lastSegment()]=Y0(l):o.push(f.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,o)}delete(t){const e=this.field(t.popLast());eT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ou(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];eT(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Fh(e,(o,c)=>t[o]=c);for(const o of r)delete t[o]}clone(){return new ro(Y0(this.value))}}function XO(n){const t=[];return Fh(n.fields,(e,r)=>{const o=new Vr([e]);if(eT(r)){const c=XO(r.mapValue).fields;if(0===c.length)t.push(o);else for(const l of c)t.push(o.child(l))}else t.push(o)}),new ls(t)}class hr{constructor(t,e,r,o,c,l,f){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=c,this.data=l,this.documentState=f}static newInvalidDocument(t){return new hr(t,0,It.min(),It.min(),It.min(),ro.empty(),0)}static newFoundDocument(t,e,r,o){return new hr(t,1,e,It.min(),r,o,0)}static newNoDocument(t,e){return new hr(t,2,e,It.min(),It.min(),ro.empty(),0)}static newUnknownDocument(t,e){return new hr(t,3,e,It.min(),It.min(),ro.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(t,e){this.position=t,this.inclusive=e}}function eR(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const c=t[o],l=n.position[o];if(r=c.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),e.key):jh(l,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function tR(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ou(n.position[e],t.position[e]))return!1;return!0}class d_{constructor(t,e="asc"){this.field=t,this.dir=e}}function GV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class nR{}class vn extends nR{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new qV(t,e,r):"array-contains"===e?new KV(t,r):"in"===e?new cR(t,r):"not-in"===e?new WV(t,r):"array-contains-any"===e?new JV(t,r):new vn(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new $V(t,r):new zV(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jh(e,this.value)):null!==e&&Zh(this.value)===Zh(e)&&this.matchesComparison(jh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends nR{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Vn(t,e)}matches(t){return h_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function h_(n){return"and"===n.op}function jS(n){return"or"===n.op}function BS(n){return rR(n)&&h_(n)}function rR(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function HS(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+l_(n.value);if(BS(n))return n.filters.map(t=>HS(t)).join(",");{const t=n.filters.map(e=>HS(e)).join(",");return`${n.op}(${t})`}}function iR(n,t){return n instanceof vn?(e=n,(r=t)instanceof vn&&e.op===r.op&&e.field.isEqual(r.field)&&Ou(e.value,r.value)):n instanceof Vn?function(e,r){return r instanceof Vn&&e.op===r.op&&e.filters.length===r.filters.length&&e.filters.reduce((o,c,l)=>o&&iR(c,r.filters[l]),!0)}(n,t):void ft();var e,r}function oR(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function sR(n){return n instanceof vn?`${(t=n).field.canonicalString()} ${t.op} ${l_(t.value)}`:n instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(sR).join(" ,")+"}"}(n):"Filter";var t}class qV extends vn{constructor(t,e,r){super(t,e,r),this.key=rt.fromName(r.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class $V extends vn{constructor(t,e){super(t,"in",e),this.keys=aR(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zV extends vn{constructor(t,e){super(t,"not-in",e),this.keys=aR(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function aR(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>rt.fromName(r.referenceValue))}class KV extends vn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return J0(e)&&W0(e.arrayValue,this.value)}}class cR extends vn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&W0(this.value.arrayValue,e)}}class WV extends vn{constructor(t,e){super(t,"not-in",e)}matches(t){if(W0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!W0(this.value.arrayValue,e)}}class JV extends vn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!J0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>W0(this.value.arrayValue,r))}}class YV{constructor(t,e=null,r=[],o=[],c=null,l=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=l,this.endAt=f,this.dt=null}}function GS(n,t=null,e=[],r=[],o=null,c=null,l=null){return new YV(n,t,e,r,o,c,l)}function Up(n){const t=ot(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>HS(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),$0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>l_(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>l_(r)).join(",")),t.dt=e}return t.dt}function Q0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!GV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!iR(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tR(n.startAt,t.startAt)&&tR(n.endAt,t.endAt)}function tT(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nT(n,t){return n.filters.filter(e=>e instanceof vn&&e.field.isEqual(t))}function uR(n,t,e){let r=Qb,o=!0;for(const c of nT(n,t)){let l=Qb,f=!0;switch(c.op){case"<":case"<=":l=BV(c.value);break;case"==":case"in":case">=":l=c.value;break;case">":l=c.value,f=!1;break;case"!=":case"not-in":l=Qb}YO({value:r,inclusive:o},{value:l,inclusive:f})<0&&(r=l,o=f)}if(null!==e)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(t)){const l=e.position[c];YO({value:r,inclusive:o},{value:l,inclusive:e.inclusive})<0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}function lR(n,t,e){let r=Vh,o=!0;for(const c of nT(n,t)){let l=Vh,f=!0;switch(c.op){case">=":case">":l=HV(c.value),f=!1;break;case"==":case"in":case"<=":l=c.value;break;case"<":l=c.value,f=!1;break;case"!=":case"not-in":l=Vh}QO({value:r,inclusive:o},{value:l,inclusive:f})>0&&(r=l,o=f)}if(null!==e)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(t)){const l=e.position[c];QO({value:r,inclusive:o},{value:l,inclusive:e.inclusive})>0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}class sd{constructor(t,e=null,r=[],o=[],c=null,l="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function dR(n,t,e,r,o,c,l,f){return new sd(n,t,e,r,o,c,l,f)}function f_(n){return new sd(n)}function hR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function $S(n){return null!==n.collectionGroup}function Vp(n){const t=ot(n);if(null===t.wt){t.wt=[];const e=rT(t),r=qS(t);if(null!==e&&null===r)e.isKeyField()||t.wt.push(new d_(e)),t.wt.push(new d_(Vr.keyField(),"asc"));else{let o=!1;for(const c of t.explicitOrderBy)t.wt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new d_(Vr.keyField(),c))}}}return t.wt}function jo(n){const t=ot(n);if(!t._t)if("F"===t.limitType)t._t=GS(t.path,t.collectionGroup,Vp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const c of Vp(t))e.push(new d_(c.field,"desc"===c.dir?"asc":"desc"));const r=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;t._t=GS(t.path,t.collectionGroup,e,t.filters,t.limit,r,o)}return t._t}function zS(n,t){t.getFirstInequalityField(),rT(n);const e=n.filters.concat([t]);return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function iT(n,t,e){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function X0(n,t){return Q0(jo(n),jo(t))&&n.limitType===t.limitType}function fR(n){return`${Up(jo(n))}|lt:${n.limitType}`}function KS(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(r=>sR(r)).join(", ")}]`),$0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>l_(r)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>l_(r)).join(",")),`Target(${e})`}(jo(n))}; limitType=${n.limitType})`}function eD(n,t){return t.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):rt.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(const o of Vp(e))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(o,c,l){const f=eR(o,c,l);return o.inclusive?f<=0:f<0}(e.startAt,Vp(e),r)||e.endAt&&!function(o,c,l){const f=eR(o,c,l);return o.inclusive?f>=0:f>0}(e.endAt,Vp(e),r)));var e,r}function pR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gR(n){return(t,e)=>{let r=!1;for(const o of Vp(n)){const c=QV(o,t,e);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function QV(n,t,e){const r=n.field.isKeyField()?rt.comparator(t.key,e.key):function(o,c,l){const f=c.data.field(o),m=l.data.field(o);return null!==f&&null!==m?jh(f,m):ft()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class ad{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0===o)return this.inner[r]=[[t,e]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fh(this.inner,(e,r)=>{for(const[o,c]of r)t(o,c)})}isEmpty(){return GO(this.inner)}size(){return this.innerSize}}const XV=new rr(rt.comparator);function ds(){return XV}const mR=new rr(rt.comparator);function tD(...n){let t=mR;for(const e of n)t=t.insert(e.key,e);return t}function _R(n){let t=mR;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Ru(){return nD()}function yR(){return nD()}function nD(){return new ad(n=>n.toString(),(n,t)=>n.isEqual(t))}const e4=new rr(rt.comparator),t4=new dr(rt.comparator);function rn(...n){let t=t4;for(const e of n)t=t.add(e);return t}const n4=new dr(Jt);function WS(){return n4}function vR(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z0(t)?"-0":t}}function DR(n){return{integerValue:""+n}}function CR(n,t){return FO(t)?DR(t):vR(n,t)}class oT{constructor(){this._=void 0}}function r4(n,t,e){return n instanceof p_?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Jb(o)&&(o=Yb(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(e,t):n instanceof Zp?wR(n,t):n instanceof jp?bR(n,t):function(r,o){const c=ER(r,o),l=TR(c)+TR(r.gt);return ZS(c)&&ZS(r.gt)?DR(l):vR(r.serializer,l)}(n,t)}function i4(n,t,e){return n instanceof Zp?wR(n,t):n instanceof jp?bR(n,t):e}function ER(n,t){return n instanceof g_?ZS(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class p_ extends oT{}class Zp extends oT{constructor(t){super(),this.elements=t}}function wR(n,t){const e=xR(t);for(const r of n.elements)e.some(o=>Ou(o,r))||e.push(r);return{arrayValue:{values:e}}}class jp extends oT{constructor(t){super(),this.elements=t}}function bR(n,t){let e=xR(t);for(const r of n.elements)e=e.filter(o=>!Ou(o,r));return{arrayValue:{values:e}}}class g_ extends oT{constructor(t,e){super(),this.serializer=t,this.gt=e}}function TR(n){return Zr(n.integerValue||n.doubleValue)}function xR(n){return J0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rD{constructor(t,e){this.field=t,this.transform=e}}class s4{constructor(t,e){this.version=t,this.transformResults=e}}class br{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new br}static exists(t){return new br(void 0,t)}static updateTime(t){return new br(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class aT{}function IR(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new __(n.key,br.none()):new m_(n.key,n.data,br.none());{const e=n.data,r=ro.empty();let o=new dr(Vr.comparator);for(let c of t.fields)if(!o.has(c)){let l=e.field(c);null===l&&c.length>1&&(c=c.popLast(),l=e.field(c)),null===l?r.delete(c):r.set(c,l),o=o.add(c)}return new cd(n.key,r,new ls(o.toArray()),br.none())}}function a4(n,t,e){n instanceof m_?function(r,o,c){const l=r.value.clone(),f=MR(r.fieldTransforms,o,c.transformResults);l.setAll(f),o.convertToFoundDocument(c.version,l).setHasCommittedMutations()}(n,t,e):n instanceof cd?function(r,o,c){if(!sT(r.precondition,o))return void o.convertToUnknownDocument(c.version);const l=MR(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(SR(r)),f.setAll(l),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function iD(n,t,e,r){return n instanceof m_?function(o,c,l,f){if(!sT(o.precondition,c))return l;const m=o.value.clone(),v=kR(o.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,r):n instanceof cd?function(o,c,l,f){if(!sT(o.precondition,c))return l;const m=kR(o.fieldTransforms,f,c),v=c.data;return v.setAll(SR(o)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,t,e,r):(l=e,sT(n.precondition,c=t)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):l);var c,l}function c4(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),c=ER(r.transform,o||null);null!=c&&(null===e&&(e=ro.empty()),e.set(r.field,c))}return e||null}function AR(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&c_(e,r,(o,c)=>function o4(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Zp&&r instanceof Zp||e instanceof jp&&r instanceof jp?c_(e.elements,r.elements,Ou):e instanceof g_&&r instanceof g_?Ou(e.gt,r.gt):e instanceof p_&&r instanceof p_);var e,r}(o,c))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class m_ extends aT{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cd extends aT{constructor(t,e,r,o,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function SR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function MR(n,t,e){const r=new Map;Tt(n.length===e.length);for(let o=0;o<e.length;o++){const c=n[o],l=c.transform,f=t.data.field(c.field);r.set(c.field,i4(l,f,e[o]))}return r}function kR(n,t,e){const r=new Map;for(const o of n){const c=o.transform,l=e.data.field(o.field);r.set(o.field,r4(c,l,t))}return r}class __ extends aT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JS extends aT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YS{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&a4(c,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=iD(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=iD(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=yR();return this.mutations.forEach(o=>{const c=t.get(o.key),l=c.overlayedDocument;let f=this.applyToLocalView(l,c.mutatedFields);f=e.has(o.key)?null:f;const m=IR(l,f);null!==m&&r.set(o.key,m),l.isValidDocument()||l.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),rn())}isEqual(t){return this.batchId===t.batchId&&c_(this.mutations,t.mutations,(e,r)=>AR(e,r))&&c_(this.baseMutations,t.baseMutations,(e,r)=>AR(e,r))}}class QS{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Tt(t.mutations.length===r.length);let o=e4;const c=t.mutations;for(let l=0;l<c.length;l++)o=o.insert(c[l].key,r[l].version);return new QS(t,e,r,o)}}class XS{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class l4{constructor(t,e){this.count=t,this.unchangedNames=e}}var ci,Tn;function NR(n){switch(n){default:return ft();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function PR(n){if(void 0===n)return Kr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ci.OK:return ge.OK;case ci.CANCELLED:return ge.CANCELLED;case ci.UNKNOWN:return ge.UNKNOWN;case ci.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ci.INTERNAL:return ge.INTERNAL;case ci.UNAVAILABLE:return ge.UNAVAILABLE;case ci.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ci.NOT_FOUND:return ge.NOT_FOUND;case ci.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ci.ABORTED:return ge.ABORTED;case ci.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ci.DATA_LOSS:return ge.DATA_LOSS;default:return ft()}}(Tn=ci||(ci={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class eM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cT}static getOrCreateInstance(){return null===cT&&(cT=new eM),cT}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let cT=null;function OR(){return new TextEncoder}const d4=new s_([4294967295,4294967295],0);function RR(n){const t=OR().encode(n),e=new iV;return e.update(t),new Uint8Array(e.digest())}function FR(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new s_([e,r],0),new s_([o,c],0)]}class tM{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new oD(`Invalid padding: ${e}`);if(r<0)throw new oD(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new oD(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new oD(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=s_.fromNumber(this.It)}Et(t,e,r){let o=t.add(e.multiply(s_.fromNumber(r)));return 1===o.compare(d4)&&(o=new s_([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=RR(t),[r,o]=FR(e);for(let c=0;c<this.hashCount;c++){const l=this.Et(r,o,c);if(!this.At(l))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),l=new tM(c,o,e);return r.forEach(f=>l.insert(f)),l}insert(t){if(0===this.It)return;const e=RR(t),[r,o]=FR(e);for(let c=0;c<this.hashCount;c++){const l=this.Et(r,o,c);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class oD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sD{constructor(t,e,r,o,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,aD.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new sD(It.min(),o,new rr(Jt),ds(),rn())}}class aD{constructor(t,e,r,o,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new aD(r,e,rn(),rn(),rn())}}class uT{constructor(t,e,r,o){this.Pt=t,this.removedTargetIds=e,this.key=r,this.bt=o}}class LR{constructor(t,e){this.targetId=t,this.Vt=e}}class UR{constructor(t,e,r=bi.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class VR{constructor(){this.St=0,this.Dt=jR(),this.Ct=bi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=rn(),e=rn(),r=rn();return this.Dt.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new aD(this.Ct,this.xt,t,e,r)}Ft(){this.Nt=!1,this.Dt=jR()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class h4{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ds(),this.zt=ZR(),this.Wt=new rr(Jt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const r=this.Zt(e);switch(t.state){case 0:this.te(e)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((r,o)=>{this.te(o)&&e(o)})}ne(t){var e;const r=t.targetId,o=t.Vt.count,c=this.se(r);if(c){const l=c.target;if(tT(l))if(0===o){const f=new rt(l.path);this.Yt(r,f,hr.newNoDocument(f,It.min()))}else Tt(1===o);else{const f=this.ie(r);if(f!==o){const m=this.re(t,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=eM.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,x,I){var F,j,q,ee,se,Ve;const Be={localCacheCount:x,existenceFilterCount:I.count},je=I.unchangedNames;return je&&(Be.bloomFilter={applied:0===v,hashCount:null!==(F=je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ee=null===(q=null===(j=je?.bits)||void 0===j?void 0:j.bitmap)||void 0===q?void 0:q.length)&&void 0!==ee?ee:0,padding:null!==(Ve=null===(se=je?.bits)||void 0===se?void 0:se.padding)&&void 0!==Ve?Ve:0}),Be}(m,f,t.Vt))}}}}re(t,e){const{unchangedNames:r,count:o}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=od(c).toUint8Array()}catch(x){if(x instanceof $O)return wa("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new tM(m,l,f)}catch(x){return wa(x instanceof oD?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:o!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const r=this.Gt.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${c.path.canonicalString()}`;e.vt(f)||(this.Yt(t,c,null),o++)}),o}ce(t){const e=new Map;this.Qt.forEach((c,l)=>{const f=this.se(l);if(f){if(c.current&&tT(f.target)){const m=new rt(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,hr.newNoDocument(m,t))}c.Mt&&(e.set(l,c.Ot()),c.Ft())}});let r=rn();this.zt.forEach((c,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.jt.forEach((c,l)=>l.setReadTime(t));const o=new sD(t,e,this.Wt,this.jt,r);return this.jt=ds(),this.zt=ZR(),this.Wt=new rr(Jt),o}Jt(t,e){if(!this.te(t))return;const r=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,r){if(!this.te(t))return;const o=this.Zt(t);this.ae(t,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new VR,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new dr(Jt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ze("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new VR),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function ZR(){return new rr(rt.comparator)}function jR(){return new rr(rt.comparator)}const f4={asc:"ASCENDING",desc:"DESCENDING"},p4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g4={and:"AND",or:"OR"};class m4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function nM(n,t){return n.useProto3Json||$0(t)?t:{value:t}}function y_(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _4(n,t){return y_(n,t.toTimestamp())}function Wr(n){return Tt(!!n),It.fromTimestamp(function(t){const e=Lh(t);return new wr(e.seconds,e.nanos)}(n))}function rM(n,t){return(e=n,new bn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function HR(n){const t=bn.fromString(n);return Tt(QR(t)),t}function cD(n,t){return rM(n.databaseId,t.path)}function Fu(n,t){const e=HR(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(qR(e))}function iM(n,t){return rM(n.databaseId,t)}function GR(n){const t=HR(n);return 4===t.length?bn.emptyPath():qR(t)}function uD(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qR(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $R(n,t,e){return{name:cD(n,t),fields:e.value.mapValue.fields}}function zR(n,t,e){const r=Fu(n,t.name),o=Wr(t.updateTime),c=t.createTime?Wr(t.createTime):It.min(),l=new ro({mapValue:{fields:t.fields}}),f=hr.newFoundDocument(r,o,c,l);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function lD(n,t){let e;if(t instanceof m_)e={update:$R(n,t.key,t.value)};else if(t instanceof __)e={delete:cD(n,t.key)};else if(t instanceof cd)e={update:$R(n,t.key,t.data),updateMask:T4(t.fieldMask)};else{if(!(t instanceof JS))return ft();e={verify:cD(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,c){const l=c.transform;if(l instanceof p_)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof g_)return{fieldPath:c.field.canonicalString(),increment:l.gt};throw ft()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:_4(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),e;var o}function oM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?br.updateTime(Wr(o.updateTime)):void 0!==o.exists?br.exists(o.exists):br.none():br.none(),r=t.updateTransforms?t.updateTransforms.map(o=>function(c,l){let f=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),f=new p_):"appendMissingElements"in l?f=new Zp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new jp(l.removeAllFromArray.values||[]):"increment"in l?f=new g_(c,l.increment):ft();const m=Vr.fromServerFormat(l.fieldPath);return new rD(m,f)}(n,o)):[];var o;if(t.update){const o=Fu(n,t.update.name),c=new ro({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new ls((t.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new cd(o,c,l,e,r)}return new m_(o,c,e,r)}if(t.delete){const o=Fu(n,t.delete);return new __(o,e)}if(t.verify){const o=Fu(n,t.verify);return new JS(o,e)}return ft()}function KR(n,t){return{documents:[iM(n,t.path)]}}function sM(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=iM(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=iM(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0!==m.length)return YR(Vn.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(m){if(0!==m.length)return m.map(v=>{return{field:Hh((x=v).field),direction:E4(x.dir)};var x})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const l=nM(n,t.limit);var f,m;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function WR(n){let t=GR(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Tt(1===r);const x=e.from[0];x.allDescendants?o=x.collectionId:t=t.child(x.collectionId)}let c=[];e.where&&(c=function(x){const I=JR(x);return I instanceof Vn&&BS(I)?I.getFilters():[I]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(x=>{return new d_(v_((I=x).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;e.limit&&(f=function(x){let I;return I="object"==typeof x?x.value:x,$0(I)?null:I}(e.limit));let m=null;var x;e.startAt&&(m=new Bh((x=e.startAt).values||[],!!x.before));let v=null;return e.endAt&&(v=function(x){return new Bh(x.values||[],!x.before)}(e.endAt)),dR(t,o,l,c,f,"F",m,v)}function JR(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=v_(t.unaryFilter.field);return vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=v_(t.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=v_(t.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=v_(t.unaryFilter.field);return vn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?vn.create(v_((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Vn.create(t.compositeFilter.filters.map(e=>JR(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ft()}}(t.compositeFilter.op))}(n):ft();var t}function E4(n){return f4[n]}function w4(n){return p4[n]}function b4(n){return g4[n]}function Hh(n){return{fieldPath:n.canonicalString()}}function v_(n){return Vr.fromServerFormat(n.fieldPath)}function YR(n){return n instanceof vn?function(t){if("=="===t.op){if(WO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NAN"}};if(KO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(WO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NAN"}};if(KO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hh(t.field),op:w4(t.op),value:t.value}}}(n):n instanceof Vn?function(t){const e=t.getFilters().map(r=>YR(r));return 1===e.length?e[0]:{compositeFilter:{op:b4(t.op),filters:e}}}(n):ft()}function T4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function QR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ud{constructor(t,e,r,o,c=It.min(),l=It.min(),f=bi.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new ud(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class XR{constructor(t){this.fe=t}}function eF(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:lT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:cD(o=n.fe,(c=t).key),fields:c.data.value.mapValue.fields,updateTime:y_(o,c.version.toTimestamp()),createTime:y_(o,c.createTime.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:Bp(t.version)};else{if(!t.isUnknownDocument())return ft();r.unknownDocument={path:e.path.toArray(),version:Bp(t.version)}}var o,c;return r}function lT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Bp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hp(n){const t=new wr(n.seconds,n.nanoseconds);return It.fromTimestamp(t)}function Gp(n,t){const e=(t.baseMutations||[]).map(c=>oM(n.fe,c));for(let c=0;c<t.mutations.length-1;++c){const l=t.mutations[c];c+1<t.mutations.length&&void 0!==t.mutations[c+1].transform&&(l.updateTransforms=t.mutations[c+1].transform.fieldTransforms,t.mutations.splice(c+1,1),++c)}const r=t.mutations.map(c=>oM(n.fe,c)),o=wr.fromMillis(t.localWriteTimeMs);return new YS(t.batchId,o,e,r)}function dD(n){const t=Hp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Hp(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(Tt(1===(o=n.query).documents.length),r=jo(f_(GR(o.documents[0])))):r=jo(WR(n.query)),new ud(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,bi.fromBase64String(n.resumeToken))}function tF(n,t){const e=Bp(t.snapshotVersion),r=Bp(t.lastLimboFreeSnapshotVersion);let o;o=tT(t.target)?KR(n.fe,t.target):sM(n.fe,t.target);const c=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Up(t.target),readTime:e,resumeToken:c,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aM(n){const t=WR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iT(t,t.limit,"L"):t}function cM(n,t){return new XS(t.largestBatchId,oM(n.fe,t.overlayMutation))}function nF(n,t){const e=t.path.lastSegment();return[n,vo(t.path.popLast()),e]}function rF(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Bp(r.readTime),documentKey:vo(r.documentKey.path),largestBatchId:r.largestBatchId}}class I4{getBundleMetadata(t,e){return iF(t).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Hp(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return iF(t).put({bundleId:(r=e).id,createTime:Bp(Wr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return oF(t).get(e).next(r=>{if(r)return{name:(o=r).name,query:aM(o.bundledQuery),readTime:Hp(o.readTime)};var o})}saveNamedQuery(t,e){return oF(t).put({name:(r=e).name,readTime:Bp(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function iF(n){return Vi(n,"bundles")}function oF(n){return Vi(n,"namedQueries")}class dT{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new dT(t,e.uid||"")}getOverlay(t,e){return hD(t).get(nF(this.userId,e)).next(r=>r?cM(this.serializer,r):null)}getOverlays(t,e){const r=Ru();return ue.forEach(e,o=>this.getOverlay(t,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(t,e,r){const o=[];return r.forEach((c,l)=>{const f=new XS(e,l);o.push(this.we(t,f))}),ue.waitFor(o)}removeOverlaysForBatchId(t,e,r){const o=new Set;e.forEach(l=>o.add(vo(l.getCollectionPath())));const c=[];return o.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);c.push(hD(t).J("collectionPathOverlayIndex",f))}),ue.waitFor(c)}getOverlaysForCollection(t,e,r){const o=Ru(),c=vo(e),l=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return hD(t).j("collectionPathOverlayIndex",l).next(f=>{for(const m of f){const v=cM(this.serializer,m);o.set(v.getKey(),v)}return o})}getOverlaysForCollectionGroup(t,e,r,o){const c=Ru();let l;const f=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return hD(t).X({index:"collectionGroupOverlayIndex",range:f},(m,v,x)=>{const I=cM(this.serializer,v);c.size()<o||I.largestBatchId===l?(c.set(I.getKey(),I),l=I.largestBatchId):x.done()}).next(()=>c)}we(t,e){return hD(t).put(function(r,o,c){const[l,f,m]=nF(o,c.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:lD(r.fe,c.mutation)}}(this.serializer,this.userId,e))}}function hD(n){return Vi(n,"documentOverlays")}class qp{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Zr(t.integerValue));else if("doubleValue"in t){const r=Zr(t.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),z0(r)?e.pe(0):e.pe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(od(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in t?JO(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ft()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const r=t.fields||{};this.ye(e,55);for(const o of Object.keys(r))this.Te(o,e),this.me(r[o],e)}Pe(t,e){const r=t.values||[];this.ye(e,50);for(const o of r)this.me(o,e)}ve(t,e){this.ye(e,37),rt.fromName(t).path.forEach(r=>{this.ye(e,60),this.be(r,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function A4(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function sF(n){const t=64-function(e){let r=0;for(let o=0;o<8;++o){const c=A4(255&e[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(t/8)}qp.Ve=new qp;class S4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(t){const e=this.Fe(t),r=sF(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(t){const e=this.Fe(t),r=sF(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class M4{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class k4{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class fD{constructor(){this.je=new S4,this.ze=new M4(this.je),this.We=new k4(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class $p{constructor(t,e,r,o){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=o}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new $p(this.indexId,this.documentKey,this.arrayValue,r)}}function Gh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=aF(n.arrayValue,t.arrayValue),0!==e?e:(e=aF(n.directionalValue,t.directionalValue),0!==e?e:rt.comparator(n.documentKey,t.documentKey)))}function aF(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class N4{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const r=e;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(t){Tt(t.collectionGroup===this.collectionId);const e=OS(t);if(void 0!==e&&!this.en(e))return!1;const r=Rp(t);let o=new Set,c=0,l=0;for(;c<r.length&&this.en(r[c]);++c)o=o.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const f=r[c];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++c}for(;c<r.length;++c){const f=r[c];if(l>=this.Ye.length||!this.sn(this.Ye[l++],f))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function cF(n){var t,e;if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn){if(n instanceof cR){const o=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(c=>vn.create(n.field,"==",c)))||[];return Vn.create(o,"or")}return n}const r=n.filters.map(o=>cF(o));return Vn.create(r,n.op)}function P4(n){if(0===n.getFilters().length)return[];const t=dM(cF(n));return Tt(uF(t)),uM(t)||lM(t)?[t]:t.getFilters()}function uM(n){return n instanceof vn}function lM(n){return n instanceof Vn&&BS(n)}function uF(n){return uM(n)||lM(n)||function(t){if(t instanceof Vn&&jS(t)){for(const e of t.getFilters())if(!uM(e)&&!lM(e))return!1;return!0}return!1}(n)}function dM(n){if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn)return n;if(1===n.filters.length)return dM(n.filters[0]);const t=n.filters.map(r=>dM(r));let e=Vn.create(t,n.op);return e=hT(e),uF(e)?e:(Tt(e instanceof Vn),Tt(h_(e)),Tt(e.filters.length>1),e.filters.reduce((r,o)=>hM(r,o)))}function hM(n,t){let e;return Tt(n instanceof vn||n instanceof Vn),Tt(t instanceof vn||t instanceof Vn),e=n instanceof vn?t instanceof vn?Vn.create([n,t],"and"):lF(n,t):t instanceof vn?lF(t,n):function(r,o){if(Tt(r.filters.length>0&&o.filters.length>0),h_(r)&&h_(o))return oR(r,o.getFilters());const c=jS(r)?r:o,l=jS(r)?o:r,f=c.filters.map(m=>hM(m,l));return Vn.create(f,"or")}(n,t),hT(e)}function lF(n,t){if(h_(t))return oR(t,n.getFilters());{const e=t.filters.map(r=>hM(n,r));return Vn.create(e,"or")}}function hT(n){if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn)return n;const t=n.getFilters();if(1===t.length)return hT(t[0]);if(rR(n))return n;const e=t.map(o=>hT(o)),r=[];return e.forEach(o=>{o instanceof vn?r.push(o):o instanceof Vn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Vn.create(r,n.op)}class O4{constructor(){this.rn=new fM}addToCollectionParentIndex(t,e){return this.rn.add(e),ue.resolve()}getCollectionParents(t,e){return ue.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ue.resolve()}deleteFieldIndex(t,e){return ue.resolve()}getDocumentsMatchingTarget(t,e){return ue.resolve(null)}getIndexType(t,e){return ue.resolve(0)}getFieldIndexes(t,e){return ue.resolve([])}getNextCollectionGroupToUpdate(t){return ue.resolve(null)}getMinOffset(t,e){return ue.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,e){return ue.resolve(Us.min())}updateCollectionGroup(t,e,r){return ue.resolve()}updateIndexEntries(t,e){return ue.resolve()}}class fM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new dr(bn.comparator),c=!o.has(r);return this.index[e]=o.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new dr(bn.comparator)).toArray()}}const fT=new Uint8Array(0);class R4{constructor(t,e){this.user=t,this.databaseId=e,this.on=new fM,this.un=new ad(r=>Up(r),(r,o)=>Q0(r,o)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const c={collectionId:r,parent:vo(o)};return dF(t).put(c)}return ue.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[MO(e),""],!1,!0);return dF(t).j(o).next(c=>{for(const l of c){if(l.collectionId!==e)break;r.push(Pu(l.parent))}return r})}addFieldIndex(t,e){const r=pT(t),o={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete o.indexId;const c=r.add(o);if(e.indexState){const l=gD(t);return c.next(f=>{l.put(rF(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return c.next()}deleteFieldIndex(t,e){const r=pT(t),o=gD(t),c=pD(t);return r.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=pD(t);let o=!0;const c=new Map;return ue.forEach(this.cn(e),l=>this.an(t,l).next(f=>{o&&(o=!!f),c.set(l,f)})).next(()=>{if(o){let l=rn();const f=[];return ue.forEach(c,(m,v)=>{var x;Ze("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${Up(e)}`);const I=function(je,We){const Vt=OS(We);if(void 0===Vt)return null;for(const Zt of nT(je,Vt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(v,m),F=function(je,We){const Vt=new Map;for(const Zt of Rp(We))for(const Cn of nT(je,Zt.fieldPath))switch(Cn.op){case"==":case"in":Vt.set(Zt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Vt.set(Zt.fieldPath.canonicalString(),Cn.value),Array.from(Vt.values())}return null}(v,m),j=function(je,We){const Vt=[];let Zt=!0;for(const Cn of Rp(We)){const Sr=0===Cn.kind?uR(je,Cn.fieldPath,je.startAt):lR(je,Cn.fieldPath,je.startAt);Vt.push(Sr.value),Zt&&(Zt=Sr.inclusive)}return new Bh(Vt,Zt)}(v,m),q=function(je,We){const Vt=[];let Zt=!0;for(const Cn of Rp(We)){const Sr=0===Cn.kind?lR(je,Cn.fieldPath,je.endAt):uR(je,Cn.fieldPath,je.endAt);Vt.push(Sr.value),Zt&&(Zt=Sr.inclusive)}return new Bh(Vt,Zt)}(v,m),ee=this.hn(m,v,j),se=this.hn(m,v,q),Ve=this.ln(m,v,F),Be=this.fn(m.indexId,I,ee,j.inclusive,se,q.inclusive,Ve);return ue.forEach(Be,je=>r.H(je,e.limit).next(We=>{We.forEach(Vt=>{const Zt=rt.fromSegments(Vt.documentKey);l.has(Zt)||(l=l.add(Zt),f.push(Zt))})}))}).next(()=>f)}return ue.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:P4(Vn.create(t.filters,"and")).map(r=>GS(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,r,o,c,l,f){const m=(null!=e?e.length:1)*Math.max(r.length,c.length),v=m/(null!=e?e.length:1),x=[];for(let I=0;I<m;++I){const F=e?this.dn(e[I/v]):fT,j=this.wn(t,F,r[I%v],o),q=this._n(t,F,c[I%v],l),ee=f.map(se=>this.wn(t,F,se,!0));x.push(...this.createRange(j,q,ee))}return x}wn(t,e,r,o){const c=new $p(t,rt.empty(),e,r);return o?c:c.Je()}_n(t,e,r,o){const c=new $p(t,rt.empty(),e,r);return o?c.Je():c}an(t,e){const r=new N4(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next(c=>{let l=null;for(const f of c)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(t,e){let r=2;const o=this.cn(e);return ue.forEach(o,c=>this.an(t,c).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new dr(Vr.comparator),v=!1;for(const x of f.filters)for(const I of x.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const x of f.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(v?1:0)}(c)&&(r=1):r=0})).next(()=>null!==e.limit&&o.length>1&&2===r?1:r)}mn(t,e){const r=new fD;for(const o of Rp(t)){const c=e.data.field(o.fieldPath);if(null==c)return null;const l=r.He(o.kind);qp.Ve._e(c,l)}return r.Qe()}dn(t){const e=new fD;return qp.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const r=new fD;return qp.Ve._e(Lp(this.databaseId,e),r.He(function(o){const c=Rp(o);return 0===c.length?0:c[c.length-1].kind}(t))),r.Qe()}ln(t,e,r){if(null===r)return[];let o=[];o.push(new fD);let c=0;for(const l of Rp(t)){const f=r[c++];for(const m of o)if(this.yn(e,l.fieldPath)&&J0(f))o=this.pn(o,l,f);else{const v=m.He(l.kind);qp.Ve._e(f,v)}}return this.In(o)}hn(t,e,r){return this.ln(t,e,r.position)}In(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Qe();return e}pn(t,e,r){const o=[...t],c=[];for(const l of r.arrayValue.values||[])for(const f of o){const m=new fD;m.seed(f.Qe()),qp.Ve._e(l,m.He(e.kind)),c.push(m)}return c}yn(t,e){return!!t.filters.find(r=>r instanceof vn&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=pT(t),o=gD(t);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next(c=>{const l=[];return ue.forEach(c,f=>o.get([f.indexId,this.uid]).next(m=>{l.push(function(v,x){const I=x?new G0(x.sequenceNumber,new Us(Hp(x.readTime),new rt(Pu(x.documentKey)),x.largestBatchId)):G0.empty(),F=v.fields.map(([j,q])=>new $b(Vr.fromServerFormat(j),q));return new qb(v.indexId,v.collectionGroup,F,I)}(f,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:Jt(r.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const o=pT(t),c=gD(t);return this.Tn(t).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>ue.forEach(f,m=>c.put(rF(m.indexId,this.user,l,r)))))}updateIndexEntries(t,e){const r=new Map;return ue.forEach(e,(o,c)=>{const l=r.get(o.collectionGroup);return(l?ue.resolve(l):this.getFieldIndexes(t,o.collectionGroup)).next(f=>(r.set(o.collectionGroup,f),ue.forEach(f,m=>this.En(t,o,m).next(v=>{const x=this.An(c,m);return v.isEqual(x)?ue.resolve():this.vn(t,c,m,v,x)}))))})}Rn(t,e,r,o){return pD(t).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,r,o){return pD(t).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(t,e,r){const o=pD(t);let c=new dr(Gh);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},(l,f)=>{c=c.add(new $p(r.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>c)}An(t,e){let r=new dr(Gh);const o=this.mn(e,t);if(null==o)return r;const c=OS(e);if(null!=c){const l=t.data.field(c.fieldPath);if(J0(l))for(const f of l.arrayValue.values||[])r=r.add(new $p(e.indexId,t.key,this.dn(f),o))}else r=r.add(new $p(e.indexId,t.key,fT,o));return r}vn(t,e,r,o,c){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(f,m,v,x,I){const F=f.getIterator(),j=m.getIterator();let q=u_(F),ee=u_(j);for(;q||ee;){let se=!1,Ve=!1;if(q&&ee){const Be=v(q,ee);Be<0?Ve=!0:Be>0&&(se=!0)}else null!=q?Ve=!0:se=!0;se?(x(ee),ee=u_(j)):Ve?(I(q),q=u_(F)):(q=u_(F),ee=u_(j))}}(o,c,Gh,f=>{l.push(this.Rn(t,e,r,f))},f=>{l.push(this.Pn(t,e,r,f))}),ue.waitFor(l)}Tn(t){let e=1;return gD(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((l,f)=>Gh(l,f)).filter((l,f,m)=>!f||0!==Gh(l,m[f-1]));const o=[];o.push(t);for(const l of r){const f=Gh(l,t),m=Gh(l,e);if(0===f)o[0]=t.Je();else if(f>0&&m<0)o.push(l),o.push(l.Je());else if(m>0)break}o.push(e);const c=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];c.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,fT,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,fT,[]]))}return c}bn(t,e){return Gh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(hF)}getMinOffset(t,e){return ue.mapArray(this.cn(e),r=>this.an(t,r).next(o=>o||ft())).next(hF)}}function dF(n){return Vi(n,"collectionParents")}function pD(n){return Vi(n,"indexEntries")}function pT(n){return Vi(n,"indexConfiguration")}function gD(n){return Vi(n,"indexState")}function hF(n){Tt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;RS(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Us(t.readTime,t.documentKey,e)}const fF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Do(t,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pF(n,t,e){const r=n.store("mutations"),o=n.store("documentMutations"),c=[],l=IDBKeyRange.only(e.batchId);let f=0;const m=r.X({range:l},(x,I,F)=>(f++,F.delete()));c.push(m.next(()=>{Tt(1===f)}));const v=[];for(const x of e.mutations){const I=VO(t,x.key.path,e.batchId);c.push(o.delete(I)),v.push(x.key)}return ue.waitFor(c).next(()=>v)}function gT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class mT{constructor(t,e,r,o){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(t,e,r,o){Tt(""!==t.uid);const c=t.isAuthenticated()?t.uid:"";return new mT(c,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).X({index:"userMutationsIndex",range:r},(o,c,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,r,o){const c=D_(t),l=qh(t);return l.add({}).next(f=>{Tt("number"==typeof f);const m=new YS(f,e,r,o),v=function(F,j,q){const ee=q.baseMutations.map(Ve=>lD(F.fe,Ve)),se=q.mutations.map(Ve=>lD(F.fe,Ve));return{userId:j,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ee,mutations:se}}(this.serializer,this.userId,m),x=[];let I=new dr((F,j)=>Jt(F.canonicalString(),j.canonicalString()));for(const F of o){const j=VO(this.userId,F.key.path,f);I=I.add(F.key.path.popLast()),x.push(l.put(v)),x.push(c.put(j,EV))}return I.forEach(F=>{x.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),ue.waitFor(x).next(()=>m)})}lookupMutationBatch(t,e){return qh(t).get(e).next(r=>r?(Tt(r.userId===this.userId),Gp(this.serializer,r)):null)}Sn(t,e){return this.Vn[e]?ue.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const o=r.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return qh(t).X({index:"userMutationsIndex",range:o},(l,f,m)=>{f.userId===this.userId&&(Tt(f.batchId>=r),c=Gp(this.serializer,f)),m.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qh(t).X({index:"userMutationsIndex",range:e,reverse:!0},(o,c,l)=>{r=c.batchId,l.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).j("userMutationsIndex",e).next(r=>r.map(o=>Gp(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Kb(this.userId,e.path),o=IDBKeyRange.lowerBound(r),c=[];return D_(t).X({range:o},(l,f,m)=>{const[v,x,I]=l,F=Pu(x);if(v===this.userId&&e.path.isEqual(F))return qh(t).get(I).next(j=>{if(!j)throw ft();Tt(j.userId===this.userId),c.push(Gp(this.serializer,j))});m.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new dr(Jt);const o=[];return e.forEach(c=>{const l=Kb(this.userId,c.path),f=IDBKeyRange.lowerBound(l),m=D_(t).X({range:f},(v,x,I)=>{const[F,j,q]=v,ee=Pu(j);F===this.userId&&c.path.isEqual(ee)?r=r.add(q):I.done()});o.push(m)}),ue.waitFor(o).next(()=>this.Dn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,c=Kb(this.userId,r),l=IDBKeyRange.lowerBound(c);let f=new dr(Jt);return D_(t).X({range:l},(m,v,x)=>{const[I,F,j]=m,q=Pu(F);I===this.userId&&r.isPrefixOf(q)?q.length===o&&(f=f.add(j)):x.done()}).next(()=>this.Dn(t,f))}Dn(t,e){const r=[],o=[];return e.forEach(c=>{o.push(qh(t).get(c).next(l=>{if(null===l)throw ft();Tt(l.userId===this.userId),r.push(Gp(this.serializer,l))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(t,e){return pF(t.ht,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return D_(t).X({range:r},(c,l,f)=>{if(c[0]===this.userId){const m=Pu(c[1]);o.push(m)}else f.done()}).next(()=>{Tt(0===o.length)})})}containsKey(t,e){return gF(t,this.userId,e)}xn(t){return mF(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gF(n,t,e){const r=Kb(t,e.path),o=r[1],c=IDBKeyRange.lowerBound(r);let l=!1;return D_(n).X({range:c,Y:!0},(f,m,v)=>{const[x,I,F]=f;x===t&&I===o&&(l=!0),v.done()}).next(()=>l)}function qh(n){return Vi(n,"mutations")}function D_(n){return Vi(n,"documentMutations")}function mF(n){return Vi(n,"mutationQueues")}class zp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new zp(0)}static Mn(){return new zp(-1)}}class F4{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const r=new zp(e.highestTargetId);return e.highestTargetId=r.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>It.fromTimestamp(new wr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.$n(t).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(t,o)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(r=>(r.targetCount+=1,this.Bn(e,r),this.On(t,r))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>C_(t).delete(e.targetId)).next(()=>this.$n(t)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(t,r)))}removeTargets(t,e,r){let o=0;const c=[];return C_(t).X((l,f)=>{const m=dD(f);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(o++,c.push(this.removeTargetData(t,m)))}).next(()=>ue.waitFor(c)).next(()=>o)}forEachTarget(t,e){return C_(t).X((r,o)=>{const c=dD(o);e(c)})}$n(t){return _F(t).get("targetGlobalKey").next(e=>(Tt(null!==e),e))}On(t,e){return _F(t).put("targetGlobalKey",e)}Fn(t,e){return C_(t).put(tF(this.serializer,e))}Bn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Up(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return C_(t).X({range:o,index:"queryTargetsIndex"},(l,f,m)=>{const v=dD(f);Q0(e,v.target)&&(c=v,m.done())}).next(()=>c)}addMatchingKeys(t,e,r){const o=[],c=$h(t);return e.forEach(l=>{const f=vo(l.path);o.push(c.put({targetId:r,path:f})),o.push(this.referenceDelegate.addReference(t,r,l))}),ue.waitFor(o)}removeMatchingKeys(t,e,r){const o=$h(t);return ue.forEach(e,c=>{const l=vo(c.path);return ue.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(t,r,c)])})}removeMatchingKeysForTargetId(t,e){const r=$h(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=$h(t);let c=rn();return o.X({range:r,Y:!0},(l,f,m)=>{const v=Pu(l[1]),x=new rt(v);c=c.add(x)}).next(()=>c)}containsKey(t,e){const r=vo(e.path),o=IDBKeyRange.bound([r],[MO(r)],!1,!0);let c=0;return $h(t).X({index:"documentTargetsIndex",Y:!0,range:o},([l,f],m,v)=>{0!==l&&(c++,v.done())}).next(()=>c>0)}le(t,e){return C_(t).get(e).next(r=>r?dD(r):null)}}function C_(n){return Vi(n,"targets")}function _F(n){return Vi(n,"targetGlobal")}function $h(n){return Vi(n,"targetDocuments")}function yF([n,t],[e,r]){const o=Jt(n,e);return 0===o?Jt(t,r):o}class L4{constructor(t){this.Ln=t,this.buffer=new dr(yF),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();yF(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vF{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,te.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Rh(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Oh(r)}yield e.Qn(3e5)}))}}class U4{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return ue.resolve(Vs.ct);const r=new L4(e);return this.jn.forEachTarget(t,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(t,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.jn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(fF)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fF):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let r,o,c,l,f,m,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,l=Date.now(),this.nthSequenceNumber(t,o))).next(I=>(r=I,f=Date.now(),this.removeTargets(t,r,e))).next(I=>(c=I,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(I=>(v=Date.now(),NS()<=Dc.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${o} in `+(f-l)+`ms\n\tRemoved ${c} targets in `+(m-f)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:I})))}}class V4{constructor(t,e){this.db=t,this.garbageCollector=function DF(n,t){return new U4(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}Jn(t){let e=0;return this.Wn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(r,o)=>e(o))}addReference(t,e,r){return _T(t,r)}removeReference(t,e,r){return _T(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return _T(t,e)}Xn(t,e){return function(r,o){let c=!1;return mF(r).Z(l=>gF(r,l,o).next(f=>(f&&(c=!0),ue.resolve(!f)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Yn(t,(l,f)=>{if(f<=e){const m=this.Xn(t,l).next(v=>{if(!v)return c++,r.getEntry(t,l).next(()=>(r.removeEntry(l,It.min()),$h(t).delete([0,vo(l.path)])))});o.push(m)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(t)).next(()=>c)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return _T(t,e)}Yn(t,e){const r=$h(t);let o,c=Vs.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:m,sequenceNumber:v})=>{0===l?(c!==Vs.ct&&e(new rt(Pu(o)),c),c=v,o=m):c=Vs.ct}).next(()=>{c!==Vs.ct&&e(new rt(Pu(o)),c)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _T(n,t){return $h(n).put((r=n.currentSequenceNumber,{targetId:0,path:vo(t.path),sequenceNumber:r}));var r}class CF{constructor(){this.changes=new ad(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ue.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Z4{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Kp(t).put(r)}removeEntry(t,e,r){return Kp(t).delete(function(o,c){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],lT(c),l[l.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Zn(t,r)))}getEntry(t,e){let r=hr.newInvalidDocument(e);return Kp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mD(e))},(o,c)=>{r=this.ts(e,c)}).next(()=>r)}es(t,e){let r={size:0,document:hr.newInvalidDocument(e)};return Kp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mD(e))},(o,c)=>{r={document:this.ts(e,c),size:gT(c)}}).next(()=>r)}getEntries(t,e){let r=ds();return this.ns(t,e,(o,c)=>{const l=this.ts(o,c);r=r.insert(o,l)}).next(()=>r)}ss(t,e){let r=ds(),o=new rr(rt.comparator);return this.ns(t,e,(c,l)=>{const f=this.ts(c,l);r=r.insert(c,f),o=o.insert(c,gT(l))}).next(()=>({documents:r,rs:o}))}ns(t,e,r){if(e.isEmpty())return ue.resolve();let o=new dr(TF);e.forEach(m=>o=o.add(m));const c=IDBKeyRange.bound(mD(o.first()),mD(o.last())),l=o.getIterator();let f=l.getNext();return Kp(t).X({index:"documentKeyIndex",range:c},(m,v,x)=>{const I=rt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&TF(f,I)<0;)r(f,null),f=l.getNext();f&&f.isEqual(I)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?x.G(mD(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r,o){const c=e.path,l=[c.popLast().toArray(),c.lastSegment(),lT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(t).j(IDBKeyRange.bound(l,f,!0)).next(m=>{let v=ds();for(const x of m){const I=this.ts(rt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);I.isFoundDocument()&&(eD(e,I)||o.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(t,e,r,o){let c=ds();const l=bF(e,r),f=bF(e,Us.max());return Kp(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(m,v,x)=>{const I=this.ts(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);c=c.insert(I.key,I),c.size===o&&x.done()}).next(()=>c)}newChangeBuffer(t){return new j4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return wF(t).get("remoteDocumentGlobalKey").next(e=>(Tt(!!e),e))}Zn(t,e){return wF(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const r=function x4(n,t){let e;if(t.document)e=zR(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=rt.fromSegments(t.noDocument.path),o=Hp(t.noDocument.readTime);e=hr.newNoDocument(r,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const r=rt.fromSegments(t.unknownDocument.path),o=Hp(t.unknownDocument.version);e=hr.newUnknownDocument(r,o)}}return t.readTime&&e.setReadTime(function(r){const o=new wr(r[0],r[1]);return It.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return hr.newInvalidDocument(t)}}function EF(n){return new Z4(n)}class j4 extends CF{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new ad(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(t){const e=[];let r=0,o=new dr((c,l)=>Jt(c.canonicalString(),l.canonicalString()));return this.changes.forEach((c,l)=>{const f=this.us.get(c);if(e.push(this.os.removeEntry(t,c,f.readTime)),l.isValidDocument()){const m=eF(this.os.serializer,l);o=o.add(c.path.popLast()),r+=gT(m)-f.size,e.push(this.os.addEntry(t,c,m))}else if(r-=f.size,this.trackRemovals){const m=eF(this.os.serializer,l.convertToNoDocument(It.min()));e.push(this.os.addEntry(t,c,m))}}),o.forEach(c=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,c))}),e.push(this.os.updateMetadata(t,r)),ue.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(r=>(this.us.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:r,rs:o})=>(o.forEach((c,l)=>{this.us.set(c,{size:l,readTime:r.get(c).readTime})}),r))}}function wF(n){return Vi(n,"remoteDocumentGlobal")}function Kp(n){return Vi(n,"remoteDocumentsV14")}function mD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bF(n,t){const e=t.documentKey.path.toArray();return[n,lT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function TF(n,t){const e=n.path.toArray(),r=t.path.toArray();let o=0;for(let c=0;c<e.length-2&&c<r.length-2;++c)if(o=Jt(e[c],r[c]),o)return o;return o=Jt(e.length,r.length),o||(o=Jt(e[e.length-2],r[r.length-2]),o||Jt(e[e.length-1],r[r.length-1]))}class B4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class xF{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(null!==r&&iD(r.mutation,o,ls.empty(),wr.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=rn()){const o=Ru();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(c=>{let l=tD();return c.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const r=Ru();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,rn()))}populateOverlays(t,e,r){const o=[];return r.forEach(c=>{e.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((l,f)=>{e.set(l,f)})})}computeViews(t,e,r,o){let c=ds();const l=nD(),f=nD();return e.forEach((m,v)=>{const x=r.get(v.key);o.has(v.key)&&(void 0===x||x.mutation instanceof cd)?c=c.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),iD(x.mutation,v,x.mutation.getFieldMask(),wr.now())):l.set(v.key,ls.empty())}),this.recalculateAndSaveOverlays(t,c).next(m=>(m.forEach((v,x)=>l.set(v,x)),e.forEach((v,x)=>{var I;return f.set(v,new B4(x,null!==(I=l.get(v))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(t,e){const r=nD();let o=new rr((l,f)=>l-f),c=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let x=r.get(m)||ls.empty();x=f.applyToLocalView(v,x),r.set(m,x);const I=(o.get(f.batchId)||rn()).add(m);o=o.insert(f.batchId,I)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,x=m.value,I=yR();x.forEach(F=>{if(!c.has(F)){const j=IR(e.get(F),r.get(F));null!==j&&I.set(F,j),c=c.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(t,v,I))}return ue.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return rt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):$S(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var o}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(c=>{const l=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-c.size):ue.resolve(Ru());let f=-1,m=c;return l.next(v=>ue.forEach(v,(x,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),c.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(t,x).next(F=>{m=m.insert(x,F)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,m,v,rn())).next(x=>({batchId:f,changes:_R(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(r=>{let o=tD();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const o=e.collectionGroup;let c=tD();return this.indexManager.getCollectionParents(t,o).next(l=>ue.forEach(l,f=>{const m=(v=e,x=f.child(o),new sd(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(t,m,r).next(v=>{v.forEach((x,I)=>{c=c.insert(x,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o))).next(c=>{o.forEach((f,m)=>{const v=m.getKey();null===c.get(v)&&(c=c.insert(v,hr.newInvalidDocument(v)))});let l=tD();return c.forEach((f,m)=>{const v=o.get(f);void 0!==v&&iD(v.mutation,m,ls.empty(),wr.now()),eD(e,m)&&(l=l.insert(f,m))}),l})}}class H4{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ue.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:Wr(r.createTime)}),ue.resolve()}getNamedQuery(t,e){return ue.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(r=e).name,query:aM(r.bundledQuery),readTime:Wr(r.readTime)}),ue.resolve();var r}}class G4{constructor(){this.overlays=new rr(rt.comparator),this.ls=new Map}getOverlay(t,e){return ue.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ru();return ue.forEach(e,o=>this.getOverlay(t,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,c)=>{this.we(t,e,c)}),ue.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(t,e,r){const o=Ru(),c=e.length+1,l=new rt(e.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ue.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let c=new rr((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=c.get(v.largestBatchId);null===x&&(x=Ru(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=Ru(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return ue.resolve(f)}we(t,e,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new XS(e,r));let c=this.ls.get(e);void 0===c&&(c=rn(),this.ls.set(e,c)),this.ls.set(e,c.add(r.key))}}class pM{constructor(){this.fs=new dr(Zi.ds),this.ws=new dr(Zi._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const r=new Zi(t,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.ys(new Zi(t,e))}ps(t,e){t.forEach(r=>this.removeReference(r,e))}Is(t){const e=new rt(new bn([])),r=new Zi(e,t),o=new Zi(e,t+1),c=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),c.push(l.key)}),c}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new rt(new bn([])),r=new Zi(e,t),o=new Zi(e,t+1);let c=rn();return this.ws.forEachInRange([r,o],l=>{c=c.add(l.key)}),c}containsKey(t){const e=new Zi(t,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Zi{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return rt.comparator(t.key,e.key)||Jt(t.As,e.As)}static _s(t,e){return Jt(t.As,e.As)||rt.comparator(t.key,e.key)}}class q4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new dr(Zi.ds)}checkEmpty(t){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,o){const c=this.vs;this.vs++;const l=new YS(c,e,r,o);this.mutationQueue.push(l);for(const f of o)this.Rs=this.Rs.add(new Zi(f.key,c)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(t,e){return ue.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.bs(e+1),c=o<0?0:o;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Zi(e,0),o=new Zi(e,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,o],l=>{const f=this.Ps(l.As);c.push(f)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new dr(Jt);return e.forEach(o=>{const c=new Zi(o,0),l=new Zi(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,l],f=>{r=r.add(f.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let c=r;rt.isDocumentKey(c)||(c=c.child(""));const l=new Zi(new rt(c),0);let f=new dr(Jt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.As)),!0)},l),ue.resolve(this.Vs(f))}Vs(t){const e=[];return t.forEach(r=>{const o=this.Ps(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){Tt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(e.mutations,o=>{const c=new Zi(o.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,e){const r=new Zi(e,0),o=this.Rs.firstAfterOrEqual(r);return ue.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return ue.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class $4{constructor(t){this.Ds=t,this.docs=new rr(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),c=o?o.size:0,l=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:l}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ue.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(e))}getEntries(t,e){let r=ds();return e.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():hr.newInvalidDocument(o))}),ue.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let c=ds();const l=e.path,f=new rt(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||RS(NO(x),r)<=0||(o.has(x.key)||eD(e,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ue.resolve(c)}getAllFromCollectionGroup(t,e,r,o){ft()}Cs(t,e){return ue.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new z4(this)}getSize(t){return ue.resolve(this.size)}}class z4 extends CF{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.os.addEntry(t,o)):this.os.removeEntry(r)}),ue.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class K4{constructor(t){this.persistence=t,this.xs=new ad(e=>Up(e),Q0),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pM,this.targetCount=0,this.Ms=zp.kn()}forEachTarget(t,e){return this.xs.forEach((r,o)=>e(o)),ue.resolve()}getLastRemoteSnapshotVersion(t){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ue.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),ue.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new zp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ue.resolve()}updateTargetData(t,e){return this.Fn(e),ue.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ue.resolve()}removeTargets(t,e,r){let o=0;const c=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.xs.delete(l),c.push(this.removeMatchingKeysForTargetId(t,f.targetId)),o++)}),ue.waitFor(c).next(()=>o)}getTargetCount(t){return ue.resolve(this.targetCount)}getTargetData(t,e){const r=this.xs.get(e)||null;return ue.resolve(r)}addMatchingKeys(t,e,r){return this.ks.gs(e,r),ue.resolve()}removeMatchingKeys(t,e,r){this.ks.ps(e,r);const o=this.persistence.referenceDelegate,c=[];return o&&e.forEach(l=>{c.push(o.markPotentiallyOrphaned(t,l))}),ue.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ue.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ks.Es(e);return ue.resolve(r)}containsKey(t,e){return ue.resolve(this.ks.containsKey(e))}}class gM{constructor(t,e){this.$s={},this.overlays={},this.Os=new Vs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new K4(this),this.indexManager=new O4,this.remoteDocumentCache=new $4(r=>this.referenceDelegate.Ls(r)),this.serializer=new XR(e),this.qs=new H4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new G4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.$s[t.toKey()];return r||(r=new q4(e,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,r){Ze("MemoryPersistence","Starting transaction:",t);const o=new W4(this.Os.next());return this.referenceDelegate.Us(),r(o).next(c=>this.referenceDelegate.Ks(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gs(t,e){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,e)))}}class W4 extends OO{constructor(t){super(),this.currentSequenceNumber=t}}class yT{constructor(t){this.persistence=t,this.Qs=new pM,this.js=null}static zs(t){return new yT(t)}get Ws(){if(this.js)return this.js;throw ft()}addReference(t,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),ue.resolve()}removeReference(t,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ue.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const o=rt.fromPath(r);return this.Hs(t,o).next(c=>{c||e.removeEntry(o,It.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(r=>{r?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ue.or([()=>ue.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class J4{constructor(t){this.serializer=t}O(t,e,r,o){const c=new zb("createOrUpgrade",e);var f;r<1&&o>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0}),f.createObjectStore("documentMutations"),IF(t),function(f){f.createObjectStore("remoteDocuments")}(t));let l=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),IF(t)),l=l.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(c))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0});const x=m.store("mutations"),I=v.map(F=>x.put(F));return ue.waitFor(I)})}(t,c))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(c))),r<6&&o>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(c)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(c))),r<8&&o>=8&&(l=l.next(()=>this.ti(t,c))),r<9&&o>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&o>=10&&(l=l.next(()=>this.ei(c))),r<11&&o>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&o>=12&&(l=l.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:OV});m.createIndex("collectionPathOverlayIndex",RV,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",FV,{unique:!1})}(t)})),r<13&&o>=13&&(l=l.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:wV});m.createIndex("documentKeyIndex",bV),m.createIndex("collectionGroupIndex",TV)}(t)).next(()=>this.ni(t,c)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(t,c))),r<15&&o>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:MV}).createIndex("sequenceNumberIndex",kV,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:NV}).createIndex("documentKeyIndex",PV,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((r,o)=>{e+=gT(o)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.j().next(o=>ue.forEach(o,c=>{const l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>ue.forEach(f,m=>{Tt(m.userId===c.userId);const v=Gp(this.serializer,m);return pF(t,c.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.X((l,f)=>{const m=new bn(l),v=[0,vo(m)];c.push(e.get(v).next(x=>x?ue.resolve():e.put({targetId:0,path:vo(m),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(c))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:SV});const r=e.store("collectionParents"),o=new fM,c=l=>{if(o.add(l)){const f=l.lastSegment(),m=l.popLast();return r.put({collectionId:f,parent:vo(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,f)=>{const m=new bn(l);return c(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,f,m],v)=>{const x=Pu(f);return c(x.popLast())}))}ei(t){const e=t.store("targets");return e.X((r,o)=>{const c=dD(o),l=tF(this.serializer,c);return e.put(l)})}ni(t,e){const r=e.store("remoteDocuments"),o=[];return r.X((c,l)=>{const f=e.store("remoteDocumentsV14"),m=(v=l,v.document?new rt(bn.fromString(v.document.name).popFirst(5)):v.noDocument?rt.fromSegments(v.noDocument.path):v.unknownDocument?rt.fromSegments(v.unknownDocument.path):ft()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(f.put(x))}).next(()=>ue.waitFor(o))}si(t,e){const r=e.store("mutations"),o=EF(this.serializer),c=new gM(yT.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(m=>{var v;let x=null!==(v=f.get(m.userId))&&void 0!==v?v:rn();Gp(this.serializer,m).keys().forEach(I=>x=x.add(I)),f.set(m.userId,x)}),ue.forEach(f,(m,v)=>{const x=new Ui(v),I=dT.de(this.serializer,x),F=c.getIndexManager(x),j=mT.de(x,this.serializer,F,c.referenceDelegate);return new xF(o,j,I,F).recalculateAndSaveOverlaysForDocumentKeys(new US(e,Vs.ct),m).next()})})}}function IF(n){n.createObjectStore("targetDocuments",{keyPath:IV}).createIndex("documentTargetsIndex",AV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xV,{unique:!0}),n.createObjectStore("targetGlobal")}const mM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _M{constructor(t,e,r,o,c,l,f,m,v,x,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.ii=c,this.window=l,this.document=f,this.ri=v,this.oi=x,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!_M.D())throw new Re(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V4(this,o),this.di=e+"main",this.serializer=new XR(m),this.wi=new bc(this.di,this.ui,new J4(this.serializer)),this.Bs=new F4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EF(this.serializer),this.qs=new I4,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,mM);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Vs(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var r=(0,te.Z)(function*(o){if(e.started)return t(o)});return function(o){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,te.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,te.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>DT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Rh(t))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return _D(t).get("owner").next(e=>ue.resolve(this.Ri(e)))}Pi(t){return DT(t).delete(this.clientId)}bi(){var t=this;return(0,te.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vi(r,"clientMetadata");return o.j().next(c=>{const l=t.Si(c,18e5),f=c.filter(m=>-1===l.indexOf(m));return ue.forEach(f,m=>o.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t._i)for(const r of e)t._i.removeItem(t.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ue.resolve(!0):_D(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,mM);return!1}}return!(!this.networkEnabled||!this.inForeground)||DT(t).j().next(r=>void 0===this.Si(r,5e3).find(o=>{if(this.clientId!==o.clientId){const l=!this.inForeground&&o.inForeground,f=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||l&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,te.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new US(e,Vs.ct);return t.Ai(r).next(()=>t.Pi(r))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(r=>this.Vi(r.updateTimeMs,e)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>DT(t).j().next(e=>this.Si(e,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return mT.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new R4(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return dT.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,r){Ze("IndexedDbPersistence","Starting transaction:",t);const o="readonly"===e?"readonly":"readwrite",c=15===(l=this.ui)?UV:14===l?BO:13===l?jO:12===l?LV:11===l?ZO:void ft();var l;let f;return this.wi.runTransaction(t,o,c,m=>(f=new US(m,this.Os?this.Os.next():Vs.ct),"readwrite-primary"===e?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw Kr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ge.FAILED_PRECONDITION,PO);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(t){return _D(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(ge.FAILED_PRECONDITION,mM)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _D(t).put("owner",e)}static D(){return bc.D()}Ai(t){const e=_D(t);return e.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ue.resolve())}Vi(t,e){const r=Date.now();return!(t<r-e||t>r&&(Kr(`Detected an update time that is in the future: ${t} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Ht.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ze("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Kr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function _D(n){return Vi(n,"owner")}function DT(n){return Vi(n,"clientMetadata")}function yM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class vM{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Fi=r,this.Bi=o}static Li(t,e){let r=rn(),o=rn();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vM(t,e.fromCache,r,o)}}class AF{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,r,o){return this.Ki(t,e).next(c=>c||this.Gi(t,e,o,r)).next(c=>c||this.Qi(t,e))}Ki(t,e){if(hR(e))return ue.resolve(null);let r=jo(e);return this.indexManager.getIndexType(t,r).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=iT(e,null,"F"),r=jo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const l=rn(...c);return this.Ui.getDocuments(t,l).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const v=this.ji(e,f);return this.zi(e,v,l,m.readTime)?this.Ki(t,iT(e,null,"F")):this.Wi(t,v,e,m)}))})))}Gi(t,e,r,o){return hR(e)||o.isEqual(It.min())?this.Qi(t,e):this.Ui.getDocuments(t,r).next(c=>{const l=this.ji(e,c);return this.zi(e,l,r,o)?this.Qi(t,e):(NS()<=Dc.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),KS(e)),this.Wi(t,l,e,kO(o,-1)))})}ji(t,e){let r=new dr(gR(t));return e.forEach((o,c)=>{eD(t,c)&&(r=r.add(c))}),r}zi(t,e,r,o){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Qi(t,e){return NS()<=Dc.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",KS(e)),this.Ui.getDocumentsMatchingQuery(t,e,Us.min())}Wi(t,e,r,o){return this.Ui.getDocumentsMatchingQuery(t,r,o).next(c=>(e.forEach(l=>{c=c.insert(l.key,l)}),c))}}class Y4{constructor(t,e,r,o){this.persistence=t,this.Hi=e,this.serializer=o,this.Ji=new rr(Jt),this.Yi=new ad(c=>Up(c),Q0),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function SF(n,t,e,r){return new Y4(n,t,e,r)}function MF(n,t){return DM.apply(this,arguments)}function DM(){return DM=(0,te.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,e.tr(t),e.mutationQueue.getAllMutationBatches(r))).next(c=>{const l=[],f=[];let m=rn();for(const v of o){l.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of c){f.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return e.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),DM.apply(this,arguments)}function Q4(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),c=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const x=m.batch,I=x.keys();let F=ue.resolve();return I.forEach(j=>{F=F.next(()=>v.getEntry(f,j)).next(q=>{const ee=m.docVersions.get(j);Tt(null!==ee),q.version.compareTo(ee)<0&&(x.applyToRemoteDocument(q,m),q.isValidDocument()&&(q.setReadTime(m.commitVersion),v.addEntry(q)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=rn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function kF(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function X4(n,t){const e=ot(n),r=t.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const f=[];t.targetChanges.forEach((x,I)=>{const F=o.get(I);if(!F)return;f.push(e.Bs.removeMatchingKeys(c,x.removedDocuments,I).next(()=>e.Bs.addMatchingKeys(c,x.addedDocuments,I)));let j=F.withSequenceNumber(c.currentSequenceNumber);var q,ee,se;null!==t.targetMismatches.get(I)?j=j.withResumeToken(bi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),o=o.insert(I,j),ee=j,se=x,(0===(q=F).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&f.push(e.Bs.updateTargetData(c,j))});let m=ds(),v=rn();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(c,x))}),f.push(NF(c,l,t.documentUpdates).next(x=>{m=x.nr,v=x.sr})),!r.isEqual(It.min())){const x=e.Bs.getLastRemoteSnapshotVersion(c).next(I=>e.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(x)}return ue.waitFor(f).next(()=>l.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,m,v)).next(()=>m)}).then(c=>(e.Ji=o,c))}function NF(n,t,e){let r=rn(),o=rn();return e.forEach(c=>r=r.add(c)),t.getEntries(n,r).next(c=>{let l=ds();return e.forEach((f,m)=>{const v=c.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(It.min())?(t.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),l=l.insert(f,m)):Ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:o}})}function e8(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function E_(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Bs.getTargetData(r,t).next(c=>c?(o=c,ue.resolve(o)):e.Bs.allocateTargetId(r).next(l=>(o=new ud(t,l,"TargetPurposeListen",r.currentSequenceNumber),e.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(r.targetId,r),e.Yi.set(t,r.targetId)),r})}function w_(n,t,e){return CM.apply(this,arguments)}function CM(){return CM=(0,te.Z)(function*(n,t,e){const r=ot(n),o=r.Ji.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Rh(l))throw l;Ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(o.target)}),CM.apply(this,arguments)}function CT(n,t,e){const r=ot(n);let o=It.min(),c=rn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const x=ot(f),I=x.Yi.get(v);return void 0!==I?ue.resolve(x.Ji.get(I)):x.Bs.getTargetData(m,v)}(r,l,jo(t)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{c=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,t,e?o:It.min(),e?c:rn())).next(f=>(RF(r,pR(t),f),{documents:f,ir:c})))}function PF(n,t){const e=ot(n),r=ot(e.Bs),o=e.Ji.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",c=>r.le(c,t).next(l=>l?l.target:null))}function OF(n,t){const e=ot(n),r=e.Xi.get(t)||It.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,t,kO(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(RF(e,t,o),o))}function RF(n,t,e){let r=n.Xi.get(t)||It.min();e.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Xi.set(t,r)}function EM(){return EM=(0,te.Z)(function*(n,t,e,r){const o=ot(n);let c=rn(),l=ds();for(const v of e){const x=t.rr(v.metadata.name);v.document&&(c=c.add(x));const I=t.ur(v);I.setReadTime(t.cr(v.metadata.readTime)),l=l.insert(x,I)}const f=o.Zi.newChangeBuffer({trackRemovals:!0}),m=yield E_(o,(v=r,jo(f_(bn.fromString(`__bundle__/docs/${v}`)))));var v;return o.persistence.runTransaction("Apply bundle documents","readwrite",v=>NF(v,f,l).next(x=>(f.apply(v),x)).next(x=>o.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>o.Bs.addMatchingKeys(v,c,m.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),EM.apply(this,arguments)}function n8(n,t){return wM.apply(this,arguments)}function wM(){return wM=(0,te.Z)(function*(n,t,e=rn()){const r=yield E_(n,jo(aM(t.bundledQuery))),o=ot(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const l=Wr(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(c,t);const f=r.withResumeToken(bi.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(f.targetId,f),o.Bs.updateTargetData(c,f).next(()=>o.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Bs.addMatchingKeys(c,e,r.targetId)).next(()=>o.qs.saveNamedQuery(c,t))})}),wM.apply(this,arguments)}function FF(n,t){return`firestore_clients_${n}_${t}`}function LF(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function bM(n,t){return`firestore_targets_${n}_${t}`}class ET{constructor(t,e,r,o){this.user=t,this.batchId=e,this.state=r,this.error=o}static ar(t,e,r){const o=JSON.parse(r);let c,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(c=new Re(o.error.code,o.error.message))),l?new ET(t,e,o.state,c):(Kr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yD{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static ar(t,e){const r=JSON.parse(e);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Re(r.error.code,r.error.message))),c?new yD(t,r.state,o):(Kr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=WS();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=FO(r.activeTargetIds[l]),c=c.add(r.activeTargetIds[l]);return o?new wT(t,c):(Kr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class TM{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new TM(e.clientId,e.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class xM{constructor(){this.activeTargetIds=WS()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IM{constructor(t,e,r,o,c){this.window=t,this.ii=e,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new rr(Jt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=FF(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new xM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,te.Z)(function*(){const e=yield t.syncEngine.$i();for(const o of e){if(o===t.wr)continue;const c=t.getItem(FF(t.persistenceKey,o));if(c){const l=wT.ar(o,c);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const r=t.storage.getItem(t.vr);if(r){const o=t.br(r);o&&t.Vr(o)}for(const o of t.yr)t.mr(o);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,r){this.Dr(t,e,r),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(bM(this.persistenceKey,t));if(r){const o=yD.ar(t,r);o&&(e=o.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(bM(this.persistenceKey,t))}updateQueryState(t,e,r){this.kr(t,e,r)}handleUserChange(t,e,r){e.forEach(o=>{this.Cr(o)}),this.currentUser=t,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ze("SharedClientState","READ",t,e),e}setItem(t,e){Ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,te.Z)(function*(){if(e.started){if(null!==r.key)if(e.Tr.test(r.key)){if(null==r.newValue){const o=e.Or(r.key);return e.Fr(o,null)}{const o=e.Br(r.key,r.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(r.key)){if(null!==r.newValue){const o=e.Lr(r.key,r.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(r.key)){if(null!==r.newValue){const o=e.Ur(r.key,r.newValue);if(o)return e.Kr(o)}}else if(r.key===e.vr){if(null!==r.newValue){const o=e.br(r.newValue);if(o)return e.Vr(o)}}else if(r.key===e.Ir){const o=function(c){let l=Vs.ct;if(null!=c)try{const f=JSON.parse(c);Tt("number"==typeof f),l=f}catch(f){Kr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);o!==Vs.ct&&e.sequenceNumberHandler(o)}else if(r.key===e.Rr){const o=e.Gr(r.newValue);yield Promise.all(o.map(c=>e.syncEngine.Qr(c)))}}else e.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,r){const o=new ET(this.currentUser,t,e,r),c=LF(this.persistenceKey,this.currentUser,t);this.setItem(c,o.hr())}Cr(t){const e=LF(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,r){const o=bM(this.persistenceKey,t),c=new yD(t,e,r);this.setItem(o,c.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const r=this.Or(t);return wT.ar(r,e)}Lr(t,e){const r=this.Er.exec(t),o=Number(r[1]);return ET.ar(new Ui(void 0!==r[2]?r[2]:null),o,e)}Ur(t,e){const r=this.Ar.exec(t),o=Number(r[1]);return yD.ar(o,e)}br(t){return TM.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const r=e?this.gr.insert(t,e):this.gr.remove(t),o=this.Sr(this.gr),c=this.Sr(r),l=[],f=[];return c.forEach(m=>{o.has(m)||l.push(m)}),o.forEach(m=>{c.has(m)||f.push(m)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=WS();return t.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class UF{constructor(){this.Hr=new xM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,r){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new xM,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class r8{Yr(t){}shutdown(){}}class VF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bT=null;function AM(){return null===bT?bT=268435456+Math.round(2147483648*Math.random()):bT++,"0x"+bT.toString(16)}const i8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o8{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Co="WebChannelConnection";class s8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,r,o,c){const l=AM(),f=this.To(t,e);Ze("RestConnection",`Sending RPC '${t}' ${l}:`,f,r);const m={};return this.Eo(m,o,c),this.Ao(t,f,m,r).then(v=>(Ze("RestConnection",`Received RPC '${t}' ${l}: `,v),v),v=>{throw wa("RestConnection",`RPC '${t}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(t,e,r,o,c,l){return this.Io(t,e,r,o,c)}Eo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+a_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,c)=>t[c]=o),r&&r.headers.forEach((o,c)=>t[c]=o)}To(t,e){return`${this.mo}/v1/${e}:${i8[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,r,o){const c=AM();return new Promise((l,f)=>{const m=new rV;m.setWithCredentials(!0),m.listenOnce(eV.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case kS.NO_ERROR:const x=m.getResponseJson();Ze(Co,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(x)),l(x);break;case kS.TIMEOUT:Ze(Co,`RPC '${t}' ${c} timed out`),f(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case kS.HTTP_ERROR:const I=m.getStatus();if(Ze(Co,`RPC '${t}' ${c} failed with status:`,I,"response text:",m.getResponseText()),I>0){let F=m.getResponseJson();Array.isArray(F)&&(F=F[0]);const j=F?.error;if(j&&j.status&&j.message){const q=function(ee){const se=ee.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(se)>=0?se:ge.UNKNOWN}(j.status);f(new Re(q,j.message))}else f(new Re(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(Co,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(o);Ze(Co,`RPC '${t}' ${c} sending request:`,o),m.send(e,"POST",v,r,15)})}Ro(t,e,r){const o=AM(),c=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=QU(),f=XU(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new nV({})),this.Eo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const x=c.join("");Ze(Co,`Creating RPC '${t}' stream ${o}: ${x}`,m);const I=l.createWebChannel(x,m);let F=!1,j=!1;const q=new o8({ro:se=>{j?Ze(Co,`Not sending because RPC '${t}' stream ${o} is closed:`,se):(F||(Ze(Co,`Opening RPC '${t}' stream ${o} transport.`),I.open(),F=!0),Ze(Co,`RPC '${t}' stream ${o} sending:`,se),I.send(se))},oo:()=>I.close()}),ee=(se,Ve,Be)=>{se.listen(Ve,je=>{try{Be(je)}catch(We){setTimeout(()=>{throw We},0)}})};return ee(I,Gb.EventType.OPEN,()=>{j||Ze(Co,`RPC '${t}' stream ${o} transport opened.`)}),ee(I,Gb.EventType.CLOSE,()=>{j||(j=!0,Ze(Co,`RPC '${t}' stream ${o} transport closed`),q.wo())}),ee(I,Gb.EventType.ERROR,se=>{j||(j=!0,wa(Co,`RPC '${t}' stream ${o} transport errored:`,se),q.wo(new Re(ge.UNAVAILABLE,"The operation could not be completed")))}),ee(I,Gb.EventType.MESSAGE,se=>{var Ve;if(!j){const Be=se.data[0];Tt(!!Be);const je=Be,We=je.error||(null===(Ve=je[0])||void 0===Ve?void 0:Ve.error);if(We){Ze(Co,`RPC '${t}' stream ${o} received error:`,We);const Vt=We.status;let Zt=function(Sr){const Eo=ci[Sr];if(void 0!==Eo)return PR(Eo)}(Vt),Cn=We.message;void 0===Zt&&(Zt=ge.INTERNAL,Cn="Unknown error status: "+Vt+" with message "+We.message),j=!0,q.wo(new Re(Zt,Cn)),I.close()}else Ze(Co,`RPC '${t}' stream ${o} received:`,Be),q._o(Be)}}),ee(f,tV.STAT_EVENT,se=>{se.stat===TO.PROXY?Ze(Co,`RPC '${t}' stream ${o} detected buffering proxy`):se.stat===TO.NOPROXY&&Ze(Co,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function ZF(){return typeof window<"u"?window:null}function TT(){return typeof document<"u"?document:null}function vD(n){return new m4(n,!0)}class SM{constructor(t,e,r=1e3,o=1.5,c=6e4){this.ii=t,this.timerId=e,this.Po=r,this.bo=o,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jF{constructor(t,e,r,o,c,l,f,m){this.ii=t,this.$o=r,this.Oo=o,this.connection=c,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SM(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,te.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,te.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var r=this;return(0,te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==t?r.qo.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Kr(e.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):e&&e.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===e&&this.Zo(r,o)},r=>{t(()=>{const o=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(t,e){const r=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var t=this;this.state=5,this.qo.No((0,te.Z)(function*(){t.state=0,t.start()}))}tu(t){return Ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a8 extends jF{constructor(t,e,r,o,c,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,l),this.serializer=c}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function v4(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ft(),o=t.targetChange.targetIds||[],c=function(m,v){return m.useProto3Json?(Tt(void 0===v||"string"==typeof v),bi.fromBase64String(v||"")):(Tt(void 0===v||v instanceof Uint8Array),bi.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ge.UNKNOWN:PR(m.code);return new Re(v,m.message||"")}(l);e=new UR(r,o,c,f||null)}else if("documentChange"in t){const r=t.documentChange,o=Fu(n,r.document.name),c=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):It.min(),f=new ro({mapValue:{fields:r.document.fields}}),m=hr.newFoundDocument(o,c,l,f);e=new uT(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,o=Fu(n,r.document),c=r.readTime?Wr(r.readTime):It.min(),l=hr.newNoDocument(o,c);e=new uT([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const r=t.documentRemove,o=Fu(n,r.document);e=new uT([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return ft();{const r=t.filter,{count:o=0,unchangedNames:c}=r,l=new l4(o,c);e=new LR(r.targetId,l)}}var m;return e}(this.serializer,t),r=function(o){if(!("targetChange"in o))return It.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Wr(c.readTime):It.min()}(t);return this.listener.nu(e,r)}su(t){const e={};e.database=uD(this.serializer),e.addTarget=function(o,c){let l;const f=c.target;if(l=tT(f)?{documents:KR(o,f)}:{query:sM(o,f)},l.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){l.resumeToken=BR(o,c.resumeToken);const m=nM(o,c.expectedCount);null!==m&&(l.expectedCount=m)}else if(c.snapshotVersion.compareTo(It.min())>0){l.readTime=y_(o,c.snapshotVersion.toTimestamp());const m=nM(o,c.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,t);const r=function C4(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Wo(e)}iu(t){const e={};e.database=uD(this.serializer),e.removeTarget=t,this.Wo(e)}}class c8 extends jF{constructor(t,e,r,o,c,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,l),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function D4(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(r,o){let c=Wr(r.updateTime?r.updateTime:o);return c.isEqual(It.min())&&(c=Wr(o)),new s4(c,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Wr(t.commitTime);return this.listener.cu(r,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=uD(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>lD(this.serializer,r))};this.Wo(e)}}class u8 extends class{}{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Io(t,e,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ge.UNKNOWN,o.toString())})}vo(t,e,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.vo(t,e,r,c,l,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ge.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class d8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kr(e),this.mu=!1):Ze("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class h8{constructor(t,e,r,o,c){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(f=>{r.enqueueAndForget((0,te.Z)(function*(){var m;zh(l)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,te.Z)(function*(v){const x=ot(v);x.vu.add(4),yield b_(x),x.bu.set("Unknown"),x.vu.delete(4),yield DD(x)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new d8(r,o)}}function DD(n){return kM.apply(this,arguments)}function kM(){return kM=(0,te.Z)(function*(n){if(zh(n))for(const t of n.Ru)yield t(!0)}),kM.apply(this,arguments)}function b_(n){return NM.apply(this,arguments)}function NM(){return NM=(0,te.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),NM.apply(this,arguments)}function xT(n,t){const e=ot(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),RM(e)?OM(e):x_(e).Ko()&&PM(e,t))}function CD(n,t){const e=ot(n),r=x_(e);e.Au.delete(t),r.Ko()&&BF(e,t),0===e.Au.size&&(r.Ko()?r.jo():zh(e)&&e.bu.set("Unknown"))}function PM(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}x_(n).su(t)}function BF(n,t){n.Vu.qt(t),x_(n).iu(t)}function OM(n){n.Vu=new h4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),x_(n).start(),n.bu.gu()}function RM(n){return zh(n)&&!x_(n).Uo()&&n.Au.size>0}function zh(n){return 0===ot(n).vu.size}function HF(n){n.Vu=void 0}function f8(n){return FM.apply(this,arguments)}function FM(){return FM=(0,te.Z)(function*(n){n.Au.forEach((t,e)=>{PM(n,t)})}),FM.apply(this,arguments)}function p8(n,t){return LM.apply(this,arguments)}function LM(){return LM=(0,te.Z)(function*(n,t){HF(n),RM(n)?(n.bu.Iu(t),OM(n)):n.bu.set("Unknown")}),LM.apply(this,arguments)}function g8(n,t,e){return UM.apply(this,arguments)}function UM(){return UM=(0,te.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof UR&&2===t.state&&t.cause)try{yield(r=(0,te.Z)(function*(o,c){const l=c.cause;for(const f of c.targetIds)o.Au.has(f)&&(yield o.remoteSyncer.rejectListen(f,l),o.Au.delete(f),o.Vu.removeTarget(f))}),function(o,c){return r.apply(this,arguments)})(n,t)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield IT(n,r)}else if(t instanceof uT?n.Vu.Ht(t):t instanceof LR?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(It.min()))try{const r=yield kF(n.localStore);e.compareTo(r)>=0&&(yield function(o,c){const l=o.Vu.ce(c);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Au.get(m);v&&o.Au.set(m,v.withResumeToken(f.resumeToken,c))}}),l.targetMismatches.forEach((f,m)=>{const v=o.Au.get(f);if(!v)return;o.Au.set(f,v.withResumeToken(bi.EMPTY_BYTE_STRING,v.snapshotVersion)),BF(o,f);const x=new ud(v.target,f,m,v.sequenceNumber);PM(o,x)}),o.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield IT(n,r)}var r}),UM.apply(this,arguments)}function IT(n,t,e){return VM.apply(this,arguments)}function VM(){return VM=(0,te.Z)(function*(n,t,e){if(!Rh(t))throw t;n.vu.add(1),yield b_(n),n.bu.set("Offline"),e||(e=()=>kF(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield DD(n)}))}),VM.apply(this,arguments)}function GF(n,t){return t().catch(e=>IT(n,e,t))}function T_(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,te.Z)(function*(n){const t=ot(n),e=Kh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;m8(t);)try{const o=yield e8(t.localStore,r);if(null===o){0===t.Eu.length&&e.jo();break}r=o.batchId,_8(t,o)}catch(o){yield IT(t,o)}qF(t)&&$F(t)}),ZM.apply(this,arguments)}function m8(n){return zh(n)&&n.Eu.length<10}function _8(n,t){n.Eu.push(t);const e=Kh(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function qF(n){return zh(n)&&!Kh(n).Uo()&&n.Eu.length>0}function $F(n){Kh(n).start()}function y8(n){return jM.apply(this,arguments)}function jM(){return jM=(0,te.Z)(function*(n){Kh(n).hu()}),jM.apply(this,arguments)}function v8(n){return BM.apply(this,arguments)}function BM(){return BM=(0,te.Z)(function*(n){const t=Kh(n);for(const e of n.Eu)t.uu(e.mutations)}),BM.apply(this,arguments)}function D8(n,t,e){return HM.apply(this,arguments)}function HM(){return HM=(0,te.Z)(function*(n,t,e){const r=n.Eu.shift(),o=QS.from(r,t,e);yield GF(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield T_(n)}),HM.apply(this,arguments)}function C8(n,t){return GM.apply(this,arguments)}function GM(){return GM=(0,te.Z)(function*(n,t){var e;t&&Kh(n).ou&&(yield(e=(0,te.Z)(function*(r,o){if(NR(c=o.code)&&c!==ge.ABORTED){const l=r.Eu.shift();Kh(r).Qo(),yield GF(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield T_(r)}var c}),function(r,o){return e.apply(this,arguments)})(n,t)),qF(n)&&$F(n)}),GM.apply(this,arguments)}function zF(n,t){return qM.apply(this,arguments)}function qM(){return qM=(0,te.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=zh(e);e.vu.add(3),yield b_(e),r&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield DD(e)}),qM.apply(this,arguments)}function $M(n,t){return zM.apply(this,arguments)}function zM(){return zM=(0,te.Z)(function*(n,t){const e=ot(n);t?(e.vu.delete(2),yield DD(e)):t||(e.vu.add(2),yield b_(e),e.bu.set("Unknown"))}),zM.apply(this,arguments)}function x_(n){return n.Su||(n.Su=function(t,e,r){const o=ot(t);return o.fu(),new a8(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:f8.bind(null,n),ao:p8.bind(null,n),nu:g8.bind(null,n)}),n.Ru.push(function(){var t=(0,te.Z)(function*(e){e?(n.Su.Qo(),RM(n)?OM(n):n.bu.set("Unknown")):(yield n.Su.stop(),HF(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Kh(n){return n.Du||(n.Du=function(t,e,r){const o=ot(t);return o.fu(),new c8(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:y8.bind(null,n),ao:C8.bind(null,n),au:v8.bind(null,n),cu:D8.bind(null,n)}),n.Ru.push(function(){var t=(0,te.Z)(function*(e){e?(n.Du.Qo(),yield T_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class KM{constructor(t,e,r,o,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,r,o,c){const l=Date.now()+r,f=new KM(t,e,l,o,c);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I_(n,t){if(Kr("AsyncQueue",`${t}: ${n}`),Rh(n))return new Re(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class A_{constructor(t){this.comparator=t?(e,r)=>t(e,r)||rt.comparator(e.key,r.key):(e,r)=>rt.comparator(e.key,r.key),this.keyedMap=tD(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new A_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof A_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new A_;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class KF{constructor(){this.Cu=new rr(rt.comparator)}track(t){const e=t.doc.key,r=this.Cu.get(e);r?0!==t.type&&3===r.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Cu=this.Cu.remove(e):1===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ft():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,r)=>{t.push(r)}),t}}class S_{constructor(t,e,r,o,c,l,f,m,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,c){const l=[];return e.forEach(f=>{l.push({type:0,doc:f})}),new S_(t,e,A_.emptySet(e),l,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&X0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class E8{constructor(){this.Nu=void 0,this.listeners=[]}}class w8{constructor(){this.queries=new ad(t=>fR(t),X0),this.onlineState="Unknown",this.ku=new Set}}function WM(n,t){return JM.apply(this,arguments)}function JM(){return JM=(0,te.Z)(function*(n,t){const e=ot(n),r=t.query;let o=!1,c=e.queries.get(r);if(c||(o=!0,c=new E8),o)try{c.Nu=yield e.onListen(r)}catch(l){const f=I_(l,`Initialization of query '${KS(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,c),c.listeners.push(t),t.Mu(e.onlineState),c.Nu&&t.$u(c.Nu)&&XM(e)}),JM.apply(this,arguments)}function YM(n,t){return QM.apply(this,arguments)}function QM(){return QM=(0,te.Z)(function*(n,t){const e=ot(n),r=t.query;let o=!1;const c=e.queries.get(r);if(c){const l=c.listeners.indexOf(t);l>=0&&(c.listeners.splice(l,1),o=0===c.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)}),QM.apply(this,arguments)}function b8(n,t){const e=ot(n);let r=!1;for(const o of t){const l=e.queries.get(o.query);if(l){for(const f of l.listeners)f.$u(o)&&(r=!0);l.Nu=o}}r&&XM(e)}function T8(n,t,e){const r=ot(n),o=r.queries.get(t);if(o)for(const c of o.listeners)c.onError(e);r.queries.delete(t)}function XM(n){n.ku.forEach(t=>{t.next()})}class ek{constructor(t,e,r){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new S_(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=S_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class x8{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class WF{constructor(t){this.serializer=t}rr(t){return Fu(this.serializer,t)}ur(t){return t.metadata.exists?zR(this.serializer,t.document,!1):hr.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Wr(t)}}class I8{constructor(t,e,r){this.ju=t,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JF(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const r=bn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,r=new WF(this.serializer);for(const o of t)if(o.metadata.queries){const c=r.rr(o.metadata.name);for(const l of o.metadata.queries){const f=(e.get(l)||rn()).add(c);e.set(l,f)}}return e}complete(){var t=this;return(0,te.Z)(function*(){const e=yield function t8(n,t,e,r){return EM.apply(this,arguments)}(t.localStore,new WF(t.serializer),t.documents,t.ju.id),r=t.Wu(t.documents);for(const o of t.queries)yield n8(t.localStore,o,r.get(o.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function JF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YF{constructor(t){this.key=t}}class QF{constructor(t){this.key=t}}class XF{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=gR(t),this.ec=new A_(this.tc)}get nc(){return this.Yu}sc(t,e){const r=e?e.ic:new KF,o=e?e.ec:this.ec;let c=e?e.mutatedKeys:this.mutatedKeys,l=o,f=!1;const m="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,v="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((x,I)=>{const F=o.get(x),j=eD(this.query,I)?I:null,q=!!F&&this.mutatedKeys.has(F.key),ee=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let se=!1;F&&j?F.data.isEqual(j.data)?q!==ee&&(r.track({type:3,doc:j}),se=!0):this.rc(F,j)||(r.track({type:2,doc:j}),se=!0,(m&&this.tc(j,m)>0||v&&this.tc(j,v)<0)&&(f=!0)):!F&&j?(r.track({type:0,doc:j}),se=!0):F&&!j&&(r.track({type:1,doc:F}),se=!0,(m||v)&&(f=!0)),se&&(j?(l=l.add(j),c=ee?c.add(x):c.delete(x)):(l=l.delete(x),c=c.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:f,mutatedKeys:c}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const o=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const c=t.ic.xu();c.sort((v,x)=>function(I,F){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return j(I)-j(F)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(r);const l=e?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==c.length||m?{snapshot:new S_(this.query,t.ec,o,c,t.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new KF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=rn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const e=[];return t.forEach(r=>{this.Zu.has(r)||e.push(new QF(r))}),this.Zu.forEach(r=>{t.has(r)||e.push(new YF(r))}),e}hc(t){this.Yu=t.ir,this.Zu=rn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return S_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class A8{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class S8{constructor(t){this.key=t,this.fc=!1}}class M8{constructor(t,e,r,o,c,l){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ad(f=>fR(f),X0),this._c=new Map,this.mc=new Set,this.gc=new rr(rt.comparator),this.yc=new Map,this.Ic=new pM,this.Tc={},this.Ec=new Map,this.Ac=zp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function k8(n,t){return tk.apply(this,arguments)}function tk(){return tk=(0,te.Z)(function*(n,t){const e=bk(n);let r,o;const c=e.wc.get(t);if(c)r=c.targetId,e.sharedClientState.addLocalQueryTarget(r),o=c.view.lc();else{const l=yield E_(e.localStore,jo(t)),f=e.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield nk(e,t,r,"current"===f,l.resumeToken),e.isPrimaryClient&&xT(e.remoteStore,l)}return o}),tk.apply(this,arguments)}function nk(n,t,e,r,o){return rk.apply(this,arguments)}function rk(){return rk=(0,te.Z)(function*(n,t,e,r,o){n.Rc=(I,F,j)=>{return(q=(0,te.Z)(function*(ee,se,Ve,Be){let je=se.view.sc(Ve);je.zi&&(je=yield CT(ee.localStore,se.query,!1).then(({documents:Zt})=>se.view.sc(Zt,je)));const We=Be&&Be.targetChanges.get(se.targetId),Vt=se.view.applyChanges(je,ee.isPrimaryClient,We);return fk(ee,se.targetId,Vt.cc),Vt.snapshot}),function(ee,se,Ve,Be){return q.apply(this,arguments)})(n,I,F,j);var q};const c=yield CT(n.localStore,t,!0),l=new XF(t,c.ir),f=l.sc(c.documents),m=aD.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,o),v=l.applyChanges(f,n.isPrimaryClient,m);fk(n,e,v.cc);const x=new A8(t,e,l);return n.wc.set(t,x),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),rk.apply(this,arguments)}function N8(n,t){return ik.apply(this,arguments)}function ik(){return ik=(0,te.Z)(function*(n,t){const e=ot(n),r=e.wc.get(t),o=e._c.get(r.targetId);if(o.length>1)return e._c.set(r.targetId,o.filter(c=>!X0(c,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield w_(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),CD(e.remoteStore,r.targetId),M_(e,r.targetId)}).catch(Oh))):(M_(e,r.targetId),yield w_(e.localStore,r.targetId,!0))}),ik.apply(this,arguments)}function ok(){return ok=(0,te.Z)(function*(n,t,e){const r=Tk(n);try{const o=yield function(c,l){const f=ot(c),m=wr.now(),v=l.reduce((F,j)=>F.add(j.key),rn());let x,I;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let j=ds(),q=rn();return f.Zi.getEntries(F,v).next(ee=>{j=ee,j.forEach((se,Ve)=>{Ve.isValidDocument()||(q=q.add(se))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,j)).next(ee=>{x=ee;const se=[];for(const Ve of l){const Be=c4(Ve,x.get(Ve.key).overlayedDocument);null!=Be&&se.push(new cd(Ve.key,Be,XO(Be.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(F,m,se,l)}).next(ee=>{I=ee;const se=ee.applyToLocalDocumentSet(x,q);return f.documentOverlayCache.saveOverlays(F,ee.batchId,se)})}).then(()=>({batchId:I.batchId,changes:_R(x)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(c,l,f){let m=c.Tc[c.currentUser.toKey()];m||(m=new rr(Jt)),m=m.insert(l,f),c.Tc[c.currentUser.toKey()]=m}(r,o.batchId,e),yield ld(r,o.changes),yield T_(r.remoteStore)}catch(o){const c=I_(o,"Failed to persist write");e.reject(c)}}),ok.apply(this,arguments)}function e3(n,t){return sk.apply(this,arguments)}function sk(){return sk=(0,te.Z)(function*(n,t){const e=ot(n);try{const r=yield X4(e.localStore,t);t.targetChanges.forEach((o,c)=>{const l=e.yc.get(c);l&&(Tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?Tt(l.fc):o.removedDocuments.size>0&&(Tt(l.fc),l.fc=!1))}),yield ld(e,r,t)}catch(r){yield Oh(r)}}),sk.apply(this,arguments)}function t3(n,t,e){const r=ot(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.wc.forEach((c,l)=>{const f=l.view.Mu(t);f.snapshot&&o.push(f.snapshot)}),function(c,l){const f=ot(c);f.onlineState=l;let m=!1;f.queries.forEach((v,x)=>{for(const I of x.listeners)I.Mu(l)&&(m=!0)}),m&&XM(f)}(r.eventManager,t),o.length&&r.dc.nu(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function O8(n,t,e){return ak.apply(this,arguments)}function ak(){return ak=(0,te.Z)(function*(n,t,e){const r=ot(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.yc.get(t),c=o&&o.key;if(c){let l=new rr(rt.comparator);l=l.insert(c,hr.newNoDocument(c,It.min()));const f=rn().add(c),m=new sD(It.min(),new Map,new rr(Jt),l,f);yield e3(r,m),r.gc=r.gc.remove(c),r.yc.delete(t),pk(r)}else yield w_(r.localStore,t,!1).then(()=>M_(r,t,e)).catch(Oh)}),ak.apply(this,arguments)}function R8(n,t){return ck.apply(this,arguments)}function ck(){return ck=(0,te.Z)(function*(n,t){const e=ot(n),r=t.batch.batchId;try{const o=yield Q4(e.localStore,t);hk(e,r,null),dk(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield ld(e,o)}catch(o){yield Oh(o)}}),ck.apply(this,arguments)}function F8(n,t,e){return uk.apply(this,arguments)}function uk(){return uk=(0,te.Z)(function*(n,t,e){const r=ot(n);try{const o=yield function(c,l){const f=ot(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(x=>(Tt(null!==x),v=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,t);hk(r,t,e),dk(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield ld(r,o)}catch(o){yield Oh(o)}}),uk.apply(this,arguments)}function lk(){return lk=(0,te.Z)(function*(n,t){const e=ot(n);zh(e.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const l=ot(c);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===r)return void t.resolve();const o=e.Ec.get(r)||[];o.push(t),e.Ec.set(r,o)}catch(r){const o=I_(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),lk.apply(this,arguments)}function dk(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function hk(n,t,e){const r=ot(n);let o=r.Tc[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(e?c.reject(e):c.resolve(),o=o.remove(t)),r.Tc[r.currentUser.toKey()]=o}}function M_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n._c.get(t))n.wc.delete(r),e&&n.dc.Pc(r,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(r=>{n.Ic.containsKey(r)||n3(n,r)})}function n3(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(CD(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),pk(n))}function fk(n,t,e){for(const r of e)r instanceof YF?(n.Ic.addReference(r.key,t),U8(n,r)):r instanceof QF?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,t),n.Ic.containsKey(r.key)||n3(n,r.key)):ft()}function U8(n,t){const e=t.key,r=e.path.canonicalString();n.gc.get(e)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+e),n.mc.add(r),pk(n))}function pk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new rt(bn.fromString(t)),r=n.Ac.next();n.yc.set(r,new S8(e)),n.gc=n.gc.insert(e,r),xT(n.remoteStore,new ud(jo(f_(e.path)),r,"TargetPurposeLimboResolution",Vs.ct))}}function ld(n,t,e){return gk.apply(this,arguments)}function gk(){return gk=(0,te.Z)(function*(n,t,e){const r=ot(n),o=[],c=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,t,e).then(v=>{if((v||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){o.push(v);const x=vM.Li(m.targetId,v);c.push(x)}}))}),yield Promise.all(l),r.dc.nu(o),yield(f=(0,te.Z)(function*(m,v){const x=ot(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(v,F=>ue.forEach(F.Fi,j=>x.persistence.referenceDelegate.addReference(I,F.targetId,j)).next(()=>ue.forEach(F.Bi,j=>x.persistence.referenceDelegate.removeReference(I,F.targetId,j)))))}catch(I){if(!Rh(I))throw I;Ze("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const F=I.targetId;if(!I.fromCache){const j=x.Ji.get(F),ee=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);x.Ji=x.Ji.insert(F,ee)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,c))}),gk.apply(this,arguments)}function V8(n,t){return mk.apply(this,arguments)}function mk(){return mk=(0,te.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){Ze("SyncEngine","User change. New user:",t.toKey());const r=yield MF(e.localStore,t);e.currentUser=t,(o=e).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Re(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield ld(e,r.er)}var o}),mk.apply(this,arguments)}function Z8(n,t){const e=ot(n),r=e.yc.get(t);if(r&&r.fc)return rn().add(r.key);{let o=rn();const c=e._c.get(t);if(!c)return o;for(const l of c){const f=e.wc.get(l);o=o.unionWith(f.view.nc)}return o}}function j8(n,t){return _k.apply(this,arguments)}function _k(){return _k=(0,te.Z)(function*(n,t){const e=ot(n),r=yield CT(e.localStore,t.query,!0),o=t.view.hc(r);return e.isPrimaryClient&&fk(e,t.targetId,o.cc),o}),_k.apply(this,arguments)}function B8(n,t){return yk.apply(this,arguments)}function yk(){return yk=(0,te.Z)(function*(n,t){const e=ot(n);return OF(e.localStore,t).then(r=>ld(e,r))}),yk.apply(this,arguments)}function H8(n,t,e,r){return vk.apply(this,arguments)}function vk(){return vk=(0,te.Z)(function*(n,t,e,r){const o=ot(n),c=yield function(l,f){const m=ot(l),v=ot(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,f).next(I=>I?m.localDocuments.getDocuments(x,I):ue.resolve(null)))}(o.localStore,t);var f;null!==c?("pending"===e?yield T_(o.remoteStore):"acknowledged"===e||"rejected"===e?(hk(o,t,r||null),dk(o,t),f=t,ot(ot(o.localStore).mutationQueue).Cn(f)):ft(),yield ld(o,c)):Ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),vk.apply(this,arguments)}function Dk(){return Dk=(0,te.Z)(function*(n,t){const e=ot(n);if(bk(e),Tk(e),!0===t&&!0!==e.vc){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield r3(e,r.toArray());e.vc=!0,yield $M(e.remoteStore,!0);for(const c of o)xT(e.remoteStore,c)}else if(!1===t&&!1!==e.vc){const r=[];let o=Promise.resolve();e._c.forEach((c,l)=>{e.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(M_(e,l),w_(e.localStore,l,!0))),CD(e.remoteStore,l)}),yield o,yield r3(e,r),function(c){const l=ot(c);l.yc.forEach((f,m)=>{CD(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new rr(rt.comparator)}(e),e.vc=!1,yield $M(e.remoteStore,!1)}}),Dk.apply(this,arguments)}function r3(n,t,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,te.Z)(function*(n,t,e){const r=ot(n),o=[],c=[];for(const l of t){let f;const m=r._c.get(l);if(m&&0!==m.length){f=yield E_(r.localStore,jo(m[0]));for(const v of m){const x=r.wc.get(v),I=yield j8(r,x);I.snapshot&&c.push(I.snapshot)}}else{const v=yield PF(r.localStore,l);f=yield E_(r.localStore,v),yield nk(r,i3(v),l,!1,f.resumeToken)}o.push(f)}return r.dc.nu(c),o}),Ck.apply(this,arguments)}function i3(n){return dR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function q8(n){const t=ot(n);return ot(ot(t.localStore).persistence).$i()}function $8(n,t,e,r){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,te.Z)(function*(n,t,e,r){const o=ot(n);if(o.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const c=o._c.get(t);if(c&&c.length>0)switch(e){case"current":case"not-current":{const l=yield OF(o.localStore,pR(c[0])),f=sD.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,bi.EMPTY_BYTE_STRING);yield ld(o,l,f);break}case"rejected":yield w_(o.localStore,t,!0),M_(o,t,r);break;default:ft()}}),Ek.apply(this,arguments)}function z8(n,t,e){return wk.apply(this,arguments)}function wk(){return wk=(0,te.Z)(function*(n,t,e){const r=bk(n);if(r.vc){for(const o of t){if(r._c.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const c=yield PF(r.localStore,o),l=yield E_(r.localStore,c);yield nk(r,i3(c),l.targetId,!1,l.resumeToken),xT(r.remoteStore,l)}for(const o of e)r._c.has(o)&&(yield w_(r.localStore,o,!1).then(()=>{CD(r.remoteStore,o),M_(r,o)}).catch(Oh))}}),wk.apply(this,arguments)}function bk(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=e3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=O8.bind(null,t),t.dc.nu=b8.bind(null,t.eventManager),t.dc.Pc=T8.bind(null,t.eventManager),t}function Tk(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=F8.bind(null,t),t}class ED{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,te.Z)(function*(){e.serializer=vD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return SF(this.persistence,new AF,t.initialUser,this.serializer)}createPersistence(t){return new gM(yT.zs,this.serializer)}createSharedClientState(t){return new UF}terminate(){var t=this;return(0,te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class xk extends ED{constructor(t,e,r){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,te.Z)(function*(){yield e().call(r,t),yield r.Vc.initialize(r,t),yield Tk(r.Vc.syncEngine),yield T_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return SF(this.persistence,new AF,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new vF(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const r=new DV(e,this.persistence);return new vV(t.asyncQueue,r)}createPersistence(t){const e=yM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new _M(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,ZF(),TT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new UF}}class o3 extends xk{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,te.Z)(function*(){yield e().call(r,t);const o=r.Vc.syncEngine;r.sharedClientState instanceof IM&&(r.sharedClientState.syncEngine={jr:H8.bind(null,o),zr:$8.bind(null,o),Wr:z8.bind(null,o),$i:q8.bind(null,o),Qr:B8.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,te.Z)(function*(l){yield function G8(n,t){return Dk.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return c.apply(this,arguments)}}())})()}createSharedClientState(t){const e=ZF();if(!IM.D(e))throw new Re(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new IM(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class k_{initialize(t,e){var r=this;return(0,te.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>t3(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,r.syncEngine),yield $M(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new w8}createDatastore(t){const e=vD(t.databaseInfo.databaseId),r=new s8(t.databaseInfo);return new u8(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,o=t.asyncQueue,c=f=>t3(this.syncEngine,f,0),l=VF.D()?new VF:new r8,new h8(e,r,o,c,l);var e,r,o,c,l}createSyncEngine(t,e){return function(r,o,c,l,f,m,v){const x=new M8(r,o,c,l,f,m);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,te.Z)(function*(e){const r=ot(e);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield b_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function s3(n,t=10240){let e=0;return{read:()=>(0,te.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class AT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Kr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class J8{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new wi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,te.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,te.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,te.Z)(function*(){const e=yield t.kc();if(null===e)return null;const r=t.xc.decode(e),o=Number(r);isNaN(o)&&t.Mc(`length string (${r}) is not valid number`);const c=yield t.$c(o);return new x8(JSON.parse(c),e.length+o)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,te.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}$c(t){var e=this;return(0,te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const r=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,te.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class Y8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,te.Z)(function*(c,l){const f=ot(c),m=uD(f.serializer)+"/documents",v={documents:l.map(j=>cD(f.serializer,j))},x=yield f.vo("BatchGetDocuments",m,v,l.length),I=new Map;x.forEach(j=>{const q=function y4(n,t){return"found"in t?function(e,r){Tt(!!r.found);const o=Fu(e,r.found.name),c=Wr(r.found.updateTime),l=r.found.createTime?Wr(r.found.createTime):It.min(),f=new ro({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(o,c,l,f)}(n,t):"missing"in t?function(e,r){Tt(!!r.missing),Tt(!!r.readTime);const o=Fu(e,r.missing),c=Wr(r.readTime);return hr.newNoDocument(o,c)}(n,t):ft()}(f.serializer,j);I.set(q.key.toString(),q)});const F=[];return l.forEach(j=>{const q=I.get(j.toString());Tt(!!q),F.push(q)}),F}),function(c,l){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new __(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const c=rt.fromPath(o);t.mutations.push(new JS(c,t.precondition(c)))}),yield(r=(0,te.Z)(function*(o,c){const l=ot(o),f=uD(l.serializer)+"/documents",m={writes:c.map(v=>lD(l.serializer,v))};yield l.Io("Commit",f,m)}),function(o,c){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=It.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Re(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(It.min())?br.exists(!1):br.updateTime(e):br.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(It.min()))throw new Re(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(e)}return br.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Q8{constructor(t,e,r,o,c){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new SM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,te.Z)(function*(){const e=new Y8(t.datastore),r=t.qc(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(c=>{t.Uc(c)}))}).catch(o=>{t.Uc(o)})}))}qc(t){try{const e=this.updateFunction(t);return!$0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!NR(e)}return!1}}class X8{constructor(t,e,r,o){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Ui.UNAUTHENTICATED,this.clientId=SO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,te.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=I_(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function ST(n,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,te.Z)(function*(c){r.isEqual(c)||(yield MF(t.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Ik.apply(this,arguments)}function Ak(n,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Mk(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(o=>zF(t.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>zF(t.remoteStore,c)),n._onlineComponents=t}),Sk.apply(this,arguments)}function a3(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Mk(n){return kk.apply(this,arguments)}function kk(){return kk=(0,te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ST(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!a3(e))throw e;wa("Error using user provided cache. Falling back to memory cache: "+e),yield ST(n,new ED)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield ST(n,new ED);return n._offlineComponents}),kk.apply(this,arguments)}function MT(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ak(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield Ak(n,new k_))),n._onlineComponents}),Nk.apply(this,arguments)}function c3(n){return Mk(n).then(t=>t.persistence)}function kT(n){return Mk(n).then(t=>t.localStore)}function u3(n){return MT(n).then(t=>t.remoteStore)}function Pk(n){return MT(n).then(t=>t.syncEngine)}function N_(n){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,te.Z)(function*(n){const t=yield MT(n),e=t.eventManager;return e.onListen=k8.bind(null,t.syncEngine),e.onUnlisten=N8.bind(null,t.syncEngine),e}),Ok.apply(this,arguments)}function d3(n,t,e={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,c,l,f,m){const v=new AT({next:I=>{c.enqueueAndForget(()=>YM(o,x));const F=I.docs.has(l);!F&&I.fromCache?m.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&f&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new ek(f_(l.path),v,{includeMetadataChanges:!0,Ku:!0});return WM(o,x)}(yield N_(n),n.asyncQueue,t,e,r)})),r.promise}function h3(n,t,e={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,c,l,f,m){const v=new AT({next:I=>{c.enqueueAndForget(()=>YM(o,x)),I.fromCache&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new ek(l,v,{includeMetadataChanges:!0,Ku:!0});return WM(o,x)}(yield N_(n),n.asyncQueue,t,e,r)})),r.promise}function f3(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const p3=new Map;function Rk(n,t,e){if(!e)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function g3(n,t,e,r){if(!0===t&&!0===r)throw new Re(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function m3(n){if(!rt.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _3(n){if(rt.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=NT(n);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function y3(n,t){if(t<=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class v3{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=f3(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wD{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new aV;switch(e.type){case"firstParty":return new dV(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=p3.get(t);e&&(Ze("ComponentProvider","Removing Datastore"),p3.delete(t),e.terminate())}(this),Promise.resolve()}}class fr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}}class io{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new io(this.firestore,t,this._query)}}class Lu extends io{constructor(t,e,r){super(t,e,f_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new rt(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function C3(n,t,...e){if(n=(0,Ht.m9)(n),Rk("collection","path",t),n instanceof wD){const r=bn.fromString(t,...e);return _3(r),new Lu(n,null,r)}{if(!(n instanceof fr||n instanceof Lu))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return _3(r),new Lu(n.firestore,null,r)}}function PT(n,t,...e){if(n=(0,Ht.m9)(n),1===arguments.length&&(t=SO.A()),Rk("doc","path",t),n instanceof wD){const r=bn.fromString(t,...e);return m3(r),new fr(n,null,new rt(r))}{if(!(n instanceof fr||n instanceof Lu))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return m3(r),new fr(n.firestore,n instanceof Lu?n.converter:null,new rt(r))}}function E3(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),(n instanceof fr||n instanceof Lu)&&(t instanceof fr||t instanceof Lu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Fk(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),n instanceof io&&t instanceof io&&n.firestore===t.firestore&&X0(n._query,t._query)&&n.converter===t.converter}class uZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SM(this,"async_queue_retry"),this.Xc=()=>{const e=TT();e&&Ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=TT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=TT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new wi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,te.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Rh(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{throw this.Wc=r,this.Hc=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(c){let l=c.message||"";return c.stack&&(l=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=e,e}enqueueAfterDelay(t,e,r){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const o=KM.createAndSchedule(this,t,e,r,c=>this.na(c));return this.zc.push(o),o}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var t=this;return(0,te.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function Lk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class lZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pr extends wD{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new uZ,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w3(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||w3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function w3(n){var t,e,r;const o=n._freezeSettings(),c=(f=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new jV(n._databaseId,f,n._persistenceKey,(v=o).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,f3(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new X8(n._authCredentials,n._appCheckCredentials,n._queue,c),(null===(e=o.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(r=o.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function b3(n,t,e){const r=new wi;return n.asyncQueue.enqueue((0,te.Z)(function*(){try{yield ST(n,e),yield Ak(n,t),r.resolve()}catch(o){const c=o;if(!a3(c))throw c;wa("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function T3(n){if(n._initialized||n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Uu(bi.fromBase64String(t))}catch(e){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Uu(bi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wp{constructor(t){this._methodName=t}}class OT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}const CZ=/^__.*__$/;class EZ{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new cd(t,this.data,this.fieldMask,e,this.fieldTransforms):new m_(t,this.data,e,this.fieldTransforms)}}class x3{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new cd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function I3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class RT{constructor(t,e,r,o,c,l){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new RT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:r,la:!1});return o.fa(t),o}da(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:r,la:!1});return o.ua(),o}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return UT(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(I3(this.ca)&&CZ.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class wZ{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||vD(t)}ya(t,e,r,o=!1){return new RT({ca:t,methodName:e,ga:r,path:Vr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(n){const t=n._freezeSettings(),e=vD(n._databaseId);return new wZ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function FT(n,t,e,r,o,c={}){const l=n.ya(c.merge||c.mergeFields?2:0,t,e,o);jk("Data must be an object, but it was:",l,r);const f=M3(r,l);let m,v;if(c.merge)m=new ls(l.fieldMask),v=l.fieldTransforms;else if(c.mergeFields){const x=[];for(const I of c.mergeFields){const F=xD(t,I,e);if(!l.contains(F))throw new Re(ge.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);N3(x,F)||x.push(F)}m=new ls(x),v=l.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=l.fieldTransforms;return new EZ(new ro(f),m,v)}class TD extends Wp{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof TD}}function A3(n,t,e){return new RT({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Uk extends Wp{_toFieldTransform(t){return new rD(t.path,new p_)}isEqual(t){return t instanceof Uk}}class bZ extends Wp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=A3(this,t,!0),r=this.pa.map(c=>Yp(c,e)),o=new Zp(r);return new rD(t.path,o)}isEqual(t){return this===t}}class TZ extends Wp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=A3(this,t,!0),r=this.pa.map(c=>Yp(c,e)),o=new jp(r);return new rD(t.path,o)}isEqual(t){return this===t}}class xZ extends Wp{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new g_(t.serializer,CR(t.serializer,this.Ia));return new rD(t.path,e)}isEqual(t){return this===t}}function Vk(n,t,e,r){const o=n.ya(1,t,e);jk("Data must be an object, but it was:",o,r);const c=[],l=ro.empty();Fh(r,(m,v)=>{const x=LT(t,m,e);v=(0,Ht.m9)(v);const I=o.da(x);if(v instanceof TD)c.push(x);else{const F=Yp(v,I);null!=F&&(c.push(x),l.set(x,F))}});const f=new ls(c);return new x3(l,f,o.fieldTransforms)}function Zk(n,t,e,r,o,c){const l=n.ya(1,t,e),f=[xD(t,r,e)],m=[o];if(c.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<c.length;F+=2)f.push(xD(t,c[F])),m.push(c[F+1]);const v=[],x=ro.empty();for(let F=f.length-1;F>=0;--F)if(!N3(v,f[F])){const j=f[F];let q=m[F];q=(0,Ht.m9)(q);const ee=l.da(j);if(q instanceof TD)v.push(j);else{const se=Yp(q,ee);null!=se&&(v.push(j),x.set(j,se))}}const I=new ls(v);return new x3(x,I,l.fieldTransforms)}function S3(n,t,e,r=!1){return Yp(e,n.ya(r?4:3,t))}function Yp(n,t){if(k3(n=(0,Ht.m9)(n)))return jk("Unsupported field value:",t,n),M3(n,t);if(n instanceof Wp)return function(e,r){if(!I3(r.ca))throw r._a(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,r){const o=[];let c=0;for(const l of e){let f=Yp(l,r.wa(c));null==f&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if(null===(e=(0,Ht.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return CR(r.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=wr.fromDate(e);return{timestampValue:y_(r.serializer,o)}}if(e instanceof wr){const o=new wr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:y_(r.serializer,o)}}if(e instanceof OT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Uu)return{bytesValue:BR(r.serializer,e._byteString)};if(e instanceof fr){const o=r.databaseId,c=e.firestore._databaseId;if(!c.isEqual(o))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rM(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r._a(`Unsupported field value: ${NT(e)}`)}(n,t)}function M3(n,t){const e={};return GO(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fh(n,(r,o)=>{const c=Yp(o,t.ha(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function k3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof OT||n instanceof Uu||n instanceof fr||n instanceof Wp)}function jk(n,t,e){if(!k3(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=NT(e);throw t._a("an object"===r?n+" a custom object":n+" "+r)}var r}function xD(n,t,e){if((t=(0,Ht.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return LT(n,t);throw UT("Field path arguments must be of type string or ",n,!1,void 0,e)}const IZ=new RegExp("[~\\*/\\[\\]]");function LT(n,t,e){if(t.search(IZ)>=0)throw UT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw UT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function UT(n,t,e,r,o){const c=r&&!r.isEmpty(),l=void 0!==o;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(c||l)&&(m+=" (found",c&&(m+=` in field ${r}`),l&&(m+=` in document ${o}`),m+=")"),new Re(ge.INVALID_ARGUMENT,f+n+m)}function N3(n,t){return n.some(e=>e.isEqual(t))}class ID{constructor(t,e,r,o,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new AZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(VT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class AZ extends ID{data(){return super.data()}}function VT(n,t){return"string"==typeof t?LT(n,t):t instanceof dd?t._internalPath:t._delegate._internalPath}function P3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bk{}class AD extends Bk{}function Wh(n,t,...e){let r=[];t instanceof Bk&&r.push(t),r=r.concat(e),function(o){const c=o.filter(f=>f instanceof P_).length,l=o.filter(f=>f instanceof SD).length;if(c>1||c>0&&l>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class SD extends AD{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new SD(t,e,r)}_apply(t){const e=this._parse(t);return L3(t._query,e),new io(t.firestore,t.converter,zS(t._query,e))}_parse(t){const e=Jp(t.firestore);return function(o,c,l,f,m,v,x){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){F3(x,v);const F=[];for(const j of x)F.push(R3(f,o,j));I={arrayValue:{values:F}}}else I=R3(f,o,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||F3(x,v),I=S3(l,"where",x,"in"===v||"not-in"===v);return vn.create(m,v,I)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class P_ extends Bk{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new P_(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let c=r;const l=o.getFlattenedFilters();for(const f of l)L3(c,f),c=zS(c,f)}(t._query,e),new io(t.firestore,t.converter,zS(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hk extends AD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Hk(t,e)}_apply(t){const e=function(r,o,c){if(null!==r.startAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new d_(o,c);return function(f,m){if(null===qS(f)){const v=rT(f);null!==v&&U3(0,v,m.field)}}(r,l),l}(t._query,this._field,this._direction);return new io(t.firestore,t.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new sd(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class ZT extends AD{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new ZT(t,e,r)}_apply(t){return new io(t.firestore,t.converter,iT(t._query,this._limit,this._limitType))}}class jT extends AD{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new jT(t,e,r)}_apply(t){const e=O3(t,this.type,this._docOrFields,this._inclusive);return new io(t.firestore,t.converter,(o=e,new sd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class BT extends AD{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new BT(t,e,r)}_apply(t){const e=O3(t,this.type,this._docOrFields,this._inclusive);return new io(t.firestore,t.converter,(o=e,new sd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function O3(n,t,e,r){if(e[0]=(0,Ht.m9)(e[0]),e[0]instanceof ID)return function(o,c,l,f,m){if(!f)throw new Re(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of Vp(o))if(x.field.isKeyField())v.push(Lp(c,f.key));else{const I=f.data.field(x.field);if(Jb(I))throw new Re(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const F=x.field.canonicalString();throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}v.push(I)}return new Bh(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const o=Jp(n.firestore);return function(c,l,f,m,v,x){const I=c.explicitOrderBy;if(v.length>I.length)throw new Re(ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let j=0;j<v.length;j++){const q=v[j];if(I[j].field.isKeyField()){if("string"!=typeof q)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof q}`);if(!$S(c)&&-1!==q.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${q}' contains a slash.`);const ee=c.path.child(bn.fromString(q));if(!rt.isDocumentKey(ee))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const se=new rt(ee);F.push(Lp(l,se))}else{const ee=S3(f,m,q);F.push(ee)}}return new Bh(F,x)}(n._query,n.firestore._databaseId,o,t,e,r)}}function R3(n,t,e){if("string"==typeof(e=(0,Ht.m9)(e))){if(""===e)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(t)&&-1!==e.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(bn.fromString(e));if(!rt.isDocumentKey(r))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lp(n,new rt(r))}if(e instanceof fr)return Lp(n,e._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NT(e)}.`)}function F3(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function L3(n,t){if(t.isInequality()){const r=rT(n),o=t.field;if(null!==r&&!r.isEqual(o))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const c=qS(n);null!==c&&U3(0,o,c)}const e=function(r,o){for(const c of r)for(const l of c.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Re(ge.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function U3(n,t,e){if(!e.isEqual(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Gk{convertValue(t,e="none"){switch(Zh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(od(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Fh(t,(o,c)=>{r[o]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new OT(Zr(t.latitude),Zr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Yb(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(K0(t));default:return null}}convertTimestamp(t){const e=Lh(t);return new wr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=bn.fromString(t);Tt(QR(r));const o=new Uh(r.get(1),r.get(3)),c=new rt(r.popFirst(5));return o.isEqual(e)||Kr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function HT(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class LZ extends Gk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fr(this.firestore,null,e)}}class Qp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hd extends ID{constructor(t,e,r,o,c,l){super(t,e,r,o,l),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new MD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(VT("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class MD extends hd{data(t={}){return super.data(t)}}class Jh{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Qp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new MD(this._firestore,this._userDataWriter,r.key,r,new Qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new MD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const f=new MD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),1!==l.type&&(c=c.add(l.doc),v=c.indexOf(l.doc.key)),{type:VZ(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function VZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function Z3(n,t){return n instanceof hd&&t instanceof hd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Jh&&t instanceof Jh&&n._firestore===t._firestore&&Fk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Yh extends Gk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fr(this.firestore,null,e)}}function j3(n,t,e){n=Dn(n,fr);const r=Dn(n.firestore,pr),o=HT(n.converter,t,e);return O_(r,[FT(Jp(r),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,br.none())])}function B3(n,t,e,...r){n=Dn(n,fr);const o=Dn(n.firestore,pr),c=Jp(o);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof dd?Zk(c,"updateDoc",n._key,t,e,r):Vk(c,"updateDoc",n._key,t),O_(o,[l.toMutation(n._key,br.exists(!0))])}function H3(n,...t){var e,r,o;n=(0,Ht.m9)(n);let c={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||Lk(t[l])||(c=t[l],l++);const f={includeMetadataChanges:c.includeMetadataChanges};if(Lk(t[l])){const I=t[l];t[l]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[l+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),t[l+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let m,v,x;if(n instanceof fr)v=Dn(n.firestore,pr),x=f_(n._key.path),m={next:I=>{t[l]&&t[l](qk(v,n,I))},error:t[l+1],complete:t[l+2]};else{const I=Dn(n,io);v=Dn(I.firestore,pr),x=I._query;const F=new Yh(v);m={next:j=>{t[l]&&t[l](new Jh(v,F,I,j))},error:t[l+1],complete:t[l+2]},P3(n._query)}return function(I,F,j,q){const ee=new AT(q),se=new ek(F,ee,j);return I.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return WM(yield N_(I),se)})),()=>{ee.Dc(),I.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return YM(yield N_(I),se)}))}}(Jr(v),x,f,m)}function O_(n,t){return function(e,r){const o=new wi;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function P8(n,t,e){return ok.apply(this,arguments)}(yield Pk(e),r,o)})),o.promise}(Jr(n),t)}function qk(n,t,e){const r=e.docs.get(t._key),o=new Yh(n);return new hd(n,o,t._key,r,new Qp(e.hasPendingWrites,e.fromCache),t.converter)}const rj={maxAttempts:5};class G3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Jp(t)}set(t,e,r){this._verifyNotCommitted();const o=Qh(t,this._firestore),c=HT(o.converter,e,r),l=FT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,br.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const c=Qh(t,this._firestore);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof dd?Zk(this._dataReader,"WriteBatch.update",c._key,e,r,o):Vk(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(l.toMutation(c._key,br.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Qh(t,this._firestore);return this._mutations=this._mutations.concat(new __(e._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qh(n,t){if((n=(0,Ht.m9)(n)).firestore!==t)throw new Re(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ij extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Jp(t)}get(t){const e=Qh(t,this._firestore),r=new LZ(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return ft();const c=o[0];if(c.isFoundDocument())return new ID(this._firestore,r,c.key,c,e.converter);if(c.isNoDocument())return new ID(this._firestore,r,e._key,null,e.converter);throw ft()})}set(t,e,r){const o=Qh(t,this._firestore),c=HT(o.converter,e,r),l=FT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(t,e,r,...o){const c=Qh(t,this._firestore);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof dd?Zk(this._dataReader,"Transaction.update",c._key,e,r,o):Vk(this._dataReader,"Transaction.update",c._key,e),this._transaction.update(c._key,l),this}delete(t){const e=Qh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Qh(t,this._firestore),r=new Yh(this._firestore);return super.get(t).then(o=>new hd(this._firestore,r,e._key,o._document,new Qp(!1,!1),e.converter))}}function $k(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function $3(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function z3(){if(!function VV(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){a_=Lo.SDK_VERSION,(0,Lo._registerComponent)(new ed.wA("firestore",(e,{instanceIdentifier:r,options:o})=>{const c=e.getProvider("app").getImmediate(),l=new pr(new uV(e.getProvider("auth-internal")),new hV(e.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(f.options.projectId,m)}(c,r),c);return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(xO,"3.13.0",n),(0,Lo.registerVersion)(xO,"3.13.0","esm2017")}();class kD{constructor(t){this._delegate=t}static fromBase64String(t){return z3(),new kD(Uu.fromBase64String(t))}static fromUint8Array(t){return $3(),new kD(Uu.fromUint8Array(t))}toBase64(){return z3(),this._delegate.toBase64()}toUint8Array(){return $3(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zk(n){return function fj(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class pj{enableIndexedDbPersistence(t,e){return function hZ(n,t){T3(n=Dn(n,pr));const e=Jr(n);if(e._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");wa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new k_;return b3(e,o,new xk(o,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function fZ(n){T3(n=Dn(n,pr));const t=Jr(n);if(t._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");wa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),r=new k_;return b3(t,r,new o3(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function pZ(n){if(n._initialized&&!n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(e=(0,te.Z)(function*(r){if(!bc.D())return Promise.resolve();const o=r+"main";yield bc.delete(o)}),function(r){return e.apply(this,arguments)})(yM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class K3{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Uh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function D3(n,t,e,r={}){var o;const c=(n=Dn(n,wD))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==l&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Ui.MOCK_USER;else{f=(0,Ht.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ui(v)}n._authCredentials=new cV(new IO(f,m))}}(this._delegate,t,e,r)}enableNetwork(){return function mZ(n){return function eZ(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield c3(n),e=yield u3(n);return t.setNetworkEnabled(!0),function(r){const o=ot(r);return o.vu.delete(0),DD(o)}(e)}))}(Jr(n=Dn(n,pr)))}(this._delegate)}disableNetwork(){return function _Z(n){return function tZ(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield c3(n),e=yield u3(n);return t.setNetworkEnabled(!1),(r=(0,te.Z)(function*(o){const c=ot(o);c.vu.add(0),yield b_(c),c.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(Jr(n=Dn(n,pr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,g3("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gZ(n){return function(t){const e=new wi;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function L8(n,t){return lk.apply(this,arguments)}(yield Pk(t),e)})),e.promise}(Jr(n=Dn(n,pr)))}(this._delegate)}onSnapshotsInSync(t){return function KZ(n,t){return function iZ(n,t){const e=new AT(t);return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield N_(n),o=e,ot(r).ku.add(o),void o.next();var r,o})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield N_(n),o=e,void ot(r).ku.delete(o);var r,o}))}}(Jr(n=Dn(n,pr)),Lk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new R_(this,C3(this._delegate,t))}catch(e){throw Bo(e,"collection()","Firestore.collection()")}}doc(t){try{return new ba(this,PT(this._delegate,t))}catch(e){throw Bo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ho(this,function cZ(n,t){if(n=Dn(n,wD),Rk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(n,null,(e=t,new sd(bn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function oj(n,t,e){n=Dn(n,pr);const r=Object.assign(Object.assign({},rj),e);return function(o){if(o.maxAttempts<1)throw new Re(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,l){const f=new wi;return o.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const m=yield function l3(n){return MT(n).then(t=>t.datastore)}(o);new Q8(o.asyncQueue,m,l,c,f).run()})),f.promise}(Jr(n),o=>t(new ij(n,o)),r)}(this._delegate,e=>t(new W3(this,e)))}batch(){return Jr(this._delegate),new J3(new G3(this._delegate,t=>O_(this._delegate,t)))}loadBundle(t){return function yZ(n,t){const e=Jr(n=Dn(n,pr)),r=new lZ;return function oZ(n,t,e,r){const o=function(c,l){let f;return f="string"==typeof c?OR().encode(c):c,m=function(m,v){if(m instanceof Uint8Array)return s3(m,v);if(m instanceof ArrayBuffer)return s3(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new J8(m,l);var m}(e,vD(t));n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function K8(n,t,e){const r=ot(n);var o;(o=(0,te.Z)(function*(c,l,f){try{const m=yield l.getMetadata();if(yield function(F,j){const q=ot(F),ee=Wr(j.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",se=>q.qs.getBundleMetadata(se,j.id)).then(se=>!!se&&se.createTime.compareTo(ee)>=0)}(c.localStore,m))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=m).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(JF(m));const v=new I8(m,c.localStore,l.serializer);let x=yield l.bc();for(;x;){const F=yield v.zu(x);F&&f._updateProgress(F),x=yield l.bc()}const I=yield v.complete();return yield ld(c,I.Ju,void 0),yield function(F,j){const q=ot(F);return q.persistence.runTransaction("Save bundle","readwrite",ee=>q.qs.saveBundleMetadata(ee,j))}(c.localStore,m),f._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return wa("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var F}),function(c,l,f){return o.apply(this,arguments)})(r,t,e).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Pk(n),o,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function vZ(n,t){return function sZ(n,t){return n.asyncQueue.enqueue((0,te.Z)(function*(){return function(e,r){const o=ot(e);return o.persistence.runTransaction("Get named query","readonly",c=>o.qs.getNamedQuery(c,r))}(yield kT(n),t)}))}(Jr(n=Dn(n,pr)),t).then(e=>e?new io(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ho(this,e):null)}}class GT extends Gk{constructor(t){super(),this.firestore=t}convertBytes(t){return new kD(new Uu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ba.forKey(e,this.firestore,null)}}class W3{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new GT(t)}get(t){const e=eg(t);return this._delegate.get(e).then(r=>new ND(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const o=eg(t);return r?($k("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const c=eg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...o),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}}class J3{constructor(t){this._delegate=t}set(t,e,r){const o=eg(t);return r?($k("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const c=eg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...o),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Xp{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new MD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new PD(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Xp.INSTANCES;let o=r.get(t);o||(o=new WeakMap,r.set(t,o));let c=o.get(e);return c||(c=new Xp(t,new GT(t),e),o.set(e,c)),c}}Xp.INSTANCES=new WeakMap;class ba{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new GT(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ba(e,new fr(e._delegate,r,new rt(t)))}static forKey(t,e,r){return new ba(e,new fr(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new R_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new R_(this.firestore,C3(this._delegate,t))}catch(e){throw Bo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ht.m9)(t))instanceof fr&&E3(this._delegate,t)}set(t,e){e=$k("DocumentReference.set",e);try{return e?j3(this._delegate,t,e):j3(this._delegate,t)}catch(r){throw Bo(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?B3(this._delegate,t):B3(this._delegate,t,e,...r)}catch(o){throw Bo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function $Z(n){return O_(Dn(n.firestore,pr),[new __(n._key,br.none())])}(this._delegate)}onSnapshot(...t){const e=Y3(t),r=Q3(t,o=>new ND(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return H3(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function jZ(n){n=Dn(n,fr);const t=Dn(n.firestore,pr),e=Jr(t),r=new Yh(t);return function nZ(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(o,c,l){try{const f=yield function(m,v){const x=ot(m);return x.persistence.runTransaction("read document","readonly",I=>x.localDocuments.getDocument(I,v))}(o,c);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Re(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=I_(f,`Failed to get document '${c} from cache`);l.reject(m)}}),function(o,c,l){return r.apply(this,arguments)})(yield kT(n),t,e);var r})),e.promise}(e,n._key).then(o=>new hd(t,r,n._key,o,new Qp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function BZ(n){n=Dn(n,fr);const t=Dn(n.firestore,pr);return d3(Jr(t),n._key,{source:"server"}).then(e=>qk(t,n,e))}(this._delegate):function ZZ(n){n=Dn(n,fr);const t=Dn(n.firestore,pr);return d3(Jr(t),n._key).then(e=>qk(t,n,e))}(this._delegate),e.then(r=>new ND(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new ba(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}function Bo(n,t,e){return n.message=n.message.replace(t,e),n}function Y3(n){for(const t of n)if("object"==typeof t&&!zk(t))return t;return{}}function Q3(n,t){var e,r;let o;return o=zk(n[0])?n[0]:zk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(t(c))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class ND{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Z3(this._delegate,t._delegate)}}class PD extends ND{data(t){const e=this._delegate.data(t);return function sV(n,t){n||ft()}(void 0!==e),e}}class Ho{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new GT(t)}where(t,e,r){try{return new Ho(this.firestore,Wh(this._delegate,function SZ(n,t,e){const r=t,o=VT("where",n);return SD._create(o,r,e)}(t,e,r)))}catch(o){throw Bo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ho(this.firestore,Wh(this._delegate,function MZ(n,t="asc"){const e=t,r=VT("orderBy",n);return Hk._create(r,e)}(t,e)))}catch(r){throw Bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ho(this.firestore,Wh(this._delegate,function kZ(n){return y3("limit",n),ZT._create("limit",n,"F")}(t)))}catch(e){throw Bo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ho(this.firestore,Wh(this._delegate,function NZ(n){return y3("limitToLast",n),ZT._create("limitToLast",n,"L")}(t)))}catch(e){throw Bo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ho(this.firestore,Wh(this._delegate,function PZ(...n){return jT._create("startAt",n,!0)}(...t)))}catch(e){throw Bo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ho(this.firestore,Wh(this._delegate,function OZ(...n){return jT._create("startAfter",n,!1)}(...t)))}catch(e){throw Bo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ho(this.firestore,Wh(this._delegate,function RZ(...n){return BT._create("endBefore",n,!1)}(...t)))}catch(e){throw Bo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ho(this.firestore,Wh(this._delegate,function FZ(...n){return BT._create("endAt",n,!0)}(...t)))}catch(e){throw Bo(e,"endAt()","Query.endAt()")}}isEqual(t){return Fk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function GZ(n){n=Dn(n,io);const t=Dn(n.firestore,pr),e=Jr(t),r=new Yh(t);return function rZ(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(o,c,l){try{const f=yield CT(o,c,!0),m=new XF(c,f.ir),v=m.sc(f.documents),x=m.applyChanges(v,!1);l.resolve(x.snapshot)}catch(f){const m=I_(f,`Failed to execute query '${c} against cache`);l.reject(m)}}),function(o,c,l){return r.apply(this,arguments)})(yield kT(n),t,e);var r})),e.promise}(e,n._query).then(o=>new Jh(t,r,n,o))}(this._delegate):"server"===t?.source?function qZ(n){n=Dn(n,io);const t=Dn(n.firestore,pr),e=Jr(t),r=new Yh(t);return h3(e,n._query,{source:"server"}).then(o=>new Jh(t,r,n,o))}(this._delegate):function HZ(n){n=Dn(n,io);const t=Dn(n.firestore,pr),e=Jr(t),r=new Yh(t);return P3(n._query),h3(e,n._query).then(o=>new Jh(t,r,n,o))}(this._delegate),e.then(r=>new Kk(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=Y3(t),r=Q3(t,o=>new Kk(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return H3(this._delegate,e,r)}withConverter(t){return new Ho(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}class mj{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new PD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new PD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new mj(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new PD(this._firestore,r))})}isEqual(t){return Z3(this._delegate,t._delegate)}}class R_ extends Ho{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ba(this.firestore,t):null}doc(t){try{return new ba(this.firestore,void 0===t?PT(this._delegate):PT(this._delegate,t))}catch(e){throw Bo(e,"doc()","CollectionReference.doc()")}}add(t){return function zZ(n,t){const e=Dn(n.firestore,pr),r=PT(n),o=HT(n.converter,t);return O_(e,[FT(Jp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new ba(this.firestore,e))}isEqual(t){return E3(this._delegate,t._delegate)}withConverter(t){return new R_(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}function eg(n){return Dn(n,fr)}class Wk{constructor(...t){this._delegate=new dd(...t)}static documentId(){return new Wk(Vr.keyField().canonicalString())}isEqual(t){return(t=(0,Ht.m9)(t))instanceof dd&&this._delegate._internalPath.isEqual(t._internalPath)}}class tg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function aj(){return new Uk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new tg(t)}static delete(){const t=function sj(){return new TD("deleteField")}();return t._methodName="FieldValue.delete",new tg(t)}static arrayUnion(...t){const e=function cj(...n){return new bZ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new tg(e)}static arrayRemove(...t){const e=function uj(...n){return new TZ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new tg(e)}static increment(t){const e=function lj(n){return new xZ("increment",n)}(t);return e._methodName="FieldValue.increment",new tg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const _j={Firestore:K3,GeoPoint:OT,Timestamp:wr,Blob:kD,Transaction:W3,WriteBatch:J3,DocumentReference:ba,DocumentSnapshot:ND,Query:Ho,QueryDocumentSnapshot:PD,QuerySnapshot:Kk,CollectionReference:R_,FieldPath:Wk,FieldValue:tg,setLogLevel:function gj(n){!function oV(n){Ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function X3(n,t){return function Dj(n,t=cP.z){return new Ar.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function Jk(n,t){return X3(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function qT(n,t){return Jk(n,t).pipe(Kf(void 0),HA(),(0,ht.U)(([e,r])=>{const o=r.payload.docChanges(),c=o.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const m=o.find(x=>x.doc.ref.isEqual(l.ref)),v=e?.payload.docs.find(x=>x.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||c.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),c}))}function e6(n,t,e){return qT(n,e).pipe(gh((r,o)=>function Ej(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function wj(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Yk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Yk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Yk(n,t.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),t),[]),function JL(n,t=Gf.y){return n=n??YL,(0,oi.e)((e,r)=>{let o,c=!0;e.subscribe((0,Gn.x)(r,l=>{const f=t(l);(c||!n(o,f))&&(c=!1,o=f,r.next(l))}))})}(),(0,ht.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Yk(n,t,e,...r){const o=n.slice();return o.splice(t,e,...r),o}function t6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function vj(n){(function yj(n,t){n.INTERNAL.registerComponent(new ed.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return t(r,o)},"PUBLIC").setServiceProps(Object.assign({},_j)))})(n,(t,e)=>new K3(t,e,new pj)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(uP.Z);class n6{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=qT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(r=>r.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(Kf(void 0),HA(),is(([r,o])=>o.length>0||!r),(0,ht.U)(([r,o])=>o),ln.iC)}auditTrail(t){return this.stateChanges(t).pipe(gh((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=t6(t);return e6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return Jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),ln.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(ln.iC)}add(t){return this.ref.add(t)}doc(t){return new r6(this.ref.doc(t),this.afs)}}class r6{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:o,query:c}=i6(r,e);return new n6(o,c,this.afs)}snapshotChanges(){return function Cj(n,t){return X3(n,t).pipe(Kf(void 0),HA(),(0,ht.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_n.D)(this.ref.get(t)).pipe(ln.iC)}}class bj{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),is(e=>e.length>0),ln.iC):qT(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(t){return this.stateChanges(t).pipe(gh((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=t6(t);return e6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return Jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),ln.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(ln.iC)}}const Tj=new i.OlP("angularfire2.enableFirestorePersistence"),xj=new i.OlP("angularfire2.firestore.persistenceSettings"),Ij=new i.OlP("angularfire2.firestore.settings"),Aj=new i.OlP("angularfire2.firestore.use-emulator");function i6(n,t=(e=>e)){return{query:t(n),ref:n}}let fd=(()=>{class n{constructor(e,r,o,c,l,f,m,v,x,I,F,j,q,ee,se,Ve,Be){this.schedulers=m;const je=(0,Yi.on)(e,f,r),We=x;I&&QI(je,f,F,q,ee,se,j,Ve),[this.firestore,this.persistenceEnabled$]=(0,Yi.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Vt=f.runOutsideAngular(()=>je.firestore());if(c&&Vt.settings(c),We&&Vt.useEmulator(...We),o&&!Go(l)){const Zt=()=>{try{return(0,_n.D)(Vt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),Ct(!1)}};return[Vt,f.runOutsideAngular(Zt)]}return[Vt,Ct(!1)]},[c,We,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:l}=i6(o,r),f=this.schedulers.ngZone.run(()=>c);return new n6(f,l,this)}collectionGroup(e,r){const o=r||(l=>l),c=this.firestore.collectionGroup(e);return new bj(o(c),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new r6(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(Tj,8),i.LFG(Ij,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(xj,8),i.LFG(Aj,8),i.LFG(ai,8),i.LFG($I,8),i.LFG(zI,8),i.LFG(KI,8),i.LFG(WI,8),i.LFG(JI,8),i.LFG(YI,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sj=(()=>{class n{constructor(e){this.firestore=e}getImage(){return this.firestore.collection("galeriasi").snapshotChanges()}getImagesById(e){return this.firestore.collection("galeriasi").doc(e).valueChanges()}addImagenInfo(e){return this.firestore.collection("galeriasi").add(e)}updateImage(e,r){return this.firestore.collection("galeriasi").doc(e).update(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pd=(()=>{class n{constructor(e){this.firestore=e}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(e){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(e){return this.firestore.collection("users").add(e)}updateUser(e,r){return this.firestore.collection("users").doc(r).update(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $T{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class o6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $T(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new $T(r,this,this._ref))},e)}on(t,e,r,o){let c;return e&&(c="function"==typeof e?l=>e(new $T(l,this,this._ref)):{next:e.next?l=>e.next(new $T(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,c,r||void 0,o||void 0)}}class s6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new gd(t,this._service))}get items(){return this._delegate.items.map(t=>new gd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function RL(n,t){return YN(n,t)}(this._delegate,t);return new gd(e,this.storage)}get root(){return new gd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new gd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new o6(function ML(n,t,e){return function yL(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new zN(n,new us(t),e)}(n=(0,Ht.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Dt.RAW,r){this._throwIfRoot("putString");const o=qn(e,t),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new o6(new zN(this._delegate,new us(o.data,!0),c),this)}listAll(){return rP(this._delegate).then(t=>new s6(t,this.storage))}list(t){return function PL(n,t){return JN(n=(0,Ht.m9)(n),t)}(this._delegate,t||void 0).then(e=>new s6(e,this.storage))}getMetadata(){return function kL(n){return function CL(n){n._throwIfRoot("getMetadata");const t=jN(n.storage,n._location,v0());return n.storage.makeRequestWithTokens(t,Cc)}(n=(0,Ht.m9)(n))}(this._delegate)}updateMetadata(t){return function NL(n,t){return function EL(n,t){n._throwIfRoot("updateMetadata");const e=function nL(n,t,e,r){const c=g(t.fullServerUrl(),n.host,n._protocol),f=FA(e,r),v=n.maxOperationRetryTime,x=new Au(c,"PATCH",mb(n,r),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=D0(t),x}(n.storage,n._location,t,v0());return n.storage.makeRequestWithTokens(e,Cc)}(n=(0,Ht.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return iP(this._delegate)}delete(){return this._throwIfRoot("delete"),function OL(n){return function bL(n){n._throwIfRoot("deleteObject");const t=function rL(n,t){const r=g(t.fullServerUrl(),n.host,n._protocol),f=new Au(r,"DELETE",function l(m,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=D0(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Cc)}(n=(0,Ht.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw RA(t)}}class a6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(c6(t))throw Ip("ref() expected a child path but got a URL, use refFromURL instead.");return new gd(jA(this._delegate,t),this)}refFromURL(t){if(!c6(t))throw Ip("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xi.makeFromUrl(t,this._delegate.host)}catch{throw Ip("refFromUrl() expected a valid full URL but got an invalid one.")}return new gd(jA(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){oP(this._delegate,t,e,r)}}function c6(n){return/^[A-Za-z]+:\/\//.test(n)}function Oj(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new a6(e,r)}function u6(n){const t=function Fj(n){return new Ar.y(t=>{const e=l=>t.next(l);e(n.snapshot);const c=n.on("state_changed",e);return n.then(l=>{e(l),t.complete()},l=>{e(n.snapshot),(l=>{t.error(l)})(l)}),function(){c()}}).pipe(function Mj(n,t=cP.z){return(0,oi.e)((e,r)=>{let o=null,c=null,l=null;const f=()=>{if(o){o.unsubscribe(),o=null;const v=c;c=null,r.next(v)}};function m(){const v=l+n,x=t.now();if(x<v)return o=this.schedule(void 0,v-x),void r.add(o);f()}e.subscribe((0,Gn.x)(r,v=>{c=v,l=t.now(),o||(o=t.schedule(m,n),r.add(o))},()=>{f(),r.complete()},void 0,()=>{c=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ht.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function zT(n){return{getDownloadURL:()=>Ct(void 0).pipe(ln.fc,Cr(()=>n.getDownloadURL()),ln.iC),getMetadata:()=>Ct(void 0).pipe(ln.fc,Cr(()=>n.getMetadata()),ln.iC),delete:()=>(0,_n.D)(n.delete()),child:t=>zT(n.child(t)),updateMetadata:t=>(0,_n.D)(n.updateMetadata(t)),put:(t,e)=>u6(n.put(t,e)),putString:(t,e,r)=>u6(n.putString(t,e,r)),list:t=>(0,_n.D)(n.list(t)),listAll:()=>(0,_n.D)(n.listAll())}}!function Rj(n){const t={TaskState:Vo,TaskEvent:cL,StringFormat:Dt,Storage:a6,Reference:gd};n.INTERNAL.registerComponent(new ed.wA("storage-compat",Oj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(uP.Z);const Lj=new i.OlP("angularfire2.storageBucket"),Uj=new i.OlP("angularfire2.storage.maxUploadRetryTime"),Vj=new i.OlP("angularfire2.storage.maxOperationRetryTime"),Zj=new i.OlP("angularfire2.storage.use-emulator");let KT=(()=>{class n{constructor(e,r,o,c,l,f,m,v,x,I){const F=(0,Yi.on)(e,l,r);this.storage=(0,Yi.cc)(`${F.name}.storage.${o}`,"AngularFireStorage",F.name,()=>{const j=l.runOutsideAngular(()=>F.storage(o||void 0)),q=x;return q&&j.useEmulator(...q),m&&j.setMaxUploadRetryTime(m),v&&j.setMaxOperationRetryTime(v),j},[m,v])}ref(e){return zT(this.storage.ref(e))}refFromURL(e){return zT(this.storage.refFromURL(e))}upload(e,r,o){return zT(this.storage.ref(e)).put(r,o)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(Lj,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(Uj,8),i.LFG(Vj,8),i.LFG(Zj,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function Bj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseEnter(c))})("mouseleave",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseLeave(c))})("click",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onPreviewImage(c))}),i.qZA(),i.TgZ(2,"div",15)(3,"div")(4,"i",16),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(c))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeImage(c))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(1),i.Q6J("src",e.url,i.LSH),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByImage.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountImage)}}function Hj(n,t){if(1&n&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function Gj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",26),i.qZA()}}function qj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",28),i.qZA()}}function $j(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",30),i.qZA()}}function zj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",31),i._UZ(1,"img",32),i.TgZ(2,"div",33)(3,"div")(4,"i",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const e=i.oxw(2);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const Kj=function(n){return{active:n}};function Wj(n,t){if(1&n&&(i.TgZ(0,"div",18),i.YNc(1,Hj,2,2,"span",19),i.YNc(2,Gj,2,0,"button",20),i.YNc(3,qj,2,0,"button",21),i.YNc(4,$j,2,0,"button",22),i.YNc(5,zj,11,7,"div",23),i.qZA()),2&n){const e=i.oxw();i.Q6J("ngClass",i.VKq(6,Kj,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function Jj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",46),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const Yj=function(n){return{activar:n}};function Qj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",47)(1,"div",48)(2,"img",49),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",50)(6,"p",51),i._uU(7),i.qZA(),i.TgZ(8,"div",52)(9,"div",53)(10,"i",17),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",54)(14,"div",55)(15,"div",56)(16,"i",57),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(17,"i",58),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(c))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",59),i.NdJ("click",function(){const o=i.CHM(e),c=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(c,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,Yj,!(r===o.capIndex&&o.option)))}}function Xj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",34)(1,"div",35),i.YNc(2,Jj,1,0,"span",36),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",37)(6,"div",38),i.YNc(7,Qj,21,9,"div",39),i.qZA()(),i.TgZ(8,"div",40)(9,"form",41,42),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",43),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",44),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",45),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function eB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function tB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",65)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",67)(7,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function nB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",68)(1,"div",61)(2,"span",69),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",62)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",70),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",71),i._uU(10,"Registrate"),i.qZA()()()()()}}let rB=(()=>{class n{constructor(e,r,o,c,l,f,m,v){this.storage=e,this.el=r,this.afAuth=o,this._image=c,this.toastr=l,this.router=f,this._user=m,this.storagex=v,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.option=!1}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getImages(){this._image.getImage().subscribe(e=>{this.images=[],e.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeImage(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(c);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(c),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._image.updateImage(v,x)}else r.modal=!0})()}subirArchivo(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`images/${o.name}`,se=this.storagex.ref(ee);this.storagex.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._image.addImagenInfo({url:Be}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.images[e],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._image.updateImage(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImage(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}opciones(e,r){var o=this;return(0,te.Z)(function*(){const c=yield o.afAuth.currentUser;(c?.email===r.correo||"administrador.sistema@gmail.com"==c?.email||"jeestrada377@gmail.com"==c?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm),i.Y36(i.SBq),i.Y36(ai),i.Y36(Sj),i.Y36(Qi),i.Y36(dn),i.Y36(pd),i.Y36(KT))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria"]],decls:15,vars:7,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"con-input"],[3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[2,"display","inline-flex","gap","4rem"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,jj,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,Bj,11,5,"div",5),i.qZA(),i.YNc(7,Wj,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,Xj,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,eB,10,0,"div",8),i.qZA(),i.YNc(12,tB,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,nB,11,0,"div",10),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[Kt,ei,mn,Rs,Ni,ni,$r,Yn,ii,No,go,Hm],styles:[".activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:0}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:30px;margin-top:56px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding:0;justify-content:flex-end}.con-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:7px;border-radius:23px;background-color:#00f;margin:0}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.con-input[_ngcontent-%COMP%]{padding:15px 0 20px}.file-label[_ngcontent-%COMP%]{padding:4px;font-size:14px}}@media (max-width: 500px){.caja[_ngcontent-%COMP%]{font-size:12px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:1}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.btn-lc[_ngcontent-%COMP%]{display:inline-flex;gap:4rem;position:absolute;bottom:20%}}"]}),n})(),l6=(()=>{class n{constructor(e){this.firestore=e}getVideos(){return this.firestore.collection("videos").snapshotChanges()}getVideoById(e){return this.firestore.collection("videos").doc(e).valueChanges()}updateVideo(e,r){return this.firestore.collection("videos").doc(e).update(r)}addImagenInfo(e){return this.firestore.collection("videos").add(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iB(n,t){1&n&&(i.TgZ(0,"div",10)(1,"div",11),i._UZ(2,"button",12),i.TgZ(3,"label",13),i._UZ(4,"i",14),i._uU(5," Agregar nuevo video "),i.qZA()()())}function oB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",15)(1,"video",16),i._UZ(2,"source",17),i.qZA(),i.TgZ(3,"div",18)(4,"div",19)(5,"p",20),i._uU(6),i.qZA()(),i.TgZ(7,"div",21)(8,"div",22)(9,"i",23),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(c))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",24)(13,"i",25),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeVideo(c))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",e.url,i.LSH),i.xp6(4),i.hij(" ",e.nombre," "),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountVideo)}}function sB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27)(2,"span",28),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",29)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",30),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",31),i._uU(10,"Registrate"),i.qZA()()()()()}}function aB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const cB=function(n){return{activar:n}};function uB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",45)(1,"div",46)(2,"img",47),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",48)(6,"p",49),i._uU(7),i.qZA(),i.TgZ(8,"div",50)(9,"div",51)(10,"i",25),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",52)(14,"div",53)(15,"div",54)(16,"i",55),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(17,"i",56),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(c))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",57),i.NdJ("click",function(){const o=i.CHM(e),c=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(c,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,cB,!(r===o.capIndex&&o.option)))}}function lB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",32)(1,"div",33),i.YNc(2,aB,1,0,"span",34),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",35)(6,"div",36),i.YNc(7,uB,21,9,"div",37),i.qZA()(),i.TgZ(8,"div",38)(9,"form",39,40),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",41),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",42),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",43),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function dB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",58)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",59)(6,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function hB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",61)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",62),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",63)(7,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}let fB=(()=>{class n{constructor(e,r,o,c,l,f){this.storage=e,this.afAuth=r,this._videosService=o,this.afs=c,this._users=l,this.router=f,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.option=!1}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getVideos().subscribe(e=>{this.videos=[],e.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeVideo(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByVideo.indexOf(c);-1!==m?(e.likedByVideo.splice(m,1),e.userVideoLikes.splice(m,1),e.likesCountVideo--):(e.likedByVideo.push(c),e.likesCountVideo++,e.userVideoLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountVideo:e.likesCountVideo,likedByVideo:e.likedByVideo,userVideoLikes:e.userVideoLikes};yield r._videosService.updateVideo(v,x)}else r.modal=!0})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._videosService.updateVideo(l,I),r.comentario=""}})()}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}abrirEditar(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.email===e.correo&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateVideo(f,v)}}else r.modal=!0})()}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}opciones(e,r){var o=this;return(0,te.Z)(function*(){const c=yield o.afAuth.currentUser;(c?.email===r.correo||"administrador.sistema@gmail.com"==c?.email||"jeestrada377@gmail.com"==c?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm),i.Y36(ai),i.Y36(l6),i.Y36(fd),i.Y36(pd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos"]],decls:13,vars:6,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"video-container"],[1,"video"],["width","320","height","240","class","gallery-video",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"con-input"],[1,"input-file-container"],["routerLink","/nuevo-video","id","file-input"],["for","file-input",1,"file-label"],[1,"fas","fa-plus"],["width","320","height","240",1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,iB,6,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,oB,16,6,"div",5),i.qZA()()()(),i.TgZ(7,"div"),i.YNc(8,sB,11,0,"div",6),i.qZA(),i.YNc(9,lB,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,dB,10,0,"div",8),i.qZA(),i.YNc(12,hB,11,1,"div",9)),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.videos),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar))},dependencies:[Kt,ei,mn,yc,Rs,Ni,ni,$r,Yn,ii,No,go,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}@media (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})();function pB(n,t){if(1&n&&(i.TgZ(0,"div",4)(1,"p",5),i._uU(2),i.qZA(),i.TgZ(3,"audio",6),i._UZ(4,"source",7),i.qZA()()),2&n){const e=t.$implicit;i.xp6(2),i.Oqu(e.title),i.xp6(2),i.Q6J("src",e.url,i.LSH)}}let gB=(()=>{class n{constructor(e){this.storage=e,this.musica=[],this.titulos=["Aguanile","Arrepientete","Asi soy yo","Bam bam bidi bim bam bam","Batman y el hombre Ara\xf1a","Caderona","Con la punta del pie","Donde estabas tu","Welcome to party","La negra tiene tumbao","Llora Corazon","Payaso","Cancion 13","Lupita","Paloma","Yo soy el rey","Cancion 17","Sangre son colora","Sangre son colora (editado)","boogalo 1","Cancion 21","Cancion 22","Cancion 23","Todo tiene su final (editado)","Cancion 25","Cancion 26","Cancion 27","Omele","Boogalo 2","Aguazate","Aqui no ha pasado nada","Saraguey santoja","Arranca en fa","Arroyando","Asi soy yo (edit)","Askarakatiski","Ballandel","Bam bam (edit)","Bomba caranbomba","Boogalo 3","Boogalo 4","Boogalo 5","Boogalo 6","Cancion 45","Boogalo 7","Boogalo 8","Boogalo 9","Boogalo 10","Boogalo 11","Boogalo 12","Boogalo 13","Cancion 53","Cachondea","Cancion 54","Camina como chencha","Cancion 56","Carmen","Cancion 57","Cancion 58","Cancion 59","Cancion 60","Cancion 61","Ran kan kan","Echo chi echo no","El malo","Cancion 65","Federico boogalo","Fuego pal 23","Hagan silencio","Indestructible","Lancion 70","cancion 71","La bamba","Cancion 73","La luz del cielo","La pelota","Cancion 76","Mambo rock","Merecumbe","Boogalo 14","Boogalo 15","Mondongo","Oh mayi","Pal 23","Cancion 85","Pruebalo","Quimbara (edit)","Quimbara","Cancion 89","Cancion 90","Cancion 91","Cancion 92","Cancion 93","Fuma el barco","Sonido bestial","Cancion 96","Cancion 97","Cancion 98","Cancion 99","El yoyo","Tremendo rumbon","Tres pata","Tres pata v2","Cancion 104","Cancion 105"]}ngOnInit(){this.getMusica()}subirArchivo(e){const r=e.target.files[0],o=aP(this.storage,`videos/${r.name}`);WL(o,r).then(()=>{this.getMusica()}).catch(c=>console.log(c))}getMusica(){var e=this;return(0,te.Z)(function*(){const r=aP(e.storage,"musica");try{const o=yield KL(r);e.musica=yield Promise.all(o.items.map(function(){var c=(0,te.Z)(function*(l,f){const m=yield $L(l);return{title:e.titulos[f]||`Canci\xf3n ${f+1}`,url:m}});return function(l,f){return c.apply(this,arguments)}}()))}catch(o){console.log(o)}})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-musica"]],decls:5,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"musica-container"],["class","musica",4,"ngFor","ngForOf"],[1,"musica"],[2,"margin-bottom","10px"],["controls",""],["type","audio/mp3",3,"src"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"div",2),i.YNc(4,pB,5,2,"div",3),i.qZA()()()),2&e&&(i.xp6(4),i.Q6J("ngForOf",r.musica))},dependencies:[ei,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.musica-container[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex-wrap:wrap;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),d6=(()=>{class n{constructor(e){this.toastr=e}mensaje(e){return"auth/invalid-email"===e?"Por favor, introduce un correo electr\xf3nico v\xe1lido.":""}errorFirebase(e){switch(e){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qi))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner"],[1,"visually-hidden"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"span",1),i._uU(2,"Loading..."),i.qZA()())},styles:['@charset "UTF-8";.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}']}),n})();function mB(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function _B(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function yB(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener mas de 6 caracteres"),i.qZA())}function vB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",3)(1,"form",4),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.login())}),i.TgZ(2,"div")(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA()(),i.TgZ(5,"h2",6),i._uU(6,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Correo electr\xf3nico"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,mB,5,0,"span",10),i.YNc(12,_B,5,0,"span",10),i.qZA(),i.TgZ(13,"div",7)(14,"label",11),i._uU(15,"Contrase\xf1a"),i.qZA(),i._UZ(16,"input",12),i.YNc(17,yB,5,0,"span",10),i.qZA(),i.TgZ(18,"div",13)(19,"a",14),i._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),i.qZA(),i.TgZ(21,"a",15),i._uU(22,"Registrarse"),i.qZA()(),i.TgZ(23,"button",16),i._uU(24,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(25,"div",17)(26,"a",18),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.loginAsGuest())}),i._uU(27,"Iniciar sesi\xf3n como invitado"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o,c;i.xp6(1),i.Q6J("formGroup",e.loginUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=e.loginUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=e.loginUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=e.loginUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=e.loginUsuario.get("email"))?null:o.touched)),i.xp6(5),i.Q6J("ngIf",(null==(c=e.loginUsuario.get("password"))?null:c.hasError("required"))&&(null==(c=e.loginUsuario.get("password"))?null:c.touched))}}function DB(n,t){1&n&&(i.TgZ(0,"div",20)(1,"h2",21),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Iniciando sesion..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let CB=(()=>{class n{constructor(e,r,o,c,l){this.toastr=e,this.fb=r,this.firebaseError=o,this.afAuth=c,this.router=l,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Pr.required,Pr.email]],password:["",Pr.required]})}ngOnInit(){}login(){const e=this.loginUsuario.value.email,r=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(e,r).then(o=>{this.router.navigate(["/perfil"]),this.loading=!1}).catch(o=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(o.code),this.message=this.firebaseError.mensaje(o.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.loading=!1,this.router.navigate(["/perfil"])}).catch(o=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",o)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qi),i.Y36(Sf),i.Y36(d6),i.Y36(ai),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center","height","100vh","background-color","white","user-select","none"],["class","container-login",4,"ngIf"],["style","\n      display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;\n    ",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2",2,"user-select","none"],[1,"form-title",2,"user-select","none"],[1,"form-group"],["for","email",2,"user-select","none"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password",2,"user-select","none"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["routerLink","/recuperar",1,"forgot-password",2,"user-select","none"],["routerLink","/registrar",1,"register-link",2,"user-select","none"],["type","submit",1,"submit-button"],[2,"text-align","center","margin-top","14px"],[1,"register-link",2,"user-select","none","cursor","pointer",3,"click"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[1,"elH2"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,vB,28,4,"div",1),i.YNc(2,DB,6,0,"div",2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,Rs,Ni,ni,$r,Yn,hu,rh,Qk],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px;-webkit-user-select:none;user-select:none}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#0040ff;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function EB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"nombre de usuario"),i.qZA(),i._uU(4," es requerido"),i.qZA())}function wB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function bB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es inv\xe1lido"),i.qZA())}function TB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener m\xe1s de 6 caracteres"),i.qZA())}function xB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2)(1,"form",3,4),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.registrar())}),i.TgZ(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA(),i.TgZ(5,"h2",6),i._uU(6,"REGISTRARSE"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Nombre de Usuario"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,EB,5,0,"span",10),i.qZA(),i.TgZ(12,"div",7)(13,"label",11),i._uU(14,"Correo electr\xf3nico"),i.qZA(),i._UZ(15,"input",12),i.YNc(16,wB,5,0,"span",10),i.YNc(17,bB,5,0,"span",10),i.qZA(),i.TgZ(18,"div",7)(19,"label",13),i._uU(20,"Contrase\xf1a"),i.qZA(),i._UZ(21,"input",14),i.YNc(22,TB,5,0,"span",10),i.qZA(),i.TgZ(23,"div",7)(24,"label",15),i._uU(25,"Repetir Contrase\xf1a"),i.qZA(),i._UZ(26,"input",16),i.qZA(),i.TgZ(27,"div",17)(28,"button",18),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goBack())}),i._uU(29," Volver "),i.qZA(),i.TgZ(30,"button",19),i._uU(31,"Registrar"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o,c,l;i.xp6(1),i.Q6J("formGroup",e.registrarUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=e.registrarUsuario.get("username"))?null:r.hasError("required"))&&(null==(r=e.registrarUsuario.get("username"))?null:r.touched)),i.xp6(5),i.Q6J("ngIf",(null==(o=e.registrarUsuario.get("email"))?null:o.hasError("required"))&&(null==(o=e.registrarUsuario.get("email"))?null:o.touched)),i.xp6(1),i.Q6J("ngIf",(null==(c=e.registrarUsuario.get("email"))?null:c.hasError("email"))&&(null==(c=e.registrarUsuario.get("email"))?null:c.touched)),i.xp6(5),i.Q6J("ngIf",(null==(l=e.registrarUsuario.get("password"))?null:l.hasError("required"))&&(null==(l=e.registrarUsuario.get("password"))?null:l.touched)),i.xp6(8),i.Q6J("disabled",e.registrarUsuario.invalid)}}function IB(n,t){1&n&&(i.TgZ(0,"div",21)(1,"h2",5),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let AB=(()=>{class n{constructor(e,r,o,c,l,f){this.fb=e,this.afAuth=r,this.router=o,this.firebaseError=c,this.toastr=l,this.location=f,this.loading=!1,this.registrarUsuario=this.fb.group({username:["",Pr.required],email:["",[Pr.required,Pr.email]],password:["",[Pr.required,Pr.minLength(6)]],repetirPassword:["",Pr.required]})}ngOnInit(){}registrar(){const e=this.registrarUsuario.value.username,r=this.registrarUsuario.value.email,o=this.registrarUsuario.value.password;o===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(r,o).then(l=>l.user?.updateProfile({displayName:e})).then(l=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(l=>{this.loading=!1,console.log(l),this.firebaseError.errorFirebase(l.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}goBack(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Sf),i.Y36(ai),i.Y36(dn),i.Y36(d6),i.Y36(Qi),i.Y36(Ae))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:2,vars:2,consts:[["class","content",4,"ngIf"],["style"," background-color: white; display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;",4,"ngIf"],[1,"content"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Nombre de Usuario","formControlName","username"],["class","text-danger errorLabel",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["for","repetirPassword"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button",1,"submit",2,"background-color","blue",3,"click"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"background-color","white","display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.YNc(0,xB,32,6,"div",0),i.YNc(1,IB,6,0,"div",1)),2&e&&(i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,Ni,ni,$r,Yn,hu,rh,Qk],styles:[".login-form[_ngcontent-%COMP%]{margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;height:94vh}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#e44d42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})();function SB(n,t){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function MB(n,t){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function kB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2)(1,"form",3),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.recuperar())}),i.TgZ(2,"h2",4),i._uU(3,"Asi Somos"),i.qZA(),i.TgZ(4,"h2",5),i._uU(5,"RECUPERAR CUENTA"),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"input",7),i.YNc(8,SB,5,0,"span",8),i.YNc(9,MB,5,0,"span",8),i.qZA(),i.TgZ(10,"div",9)(11,"button",10),i._uU(12," Volver "),i.qZA(),i.TgZ(13,"button",11),i._uU(14,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o;i.xp6(1),i.Q6J("formGroup",e.recuperarUsuario),i.xp6(7),i.Q6J("ngIf",(null==(r=e.recuperarUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=e.recuperarUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=e.recuperarUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=e.recuperarUsuario.get("email"))?null:o.touched)),i.xp6(4),i.Q6J("disabled",e.recuperarUsuario.invalid)}}function NB(n,t){1&n&&(i.TgZ(0,"div",13)(1,"h2",4),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",14),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let PB=(()=>{class n{constructor(e,r,o,c){this.fb=e,this.afAuth=r,this.router=o,this.toastr=c,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Pr.required,Pr.email]]})}ngOnInit(){}recuperar(){const e=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(e).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(r=>{this.loading=!1,this.firebaseError(r.code)})}firebaseError(e){switch(e){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Sf),i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;background-color: white;\n    height: 90vh;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","background-color","white","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.TgZ(0,"div"),i.YNc(1,kB,15,4,"div",0),i.YNc(2,NB,6,0,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,yc,Ni,ni,$r,Yn,hu,rh,Qk],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})(),OB=(()=>{class n{constructor(e){this.afAuth=e}isLoggedIn(){return this.afAuth.authState.pipe((0,ht.U)(e=>!!e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ai))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zs=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return this.authService.isLoggedIn().pipe((0,ht.U)(o=>!!o||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(OB),i.LFG(dn))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RB=(()=>{class n{constructor(e,r,o){this._videosService=e,this.router=r,this.toastr=o,this.subir={nombre:"",url:""}}ngOnInit(){}subirVideo(){console.log(this.subir),this._videosService.addImagenInfo(this.subir).then(()=>{this.router.navigate(["/videos"]),this.toastr.success("Agregando nuevo video")})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(l6),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-form-video"]],decls:17,vars:2,consts:[[1,"container"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["name","nombre","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["name","url","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["type","submit"],["routerLink","/videos",2,"background-color","green"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"form",2),i.NdJ("ngSubmit",function(){return r.subirVideo()}),i.TgZ(3,"div",3)(4,"label"),i._uU(5,"Nombre"),i.qZA(),i.TgZ(6,"input",4),i.NdJ("ngModelChange",function(c){return r.subir.nombre=c}),i.qZA()(),i.TgZ(7,"div",3)(8,"label"),i._uU(9,"Url"),i.qZA(),i.TgZ(10,"input",5),i.NdJ("ngModelChange",function(c){return r.subir.url=c}),i.qZA()(),i.TgZ(11,"div",3)(12,"button",6),i._uU(13,"Agregar Video"),i.qZA()(),i.TgZ(14,"div",3)(15,"button",7),i._uU(16,"Volver"),i.qZA()()()()()),2&e&&(i.xp6(6),i.Q6J("ngModel",r.subir.nombre),i.xp6(4),i.Q6J("ngModel",r.subir.url))},dependencies:[yc,Ni,ni,$r,Yn,No,go],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form-container[_ngcontent-%COMP%]{width:80%;max-width:400px;padding:20px;background-color:#f5f5f5;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})(),Xk=(()=>{class n{constructor(e){this.firestore=e}getUsuarioImagen(){return this.firestore.collection("imagen-usuario").snapshotChanges()}updateImgUsuario(e,r){return this.firestore.collection("imagen-usuario").doc(e).update(r)}addImagenUsuario(e){return this.firestore.collection("imagen-usuario").add(e)}delete(e){return this.firestore.collection("imagen-usuario").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.editarPerfil())}),i._uU(2,"Editar perfil"),i.qZA()()}}function LB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.changePortada())}),i._uU(2,"+"),i.qZA()()}}function UB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.imagenes())}),i._uU(1," Mis fotos "),i.qZA()}}function VB(n,t){1&n&&(i.TgZ(0,"div",17)(1,"div",18)(2,"div",19),i._UZ(3,"img",20),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",21),i._UZ(7,"img",22),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function ZB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",34)(1,"img",35),i.NdJ("mouseenter",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(c))})("mouseleave",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(c))})("click",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(c))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.url,i.LSH)}}function jB(n,t){if(1&n&&(i.TgZ(0,"span",42),i._uU(1),i.qZA()),2&n){const e=i.oxw(4);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function BB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",43),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",44),i.qZA()}}function HB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",46),i.qZA()}}function GB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",47),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",48),i.qZA()}}function qB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",49),i._UZ(1,"img",50),i.TgZ(2,"div",51)(3,"div")(4,"i",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",53),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()()()}if(2&n){const e=i.oxw(4);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const $B=function(n){return{active:n}};function zB(n,t){if(1&n&&(i.TgZ(0,"div",36),i.YNc(1,jB,2,2,"span",37),i.YNc(2,BB,2,0,"button",38),i.YNc(3,HB,2,0,"button",39),i.YNc(4,GB,2,0,"button",40),i.YNc(5,qB,13,7,"div",41),i.qZA()),2&n){const e=i.oxw(3);i.Q6J("ngClass",i.VKq(6,$B,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function KB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",67),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}function WB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",68)(1,"div",69)(2,"img",70),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",71)(6,"p",72),i._uU(7),i.qZA(),i.TgZ(8,"div",73)(9,"div")(10,"i",53),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",74),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(14,"i",54),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(c))}),i.qZA()()()()}if(2&n){const e=t.$implicit,r=i.oxw(4);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.hij(" ",e.comentario," "),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment)}}function JB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",55)(1,"div",56),i.YNc(2,KB,1,0,"span",57),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",58)(6,"div",59),i.YNc(7,WB,15,6,"div",60),i.qZA()(),i.TgZ(8,"div",61)(9,"form",62,63),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",64),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",65),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw(3);return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",66),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function YB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",75)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",78)(6,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function QB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",80)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",81),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw(3);return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",82)(7,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const e=i.oxw(3);i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function XB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",75)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",78)(6,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function e5(n,t){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han subido fotos aun.."),i.qZA())}function t5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",23)(1,"div",24)(2,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.misImages())}),i._uU(3,"+ Agregar imagen"),i.qZA()(),i.TgZ(4,"div",25)(5,"div",26)(6,"div",27)(7,"div",28),i.YNc(8,ZB,2,1,"div",29),i.qZA(),i.YNc(9,zB,6,8,"div",30),i.qZA()()(),i._UZ(10,"div"),i.YNc(11,JB,18,4,"div",31),i.TgZ(12,"div"),i.YNc(13,YB,10,0,"div",32),i.qZA(),i.YNc(14,QB,11,1,"div",33),i.TgZ(15,"div"),i.YNc(16,XB,10,0,"div",32),i.qZA(),i.YNc(17,e5,2,0,"p",1),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(8),i.Q6J("ngForOf",e.imageX),i.xp6(1),i.Q6J("ngIf",e.showMask),i.xp6(2),i.Q6J("ngIf",e.modalcom),i.xp6(2),i.Q6J("ngIf",e.modalDelete),i.xp6(1),i.Q6J("ngIf",e.modalEditar),i.xp6(2),i.Q6J("ngIf",e.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==e.imageX.length)}}function n5(n,t){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.abrirBandeja())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7)(8,"img",8),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.changeProfilePicture())}),i.qZA(),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.YNc(11,FB,3,0,"div",1),i.YNc(12,LB,3,0,"div",1),i.qZA(),i.TgZ(13,"p",10),i._uU(14),i.qZA()(),i.TgZ(15,"div",11)(16,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(17,"Grupos"),i.qZA(),i.YNc(18,UB,2,0,"p",13),i.qZA(),i.YNc(19,VB,10,0,"div",14),i.YNc(20,t5,18,7,"div",15),i.BQk()}if(2&n){const e=i.oxw();i.xp6(6),i.Q6J("src",e.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",e.usuario.photoURL||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.objetoUsuario.usuario),i.xp6(1),i.Q6J("ngIf",!e.esInvitado),i.xp6(1),i.Q6J("ngIf",!e.esInvitado),i.xp6(2),i.Oqu(e.aboutMeValue),i.xp6(4),i.Q6J("ngIf",!e.esInvitado),i.xp6(1),i.Q6J("ngIf",e.gr),i.xp6(1),i.Q6J("ngIf",e.im)}}function r5(n,t){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let i5=(()=>{class n{constructor(e,r,o,c,l,f,m){this.afAuth=e,this.storage=r,this._user=o,this.toastr=c,this.router=l,this._imageUser=f,this.el=m,this.usuariosInfo=[],this.idInfo=[],this.adm=!1,this.esInvitado=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.gr=!0,this.im=!1,this.vd=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.currentUser=e,this.getUsers(),this.usuarioActual=e?.displayName;const r=e?.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)}),this.getUserImages()}editarPerfil(){this.crearUsuario(),this.router.navigate(["/perfil-editar"])}crearUsuario(){null==this.id?this.afAuth.currentUser.then(e=>{this._user.addIUserInfo({idUser:e?.uid,usuario:e?.displayName,email:e?.email,foto:e?.photoURL}).then(()=>{console.log("usuario actualizado")})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],this.idInfo=[],e.forEach(r=>{r.payload.doc.data(),this.usuariosInfo.push({id:r.payload.doc.data(),...r.payload.doc.data()});const c=this.usuariosInfo.find(m=>m.id.idUser===this.usuario?.uid);this.objetoUsuario=c;const l={id:r.payload.doc.id,...r.payload.doc.data()};this.idInfo.push(l);const f=this.idInfo.find(m=>m.idUser===this.usuario?.uid)?.id;this.id=f,this.phoneNumberValue=c?.telefono,this.genderValue=c?.Genero,this.birthdayValue=c?.cumpleanos,this.aboutMeValue=c?.about,this.urlPortada=c?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(e=>{this.imageZ=[],this.imageX=[],e.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const c=this.imageZ.filter(l=>l.idUser===this.usuario?.uid);this.imageX=c})})}changeProfilePicture(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`profilePictures/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(ee);this.storage.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this.afAuth.currentUser.then(je=>{je?.updateProfile({photoURL:Be}).then(()=>{this._user.updateUser({foto:Be},this.id).then(()=>{console.log("perfil actualizado")}),this.toastr.info("Foto de perfil cambiada")}).catch(We=>{console.error("Error al actualizar la foto de perfil:",We)})})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}grupos(){this.gr=!0,this.im=!1,this.vd=!1}imagenes(){this.gr=!1,this.im=!0,this.vd=!1}videos(){this.gr=!1,this.im=!1,this.vd=!0}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}changePortada(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`portada/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(ee);this.storage.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._user.updateUser({portada:Be},this.id).then(()=>{console.log("actualizando"),this.toastr.info("Foto de portada cambiada")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}misImages(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`usuarios/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(ee);this.storage.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{const je=this.usuario?.uid;this._imageUser.addImagenUsuario({url:Be,idUser:je}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}likeImage(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(c);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(c),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.imageX[e],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}abrirBandeja(){this.crearUsuario(),this.router.navigate(["/bandeja"])}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(KT),i.Y36(pd),i.Y36(Qi),i.Y36(dn),i.Y36(Xk),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil"]],decls:3,vars:2,consts:[[1,"container",2,"user-select","none"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","auto","height","70",2,"cursor","pointer","user-select","none",3,"src","click"],[1,"lap","user"],[1,"lap"],[1,"acciones"],[2,"cursor","pointer",3,"click"],["style","cursor: pointer",3,"click",4,"ngIf"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[1,"edit-perfil",3,"click"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"subir"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,n5,21,9,"ng-container",1),i.YNc(2,r5,3,0,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.objetoUsuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Kt,ei,mn,yc,Ni,ni,$r,Yn,ii,No,go],styles:[".img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.acciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;border-radius:17px;padding:6px 27px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}"]}),n})();function o5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"label"),i._uU(4,"Nombre de usuario:"),i.qZA(),i.TgZ(5,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.displayNameValue=o)}),i.qZA()(),i.TgZ(6,"div",3)(7,"label"),i._uU(8,"Lugar actual:"),i.qZA(),i.TgZ(9,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.ciudad=o)}),i.qZA()(),i.TgZ(10,"div",3)(11,"label"),i._uU(12,"Email:"),i.qZA(),i.TgZ(13,"input",5),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.usuario.email=o)}),i.qZA()(),i.TgZ(14,"div",3)(15,"label"),i._uU(16,"Tel\xe9fono:"),i.qZA(),i.TgZ(17,"input",6),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.phoneNumberValue=o)}),i.qZA()(),i.TgZ(18,"div",3)(19,"label"),i._uU(20,"G\xe9nero:"),i.qZA(),i.TgZ(21,"select",7),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.genderValue=o)}),i.TgZ(22,"option",8),i._uU(23,"Hombre"),i.qZA(),i.TgZ(24,"option",9),i._uU(25,"Mujer"),i.qZA(),i.TgZ(26,"option",10),i._uU(27,"No definido"),i.qZA()()(),i.TgZ(28,"div",3)(29,"label"),i._uU(30,"Estado:"),i.qZA(),i.TgZ(31,"select",11),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.estado=o)}),i.TgZ(32,"option",12),i._uU(33,"Soltero(a)"),i.qZA(),i.TgZ(34,"option",13),i._uU(35,"En una relacion"),i.qZA(),i.TgZ(36,"option",14),i._uU(37,"Comprometido(a)"),i.qZA(),i.TgZ(38,"option",15),i._uU(39,"Casado(a)"),i.qZA(),i.TgZ(40,"option",16),i._uU(41,"Pareja de hecho"),i.qZA(),i.TgZ(42,"option",17),i._uU(43,"Relacion abierta"),i.qZA(),i.TgZ(44,"option",18),i._uU(45,"Es complicado"),i.qZA(),i.TgZ(46,"option",19),i._uU(47,"Separado(a)"),i.qZA(),i.TgZ(48,"option",20),i._uU(49,"Divorciado(a)"),i.qZA(),i.TgZ(50,"option",21),i._uU(51,"Viudo(a)"),i.qZA()()(),i.TgZ(52,"div",22)(53,"label"),i._uU(54,"Fecha de cumplea\xf1os:"),i.qZA(),i.TgZ(55,"input",23),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.birthdayValue=o)}),i.qZA()(),i.TgZ(56,"div",3)(57,"label"),i._uU(58,"Sobre m\xed (m\xe1ximo 50 caracteres):"),i.qZA(),i.TgZ(59,"textarea",24),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.aboutMeValue=o)}),i.qZA()(),i.TgZ(60,"div",25)(61,"button",26),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.actualizarPerfil())}),i._uU(62," Guardar cambios "),i.qZA(),i.TgZ(63,"button",27),i._uU(64,"Volver"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.displayNameValue),i.xp6(4),i.Q6J("ngModel",e.ciudad),i.xp6(4),i.Q6J("disabled",!0)("ngModel",e.usuario.email),i.xp6(4),i.Q6J("ngModel",e.phoneNumberValue),i.xp6(4),i.Q6J("ngModel",e.genderValue),i.xp6(10),i.Q6J("ngModel",e.estado),i.xp6(24),i.Q6J("ngModel",e.birthdayValue),i.xp6(4),i.Q6J("ngModel",e.aboutMeValue)}}let s5=(()=>{class n{constructor(e,r,o,c){this.afAuth=e,this.toastr=r,this.router=o,this._user=c,this.usuariosInfo=[],this.comprobar=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.getUsers()})}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const c=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid)?.id;this.id=l,null==l&&(this.comprobar=!0),this.displayNameValue=c?.usuario,this.phoneNumberValue=c?.telefono,this.genderValue=c?.Genero,this.birthdayValue=c?.cumpleanos,this.aboutMeValue=c?.about,this.ciudad=c?.ciudad,this.estado=c?.estado})})}actualizarPerfil(){this.afAuth.currentUser.then(e=>{const r=e?.uid,o=e?.email,c=e?.photoURL;this._user.updateUser({idUser:r,usuario:this.displayNameValue,email:o,foto:c,telefono:this.phoneNumberValue||null,Genero:this.genderValue||null,cumpleanos:this.birthdayValue||null,about:this.aboutMeValue||null,ciudad:this.ciudad||null,estado:this.estado||null},this.id).then(()=>{this.router.navigate(["/perfil"]),this.toastr.info("Datos actualizados")})})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(Qi),i.Y36(dn),i.Y36(pd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil-editar"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"per-con"],[1,"form-group"],["required","","name","displayName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","email","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","phoneNumber","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","gender",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","hombre"],["value","mujer"],["value","no_definido"],["name","estado",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","soltero(a)"],["value","en una relacion"],["value","comprometido(a)"],["value","casado(a)"],["value","pareja de hecho"],["value","relacion abierta"],["value","es complicado"],["value","separado(a)"],["value","divorciado(a)"],["value","viudo(a)"],[1,"form-group","brt"],["name","birthday","type","date",1,"form-control","dent",3,"ngModel","ngModelChange"],["name","aboutMe","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],[1,"but"],[1,"btn","btn-primary",3,"click"],["routerLink","/perfil",1,"btn","btn-secondary"]],template:function(e,r){1&e&&i.YNc(0,o5,65,9,"div",0),2&e&&i.Q6J("ngIf",r.usuario)},dependencies:[mn,yc,jD,BD,ni,Eg,Tg,$r,ii,JD,No],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border:none;border-radius:5px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.per-con[_ngcontent-%COMP%]{width:98%}.slc[_ngcontent-%COMP%]{width:102%}.brt[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dent[_ngcontent-%COMP%]{width:100.3%;padding:8px;border:1px solid #bcb0b0;border-radius:4px}.but[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 500px){.per-con[_ngcontent-%COMP%]{width:94%}.slc[_ngcontent-%COMP%]{width:106%}}"]}),n})();function a5(n,t){if(1&n&&(i.TgZ(0,"div",18)(1,"p",19),i._uU(2),i.qZA(),i.TgZ(3,"p",19),i._uU(4),i.qZA(),i.TgZ(5,"p",19),i._uU(6),i.qZA(),i.TgZ(7,"p",19),i._uU(8),i.qZA(),i.TgZ(9,"p",19),i._uU(10),i.qZA()()),2&n){const e=i.oxw(2);i.xp6(2),i.hij("Vive en: ",null==e.info?null:e.info.ciudad,""),i.xp6(2),i.hij("Genero: ",null==e.info?null:e.info.Genero,""),i.xp6(2),i.hij("Cumplea\xf1os: ",null==e.info?null:e.info.cumpleanos,""),i.xp6(2),i.hij("Estado: ",null==e.info?null:e.info.estado,""),i.xp6(2),i.hij("Celular: ",null==e.info?null:e.info.telefono,"")}}function c5(n,t){1&n&&(i.TgZ(0,"div",20)(1,"div",21)(2,"div",22),i._UZ(3,"img",23),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",24),i._UZ(7,"img",25),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function u5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",36)(1,"img",37),i.NdJ("mouseenter",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(c))})("mouseleave",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(c))})("click",function(){const c=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(c))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",e.url,i.LSH)}}function l5(n,t){if(1&n&&(i.TgZ(0,"span",44),i._uU(1),i.qZA()),2&n){const e=i.oxw(4);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function d5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",46),i.qZA()}}function h5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",47),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",48),i.qZA()}}function f5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",49),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",50),i.qZA()}}function p5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",51),i._UZ(1,"img",52),i.TgZ(2,"div",53)(3,"div")(4,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",55),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const e=i.oxw(4);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const g5=function(n){return{active:n}};function m5(n,t){if(1&n&&(i.TgZ(0,"div",38),i.YNc(1,l5,2,2,"span",39),i.YNc(2,d5,2,0,"button",40),i.YNc(3,h5,2,0,"button",41),i.YNc(4,f5,2,0,"button",42),i.YNc(5,p5,11,7,"div",43),i.qZA()),2&n){const e=i.oxw(3);i.Q6J("ngClass",i.VKq(6,g5,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function _5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",68),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}function y5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",69)(1,"div",70)(2,"img",71),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",72)(6,"p",73),i._uU(7),i.qZA(),i.TgZ(8,"div",74)(9,"div")(10,"i",55),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",75),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(14,"i",76),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(c))}),i.qZA()()()()}if(2&n){const e=t.$implicit,r=i.oxw(4);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.hij(" ",e.comentario," "),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment)}}function v5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",56)(1,"div",57),i.YNc(2,_5,1,0,"span",58),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",59)(6,"div",60),i.YNc(7,y5,15,6,"div",61),i.qZA()(),i.TgZ(8,"div",62)(9,"form",63,64),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",65),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw(3);return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",67),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function D5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",80)(6,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function C5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",82)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",83),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw(3);return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",84)(7,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const e=i.oxw(3);i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function E5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",80)(6,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",81),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function w5(n,t){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han subido fotos aun.."),i.qZA())}function b5(n,t){if(1&n&&(i.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30),i.YNc(5,u5,2,1,"div",31),i.qZA(),i.YNc(6,m5,6,8,"div",32),i.qZA()()(),i._UZ(7,"div"),i.YNc(8,v5,18,4,"div",33),i.TgZ(9,"div"),i.YNc(10,D5,10,0,"div",34),i.qZA(),i.YNc(11,C5,11,1,"div",35),i.TgZ(12,"div"),i.YNc(13,E5,10,0,"div",34),i.qZA(),i.YNc(14,w5,2,0,"p",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",e.imageX),i.xp6(1),i.Q6J("ngIf",e.showMask),i.xp6(2),i.Q6J("ngIf",e.modalcom),i.xp6(2),i.Q6J("ngIf",e.modalDelete),i.xp6(1),i.Q6J("ngIf",e.modalEditar),i.xp6(2),i.Q6J("ngIf",e.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==e.imageX.length)}}function T5(n,t){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.enviarMensaje())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7),i._UZ(8,"img",8),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"p",10),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.toggleInfo())}),i._uU(13),i.qZA(),i.YNc(14,a5,11,5,"div",11),i.qZA()(),i.TgZ(15,"p",12),i._uU(16),i.qZA()(),i.TgZ(17,"div",13)(18,"p",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(19,"Grupos"),i.qZA(),i.TgZ(20,"p",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.imagenes())}),i._uU(21),i.qZA(),i.TgZ(22,"p",15),i._uU(23,"Volver"),i.qZA()(),i.YNc(24,c5,10,0,"div",16),i.YNc(25,b5,15,7,"div",17),i.BQk()}if(2&n){const e=i.oxw();i.xp6(6),i.Q6J("src",e.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",null!=e.info&&e.info.foto?e.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==e.info?null:e.info.usuario),i.xp6(3),i.Oqu(e.ver),i.xp6(1),i.Q6J("ngIf",e.showMoreInfo),i.xp6(2),i.Oqu(null==e.info?null:e.info.about),i.xp6(5),i.hij(" Fotos de ",null==e.info?null:e.info.usuario," "),i.xp6(3),i.Q6J("ngIf",e.gr),i.xp6(1),i.Q6J("ngIf",e.im)}}function x5(n,t){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let I5=(()=>{class n{constructor(e,r,o,c,l,f,m,v){this.route=e,this._user=r,this.afAuth=o,this.location=c,this.toastr=l,this._imageUser=f,this.router=m,this.el=v,this.usuariosInfo=[],this.showMoreInfo=!1,this.ver="Ver mas...",this.gr=!0,this.im=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.esInvitado=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e}),this.route.paramMap.subscribe(e=>{this.id=e.get("id")}),this.getUsers(),this.getUserImages(),"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)}crearUsuario(){null==this.usx?this.afAuth.currentUser.then(e=>{this._user.addIUserInfo({idUser:e?.uid,usuario:e?.displayName,email:e?.email,foto:e?.photoURL}).then(()=>{})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const c=this.usuariosInfo.find(f=>f.idUser===this.id),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid);this.usx=l,this.info=c,this.urlPortada=this.info?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(e=>{this.imageZ=[],this.imageX=[],e.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const c=this.imageZ.filter(l=>l.idUser===this.id);this.imageX=c})})}goBack(){this.location.back()}toggleInfo(){this.showMoreInfo=!this.showMoreInfo,this.ver=this.showMoreInfo?"Ver menos":"Ver mas..."}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}grupos(){this.gr=!0,this.im=!1}imagenes(){this.gr=!1,this.im=!0}likeImage(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(c);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(c),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.imageX[e],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}enviarMensaje(){this.crearUsuario(),this.router.navigate(["/enviar-mensaje/",this.id])}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(_c),i.Y36(pd),i.Y36(ai),i.Y36(Ae),i.Y36(Qi),i.Y36(Xk),i.Y36(dn),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-ver-usuario"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","70","height","70",2,"cursor","pointer","user-select","none",3,"src"],[1,"lap","user"],[1,"edit-perfil",3,"click"],["style","display: flex; flex-direction: column; align-items: center",4,"ngIf"],[1,"lap"],[1,"acciones"],[2,"cursor","pointer",3,"click"],["routerLink","/perfil",2,"cursor","pointer"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"lap","email"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,T5,26,9,"ng-container",1),i.YNc(2,x5,3,0,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.usuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Kt,ei,mn,yc,Ni,ni,$r,Yn,ii,No,go],styles:[".img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.acciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;border-radius:17px;padding:6px 27px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}"]}),n})();function A5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",9)(1,"div",10)(2,"span",11),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",12)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",14),i._uU(10,"Registrate"),i.qZA()()()()()}}let e2=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar-activate"]],decls:16,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main-activate",1,"nav-link"],["routerLink","/galeria-activate",1,"nav-link"],["routerLink","/videos-activate",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA()()(),i.TgZ(14,"div"),i.YNc(15,A5,11,0,"div",8),i.qZA()),2&e&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(11),i.Q6J("ngIf",r.modal))},dependencies:[mn,Rs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),S5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main-activate"]],decls:13,vars:0,consts:[[1,"contenedor",2,"color","white","text-decoration","none"],[2,"text-align","center"],[1,"move"],[1,"move2"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","3%","color","black","text-decoration","none"],[1,"fab","fa-facebook-square"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"app-navbar-activate"),i.TgZ(2,"div")(3,"div",1)(4,"h2",2),i._uU(5,"Bienvenidos a Activate"),i.qZA(),i.TgZ(6,"span",3),i._uU(7,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),i.qZA()(),i.TgZ(8,"div"),i._UZ(9,"img",4),i.qZA(),i.TgZ(10,"a",5),i._UZ(11,"i",6),i._uU(12," Unete a nuestro grupo de Facebook. "),i.qZA()()())},dependencies:[e2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;padding:20px;animation:apearText 2s linear}.img-fondo[_ngcontent-%COMP%]{position:relative;top:1rem;width:100%;z-index:1;height:60vh}.move[_ngcontent-%COMP%]{animation:moveText .5s linear}.move2[_ngcontent-%COMP%]{animation:moveText 1s linear}@media (max-width: 500px){.img-fondo[_ngcontent-%COMP%]{height:44vh;top:5rem}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})(),M5=(()=>{class n{constructor(e){this.firestore=e}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(e,r){return this.firestore.collection("img-activate").doc(e).update(r)}addImagenInfo(e){return this.firestore.collection("img-activate").add(e)}delete(e){return this.firestore.collection("img-activate").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function N5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseEnter(c))})("mouseleave",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseLeave(c))})("click",function(){const c=i.CHM(e).index,l=i.oxw();return i.KtG(l.onPreviewImage(c))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",e.url,i.LSH)}}function P5(n,t){if(1&n&&(i.TgZ(0,"span",21),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function O5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",23),i.qZA()}}function R5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",25),i.qZA()}}function F5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",27),i.qZA()}}function L5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"i",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()}}function U5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",28),i._UZ(1,"img",29),i.TgZ(2,"div",30)(3,"div")(4,"i",31),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.YNc(11,L5,2,0,"div",33),i.qZA()()}if(2&n){const e=i.oxw(2);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage),i.xp6(1),i.Q6J("ngIf",e.adm)}}const V5=function(n){return{active:n}};function Z5(n,t){if(1&n&&(i.TgZ(0,"div",15),i.YNc(1,P5,2,2,"span",16),i.YNc(2,O5,2,0,"button",17),i.YNc(3,R5,2,0,"button",18),i.YNc(4,F5,2,0,"button",19),i.YNc(5,U5,12,8,"div",20),i.qZA()),2&n){const e=i.oxw();i.Q6J("ngClass",i.VKq(6,V5,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function j5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",47),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const B5=function(n){return{activar:n}};function H5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",48)(1,"div",49)(2,"img",50),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",51)(6,"p",52),i._uU(7),i.qZA(),i.TgZ(8,"div",53)(9,"div",54)(10,"i",32),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",55)(14,"div",56)(15,"div",57)(16,"i",58),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(17,"i",34),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(c))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",59),i.NdJ("click",function(){const o=i.CHM(e),c=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(c,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,B5,!(r===o.capIndex&&o.option)))}}function G5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"div",36),i.YNc(2,j5,1,0,"span",37),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",38)(6,"div",39),i.YNc(7,H5,21,9,"div",40),i.qZA()(),i.TgZ(8,"div",41)(9,"form",42,43),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",44),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",45),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",46),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function q5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function $5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",65)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",67)(7,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function z5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",68)(1,"div",61)(2,"span",69),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",62)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",70),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",71),i._uU(10,"Registrate"),i.qZA()()()()()}}function K5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.eliminarImagen())}),i._uU(9,"Aceptar"),i.qZA()()()()}}let W5=(()=>{class n{constructor(e,r,o,c,l,f,m){this.el=e,this.afAuth=r,this._image=o,this.toastr=c,this.router=l,this._user=f,this.storagex=m,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==r)&&(this.adm=!0)})}getImages(){this._image.getim().subscribe(e=>{this.images=[],e.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}subirArchivo(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`images/${o.name}`,se=this.storagex.ref(ee);this.storagex.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._image.addImagenInfo({url:Be}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}likeImage(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(c);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(c),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._image.updateImgAc(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.images[e],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._image.updateImgAc(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImgAc(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}opciones(e,r){var o=this;return(0,te.Z)(function*(){const c=yield o.afAuth.currentUser;(c?.email===r.correo||"administrador.sistema@gmail.com"==c?.email||"jeestrada377@gmail.com"==c?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(ai),i.Y36(M5),i.Y36(Qi),i.Y36(dn),i.Y36(pd),i.Y36(KT))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria-activate"]],decls:17,vars:8,consts:[[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[4,"ngIf"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.YNc(3,k5,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,N5,2,1,"div",5),i.qZA(),i.YNc(7,Z5,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,G5,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,q5,10,0,"div",8),i.qZA(),i.YNc(12,$5,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,z5,11,0,"div",10),i.qZA(),i.TgZ(15,"div"),i.YNc(16,K5,10,0,"div",8),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(2),i.Q6J("ngIf",r.modalDeleteImage))},dependencies:[Kt,ei,mn,Rs,Ni,ni,$r,Yn,ii,No,go,e2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}"]}),n})(),J5=(()=>{class n{constructor(e){this.firestore=e}getactvid(){return this.firestore.collection("videos-activate",e=>e.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(e,r){return this.firestore.collection("videos-activate").doc(e).update(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"video",12),i._UZ(2,"source",13),i.qZA(),i.TgZ(3,"div",14)(4,"div",15)(5,"p",16),i._uU(6),i.qZA()(),i.TgZ(7,"div",17)(8,"div",18)(9,"i",19),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(c))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",20)(13,"i",21),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeVideo(c))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",e.url,i.LSH),i.xp6(4),i.hij(" ",e.nombre," "),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountVideo)}}function Q5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const X5=function(n){return{activar:n}};function eH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"div",36)(2,"img",37),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(c.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",38)(6,"p",39),i._uU(7),i.qZA(),i.TgZ(8,"div",40)(9,"div",41)(10,"i",21),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(c))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",42)(14,"div",43)(15,"div",44)(16,"i",45),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(c))}),i.qZA(),i.TgZ(17,"i",46),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(c))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",47),i.NdJ("click",function(){const o=i.CHM(e),c=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(c,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,X5,!(r===o.capIndex&&o.option)))}}function tH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",22)(1,"div",23),i.YNc(2,Q5,1,0,"span",24),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",25)(6,"div",26),i.YNc(7,eH,21,9,"div",27),i.qZA()(),i.TgZ(8,"div",28)(9,"form",29,30),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",31),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",32),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",33),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function nH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",48)(1,"div",49)(2,"div",50)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",51)(6,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function rH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",53)(1,"div",49)(2,"div",50)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",54),i.NdJ("ngModelChange",function(o){i.CHM(e);const c=i.oxw();return i.KtG(c.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",55)(7,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function iH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",56)(1,"div",49)(2,"span",57),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",50)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",58),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",59),i._uU(10,"Registrate"),i.qZA()()()()()}}let oH=(()=>{class n{constructor(e,r,o,c,l){this.afAuth=e,this._videosService=r,this.afs=o,this._users=c,this.router=l,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm="",this.option=!1}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getactvid().subscribe(e=>{this.videos=[],e.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})}),this.filteredVideos=this.videos})}likeVideo(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const c=o.uid,l=o.displayName,f=o.email,m=e.likedByVideo.indexOf(c);-1!==m?(e.likedByVideo.splice(m,1),e.userVideoLikes.splice(m,1),e.likesCountVideo--):(e.likedByVideo.push(c),e.likesCountVideo++,e.userVideoLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountVideo:e.likesCountVideo,likedByVideo:e.likedByVideo,userVideoLikes:e.userVideoLikes};yield r._videosService.updateActVideo(v,x)}else r.modal=!0})()}abrirCom(e){var r=this;return(0,te.Z)(function*(){r.dataVideoId=e;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(e){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}likeComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const c=o.uid,l=e.likedByComment.indexOf(c);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(c),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateActVideo(f,v),console.log(v)}}else r.modal=!0})()}abrirEditar(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const c=r.dataVideoId,l=r.dataVideoId.id;c.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:c.commentsVideo};yield r._videosService.updateActVideo(l,I),r.comentario=""}})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(c=>{console.error("Error al eliminar el comentario:",c)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(e=>e.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}opciones(e,r){var o=this;return(0,te.Z)(function*(){const c=yield o.afAuth.currentUser;(c?.email===r.correo||"administrador.sistema@gmail.com"==c?.email||"jeestrada377@gmail.com"==c?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ai),i.Y36(J5),i.Y36(fd),i.Y36(pd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos-activate"]],decls:14,vars:6,consts:[[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModel","ngModelChange","keyup"],[1,"video-container"],[1,"video"],["class","gallery-video",4,"ngFor","ngForOf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; ; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","; margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.TgZ(3,"div",2)(4,"input",3),i.NdJ("ngModelChange",function(c){return r.searchTerm=c})("keyup",function(){return r.filterVideos()}),i.qZA()(),i.TgZ(5,"div",4)(6,"div",5),i.YNc(7,Y5,16,6,"div",6),i.qZA()()()(),i.YNc(8,tH,18,4,"div",7),i.TgZ(9,"div"),i.YNc(10,nH,10,0,"div",8),i.qZA(),i.YNc(11,rH,11,1,"div",9),i.TgZ(12,"div"),i.YNc(13,iH,11,0,"div",10),i.qZA()),2&e&&(i.xp6(4),i.Q6J("ngModel",r.searchTerm),i.xp6(3),i.Q6J("ngForOf",r.filteredVideos),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[Kt,ei,mn,Rs,Ni,ni,$r,Yn,ii,No,go,e2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})(),h6=(()=>{class n{constructor(e){this.firestore=e}getUMessage(){return this.firestore.collection("mensajes").snapshotChanges()}update(e,r){return this.firestore.collection("mensajes").doc(e).update(r)}addMessage(e){return this.firestore.collection("mensajes").add(e)}delete(e){return this.firestore.collection("mensajes").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(fd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",12)(1,"img",13),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(c.idUser))}),i.qZA(),i.TgZ(2,"div"),i._uU(3),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",null!=e&&e.foto?e.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==e?null:e.usuario)}}const aH=function(n,t){return{indicar:n,active:t}};function cH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",14)(1,"div")(2,"div",15)(3,"div",16),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(c.idEmisor))}),i.TgZ(4,"span",17),i._UZ(5,"img",18),i.TgZ(6,"strong"),i._uU(7),i.qZA()()(),i.TgZ(8,"div")(9,"span",19),i.NdJ("click",function(){const o=i.CHM(e),c=o.$implicit,l=o.index,f=i.oxw();return i.KtG(f.abrirEliminar(c.id,l))}),i._uU(10,"\u22ee"),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw();i.Q6J("ngClass",i.WLB(3,aH,r===o.capIndex,r===o.capIndex&&o.close)),i.xp6(5),i.Q6J("src",null!=e&&e.foto?e.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.para)}}function uH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",20)(1,"div")(2,"div")(3,"span",21),i.NdJ("click",function(){const c=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(c.idReceptor))}),i._UZ(4,"img",18),i.TgZ(5,"strong"),i._uU(6),i.qZA()()()()()}if(2&n){const e=t.$implicit;i.xp6(4),i.Q6J("src",null!=e&&e.foto1?e.foto1:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.de)}}const f6=function(n){return{active:n}};let lH=(()=>{class n{constructor(e,r,o,c,l){this.location=e,this._msj=r,this.afAuth=o,this.router=c,this._user=l,this.mensajes=[],this.mensajes2=[],this.mensajes3=[],this.misMensajes=[],this.misMensajes2=[],this.users=[],this.users2=[],this.optionDelete=!1,this.close=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.usuarioActual=this.usuario?.uid,this.getMessages(),this.getUsers()})}getUsers(){this.users=[],this._user.getUsers().subscribe(e=>{e.forEach(o=>{this.users.push({id:o.payload.doc.id,...o.payload.doc.data()})});const r=this.users.filter(o=>o.idUser!==this.usuarioActual);this.users2=r})}getMessages(){this._msj.getUMessage().subscribe(e=>{this.mensajes2=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.mensajes2.push(o);const c=this.mensajes2.filter(f=>f.idReceptor==this.usuarioActual),l=this.mensajes2.filter(f=>f.idEmisor==this.usuarioActual);this.mensajes=c,this.mensajes3=l})})}abrirMensaje(e){this.router.navigate(["enviar-mensaje",e])}volver(){this.location.back()}abrirEliminar(e,r){this.capIndex=r,this.optionDelete=!0,this.deleteId=e}eliminar(){this.optionDelete=!1,this._msj.delete(this.deleteId).then(()=>{})}cerrar(){this.optionDelete=!1,this.close=!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ae),i.Y36(h6),i.Y36(ai),i.Y36(dn),i.Y36(pd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-bandeja"]],decls:16,vars:9,consts:[[1,"inbox-container"],[1,"cabecera"],[1,"inbox-header"],[1,"fas","fa-arrow-left",3,"click"],[1,"option",3,"ngClass"],[1,"fas","fa-trash",3,"click"],[1,"close",3,"ngClass","click"],[2,"gap","1rem","display","flex","width","100%","overflow-x","auto","-ms-overflow-style","none","scrollbar-width","none"],["style","text-align: center",4,"ngFor","ngForOf"],[1,"inbox-messages",2,"width","100%"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["class","message",4,"ngFor","ngForOf"],[2,"text-align","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src","click"],[1,"message",3,"ngClass"],[2,"display","flex","justify-content","space-between","align-items","center"],[2,"display","flex","align-items","center","justify-content","space-between","width","-webkit-fill-available",3,"click"],[2,"display","flex","gap","1rem","align-items","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"],[2,"font-size","26px",3,"click"],[1,"message"],[2,"display","flex","gap","1rem","align-items","center",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),i.NdJ("click",function(){return r.volver()}),i.qZA(),i.TgZ(4,"h1"),i._uU(5,"Mensajes"),i.qZA()(),i.TgZ(6,"div",4)(7,"i",5),i.NdJ("click",function(){return r.eliminar()}),i.qZA(),i.TgZ(8,"span",6),i.NdJ("click",function(){return r.cerrar()}),i._uU(9,"\xd7"),i.qZA()()(),i.TgZ(10,"div",7),i.YNc(11,sH,4,2,"div",8),i.qZA(),i.TgZ(12,"div",9),i.YNc(13,cH,11,6,"div",10),i.qZA(),i.TgZ(14,"div",9),i.YNc(15,uH,7,2,"div",11),i.qZA()()),2&e&&(i.xp6(6),i.Q6J("ngClass",i.VKq(5,f6,r.optionDelete)),i.xp6(2),i.Q6J("ngClass",i.VKq(7,f6,r.close)),i.xp6(3),i.Q6J("ngForOf",r.users2),i.xp6(2),i.Q6J("ngForOf",r.mensajes),i.xp6(2),i.Q6J("ngForOf",r.mensajes3))},dependencies:[Kt,ei],styles:[".inbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;background-color:#f0f0f0}.inbox-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:20px}.inbox-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#333;cursor:pointer;margin-right:10px}.inbox-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.message[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff}.message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}.cabecera[_ngcontent-%COMP%]{margin-bottom:20px;width:100%;display:flex;flex-direction:row;align-items:center}.option[_ngcontent-%COMP%]{gap:18px;display:flex;flex-direction:row;align-items:center;transition:opacity .3s ease-in-out;opacity:0}.option.active[_ngcontent-%COMP%]{opacity:1}.close[_ngcontent-%COMP%]{color:brown;font-size:31px}.indicar.active[_ngcontent-%COMP%]{background-color:#fff}.indicar[_ngcontent-%COMP%]{background-color:#757e753b}"]}),n})();function dH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"img",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,c=i.oxw(2);return i.KtG(c.ampliar(o.mensaje))}),i.qZA()()}if(2&n){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("src",e.mensaje,i.LSH)}}function hH(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&n){const e=i.oxw().$implicit;i.xp6(1),i.hij(" ",e.mensaje," ")}}const p6=function(n,t,e){return{"mensaje-saliente":n,"mensaje-entrante":t,"mensaje-seleccionado":e}},g6=function(n,t){return{"mensaje-s":n,"mensaje-e":t}};function fH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i.NdJ("mousedown",function(){const o=i.CHM(e),c=o.$implicit,l=o.index,f=i.oxw(2);return i.KtG(f.options(c,l))}),i.TgZ(2,"div")(3,"span",26),i._uU(4),i.qZA()(),i.YNc(5,dH,2,1,"div",28),i.YNc(6,hH,2,1,"div",28),i.qZA()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.Q6J("ngClass",i.kEZ(5,p6,e.para===o.usuario.displayName,e.de===o.usuario.displayName,r===o.capId)),i.xp6(3),i.Q6J("ngClass",i.WLB(9,g6,e.para===o.usuario.displayName,e.de===o.usuario.displayName)),i.xp6(1),i.hij("",e.de," "),i.xp6(1),i.Q6J("ngIf",o.isUrl(e.mensaje)),i.xp6(1),i.Q6J("ngIf",!o.isUrl(e.mensaje))}}function pH(n,t){if(1&n&&(i.TgZ(0,"div",24),i.YNc(1,fH,7,12,"div",25),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.objetoMensaje.mensaje)}}function gH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"img",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,c=i.oxw(2);return i.KtG(c.ampliar(o.mensaje))}),i.qZA()()}if(2&n){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("src",e.mensaje,i.LSH)}}function mH(n,t){if(1&n&&(i.TgZ(0,"div")(1,"div"),i._uU(2),i.qZA()()),2&n){const e=i.oxw().$implicit;i.xp6(2),i.hij(" ",e.mensaje," ")}}function _H(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i.NdJ("mousedown",function(){const o=i.CHM(e),c=o.$implicit,l=o.index,f=i.oxw(2);return i.KtG(f.options(c,l))}),i.TgZ(2,"div")(3,"span",26),i._uU(4),i.qZA()(),i.YNc(5,gH,2,1,"div",28),i.YNc(6,mH,3,1,"div",28),i.qZA()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.Q6J("ngClass",i.kEZ(5,p6,e.para===o.usuario.displayName,e.de===o.usuario.displayName,r===o.capId)),i.xp6(3),i.Q6J("ngClass",i.WLB(9,g6,e.para===o.usuario.displayName,e.de===o.usuario.displayName)),i.xp6(1),i.hij("",e.de," "),i.xp6(1),i.Q6J("ngIf",o.isUrl(e.mensaje)),i.xp6(1),i.Q6J("ngIf",!o.isUrl(e.mensaje))}}function yH(n,t){if(1&n&&(i.TgZ(0,"div",24),i.YNc(1,_H,7,12,"div",25),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.objetoMensaje2.mensaje)}}function vH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",30)(1,"div",31)(2,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60a}"))}),i._uU(3,"\u{1f60a}"),i.qZA(),i.TgZ(4,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f602}"))}),i._uU(5,"\u{1f602}"),i.qZA(),i.TgZ(6,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f601}"))}),i._uU(7,"\u{1f601}"),i.qZA(),i.TgZ(8,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f642}"))}),i._uU(9,"\u{1f642}"),i.qZA(),i.TgZ(10,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60e}"))}),i._uU(11,"\u{1f60e}"),i.qZA(),i.TgZ(12,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f609}"))}),i._uU(13,"\u{1f609}"),i.qZA(),i.TgZ(14,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60c}"))}),i._uU(15,"\u{1f60c}"),i.qZA(),i.TgZ(16,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f970}"))}),i._uU(17,"\u{1f970}"),i.qZA(),i.TgZ(18,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f618}"))}),i._uU(19,"\u{1f618}"),i.qZA(),i.TgZ(20,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60d}"))}),i._uU(21,"\u{1f60d}"),i.qZA(),i.TgZ(22,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f605}"))}),i._uU(23,"\u{1f605}"),i.qZA(),i.TgZ(24,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61c}"))}),i._uU(25,"\u{1f61c}"),i.qZA(),i.TgZ(26,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61d}"))}),i._uU(27,"\u{1f61d}"),i.qZA(),i.TgZ(28,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92a}"))}),i._uU(29,"\u{1f92a}"),i.qZA(),i.TgZ(30,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f917}"))}),i._uU(31,"\u{1f917}"),i.qZA(),i.TgZ(32,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61a}"))}),i._uU(33,"\u{1f61a}"),i.qZA(),i.TgZ(34,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f913}"))}),i._uU(35,"\u{1f913}"),i.qZA(),i.TgZ(36,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f624}"))}),i._uU(37,"\u{1f624}"),i.qZA(),i.TgZ(38,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92c}"))}),i._uU(39,"\u{1f92c}"),i.qZA(),i.TgZ(40,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f621}"))}),i._uU(41,"\u{1f621}"),i.qZA(),i.TgZ(42,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f622}"))}),i._uU(43,"\u{1f622}"),i.qZA(),i.TgZ(44,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62d}"))}),i._uU(45,"\u{1f62d}"),i.qZA(),i.TgZ(46,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f631}"))}),i._uU(47,"\u{1f631}"),i.qZA(),i.TgZ(48,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f633}"))}),i._uU(49,"\u{1f633}"),i.qZA(),i.TgZ(50,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60b}"))}),i._uU(51,"\u{1f60b}"),i.qZA(),i.TgZ(52,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f973}"))}),i._uU(53,"\u{1f973}"),i.qZA(),i.TgZ(54,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f634}"))}),i._uU(55,"\u{1f634}"),i.qZA(),i.TgZ(56,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f607}"))}),i._uU(57,"\u{1f607}"),i.qZA(),i.TgZ(58,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f608}"))}),i._uU(59,"\u{1f608}"),i.qZA(),i.TgZ(60,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92f}"))}),i._uU(61,"\u{1f92f}"),i.qZA(),i.TgZ(62,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f929}"))}),i._uU(63,"\u{1f929}"),i.qZA(),i.TgZ(64,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f97a}"))}),i._uU(65,"\u{1f97a}"),i.qZA(),i.TgZ(66,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f610}"))}),i._uU(67,"\u{1f610}"),i.qZA(),i.TgZ(68,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62c}"))}),i._uU(69,"\u{1f62c}"),i.qZA(),i.TgZ(70,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f635}"))}),i._uU(71,"\u{1f635}"),i.qZA(),i.TgZ(72,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f914}"))}),i._uU(73,"\u{1f914}"),i.qZA(),i.TgZ(74,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f616}"))}),i._uU(75,"\u{1f616}"),i.qZA(),i.TgZ(76,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f623}"))}),i._uU(77,"\u{1f623}"),i.qZA(),i.TgZ(78,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61e}"))}),i._uU(79,"\u{1f61e}"),i.qZA(),i.TgZ(80,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f614}"))}),i._uU(81,"\u{1f614}"),i.qZA(),i.TgZ(82,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f613}"))}),i._uU(83,"\u{1f613}"),i.qZA(),i.TgZ(84,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f644}"))}),i._uU(85,"\u{1f644}"),i.qZA(),i.TgZ(86,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62a}"))}),i._uU(87,"\u{1f62a}"),i.qZA(),i.TgZ(88,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f924}"))}),i._uU(89,"\u{1f924}"),i.qZA(),i.TgZ(90,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f637}"))}),i._uU(91,"\u{1f637}"),i.qZA(),i.TgZ(92,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f912}"))}),i._uU(93,"\u{1f912}"),i.qZA(),i.TgZ(94,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f915}"))}),i._uU(95,"\u{1f915}"),i.qZA(),i.TgZ(96,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f922}"))}),i._uU(97,"\u{1f922}"),i.qZA(),i.TgZ(98,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92e}"))}),i._uU(99,"\u{1f92e}"),i.qZA(),i.TgZ(100,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f927}"))}),i._uU(101,"\u{1f927}"),i.qZA(),i.TgZ(102,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f974}"))}),i._uU(103,"\u{1f974}"),i.qZA(),i.TgZ(104,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f911}"))}),i._uU(105,"\u{1f911}"),i.qZA(),i.TgZ(106,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f920}"))}),i._uU(107,"\u{1f920}"),i.qZA(),i.TgZ(108,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f919}"))}),i._uU(109,"\u{1f919}"),i.qZA(),i.TgZ(110,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f918}"))}),i._uU(111,"\u{1f918}"),i.qZA(),i.TgZ(112,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44d}"))}),i._uU(113,"\u{1f44d}"),i.qZA(),i.TgZ(114,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44e}"))}),i._uU(115,"\u{1f44e}"),i.qZA(),i.TgZ(116,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91e}"))}),i._uU(117,"\u{1f91e}"),i.qZA(),i.TgZ(118,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270c\ufe0f"))}),i._uU(119,"\u270c\ufe0f"),i.qZA(),i.TgZ(120,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91f}"))}),i._uU(121,"\u{1f91f}"),i.qZA(),i.TgZ(122,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44c}"))}),i._uU(123,"\u{1f44c}"),i.qZA(),i.TgZ(124,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44b}"))}),i._uU(125,"\u{1f44b}"),i.qZA(),i.TgZ(126,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91a}"))}),i._uU(127,"\u{1f91a}"),i.qZA(),i.TgZ(128,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f590}\ufe0f"))}),i._uU(129,"\u{1f590}\ufe0f"),i.qZA(),i.TgZ(130,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270b"))}),i._uU(131,"\u270b"),i.qZA(),i.TgZ(132,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f596}"))}),i._uU(133,"\u{1f596}"),i.qZA(),i.TgZ(134,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44a}"))}),i._uU(135,"\u{1f44a}"),i.qZA(),i.TgZ(136,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270a"))}),i._uU(137,"\u270a"),i.qZA(),i.TgZ(138,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91b}"))}),i._uU(139,"\u{1f91b}"),i.qZA(),i.TgZ(140,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91c}"))}),i._uU(141,"\u{1f91c}"),i.qZA(),i.TgZ(142,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91d}"))}),i._uU(143,"\u{1f91d}"),i.qZA(),i.TgZ(144,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f4aa}"))}),i._uU(145,"\u{1f4aa}"),i.qZA(),i.TgZ(146,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9be}"))}),i._uU(147,"\u{1f9be}"),i.qZA(),i.TgZ(148,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bf}"))}),i._uU(149,"\u{1f9bf}"),i.qZA(),i.TgZ(150,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b5}"))}),i._uU(151,"\u{1f9b5}"),i.qZA(),i.TgZ(152,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b6}"))}),i._uU(153,"\u{1f9b6}"),i.qZA(),i.TgZ(154,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f442}"))}),i._uU(155,"\u{1f442}"),i.qZA(),i.TgZ(156,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bb}"))}),i._uU(157,"\u{1f9bb}"),i.qZA(),i.TgZ(158,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f443}"))}),i._uU(159,"\u{1f443}"),i.qZA(),i.TgZ(160,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f43b}"))}),i._uU(161,"\u{1f43b}"),i.qZA(),i.TgZ(162,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f430}"))}),i._uU(163,"\u{1f430}"),i.qZA(),i.TgZ(164,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f431}"))}),i._uU(165,"\u{1f431}"),i.qZA(),i.TgZ(166,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f436}"))}),i._uU(167,"\u{1f436}"),i.qZA(),i.TgZ(168,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42d}"))}),i._uU(169,"\u{1f42d}"),i.qZA(),i.TgZ(170,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f439}"))}),i._uU(171,"\u{1f439}"),i.qZA(),i.TgZ(172,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f437}"))}),i._uU(173,"\u{1f437}"),i.qZA(),i.TgZ(174,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42e}"))}),i._uU(175,"\u{1f42e}"),i.qZA(),i.TgZ(176,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42f}"))}),i._uU(177,"\u{1f42f}"),i.qZA(),i.TgZ(178,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f428}"))}),i._uU(179,"\u{1f428}"),i.qZA(),i.TgZ(180,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9e0}"))}),i._uU(181,"\u{1f9e0}"),i.qZA(),i.TgZ(182,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b7}"))}),i._uU(183,"\u{1f9b7}"),i.qZA(),i.TgZ(184,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b4}"))}),i._uU(185,"\u{1f9b4}"),i.qZA(),i.TgZ(186,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f440}"))}),i._uU(187,"\u{1f440}"),i.qZA(),i.TgZ(188,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f441}\ufe0f"))}),i._uU(189,"\u{1f441}\ufe0f"),i.qZA(),i.TgZ(190,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ff}"))}),i._uU(191,"\u{1f9ff}"),i.qZA(),i.TgZ(192,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f445}"))}),i._uU(193,"\u{1f445}"),i.qZA(),i.TgZ(194,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f444}"))}),i._uU(195,"\u{1f444}"),i.qZA(),i.TgZ(196,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(197,"\u{1f476}"),i.qZA(),i.TgZ(198,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(199,"\u{1f9d2}"),i.qZA(),i.TgZ(200,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(201,"\u{1f466}"),i.qZA(),i.TgZ(202,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(203,"\u{1f467}"),i.qZA(),i.TgZ(204,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(205,"\u{1f9d1}"),i.qZA(),i.TgZ(206,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(207,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(208,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}"))}),i._uU(209,"\u{1f471}"),i.qZA(),i.TgZ(210,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(211,"\u{1f468}"),i.qZA(),i.TgZ(212,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(213,"\u{1f9d4}"),i.qZA(),i.TgZ(214,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(215,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(216,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(217,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(218,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(219,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(220,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(221,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(222,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(223,"\u{1f9d4}"),i.qZA(),i.TgZ(224,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(225,"\u{1f469}"),i.qZA(),i.TgZ(226,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b0}"))}),i._uU(227,"\u{1f469}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(228,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b1}"))}),i._uU(229,"\u{1f469}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(230,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b3}"))}),i._uU(231,"\u{1f469}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(232,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b2}"))}),i._uU(233,"\u{1f469}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(234,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(235,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(236,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(237,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(238,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(239,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(240,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b0}"))}),i._uU(241,"\u{1f9d1}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(242,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b1}"))}),i._uU(243,"\u{1f9d1}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(244,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b3}"))}),i._uU(245,"\u{1f9d1}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(246,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b2}"))}),i._uU(247,"\u{1f9d1}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(248,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(249,"\u{1f466}"),i.qZA(),i.TgZ(250,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(251,"\u{1f466}"),i.qZA(),i.TgZ(252,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(253,"\u{1f466}"),i.qZA(),i.TgZ(254,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(255,"\u{1f466}"),i.qZA(),i.TgZ(256,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(257,"\u{1f467}"),i.qZA(),i.TgZ(258,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(259,"\u{1f467}"),i.qZA(),i.TgZ(260,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(261,"\u{1f467}"),i.qZA(),i.TgZ(262,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(263,"\u{1f467}"),i.qZA(),i.TgZ(264,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(265,"\u{1f9d2}"),i.qZA(),i.TgZ(266,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(267,"\u{1f9d2}"),i.qZA(),i.TgZ(268,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(269,"\u{1f9d2}"),i.qZA(),i.TgZ(270,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(271,"\u{1f9d2}"),i.qZA(),i.TgZ(272,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(273,"\u{1f476}"),i.qZA(),i.TgZ(274,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(275,"\u{1f476}"),i.qZA(),i.TgZ(276,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(277,"\u{1f476}"),i.qZA(),i.TgZ(278,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(279,"\u{1f476}"),i.qZA(),i.TgZ(280,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(281,"\u{1f468}"),i.qZA(),i.TgZ(282,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(283,"\u{1f468}"),i.qZA(),i.TgZ(284,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(285,"\u{1f468}"),i.qZA(),i.TgZ(286,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(287,"\u{1f468}"),i.qZA(),i.TgZ(288,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(289,"\u{1f469}"),i.qZA(),i.TgZ(290,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(291,"\u{1f469}"),i.qZA(),i.TgZ(292,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(293,"\u{1f469}"),i.qZA(),i.TgZ(294,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(295,"\u{1f469}"),i.qZA(),i.TgZ(296,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(297,"\u{1f9d1}"),i.qZA(),i.TgZ(298,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(299,"\u{1f9d1}"),i.qZA(),i.TgZ(300,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(301,"\u{1f9d1}"),i.qZA(),i.TgZ(302,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(303,"\u{1f9d1}"),i.qZA(),i.TgZ(304,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(305,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(306,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(307,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(308,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(309,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(310,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(311,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(312,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(313,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(314,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(315,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(316,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(317,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(318,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(319,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(320,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(321,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(322,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(323,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(324,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(325,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(326,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(327,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(328,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(329,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(330,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(331,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(332,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(333,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(334,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(335,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(336,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(337,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(338,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(339,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(340,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d3}"))}),i._uU(341,"\u{1f9d3}"),i.qZA(),i.TgZ(342,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(343,"\u{1f9d4}"),i.qZA(),i.TgZ(344,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f474}"))}),i._uU(345,"\u{1f474}"),i.qZA(),i.TgZ(346,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f475}"))}),i._uU(347,"\u{1f475}"),i.qZA(),i.TgZ(348,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2695\ufe0f"))}),i._uU(349,"\u{1f468}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(350,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2695\ufe0f"))}),i._uU(351,"\u{1f469}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(352,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f393}"))}),i._uU(353,"\u{1f468}\u200d\u{1f393}"),i.qZA(),i.TgZ(354,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f393}"))}),i._uU(355,"\u{1f469}\u200d\u{1f393}"),i.qZA(),i.TgZ(356,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3eb}"))}),i._uU(357,"\u{1f468}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(358,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3eb}"))}),i._uU(359,"\u{1f469}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(360,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2696\ufe0f"))}),i._uU(361,"\u{1f468}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(362,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2696\ufe0f"))}),i._uU(363,"\u{1f469}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(364,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f33e}"))}),i._uU(365,"\u{1f468}\u200d\u{1f33e}"),i.qZA(),i.TgZ(366,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f33e}"))}),i._uU(367,"\u{1f469}\u200d\u{1f33e}"),i.qZA(),i.TgZ(368,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f373}"))}),i._uU(369,"\u{1f468}\u200d\u{1f373}"),i.qZA(),i.TgZ(370,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f373}"))}),i._uU(371,"\u{1f469}\u200d\u{1f373}"),i.qZA(),i.TgZ(372,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f527}"))}),i._uU(373,"\u{1f468}\u200d\u{1f527}"),i.qZA(),i.TgZ(374,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f527}"))}),i._uU(375,"\u{1f469}\u200d\u{1f527}"),i.qZA(),i.TgZ(376,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3ed}"))}),i._uU(377,"\u{1f468}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(378,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3ed}"))}),i._uU(379,"\u{1f469}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(380,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bc}"))}),i._uU(381,"\u{1f468}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(382,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bc}"))}),i._uU(383,"\u{1f469}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(384,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f52c}"))}),i._uU(385,"\u{1f468}\u200d\u{1f52c}"),i.qZA(),i.TgZ(386,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f52c}"))}),i._uU(387,"\u{1f469}\u200d\u{1f52c}"),i.qZA(),i.TgZ(388,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bb}"))}),i._uU(389,"\u{1f468}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(390,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bb}"))}),i._uU(391,"\u{1f469}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(392,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a4}"))}),i._uU(393,"\u{1f468}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(394,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a4}"))}),i._uU(395,"\u{1f469}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(396,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a8}"))}),i._uU(397,"\u{1f468}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(398,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a8}"))}),i._uU(399,"\u{1f469}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(400,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2708\ufe0f"))}),i._uU(401,"\u{1f468}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(402,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2708\ufe0f"))}),i._uU(403,"\u{1f469}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(404,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f680}"))}),i._uU(405,"\u{1f468}\u200d\u{1f680}"),i.qZA(),i.TgZ(406,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f680}"))}),i._uU(407,"\u{1f469}\u200d\u{1f680}"),i.qZA(),i.TgZ(408,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f692}"))}),i._uU(409,"\u{1f468}\u200d\u{1f692}"),i.qZA(),i.TgZ(410,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f692}"))}),i._uU(411,"\u{1f469}\u200d\u{1f692}"),i.qZA(),i.TgZ(412,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}"))}),i._uU(413,"\u{1f46e}"),i.qZA(),i.TgZ(414,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2642\ufe0f"))}),i._uU(415,"\u{1f46e}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(416,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2640\ufe0f"))}),i._uU(417,"\u{1f46e}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(418,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f"))}),i._uU(419,"\u{1f575}\ufe0f"),i.qZA(),i.TgZ(420,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2642\ufe0f"))}),i._uU(421,"\u{1f575}\ufe0f\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(422,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2640\ufe0f"))}),i._uU(423,"\u{1f575}\ufe0f\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(424,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}"))}),i._uU(425,"\u{1f482}"),i.qZA(),i.TgZ(426,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2642\ufe0f"))}),i._uU(427,"\u{1f482}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(428,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2640\ufe0f"))}),i._uU(429,"\u{1f482}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(430,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}"))}),i._uU(431,"\u{1f477}"),i.qZA(),i.TgZ(432,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2642\ufe0f"))}),i._uU(433,"\u{1f477}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(434,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2640\ufe0f"))}),i._uU(435,"\u{1f477}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(436,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f934}"))}),i._uU(437,"\u{1f934}"),i.qZA(),i.TgZ(438,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f478}"))}),i._uU(439,"\u{1f478}"),i.qZA(),i.TgZ(440,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}"))}),i._uU(441,"\u{1f473}"),i.qZA(),i.TgZ(442,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2642\ufe0f"))}),i._uU(443,"\u{1f473}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(444,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2640\ufe0f"))}),i._uU(445,"\u{1f473}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(446,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f472}"))}),i._uU(447,"\u{1f472}"),i.qZA(),i.TgZ(448,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d5}"))}),i._uU(449,"\u{1f9d5}"),i.qZA(),i.TgZ(450,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}"))}),i._uU(451,"\u{1f935}"),i.qZA(),i.TgZ(452,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2642\ufe0f"))}),i._uU(453,"\u{1f935}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(454,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2640\ufe0f"))}),i._uU(455,"\u{1f935}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(456,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}"))}),i._uU(457,"\u{1f470}"),i.qZA(),i.TgZ(458,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2642\ufe0f"))}),i._uU(459,"\u{1f470}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(460,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2640\ufe0f"))}),i._uU(461,"\u{1f470}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(462,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f930}"))}),i._uU(463,"\u{1f930}"),i.qZA(),i.TgZ(464,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f931}"))}),i._uU(465,"\u{1f931}"),i.qZA(),i.TgZ(466,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f37c}"))}),i._uU(467,"\u{1f469}\u200d\u{1f37c}"),i.qZA(),i.TgZ(468,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f37c}"))}),i._uU(469,"\u{1f468}\u200d\u{1f37c}"),i.qZA(),i.TgZ(470,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f37c}"))}),i._uU(471,"\u{1f9d1}\u200d\u{1f37c}"),i.qZA(),i.TgZ(472,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f47c}"))}),i._uU(473,"\u{1f47c}"),i.qZA(),i.TgZ(474,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f385}"))}),i._uU(475,"\u{1f385}"),i.qZA(),i.TgZ(476,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f936}"))}),i._uU(477,"\u{1f936}"),i.qZA(),i.TgZ(478,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}"))}),i._uU(479,"\u{1f9b8}"),i.qZA(),i.TgZ(480,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2642\ufe0f"))}),i._uU(481,"\u{1f9b8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(482,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2640\ufe0f"))}),i._uU(483,"\u{1f9b8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(484,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}"))}),i._uU(485,"\u{1f9b9}"),i.qZA(),i.TgZ(486,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2642\ufe0f"))}),i._uU(487,"\u{1f9b9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(488,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2640\ufe0f"))}),i._uU(489,"\u{1f9b9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(490,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}"))}),i._uU(491,"\u{1f9d9}"),i.qZA(),i.TgZ(492,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2642\ufe0f"))}),i._uU(493,"\u{1f9d9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(494,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2640\ufe0f"))}),i._uU(495,"\u{1f9d9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(496,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}"))}),i._uU(497,"\u{1f9da}"),i.qZA(),i.TgZ(498,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2642\ufe0f"))}),i._uU(499,"\u{1f9da}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(500,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2640\ufe0f"))}),i._uU(501,"\u{1f9da}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(502,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}"))}),i._uU(503,"\u{1f9db}"),i.qZA(),i.TgZ(504,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2642\ufe0f"))}),i._uU(505,"\u{1f9db}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(506,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2640\ufe0f"))}),i._uU(507,"\u{1f9db}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(508,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}"))}),i._uU(509,"\u{1f9dc}"),i.qZA(),i.TgZ(510,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2642\ufe0f"))}),i._uU(511,"\u{1f9dc}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(512,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2640\ufe0f"))}),i._uU(513,"\u{1f9dc}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(514,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}"))}),i._uU(515,"\u{1f9dd}"),i.qZA(),i.TgZ(516,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2642\ufe0f"))}),i._uU(517,"\u{1f9dd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(518,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2640\ufe0f"))}),i._uU(519,"\u{1f9dd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(520,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}"))}),i._uU(521,"\u{1f9de}"),i.qZA(),i.TgZ(522,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2642\ufe0f"))}),i._uU(523,"\u{1f9de}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(524,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2640\ufe0f"))}),i._uU(525,"\u{1f9de}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(526,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}"))}),i._uU(527,"\u{1f9df}"),i.qZA(),i.TgZ(528,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2642\ufe0f"))}),i._uU(529,"\u{1f9df}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(530,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2640\ufe0f"))}),i._uU(531,"\u{1f9df}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(532,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}"))}),i._uU(533,"\u{1f486}"),i.qZA(),i.TgZ(534,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2642\ufe0f"))}),i._uU(535,"\u{1f486}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(536,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2640\ufe0f"))}),i._uU(537,"\u{1f486}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(538,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}"))}),i._uU(539,"\u{1f487}"),i.qZA(),i.TgZ(540,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2642\ufe0f"))}),i._uU(541,"\u{1f487}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(542,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2640\ufe0f"))}),i._uU(543,"\u{1f487}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(544,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}"))}),i._uU(545,"\u{1f6b6}"),i.qZA(),i.TgZ(546,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2642\ufe0f"))}),i._uU(547,"\u{1f6b6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(548,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2640\ufe0f"))}),i._uU(549,"\u{1f6b6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(550,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}"))}),i._uU(551,"\u{1f9cd}"),i.qZA(),i.TgZ(552,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2642\ufe0f"))}),i._uU(553,"\u{1f9cd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(554,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2640\ufe0f"))}),i._uU(555,"\u{1f9cd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(556,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}"))}),i._uU(557,"\u{1f9ce}"),i.qZA(),i.TgZ(558,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2642\ufe0f"))}),i._uU(559,"\u{1f9ce}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(560,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2640\ufe0f"))}),i._uU(561,"\u{1f9ce}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(562,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9af}"))}),i._uU(563,"\u{1f9d1}\u200d\u{1f9af}"),i.qZA(),i.TgZ(564,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9af}"))}),i._uU(565,"\u{1f468}\u200d\u{1f9af}"),i.qZA(),i.TgZ(566,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9af}"))}),i._uU(567,"\u{1f469}\u200d\u{1f9af}"),i.qZA(),i.TgZ(568,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bc}"))}),i._uU(569,"\u{1f9d1}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(570,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bc}"))}),i._uU(571,"\u{1f468}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(572,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bc}"))}),i._uU(573,"\u{1f469}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(574,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bd}"))}),i._uU(575,"\u{1f9d1}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(576,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bd}"))}),i._uU(577,"\u{1f468}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(578,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bd}"))}),i._uU(579,"\u{1f469}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(580,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}"))}),i._uU(581,"\u{1f3c3}"),i.qZA(),i.TgZ(582,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2642\ufe0f"))}),i._uU(583,"\u{1f3c3}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(584,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2640\ufe0f"))}),i._uU(585,"\u{1f3c3}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(586,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}"))}),i._uU(587,"\u{1f483}"),i.qZA(),i.TgZ(588,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2642\ufe0f"))}),i._uU(589,"\u{1f483}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(590,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2640\ufe0f"))}),i._uU(591,"\u{1f483}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(592,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(593,"\u{1f57a}"),i.qZA(),i.TgZ(594,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(595,"\u{1f57a}"),i.qZA(),i.TgZ(596,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(597,"\u{1f57a}"),i.qZA(),i.TgZ(598,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}"))}),i._uU(599,"\u{1f46f}"),i.qZA(),i.TgZ(600,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2642\ufe0f"))}),i._uU(601,"\u{1f46f}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(602,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2640\ufe0f"))}),i._uU(603,"\u{1f46f}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(604,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}"))}),i._uU(605,"\u{1f9d6}"),i.qZA(),i.TgZ(606,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2642\ufe0f"))}),i._uU(607,"\u{1f9d6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(608,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2640\ufe0f"))}),i._uU(609,"\u{1f9d6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(610,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}"))}),i._uU(611,"\u{1f9d8}"),i.qZA(),i.TgZ(612,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2642\ufe0f"))}),i._uU(613,"\u{1f9d8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(614,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2640\ufe0f"))}),i._uU(615,"\u{1f9d8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(616,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6c0}"))}),i._uU(617,"\u{1f6c0}"),i.qZA(),i.TgZ(618,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6cc}"))}),i._uU(619,"\u{1f6cc}"),i.qZA(),i.TgZ(620,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"))}),i._uU(621,"\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"),i.qZA(),i.TgZ(622,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46d}"))}),i._uU(623,"\u{1f46d}"),i.qZA(),i.TgZ(624,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46c}"))}),i._uU(625,"\u{1f46c}"),i.qZA(),i.TgZ(626,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46b}"))}),i._uU(627,"\u{1f46b}"),i.qZA(),i.TgZ(628,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(629,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(630,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f491}"))}),i._uU(631,"\u{1f491}"),i.qZA(),i.TgZ(632,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"))}),i._uU(633,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"),i.qZA(),i.TgZ(634,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(635,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(636,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(637,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(638,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f48f}"))}),i._uU(639,"\u{1f48f}"),i.qZA(),i.TgZ(640,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(641,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(642,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(643,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(644,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(645,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(646,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(647,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA()()()}}function DH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",33)(1,"span",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.cerrar())}),i._uU(2,"\xd7"),i.qZA(),i._UZ(3,"img",35),i.qZA()}if(2&n){const e=i.oxw();i.xp6(3),i.Q6J("src",e.zoomImg,i.LSH)}}const CH=function(n){return{active:n}},EH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:CB},{path:"registrar",component:AB},{path:"recuperar",component:PB},{path:"main",component:rb,canActivate:[Zs]},{path:"main-activate",component:S5,canActivate:[Zs]},{path:"galeria-activate",component:W5,canActivate:[Zs]},{path:"videos-activate",component:oH,canActivate:[Zs]},{path:"galeria",component:rB,canActivate:[Zs]},{path:"videos",component:fB,canActivate:[Zs]},{path:"nuevo-video",component:RB,canActivate:[Zs]},{path:"musica",component:gB,canActivate:[Zs]},{path:"perfil",component:i5,canActivate:[Zs]},{path:"bandeja",component:lH,canActivate:[Zs]},{path:"enviar-mensaje/:id",component:(()=>{class n{constructor(e,r,o,c,l,f,m,v,x,I,F){this.route=e,this._user=r,this.afAuth=o,this.location=c,this.toastr=l,this._imageUser=f,this.router=m,this._msj=v,this.el=x,this.storagex=I,this.cdr=F,this.mensaje="",this.usuariosInfo=[],this.mensajes=[],this.showEmoticonSection=!1,this.abrirImg=!1,this.optionDelete=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.idUserActual=this.usuario?.uid}),this.route.paramMap.subscribe(e=>{this.id=e.get("id")}),this.getUsers(),this.getMessages()}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const c=this.usuariosInfo.find(l=>l.idUser===this.id);this.info=c})})}getMessages(){this._msj.getUMessage().subscribe(e=>{this.mensajes=[],e.forEach(r=>{const o={...r.payload.doc.data()},c={id:r.payload.doc.id,...r.payload.doc.data(),mensaje:o.mensaje||[]};this.mensajes.push(c),this.mensajes.find(F=>F.idEmisor==this.id);const f=this.mensajes.find(F=>F.idEmisor==this.id),x=(this.mensajes.find(F=>F.idEmisor==this.idUserActual),f),I=this.mensajes.find(F=>F.idEmisor==this.idUserActual);x?.idReceptor==this.idUserActual&&x?.idEmisor==this.id?(this.objetoMensaje=x,this.idBody=x?.id):I?.idReceptor==this.id&&null==x?I?.idReceptor==this.id&&I?.idEmisor==this.idUserActual&&(this.idBody=I?.id,this.objetoMensaje2=I):(this.objetoMensaje=void 0,this.objetoMensaje2=void 0),this.entrante=this.objetoMensaje?.para,this.saliente=this.objetoMensaje?.de})})}addMessage(e){if(this.showEmoticonSection=!1,this.mensaje="",null==this.objetoMensaje&&null==this.objetoMensaje2){const r=this.info?.usuario,o=this.usuario?.displayName;let c=this.usuario?.photoURL;null==c&&(c="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let l=this.info?.foto;null==l&&(l="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const f=[];f.push({mensaje:e,foto:l,para:r,de:o}),this._msj.addMessage({de:o,para:r,foto:l,foto1:c,idEmisor:this.id,idReceptor:this.idUserActual,mensaje:f}).then(()=>{})}else{let r=this.usuario?.photoURL;null==r&&(r="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let o=this.info?.foto;null==o&&(o="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const c=this.info?.usuario,l=this.usuario?.displayName;if(null==this.objetoMensaje?.mensaje){const f=this.objetoMensaje2?.mensaje;f.push({mensaje:e,de:l,para:c,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{})}else{const f=this.objetoMensaje?.mensaje;f.push({mensaje:e,de:l,para:c,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{})}}}toggleEmoticonSection(){this.showEmoticonSection=!this.showEmoticonSection}addEmoji(e){this.mensaje+=e}agregarImagen(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const c=new Image,l=new FileReader;l.onload=f=>{c.onload=()=>{const m=document.createElement("canvas");let I=c.width,F=c.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(c,0,0,I,F),m.toBlob(q=>{if(q){const ee=`chatsImg/${this.usuario?.uid}/${o.name}`,se=this.storagex.ref(ee);this.storagex.upload(ee,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this.addMessage(Be)})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},c.src=f.target.result},l.readAsDataURL(o)}}),e.click()}volver(){this.location.back()}isUrl(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}ampliar(e){this.zoomImg=e,this.abrirImg=!0}cerrar(){this.abrirImg=!1,this.optionDelete=!1}options(e,r){this.capId=r,this.mensajeSeleccionado=e,this.optionDelete=!0}eliminar(){this.capture=this.objetoMensaje2??this.objetoMensaje,this.optionDelete=!1;const e=this.capture?.mensaje.indexOf(this.mensajeSeleccionado);if(-1!==e){this.capture.mensaje.splice(e,1);const r=this.capture?.id;this._msj.update(r,{mensaje:this.capture?.mensaje}).then(()=>{})}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(_c),i.Y36(pd),i.Y36(ai),i.Y36(Ae),i.Y36(Qi),i.Y36(Xk),i.Y36(dn),i.Y36(h6),i.Y36(i.SBq),i.Y36(KT),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-sending"]],decls:30,vars:11,consts:[[1,"contenedor"],[1,"container-info"],[1,"fas","fa-arrow-left",3,"click"],[1,"cabecera"],[2,"gap","1rem","display","flex","align-items","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"],[1,"delete",3,"ngClass"],[1,"fas","fa-trash",3,"click"],[2,"color","brown","font-size","31px",3,"click"],[1,"mensajes-container"],["oncontextmenu","return false;",4,"ngIf"],["class","emoticon-section",4,"ngIf"],[3,"submit"],[1,"container-element"],[2,"gap","1em","display","flex","padding","0px 0 0 11px"],[1,"fas","fa-file-image",3,"click"],[2,"cursor","pointer",3,"click"],[1,"far","fa-smile"],[2,"display","contents","width","100%"],["name","mensaje",3,"ngModel","ngModelChange"],[2,"padding","0px 10px 0 0px"],["type","submit",2,"background-color","#0000ff00","border","none","border-radius","14px",3,"disabled"],[1,"fas","fa-chevron-right"],["class","zoom",4,"ngIf"],["oncontextmenu","return false;"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"mousedown"],[4,"ngIf"],["alt","Imagen del mensaje",2,"width","100%",3,"src","click"],[1,"emoticon-section"],[1,"emoticon"],[3,"click"],[1,"zoom"],[1,"cerrar",3,"click"],["alt","zoom",2,"width","87%",3,"src"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"i",2),i.NdJ("click",function(){return r.volver()}),i.qZA()(),i.TgZ(4,"div",3)(5,"div",4),i._UZ(6,"img",5),i.TgZ(7,"div"),i._uU(8),i.qZA()(),i.TgZ(9,"div",6)(10,"i",7),i.NdJ("click",function(){return r.eliminar()}),i.qZA(),i.TgZ(11,"span",8),i.NdJ("click",function(){return r.cerrar()}),i._uU(12,"\xd7"),i.qZA()()()(),i.TgZ(13,"div",9),i.YNc(14,pH,2,1,"div",10),i.YNc(15,yH,2,1,"div",10),i.qZA(),i.YNc(16,vH,648,0,"div",11),i.TgZ(17,"form",12),i.NdJ("submit",function(){return r.addMessage(r.mensaje)}),i.TgZ(18,"div",13)(19,"div",14)(20,"div")(21,"i",15),i.NdJ("click",function(){return r.agregarImagen()}),i.qZA()(),i.TgZ(22,"div",16),i.NdJ("click",function(){return r.toggleEmoticonSection()}),i._UZ(23,"i",17),i.qZA()(),i.TgZ(24,"div",18)(25,"textarea",19),i.NdJ("ngModelChange",function(c){return r.mensaje=c}),i.qZA()(),i.TgZ(26,"div",20)(27,"button",21),i._UZ(28,"i",22),i.qZA()()()()(),i.YNc(29,DH,4,1,"div",23)),2&e&&(i.xp6(6),i.Q6J("src",null!=r.info&&r.info.foto?r.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==r.info?null:r.info.usuario),i.xp6(1),i.Q6J("ngClass",i.VKq(9,CH,r.optionDelete)),i.xp6(5),i.Q6J("ngIf",r.objetoMensaje),i.xp6(1),i.Q6J("ngIf",r.objetoMensaje2),i.xp6(1),i.Q6J("ngIf",r.showEmoticonSection),i.xp6(9),i.Q6J("ngModel",r.mensaje),i.xp6(2),i.Q6J("disabled",!r.mensaje),i.xp6(2),i.Q6J("ngIf",r.abrirImg))},dependencies:[Kt,ei,mn,Ni,ni,$r,Yn,No,go],styles:[".contenedor[_ngcontent-%COMP%]{padding:20px}.container-element[_ngcontent-%COMP%]{gap:1rem;padding:2px;bottom:1rem;width:90%;position:absolute;border-radius:20px;background-color:#aa9ea896;display:flex;align-items:center}.container-element[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:80%;height:20px;padding:12px;font-size:16px;border:none;border-radius:10px;background-color:#f2f2f2;outline:none;resize:vertical}.container-element[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#555}.container-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:37px}.mensajes-container[_ngcontent-%COMP%]{overflow-y:auto;max-height:75vh;margin-top:20px}.mensaje-saliente[_ngcontent-%COMP%]{background-color:#cccce9;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative}.mensaje-entrante[_ngcontent-%COMP%]{text-align:end;background-color:#c6e8f8;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative;left:43%}.mensaje-e[_ngcontent-%COMP%]{color:red}.mensaje-s[_ngcontent-%COMP%]{color:#00f}.emoticon-section[_ngcontent-%COMP%]{border-radius:14px;width:82%;bottom:9%;left:6%;position:fixed;background-color:beige;padding:12px}.emoticon[_ngcontent-%COMP%]{gap:5px;display:flex;flex-direction:row;flex-wrap:wrap;overflow-y:auto;height:16vh}.zoom[_ngcontent-%COMP%]{background-color:#00000070;display:flex;position:fixed;top:0%;height:100vh;justify-content:center;align-items:center}.cerrar[_ngcontent-%COMP%]{font-size:68px;color:#fff;position:absolute;top:6rem;right:6%}.delete[_ngcontent-%COMP%]{opacity:0;gap:8px;display:flex;align-items:center}.mensaje-seleccionado[_ngcontent-%COMP%]{background-color:#8a2be2a6;color:#fff}.cabecera[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.delete.active[_ngcontent-%COMP%]{opacity:1}"]}),n})(),canActivate:[Zs]},{path:"perfil-editar",component:s5,canActivate:[Zs]},{path:"usuario/:id",component:I5,canActivate:[Zs]},{path:"**",redirectTo:"/",pathMatch:"full"}];let wH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Ew.forRoot(EH),Ew]}),n})(),bH=(()=>{class n{constructor(){this.title="asi-somos-asi-bailamos"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},dependencies:[sv]}),n})();const t2_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};let TH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[bH]}),n.\u0275inj=i.cJS({imports:[Ya,wH,l1,QD,rx,Yi.hO.initializeApp(t2_firebase),Aw(()=>vI(t2_firebase)),qL(()=>zL()),jm,t0.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,i.G48)(),hl().bootstrapModule(TH).catch(n=>console.error(n))},9751:(Et,Oe,V)=>{V.d(Oe,{y:()=>ve});var i=V(2961),B=V(727),R=V(8822),oe=V(9635),de=V(2416),_e=V(576),pe=V(2806);let ve=(()=>{class Q{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const xe=new Q;return xe.source=this,xe.operator=Pe,xe}subscribe(Pe,xe,it){const Ce=function $(Q){return Q&&Q instanceof i.Lv||function z(Q){return Q&&(0,_e.m)(Q.next)&&(0,_e.m)(Q.error)&&(0,_e.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(Pe)?Pe:new i.Hp(Pe,xe,it);return(0,pe.x)(()=>{const{operator:ye,source:yt}=this;Ce.add(ye?ye.call(Ce,yt):yt?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(xe){Pe.error(xe)}}forEach(Pe,xe){return new(xe=De(xe))((it,Ce)=>{const ye=new i.Hp({next:yt=>{try{Pe(yt)}catch(pt){Ce(pt),ye.unsubscribe()}},error:Ce,complete:it});this.subscribe(ye)})}_subscribe(Pe){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Pe)}[R.L](){return this}pipe(...Pe){return(0,oe.U)(Pe)(this)}toPromise(Pe){return new(Pe=De(Pe))((xe,it)=>{let Ce;this.subscribe(ye=>Ce=ye,ye=>it(ye),()=>xe(Ce))})}}return Q.create=Ge=>new Q(Ge),Q})();function De(Q){var Ge;return null!==(Ge=Q??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(Et,Oe,V)=>{V.d(Oe,{x:()=>pe});var i=V(9751),B=V(727);const oe=(0,V(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),_e=V(2806);let pe=(()=>{class De extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new ve(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ge,observers:Pe}=this;return Q||Ge?B.Lc:(this.currentObservers=null,Pe.push($),new B.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ge,isStopped:Pe}=this;Q?$.error(Ge):Pe&&$.complete()}asObservable(){const $=new i.y;return $.source=this,$}}return De.create=(z,$)=>new ve(z,$),De})();class ve extends pe{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,z)}error(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==Q?Q:B.Lc}}},2961:(Et,Oe,V)=>{V.d(Oe,{Hp:()=>it,Lv:()=>Q});var i=V(576),B=V(727),R=V(2416),oe=V(7849);function de(){}const _e=De("C",void 0,void 0);function De(Ae,be,Se){return{kind:Ae,value:be,error:Se}}var z=V(3410),$=V(2806);class Q extends B.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,B.Nn)(be)&&be.add(this)):this.destination=pt}static create(be,Se,$e){return new it(be,Se,$e)}next(be){this.isStopped?yt(function ve(Ae){return De("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?yt(function pe(Ae){return De("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?yt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Pe(Ae,be){return Ge.call(Ae,be)}class xe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Se}=this;if(Se.next)try{Se.next(be)}catch($e){Ce($e)}}error(be){const{partialObserver:Se}=this;if(Se.error)try{Se.error(be)}catch($e){Ce($e)}else Ce(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Se){Ce(Se)}}}class it extends Q{constructor(be,Se,$e){let ze;if(super(),(0,i.m)(be)||!be)ze={next:be??void 0,error:Se??void 0,complete:$e??void 0};else{let le;this&&R.v.useDeprecatedNextContext?(le=Object.create(be),le.unsubscribe=()=>this.unsubscribe(),ze={next:be.next&&Pe(be.next,le),error:be.error&&Pe(be.error,le),complete:be.complete&&Pe(be.complete,le)}):ze=be}this.destination=new xe(ze)}}function Ce(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function yt(Ae,be){const{onStoppedNotification:Se}=R.v;Se&&z.z.setTimeout(()=>Se(Ae,be))}const pt={closed:!0,next:de,error:function ye(Ae){throw Ae},complete:de}},727:(Et,Oe,V)=>{V.d(Oe,{Lc:()=>_e,w0:()=>de,Nn:()=>pe});var i=V(576);const R=(0,V(3888).d)(De=>function($){De(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ge)=>`${Ge+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=V(8737);class de{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Pe of $)Pe.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,i.m)(Q))try{Q()}catch(Pe){z=Pe instanceof R?Pe.errors:[Pe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Pe of Ge)try{ve(Pe)}catch(xe){z=z??[],xe instanceof R?z=[...z,...xe.errors]:z.push(xe)}}if(z)throw new R(z)}}add(z){var $;if(z&&z!==this)if(this.closed)ve(z);else{if(z instanceof de){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,oe.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,oe.P)($,z),z instanceof de&&z._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const _e=de.EMPTY;function pe(De){return De instanceof de||De&&"closed"in De&&(0,i.m)(De.remove)&&(0,i.m)(De.add)&&(0,i.m)(De.unsubscribe)}function ve(De){(0,i.m)(De)?De():De.unsubscribe()}},2416:(Et,Oe,V)=>{V.d(Oe,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Oe,V)=>{V.d(Oe,{E:()=>B});const B=new(V(9751).y)(de=>de.complete())},8996:(Et,Oe,V)=>{V.d(Oe,{D:()=>be});var i=V(8421),B=V(5363),R=V(9468),_e=V(9751),ve=V(2202),De=V(576),z=V(9672);function Q(Se,$e){if(!Se)throw new Error("Iterable cannot be null");return new _e.y(ze=>{(0,z.f)(ze,$e,()=>{const le=Se[Symbol.asyncIterator]();(0,z.f)(ze,$e,()=>{le.next().then(Ye=>{Ye.done?ze.complete():ze.next(Ye.value)})},0,!0)})})}var Ge=V(3670),Pe=V(8239),xe=V(1144),it=V(6495),Ce=V(2206),ye=V(4532),yt=V(3260);function be(Se,$e){return $e?function Ae(Se,$e){if(null!=Se){if((0,Ge.c)(Se))return function oe(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,B.Q)($e))}(Se,$e);if((0,xe.z)(Se))return function pe(Se,$e){return new _e.y(ze=>{let le=0;return $e.schedule(function(){le===Se.length?ze.complete():(ze.next(Se[le++]),ze.closed||this.schedule())})})}(Se,$e);if((0,Pe.t)(Se))return function de(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,B.Q)($e))}(Se,$e);if((0,Ce.D)(Se))return Q(Se,$e);if((0,it.T)(Se))return function $(Se,$e){return new _e.y(ze=>{let le;return(0,z.f)(ze,$e,()=>{le=Se[ve.h](),(0,z.f)(ze,$e,()=>{let Ye,At;try{({value:Ye,done:At}=le.next())}catch(gt){return void ze.error(gt)}At?ze.complete():ze.next(Ye)},0,!0)}),()=>(0,De.m)(le?.return)&&le.return()})}(Se,$e);if((0,yt.L)(Se))return function pt(Se,$e){return Q((0,yt.Q)(Se),$e)}(Se,$e)}throw(0,ye.z)(Se)}(Se,$e):(0,i.Xf)(Se)}},8421:(Et,Oe,V)=>{V.d(Oe,{Xf:()=>Ge});var i=V(7582),B=V(1144),R=V(8239),oe=V(9751),de=V(3670),_e=V(2206),pe=V(4532),ve=V(6495),De=V(3260),z=V(576),$=V(7849),Q=V(8822);function Ge(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,de.c)(Ae))return function Pe(Ae){return new oe.y(be=>{const Se=Ae[Q.L]();if((0,z.m)(Se.subscribe))return Se.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,B.z)(Ae))return function xe(Ae){return new oe.y(be=>{for(let Se=0;Se<Ae.length&&!be.closed;Se++)be.next(Ae[Se]);be.complete()})}(Ae);if((0,R.t)(Ae))return function it(Ae){return new oe.y(be=>{Ae.then(Se=>{be.closed||(be.next(Se),be.complete())},Se=>be.error(Se)).then(null,$.h)})}(Ae);if((0,_e.D)(Ae))return ye(Ae);if((0,ve.T)(Ae))return function Ce(Ae){return new oe.y(be=>{for(const Se of Ae)if(be.next(Se),be.closed)return;be.complete()})}(Ae);if((0,De.L)(Ae))return function yt(Ae){return ye((0,De.Q)(Ae))}(Ae)}throw(0,pe.z)(Ae)}function ye(Ae){return new oe.y(be=>{(function pt(Ae,be){var Se,$e,ze,le;return(0,i.mG)(this,void 0,void 0,function*(){try{for(Se=(0,i.KL)(Ae);!($e=yield Se.next()).done;)if(be.next($e.value),be.closed)return}catch(Ye){ze={error:Ye}}finally{try{$e&&!$e.done&&(le=Se.return)&&(yield le.call(Se))}finally{if(ze)throw ze.error}}be.complete()})})(Ae,be).catch(Se=>be.error(Se))})}},6451:(Et,Oe,V)=>{V.d(Oe,{T:()=>_e});var i=V(8189),B=V(8421),R=V(515),oe=V(7669),de=V(8996);function _e(...pe){const ve=(0,oe.yG)(pe),De=(0,oe._6)(pe,1/0),z=pe;return z.length?1===z.length?(0,B.Xf)(z[0]):(0,i.J)(De)((0,de.D)(z,ve)):R.E}},5403:(Et,Oe,V)=>{V.d(Oe,{x:()=>B});var i=V(2961);function B(oe,de,_e,pe,ve){return new R(oe,de,_e,pe,ve)}class R extends i.Lv{constructor(de,_e,pe,ve,De,z){super(de),this.onFinalize=De,this.shouldUnsubscribe=z,this._next=_e?function($){try{_e($)}catch(Q){de.error(Q)}}:super._next,this._error=ve?function($){try{ve($)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch($){de.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(Et,Oe,V)=>{V.d(Oe,{U:()=>R});var i=V(4482),B=V(5403);function R(oe,de){return(0,i.e)((_e,pe)=>{let ve=0;_e.subscribe((0,B.x)(pe,De=>{pe.next(oe.call(de,De,ve++))}))})}},8189:(Et,Oe,V)=>{V.d(Oe,{J:()=>R});var i=V(5577),B=V(4671);function R(oe=1/0){return(0,i.z)(B.y,oe)}},5577:(Et,Oe,V)=>{V.d(Oe,{z:()=>ve});var i=V(4004),B=V(8421),R=V(4482),oe=V(9672),de=V(5403),pe=V(576);function ve(De,z,$=1/0){return(0,pe.m)(z)?ve((Q,Ge)=>(0,i.U)((Pe,xe)=>z(Q,Pe,Ge,xe))((0,B.Xf)(De(Q,Ge))),$):("number"==typeof z&&($=z),(0,R.e)((Q,Ge)=>function _e(De,z,$,Q,Ge,Pe,xe,it){const Ce=[];let ye=0,yt=0,pt=!1;const Ae=()=>{pt&&!Ce.length&&!ye&&z.complete()},be=$e=>ye<Q?Se($e):Ce.push($e),Se=$e=>{Pe&&z.next($e),ye++;let ze=!1;(0,B.Xf)($($e,yt++)).subscribe((0,de.x)(z,le=>{Ge?.(le),Pe?be(le):z.next(le)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ye--;Ce.length&&ye<Q;){const le=Ce.shift();xe?(0,oe.f)(z,xe,()=>Se(le)):Se(le)}Ae()}catch(le){z.error(le)}}))};return De.subscribe((0,de.x)(z,be,()=>{pt=!0,Ae()})),()=>{it?.()}}(Q,Ge,De,$)))}},5363:(Et,Oe,V)=>{V.d(Oe,{Q:()=>oe});var i=V(9672),B=V(4482),R=V(5403);function oe(de,_e=0){return(0,B.e)((pe,ve)=>{pe.subscribe((0,R.x)(ve,De=>(0,i.f)(ve,de,()=>ve.next(De),_e),()=>(0,i.f)(ve,de,()=>ve.complete(),_e),De=>(0,i.f)(ve,de,()=>ve.error(De),_e)))})}},3099:(Et,Oe,V)=>{V.d(Oe,{B:()=>de});var i=V(8421),B=V(7579),R=V(2961),oe=V(4482);function de(pe={}){const{connector:ve=(()=>new B.x),resetOnError:De=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=pe;return Q=>{let Ge,Pe,xe,it=0,Ce=!1,ye=!1;const yt=()=>{Pe?.unsubscribe(),Pe=void 0},pt=()=>{yt(),Ge=xe=void 0,Ce=ye=!1},Ae=()=>{const be=Ge;pt(),be?.unsubscribe()};return(0,oe.e)((be,Se)=>{it++,!ye&&!Ce&&yt();const $e=xe=xe??ve();Se.add(()=>{it--,0===it&&!ye&&!Ce&&(Pe=_e(Ae,$))}),$e.subscribe(Se),!Ge&&it>0&&(Ge=new R.Hp({next:ze=>$e.next(ze),error:ze=>{ye=!0,yt(),Pe=_e(pt,De,ze),$e.error(ze)},complete:()=>{Ce=!0,yt(),Pe=_e(pt,z),$e.complete()}}),(0,i.Xf)(be).subscribe(Ge))})(Q)}}function _e(pe,ve,...De){if(!0===ve)return void pe();if(!1===ve)return;const z=new R.Hp({next:()=>{z.unsubscribe(),pe()}});return ve(...De).subscribe(z)}},9468:(Et,Oe,V)=>{V.d(Oe,{R:()=>B});var i=V(4482);function B(R,oe=0){return(0,i.e)((de,_e)=>{_e.add(R.schedule(()=>de.subscribe(_e),oe))})}},8505:(Et,Oe,V)=>{V.d(Oe,{b:()=>de});var i=V(576),B=V(4482),R=V(5403),oe=V(4671);function de(_e,pe,ve){const De=(0,i.m)(_e)||pe||ve?{next:_e,error:pe,complete:ve}:_e;return De?(0,B.e)((z,$)=>{var Q;null===(Q=De.subscribe)||void 0===Q||Q.call(De);let Ge=!0;z.subscribe((0,R.x)($,Pe=>{var xe;null===(xe=De.next)||void 0===xe||xe.call(De,Pe),$.next(Pe)},()=>{var Pe;Ge=!1,null===(Pe=De.complete)||void 0===Pe||Pe.call(De),$.complete()},Pe=>{var xe;Ge=!1,null===(xe=De.error)||void 0===xe||xe.call(De,Pe),$.error(Pe)},()=>{var Pe,xe;Ge&&(null===(Pe=De.unsubscribe)||void 0===Pe||Pe.call(De)),null===(xe=De.finalize)||void 0===xe||xe.call(De)}))}):oe.y}},4408:(Et,Oe,V)=>{V.d(Oe,{o:()=>de});var i=V(727);class B extends i.w0{constructor(pe,ve){super()}schedule(pe,ve=0){return this}}const R={setInterval(_e,pe,...ve){const{delegate:De}=R;return De?.setInterval?De.setInterval(_e,pe,...ve):setInterval(_e,pe,...ve)},clearInterval(_e){const{delegate:pe}=R;return(pe?.clearInterval||clearInterval)(_e)},delegate:void 0};var oe=V(8737);class de extends B{constructor(pe,ve){super(pe,ve),this.scheduler=pe,this.work=ve,this.pending=!1}schedule(pe,ve=0){var De;if(this.closed)return this;this.state=pe;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,ve)),this.pending=!0,this.delay=ve,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId($,this.id,ve),this}requestAsyncId(pe,ve,De=0){return R.setInterval(pe.flush.bind(pe,this),De)}recycleAsyncId(pe,ve,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ve;null!=ve&&R.clearInterval(ve)}execute(pe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(pe,ve);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ve){let z,De=!1;try{this.work(pe)}catch($){De=!0,z=$||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ve}=this,{actions:De}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(De,this),null!=pe&&(this.id=this.recycleAsyncId(ve,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Oe,V)=>{V.d(Oe,{v:()=>R});var i=V(6063);class B{constructor(de,_e=B.now){this.schedulerActionCtor=de,this.now=_e}schedule(de,_e=0,pe){return new this.schedulerActionCtor(this,de).schedule(pe,_e)}}B.now=i.l.now;class R extends B{constructor(de,_e=B.now){super(de,_e),this.actions=[],this._active=!1}flush(de){const{actions:_e}=this;if(this._active)return void _e.push(de);let pe;this._active=!0;do{if(pe=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this._active=!1,pe){for(;de=_e.shift();)de.unsubscribe();throw pe}}}},4986:(Et,Oe,V)=>{V.d(Oe,{z:()=>R});var i=V(4408);const R=new(V(7565).v)(i.o)},6063:(Et,Oe,V)=>{V.d(Oe,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(Et,Oe,V)=>{V.d(Oe,{z:()=>i});const i={setTimeout(B,R,...oe){const{delegate:de}=i;return de?.setTimeout?de.setTimeout(B,R,...oe):setTimeout(B,R,...oe)},clearTimeout(B){const{delegate:R}=i;return(R?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Et,Oe,V)=>{V.d(Oe,{h:()=>B});const B=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Oe,V)=>{V.d(Oe,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Et,Oe,V)=>{V.d(Oe,{_6:()=>_e,jO:()=>oe,yG:()=>de});var i=V(576);function R(pe){return pe[pe.length-1]}function oe(pe){return(0,i.m)(R(pe))?pe.pop():void 0}function de(pe){return function B(pe){return pe&&(0,i.m)(pe.schedule)}(R(pe))?pe.pop():void 0}function _e(pe,ve){return"number"==typeof R(pe)?pe.pop():ve}},8737:(Et,Oe,V)=>{function i(B,R){if(B){const oe=B.indexOf(R);0<=oe&&B.splice(oe,1)}}V.d(Oe,{P:()=>i})},3888:(Et,Oe,V)=>{function i(B){const oe=B(de=>{Error.call(de),de.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(Oe,{d:()=>i})},2806:(Et,Oe,V)=>{V.d(Oe,{O:()=>oe,x:()=>R});var i=V(2416);let B=null;function R(de){if(i.v.useDeprecatedSynchronousErrorHandling){const _e=!B;if(_e&&(B={errorThrown:!1,error:null}),de(),_e){const{errorThrown:pe,error:ve}=B;if(B=null,pe)throw ve}}else de()}function oe(de){i.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=de)}},9672:(Et,Oe,V)=>{function i(B,R,oe,de=0,_e=!1){const pe=R.schedule(function(){oe(),_e?B.add(this.schedule(null,de)):this.unsubscribe()},de);if(B.add(pe),!_e)return pe}V.d(Oe,{f:()=>i})},4671:(Et,Oe,V)=>{function i(B){return B}V.d(Oe,{y:()=>i})},1144:(Et,Oe,V)=>{V.d(Oe,{z:()=>i});const i=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Et,Oe,V)=>{V.d(Oe,{D:()=>B});var i=V(576);function B(R){return Symbol.asyncIterator&&(0,i.m)(R?.[Symbol.asyncIterator])}},576:(Et,Oe,V)=>{function i(B){return"function"==typeof B}V.d(Oe,{m:()=>i})},3670:(Et,Oe,V)=>{V.d(Oe,{c:()=>R});var i=V(8822),B=V(576);function R(oe){return(0,B.m)(oe[i.L])}},6495:(Et,Oe,V)=>{V.d(Oe,{T:()=>R});var i=V(2202),B=V(576);function R(oe){return(0,B.m)(oe?.[i.h])}},8239:(Et,Oe,V)=>{V.d(Oe,{t:()=>B});var i=V(576);function B(R){return(0,i.m)(R?.then)}},3260:(Et,Oe,V)=>{V.d(Oe,{L:()=>oe,Q:()=>R});var i=V(7582),B=V(576);function R(de){return(0,i.FC)(this,arguments,function*(){const pe=de.getReader();try{for(;;){const{value:ve,done:De}=yield(0,i.qq)(pe.read());if(De)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(ve)}}finally{pe.releaseLock()}})}function oe(de){return(0,B.m)(de?.getReader)}},4482:(Et,Oe,V)=>{V.d(Oe,{A:()=>B,e:()=>R});var i=V(576);function B(oe){return(0,i.m)(oe?.lift)}function R(oe){return de=>{if(B(de))return de.lift(function(_e){try{return oe(_e,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Et,Oe,V)=>{V.d(Oe,{U:()=>R,z:()=>B});var i=V(4671);function B(...oe){return R(oe)}function R(oe){return 0===oe.length?i.y:1===oe.length?oe[0]:function(_e){return oe.reduce((pe,ve)=>ve(pe),_e)}}},7849:(Et,Oe,V)=>{V.d(Oe,{h:()=>R});var i=V(2416),B=V(3410);function R(oe){B.z.setTimeout(()=>{const{onUnhandledError:de}=i.v;if(!de)throw oe;de(oe)})}},4532:(Et,Oe,V)=>{function i(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>i})},4650:(Et,Oe,V)=>{V.d(Oe,{$8M:()=>Zd,$Z:()=>NC,AFp:()=>Ww,AaK:()=>ve,AsE:()=>op,BQk:()=>Cu,CHM:()=>Xu,CRH:()=>Lm,CZH:()=>Bm,CqO:()=>$l,D6c:()=>PA,EJc:()=>rA,EiD:()=>ey,EpF:()=>Jy,F4k:()=>Yy,FYo:()=>k1,FiY:()=>So,G48:()=>DN,GfV:()=>Ng,Gpc:()=>$,JOm:()=>Yn,JVY:()=>J_,KtG:()=>Rc,L6k:()=>BD,LAX:()=>GD,LFG:()=>cr,LSH:()=>ty,Lbi:()=>eA,Lck:()=>hI,MAs:()=>ep,MMx:()=>ln,NdJ:()=>Qy,OlP:()=>yn,Oqu:()=>VE,PXZ:()=>pN,Q6J:()=>$y,QGY:()=>am,QP$:()=>Ee,QbO:()=>tA,Qsj:()=>N1,R0b:()=>Fs,RDi:()=>r1,Rgc:()=>mp,SBq:()=>Nf,Sil:()=>oA,Suo:()=>jv,TTD:()=>Gu,TgZ:()=>Ky,Tol:()=>hm,Udp:()=>Dh,VKq:()=>ed,WLB:()=>Ht,X6Q:()=>vN,XFs:()=>ut,Xpm:()=>Pn,Xts:()=>iC,Y36:()=>hc,YKP:()=>xw,YNc:()=>pE,Yjl:()=>L,Yz7:()=>Me,Z0I:()=>kt,ZZ4:()=>f0,_Bn:()=>Tw,_UZ:()=>Wy,_Vd:()=>kf,_c5:()=>pb,_uU:()=>wx,aQg:()=>zm,c2e:()=>nA,cJS:()=>xt,cg1:()=>lp,d8E:()=>uv,dDg:()=>dN,dqk:()=>nn,eBb:()=>HD,eFA:()=>pA,ekj:()=>dm,eoX:()=>qm,f3M:()=>yl,g9A:()=>Yw,h0i:()=>vc,hGG:()=>NA,hij:()=>av,iGM:()=>Ep,ifc:()=>bt,ip1:()=>Kw,jDz:()=>wu,kEZ:()=>Dc,kL8:()=>_m,lG2:()=>H,lqb:()=>Ll,lri:()=>Gm,mCW:()=>xg,n5z:()=>Wa,oAB:()=>vr,oJD:()=>h1,oxw:()=>yE,pB0:()=>Rl,q3G:()=>Fr,q4F:()=>ac,qLn:()=>Di,qOj:()=>ss,qZA:()=>sm,qzn:()=>ih,rWj:()=>r0,sBO:()=>CN,sIi:()=>Yf,s_b:()=>Om,soG:()=>Xv,tb:()=>Qw,tp0:()=>ta,uIk:()=>By,vHH:()=>xe,vpe:()=>Da,wAp:()=>Ut,xp6:()=>uc,ynx:()=>Du,z2F:()=>a0,z3N:()=>ha,zSh:()=>ry,zs3:()=>Vl});var i=V(7579),B=V(727),R=V(9751),oe=V(6451),de=V(3099);function _e(s){for(let a in s)if(s[a]===_e)return a;throw Error("Could not find renamed property on target object.")}function pe(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function De(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const z=_e({__forward_ref__:_e});function $(s){return s.__forward_ref__=$,s.toString=function(){return ve(this())},s}function Q(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class xe extends Error{constructor(a,u){super(function it(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,a){throw new xe(-201,!1)}function ae(s,a){null==s&&function ne(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Me(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return on(s,Sn)||on(s,mr)}function kt(s){return null!==tn(s)}function on(s,a){return s.hasOwnProperty(a)?s[a]:null}function Qn(s){return s&&(s.hasOwnProperty(Zn)||s.hasOwnProperty(Ti))?s[Zn]:null}const Sn=_e({\u0275prov:_e}),Zn=_e({\u0275inj:_e}),mr=_e({ngInjectableDef:_e}),Ti=_e({ngInjectorDef:_e});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let _r;function $n(s){const a=_r;return _r=s,a}function Bi(s,a,u){const d=tn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ut.Optional?null:void 0!==a?a:void be(ve(s))}function On(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},St=[],zn=_e({\u0275cmp:_e}),zt=_e({\u0275dir:_e}),ao=_e({\u0275pipe:_e}),sn=_e({\u0275mod:_e}),jn=_e({\u0275fac:_e}),wn=_e({__NG_ELEMENT_ID__:_e});let er=0;function Pn(s){return On(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+er++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,y=s.features;return h.inputs=G(s.inputs,d),h.outputs=G(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(tr).filter(xi):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(J).filter(xi):null,h})}function tr(s){return O(s)||N(s)}function xi(s){return null!==s}function vr(s){return On(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,a){if(null==s)return ir;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,a&&(a[h]=g)}return u}const H=Pn;function L(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[zn]||null}function N(s){return s[zt]||null}function J(s){return s[ao]||null}function Ee(s){const a=O(s)||N(s)||J(s);return null!==a&&a.standalone}function Je(s,a){const u=s[sn]||null;if(!u&&!0===a)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}function Tr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Gr(s){return Array.isArray(s)&&!0===s[1]}function Sa(s){return 0!=(8&s.flags)}function bo(s){return 2==(2&s.flags)}function Ma(s){return 1==(1&s.flags)}function Ii(s){return null!==s.template}function ka(s){return 0!=(256&s[2])}function gs(s,a){return s.hasOwnProperty(jn)?s[jn]:null}class co{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Gu(){return Sc}function Sc(s){return s.type.prototype.ngOnChanges&&(s.setInput=Pa),qu}function qu(){const s=$u(this),a=s?.current;if(a){const u=s.previous;if(u===ir)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Pa(s,a,u,d){const h=$u(s)||function xd(s,a){return s[Td]=a}(s,{previous:ir,current:null}),g=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[u],b=y[w];g[w]=new co(b&&b.currentValue,a,y===ir),s[d]=a}Gu.ngInherit=!0;const Td="__ngSimpleChanges__";function $u(s){return s[Td]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function ms(s,a){return xn(a[s])}function di(s,a){return xn(a[s.index])}function Wu(s,a){return s.data[a]}function kr(s,a){const u=a[s];return Tr(u)?u:u[0]}function kc(s){return 64==(64&s[2])}function Ai(s,a){return null==a?null:s[a]}function xr(s){s[18]=0}function Gs(s,a){s[5]+=a;let u=s,d=s[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const Nt={lFrame:Za(null),bindingsEnabled:!0};function Pc(){return Nt.bindingsEnabled}function ke(){return Nt.lFrame.lView}function en(){return Nt.lFrame.tView}function Xu(s){return Nt.lFrame.contextLView=s,s[8]}function Rc(s){return Nt.lFrame.contextLView=null,s}function Wn(){let s=Ra();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ra(){return Nt.lFrame.currentTNode}function Si(s,a){const u=Nt.lFrame;u.currentTNode=s,u.isParent=a}function Fa(){return Nt.lFrame.isParent}function Fc(){Nt.lFrame.isParent=!1}function hi(){const s=Nt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function _s(){return Nt.lFrame.bindingIndex++}function pi(s){const a=Nt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function kd(s,a){const u=Nt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ua(a)}function Ua(s){Nt.lFrame.currentDirectiveIndex=s}function tl(s){const a=Nt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function qs(){return Nt.lFrame.currentQueryIndex}function ti(s){Nt.lFrame.currentQueryIndex=s}function Uc(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function nl(s,a,u){if(u&ut.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||u&ut.Host||(h=Uc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,s=g}const d=Nt.lFrame=Va();return d.currentTNode=a,d.lView=s,!0}function ys(s){const a=Va(),u=s[1];Nt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Va(){const s=Nt.lFrame,a=null===s?null:s.child;return null===a?Za(s):a}function Za(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function rl(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Nd=rl;function $o(){const s=rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hn(){return Nt.lFrame.selectedIndex}function vs(s){Nt.lFrame.selectedIndex=s}function An(){const s=Nt.lFrame;return Wu(s.tView,s.selectedIndex)}function Ba(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:k}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function Ds(s,a,u){il(s,a,3,u)}function jc(s,a,u,d){(3&s[2])===u&&il(s,a,u,d)}function Bc(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function il(s,a,u,d){const g=d??-1,y=a.length-1;let w=0;for(let b=void 0!==d?65535&s[18]:0;b<y;b++)if("number"==typeof a[b+1]){if(w=a[b],null!=d&&w>=d)break}else a[b]<0&&(s[18]+=65536),(w<g||-1==g)&&(cf(s,u,a,b),s[18]=(4294901760&s[18])+b+2),b++}function cf(s,a,u,d){const h=u[d]<0,g=u[d+1],w=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class $s{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function sl(s,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],y=u[d++],w=u[d++];s.setAttribute(a,y,w,g)}else{const g=h,y=u[++d];Ud(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),d++}}return d}function Gc(s){return 3===s||4===s||6===s}function Ud(s){return 64===s.charCodeAt(0)}function Ks(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||lf(s,u,h,null,-1===u||2===u?a[++d]:null)}}return s}function lf(s,a,u,d,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function al(s){return-1!==s}function Ha(s){return 32767&s}function lo(s,a){let u=function df(s){return s>>16}(s),d=a;for(;u>0;)d=d[15],u--;return d}let zo=!0;function gi(s){const a=zo;return zo=s,a}let Ga=0;const $i={};function Ws(s,a){const u=Es(s,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,qa(d.data,s),qa(a,null),qa(d.blueprint,null));const h=$a(s,a),g=s.injectorIndex;if(al(h)){const y=Ha(h),w=lo(h,a),b=w[1].data;for(let A=0;A<8;A++)a[g+A]=w[y+A]|b[y+A]}return a[g+8]=h,g}function qa(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Es(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function $a(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=dl(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Wo(s,a,u){!function $c(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(wn)&&(d=u[wn]),null==d&&(d=u[wn]=Ga++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,u)}function ul(s,a,u){if(u&ut.Optional||void 0!==s)return s;be()}function hf(s,a,u,d){if(u&ut.Optional&&void 0===d&&(d=null),0==(u&(ut.Self|ut.Host))){const h=s[9],g=$n(void 0);try{return h?h.get(a,d,u&ut.Optional):Bi(a,d,u&ut.Optional)}finally{$n(g)}}return ul(d,0,u)}function Js(s,a,u,d=ut.Default,h){if(null!==s){if(1024&a[2]){const y=function ll(s,a,u,d,h){let g=s,y=a;for(;null!==g&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Ka(g,y,u,d|ut.Self,$i);if(w!==$i)return w;let b=g.parent;if(!b){const A=y[21];if(A){const k=A.get(u,$i,d);if(k!==$i)return k}b=dl(y),y=y[15]}g=b}return h}(s,a,u,d,$i);if(y!==$i)return y}const g=Ka(s,a,u,d,$i);if(g!==$i)return g}return hf(a,u,d,h)}function Ka(s,a,u,d,h){const g=function ug(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(wn)?s[wn]:void 0;return"number"==typeof a?a>=0?255&a:or:a}(u);if("function"==typeof g){if(!nl(a,s,d))return d&ut.Host?ul(h,0,d):hf(a,u,d,h);try{const y=g(d);if(null!=y||d&ut.Optional)return y;be()}finally{Nd()}}else if("number"==typeof g){let y=null,w=Es(s,a),b=-1,A=d&ut.Host?a[16][6]:null;for((-1===w||d&ut.SkipSelf)&&(b=-1===w?$a(s,a):a[w+8],-1!==b&&Yo(d,!1)?(y=a[1],w=Ha(b),a=lo(b,a)):w=-1);-1!==w;){const k=a[1];if(ff(g,w,k.data)){const Z=Vd(w,a,u,y,d,A);if(Z!==$i)return Z}b=a[w+8],-1!==b&&Yo(d,a[1].data[w+8]===A)&&ff(g,w,a)?(y=k,w=Ha(b),a=lo(b,a)):w=-1}}return h}function Vd(s,a,u,d,h,g){const y=a[1],w=y.data[s+8],k=Ys(w,y,u,null==d?bo(w)&&zo:d!=y&&0!=(3&w.type),h&ut.Host&&g===w);return null!==k?Jo(a,y,k,w):$i}function Ys(s,a,u,d,h){const g=s.providerIndexes,y=a.data,w=1048575&g,b=s.directiveStart,k=g>>20,W=h?w+k:s.directiveEnd;for(let re=d?w:w+k;re<W;re++){const Te=y[re];if(re<b&&u===Te||re>=b&&Te.type===u)return re}if(h){const re=y[b];if(re&&Ii(re)&&re.type===u)return b}return null}function Jo(s,a,u,d){let h=s[u];const g=a.data;if(function Rd(s){return s instanceof $s}(h)){const y=h;y.resolving&&function yt(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(g[u]));const w=gi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?$n(y.injectImpl):null;nl(s,d,ut.Default);try{h=s[u]=y.factory(void 0,g,s,d),a.firstCreatePass&&u>=d.directiveStart&&function ja(s,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const y=Sc(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],a)}finally{null!==b&&$n(b),gi(w),y.resolving=!1,Nd()}}return h}function ff(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function Yo(s,a){return!(s&ut.Self||s&ut.Host&&a)}class Qs{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return Js(this._tNode,this._lView,a,d,u)}}function or(){return new Qs(Wn(),ke())}function Wa(s){return On(()=>{const a=s.prototype.constructor,u=a[jn]||Ja(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[jn]||Ja(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ja(s){return Ge(s)?()=>{const a=Ja(Q(s));return a&&a()}:gs(s)}function dl(s){const a=s[1],u=a.type;return 2===u?a.declTNode:1===u?s[6]:null}function Zd(s){return function za(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Gc(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}(Wn(),s)}const Fn="__parameters__";function Mi(s,a,u){return On(()=>{const d=function zc(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return w.annotation=y,w;function w(b,A,k){const Z=b.hasOwnProperty(Fn)?b[Fn]:Object.defineProperty(b,Fn,{value:[]})[Fn];for(;Z.length<=k;)Z.push(null);return(Z[k]=Z[k]||[]).push(y),b}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class yn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Me({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(a===s&&(a=s.slice(0,u)),Ir(d,a)):a!==s&&a.push(d)}return a}function zi(s,a){s.forEach(u=>Array.isArray(u)?zi(u,a):a(u))}function fl(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function Qa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function mi(s,a,u){let d=ws(s,a);return d>=0?s[1|d]=u:(d=~d,function hg(s,a,u,d){let h=s.length;if(h==a)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function Xc(s,a){const u=ws(s,a);if(u>=0)return s[1|u]}function ws(s,a){return function gl(s,a,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<u];if(a===y)return g<<u;y>a?h=g:d=g+1}return~(h<<u)}(s,a,1)}const _i={},ec="__NG_DI_FLAG__",yi="ngTempTokenPath",Kd=/\n/gm,Ao="__source";let Gn;function ht(s){const a=Gn;return Gn=s,a}function tc(s,a=ut.Default){if(void 0===Gn)throw new xe(-203,!1);return null===Gn?Bi(s,void 0,a):Gn.get(s,a&ut.Optional?null:void 0,a)}function cr(s,a=ut.Default){return(function Xn(){return _r}()||tc)(Q(s),a)}function yl(s,a=ut.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),cr(s,a)}function tu(s){const a=[];for(let u=0;u<s.length;u++){const d=Q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let h,g=ut.Default;for(let y=0;y<d.length;y++){const w=d[y],b=bs(w);"number"==typeof b?-1===b?h=w.token:g|=b:h=w}a.push(cr(h,g))}else a.push(cr(d))}return a}function Qo(s,a){return s[ec]=a,s.prototype[ec]=a,s}function bs(s){return s[ec]}const So=Qo(Mi("Optional"),8),ta=Qo(Mi("SkipSelf"),4);var Yn=(()=>((Yn=Yn||{})[Yn.Important=1]="Important",Yn[Yn.DashCase=2]="DashCase",Yn))();const S=new Map;let U=0;const Or="__ngContext__";function fn(s,a){Tr(a)?(s[Or]=a[20],function X(s){S.set(s[20],s)}(a)):s[Or]=a}function Qd(s,a){return undefined(s,a)}function eh(s){const a=s[3];return Gr(a)?a[3]:a}function Nl(s){return p(s[13])}function D(s){return p(s[4])}function p(s){for(;null!==s&&!Gr(s);)s=s[4];return s}function E(s,a,u,d,h){if(null!=d){let g,y=!1;Gr(d)?g=d:Tr(d)&&(y=!0,d=d[0]);const w=xn(d);0===s&&null!==u?null==h?sc(a,u,w):xs(a,u,w,h||null,!0):1===s&&null!==u?xs(a,u,w,h||null,!0):2===s?function Cg(s,a,u){const d=lu(s,a);d&&function nh(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}(a,w,y):3===s&&a.destroyNode(w),null!=g&&function XT(s,a,u,d,h){const g=u[7];g!==xn(u)&&E(a,s,d,g,h);for(let w=10;w<u.length;w++){const b=u[w];Ni(b[1],b,s,a,d,g)}}(a,s,g,u,h)}}function he(s,a,u){return s.createElement(a,u)}function cu(s,a){const u=s[9],d=u.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,Gs(h,-1)),u.splice(d,1)}function bf(s,a){if(s.length<=10)return;const u=10+a,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&cu(h,d),a>0&&(s[u-1][4]=d[4]);const g=Qa(s,10+a);!function qe(s,a){Ni(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function uu(s,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Ni(s,a,u,3,null,null),function cn(s){let a=s[13];if(!a)return th(s[1],s);for(;a;){let u=null;if(Tr(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==s;)Tr(a)&&th(a[1],a),a=a[3];null===a&&(a=s),Tr(a)&&th(a[1],a),u=a&&a[4]}a=u}}(a)}}function th(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Pl(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof $s)){const g=u[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const w=h[g[y]],b=g[y+1];try{b.call(w)}finally{}}else try{g.call(h)}finally{}}}}(s,a),function Tf(s,a){const u=s.cleanup,d=a[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+1],w="function"==typeof y?y(a):xn(a[y]),b=d[h=u[g+2]],A=u[g+3];"boolean"==typeof A?w.removeEventListener(u[g],b,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const y=d[h=u[g+1]];u[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Gr(a[3])){u!==a[3]&&cu(u,a);const d=a[19];null!==d&&d.detachView(s)}!function Qe(s){S.delete(s[20])}(a)}}function xf(s,a,u){return function vg(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return di(d,u)}(s,a.parent,u)}function xs(s,a,u,d,h){s.insertBefore(a,u,d,h)}function sc(s,a,u){s.appendChild(a,u)}function go(s,a,u,d,h){null!==d?xs(s,a,u,d,h):sc(s,a,u)}function lu(s,a){return s.parentNode(a)}let If,hu,bg,JT=function j_(s,a,u){return 40&s.type?di(s,u):null};function B_(s,a,u,d){const h=xf(s,d,a),g=a[11],w=function LD(s,a,u){return JT(s,a,u)}(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(u))for(let b=0;b<u.length;b++)go(g,h,u[b],w,!1);else go(g,h,u,w,!1)}function Dg(s,a){if(null!==a){const u=a.type;if(3&u)return di(a,s);if(4&u)return G_(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return Dg(s,d);{const h=s[a.index];return Gr(h)?G_(-1,h):xn(h)}}if(32&u)return Qd(a,s)()||xn(s[a.index]);{const d=H_(s,a);return null!==d?Array.isArray(d)?d[0]:Dg(eh(s[16]),d):Dg(s,a.next)}}return null}function H_(s,a){return null!==a?s[16][6].projection[a.projection]:null}function G_(s,a){const u=10+s+1;if(u<a.length){const d=a[u],h=d[1].firstChild;if(null!==h)return Dg(d,h)}return a[7]}function No(s,a,u,d,h,g,y){for(;null!=u;){const w=d[u.index],b=u.type;if(y&&0===a&&(w&&fn(xn(w),d),u.flags|=4),64!=(64&u.flags))if(8&b)No(s,a,u.child,d,h,g,!1),E(a,s,h,w,g);else if(32&b){const A=Qd(u,d);let k;for(;k=A();)E(a,s,h,k,g);E(a,s,h,w,g)}else 16&b?Eg(s,a,d,u,h,g):E(a,s,h,w,g);u=y?u.projectionNext:u.next}}function Ni(s,a,u,d,h,g){No(u,d,s.firstChild,a,h,g,!1)}function Eg(s,a,u,d,h,g){const y=u[16],b=y[6].projection[d.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)E(a,s,h,b[A],g);else No(s,a,b,y[3],h,g,!0)}function q_(s,a,u){s.setAttribute(a,"style",u)}function $_(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function du(s){return function z_(){if(void 0===If&&(If=null,nn.trustedTypes))try{If=nn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return If}()?.createHTML(s)||s}function r1(s){hu=s}function W_(s){return function Af(){if(void 0===bg&&(bg=null,nn.trustedTypes))try{bg=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bg}()?.createHTML(s)||s}class Ol{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ZD extends Ol{getTypeName(){return"HTML"}}class i1 extends Ol{getTypeName(){return"Style"}}class Tg extends Ol{getTypeName(){return"Script"}}class jD extends Ol{getTypeName(){return"URL"}}class o1 extends Ol{getTypeName(){return"ResourceURL"}}function ha(s){return s instanceof Ol?s.changingThisBreaksApplicationSecurity:s}function ih(s,a){const u=function o2(s){return s instanceof Ol&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function J_(s){return new ZD(s)}function BD(s){return new i1(s)}function HD(s){return new Tg(s)}function GD(s){return new jD(s)}function Rl(s){return new o1(s)}class $D{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(du(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class s1{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=du(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=du(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const a1=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function xg(s){return(s=String(s)).match(a1)?s:"unsafe:"+s}function ii(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function oh(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const KD=ii("area,br,col,hr,img,wbr"),Y_=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WD=ii("rp,rt"),Q_=oh(KD,oh(Y_,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oh(WD,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oh(WD,Y_)),Ig=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),u1=oh(Ig,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YD=ii("script,style,template");class l1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Q_.hasOwnProperty(u))return this.sanitizedSomething=!0,!YD.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),y=g.name,w=y.toLowerCase();if(!u1.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=g.value;Ig[w]&&(b=xg(b)),this.buf.push(" ",y,'="',d1(b),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Q_.hasOwnProperty(u)&&!KD.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(d1(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const QD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XD=/([^\#-~ |!])/g;function d1(s){return s.replace(/&/g,"&amp;").replace(QD,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(XD,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let X_;function ey(s,a){let u=null;try{X_=X_||function qD(s){const a=new s1(s);return function zD(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch{return!1}}()?new $D(a):a}(s);let d=a?String(a):"";u=X_.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=X_.getInertBodyElement(d)}while(d!==g);return du((new l1).sanitizeChildren(Sf(u)||u))}finally{if(u){const d=Sf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Sf(s){return"content"in s&&function a2(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function h1(s){const a=sh();return a?W_(a.sanitize(Fr.HTML,s)||""):ih(s,"HTML")?W_(ha(s)):ey(function wg(){return void 0!==hu?hu:typeof document<"u"?document:void 0}(),Ce(s))}function ty(s){const a=sh();return a?a.sanitize(Fr.URL,s)||"":ih(s,"URL")?ha(s):xg(Ce(s))}function sh(){const s=ke();return s&&s[12]}const iC=new yn("ENVIRONMENT_INITIALIZER"),p1=new yn("INJECTOR",-1),g1=new yn("INJECTOR_DEF_TYPES");class m1{get(a,u=_i){if(u===_i){const d=new Error(`NullInjectorError: No provider for ${ve(a)}!`);throw d.name="NullInjectorError",d}return u}}function u2(...s){return{\u0275providers:ny(0,s)}}function ny(s,...a){const u=[],d=new Set;let h;return zi(a,g=>{const y=g;Ag(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&ah(h,u),u}function ah(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];zi(h,g=>{a.push(g)})}}function Ag(s,a,u,d){if(!(s=Q(s)))return!1;let h=null,g=Qn(s);const y=!g&&O(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const b=s.ngModule;if(g=Qn(b),!g)return!1;h=b}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of b)Ag(A,a,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let A;d.add(h);try{zi(g.imports,k=>{Ag(k,a,u,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&ah(A,a)}if(!w){const A=gs(h)||(()=>new h);a.push({provide:h,useFactory:A,deps:St},{provide:g1,useValue:h,multi:!0},{provide:iC,useValue:()=>cr(h),multi:!0})}const b=g.providers;null==b||w||zi(b,k=>{a.push(k)})}}return h!==s&&void 0!==s.providers}const l2=_e({provide:String,useValue:_e});function Sg(s){return null!==s&&"object"==typeof s&&l2 in s}function Fl(s){return"function"==typeof s}const ry=new yn("Set Injector scope."),Mg={},y1={};let iy;function kg(){return void 0===iy&&(iy=new m1),iy}class Ll{}class v1 extends Ll{constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sy(a,y=>this.processProvider(y)),this.records.set(p1,ch(void 0,this)),h.has("environment")&&this.records.set(Ll,ch(void 0,this));const g=this.records.get(ry);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(g1.multi,St,ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=ht(this),d=$n(void 0);try{return a()}finally{ht(u),$n(d)}}get(a,u=_i,d=ut.Default){this.assertNotDestroyed();const h=ht(this),g=$n(void 0);try{if(!(d&ut.SkipSelf)){let w=this.records.get(a);if(void 0===w){const b=function b1(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(a)&&tn(a);w=b&&this.injectableDefInScope(b)?ch(oy(a),Mg):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&ut.Self?kg():this.parent).get(a,u=d&ut.Optional&&u===_i?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[yi]=y[yi]||[]).unshift(ve(a)),h)throw y;return function Nr(s,a,u,d){const h=s[yi];throw a[Ao]&&h.unshift(a[Ao]),s.message=function gg(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ve(a);if(Array.isArray(a))h=a.map(ve).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];g.push(y+":"+("string"==typeof w?JSON.stringify(w):ve(w)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Kd,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[yi]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{$n(g),ht(h)}}resolveInjectorInitializers(){const a=ht(this),u=$n(void 0);try{const d=this.get(iC.multi,St,ut.Self);for(const h of d)h()}finally{ht(a),$n(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(ve(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let u=Fl(a=Q(a))?a:Q(a&&a.provide);const d=function C1(s){return Sg(s)?ch(void 0,s.useValue):ch(cC(s),Mg)}(a);if(Fl(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=ch(void 0,Mg,!0),h.factory=()=>tu(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===Mg&&(u.value=y1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function w1(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Q(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function oy(s){const a=tn(s),u=null!==a?a.factory:gs(s);if(null!==u)return u;if(s instanceof yn)throw new xe(204,!1);if(s instanceof Function)return function D1(s){const a=s.length;if(a>0)throw function Qc(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}(a,"?"),new xe(204,!1);const u=function Nn(s){const a=s&&(s[Sn]||s[mr]);if(a){const u=function pn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new xe(204,!1)}function cC(s,a,u){let d;if(Fl(s)){const h=Q(s);return gs(h)||oy(h)}if(Sg(s))d=()=>Q(s.useValue);else if(function aC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...tu(s.deps||[]));else if(function sC(s){return!(!s||!s.useExisting)}(s))d=()=>cr(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function E1(s){return!!s.deps}(s))return gs(h)||oy(h);d=()=>new h(...tu(s.deps))}return d}function ch(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function T1(s){return!!s.\u0275providers}function sy(s,a){for(const u of s)Array.isArray(u)?sy(u,a):T1(u)?sy(u.\u0275providers,a):a(u)}class uC{}class A1{resolveComponentFactory(a){throw function I1(s){const a=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let kf=(()=>{class s{}return s.NULL=new A1,s})();function S1(){return uh(Wn(),ke())}function uh(s,a){return new Nf(di(s,a))}let Nf=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=S1,s})();function M1(s){return s instanceof Nf?s.nativeElement:s}class k1{}let N1=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function P1(){const s=ke(),u=kr(Wn().index,s);return(Tr(u)?u:s)[11]}(),s})(),O1=(()=>{class s{}return s.\u0275prov=Me({token:s,providedIn:"root",factory:()=>null}),s})();class Ng{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ac=new Ng("14.3.0"),Pg={};function Of(s){return s.ngOriginalError}class Di{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Of(a);for(;u&&Of(u);)u=Of(u);return u||null}}function pa(s){return s instanceof Function?s():s}function dy(s,a,u){let d=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const gC="ng-template";function mC(s,a,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==dy(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function _C(s){return 4===s.type&&s.value!==gC}function hy(s,a,u){return a===(4!==s.type||u?s.value:gC)}function Og(s,a,u){let d=4;const h=s.attrs||[],g=function cc(s){for(let a=0;a<s.length;a++)if(Gc(s[a]))return a;return s.length}(h);let y=!1;for(let w=0;w<a.length;w++){const b=a[w];if("number"!=typeof b){if(!y)if(4&d){if(d=2|1&d,""!==b&&!hy(s,b,u)||""===b&&1===a.length){if(mo(d))return!1;y=!0}}else{const A=8&d?b:a[++w];if(8&d&&null!==s.attrs){if(!mC(s.attrs,A,u)){if(mo(d))return!1;y=!0}continue}const Z=Rg(8&d?"class":b,h,_C(s),u);if(-1===Z){if(mo(d))return!1;y=!0;continue}if(""!==A){let W;W=Z>g?"":h[Z+1].toLowerCase();const re=8&d?W:null;if(re&&-1!==dy(re,A,0)||2&d&&A!==W){if(mo(d))return!1;y=!0}}}}else{if(!y&&!mo(d)&&!mo(b))return!1;if(y&&mo(b))continue;y=!1,d=b|1&d}}return mo(d)||y}function mo(s){return 0==(1&s)}function Rg(s,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function gy(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function fy(s,a,u=!1){for(let d=0;d<a.length;d++)if(Og(s,a[d],u))return!0;return!1}function yC(s,a){return s?":not("+a.trim()+")":a}function Rf(s){let a=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const w=s[++u];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!mo(y)&&(a+=yC(g,h),h=""),d=y,g=g||!mo(d);u++}return""!==h&&(a+=yC(g,h)),a}const Wt={};function uc(s){my(en(),ke(),hn()+s,!1)}function my(s,a,u,d){if(!d)if(3==(3&a[2])){const g=s.preOrderCheckHooks;null!==g&&Ds(a,g,u)}else{const g=s.preOrderHooks;null!==g&&jc(a,g,0,u)}vs(u)}function CC(s,a=null,u=null,d){const h=Ug(s,a,u,d);return h.resolveInjectorInitializers(),h}function Ug(s,a=null,u=null,d,h=new Set){const g=[u||St,u2(s)];return d=d||("object"==typeof s?void 0:ve(s)),new v1(g,a||kg(),d||null,h)}let Vl=(()=>{class s{static create(u,d){if(Array.isArray(u))return CC({name:""},d,u,"");{const h=u.name??"";return CC({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=_i,s.NULL=new m1,s.\u0275prov=Me({token:s,providedIn:"any",factory:()=>cr(p1)}),s.__NG_ELEMENT_ID__=-1,s})();function hc(s,a=ut.Default){const u=ke();return null===u?cr(s,a):Js(Wn(),u,Q(s),a)}function NC(){throw new Error("invalid")}function jg(s,a){return s<<17|a<<2}function Is(s){return s>>17&32767}function xy(s){return 2|s}function ns(s){return(131068&s)>>2}function Uf(s,a){return-131069&s|a<<2}function Iy(s){return 1|s}function Po(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],g=u[d+1];if(-1!==g){const y=s.data[g];ti(h),y.contentQueries(2,a[g],g)}}}function qg(s,a,u,d,h,g,y,w,b,A,k){const Z=a.blueprint.slice();return Z[0]=h,Z[2]=76|d,(null!==k||s&&1024&s[2])&&(Z[2]|=1024),xr(Z),Z[3]=Z[15]=s,Z[8]=u,Z[10]=y||s&&s[10],Z[11]=w||s&&s[11],Z[12]=b||s&&s[12]||null,Z[9]=A||s&&s[9]||null,Z[6]=g,Z[20]=function K(){return U++}(),Z[21]=k,Z[16]=2==a.type?s[16]:Z,Z}function Zl(s,a,u,d,h){let g=s.data[a];if(null===g)g=function Oy(s,a,u,d,h){const g=Ra(),y=Fa(),b=s.data[a]=function WC(s,a,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,a,d,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,a,u,d,h),function La(){return Nt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const y=function qo(){const s=Nt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Si(g,!0),g}function jl(s,a,u,d){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function fh(s,a,u){ys(a);try{const d=s.viewQuery;null!==d&&Cr(1,d,u);const h=s.template;null!==h&&$C(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Po(s,a),s.staticViewQueries&&Cr(2,s.viewQuery,u);const g=s.components;null!==g&&function Q1(s,a){for(let u=0;u<a.length;u++)$f(s,a[u])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,$o()}}function $g(s,a,u,d){const h=a[2];if(128!=(128&h)){ys(a);try{xr(a),function fi(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&$C(s,a,u,2,d);const y=3==(3&h);if(y){const A=s.preOrderCheckHooks;null!==A&&Ds(a,A,null)}else{const A=s.preOrderHooks;null!==A&&jc(a,A,0,null),Bc(a,0)}if(function nE(s){for(let a=Nl(s);null!==a;a=D(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const h=u[d],g=h[3];0==(512&h[2])&&Gs(g,1),h[2]|=512}}}(a),function Uy(s){for(let a=Nl(s);null!==a;a=D(a))for(let u=10;u<a.length;u++){const d=a[u],h=d[1];kc(d)&&$g(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&Po(s,a),y){const A=s.contentCheckHooks;null!==A&&Ds(a,A)}else{const A=s.contentHooks;null!==A&&jc(a,A,1),Bc(a,1)}!function qC(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)vs(~h);else{const g=h,y=u[++d],w=u[++d];kd(y,g),w(2,a[g])}}}finally{vs(-1)}}(s,a);const w=s.components;null!==w&&function hh(s,a){for(let u=0;u<a.length;u++)sx(s,a[u])}(a,w);const b=s.viewQuery;if(null!==b&&Cr(2,b,d),y){const A=s.viewCheckHooks;null!==A&&Ds(a,A)}else{const A=s.viewHooks;null!==A&&jc(a,A,2),Bc(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Gs(a[3],-1))}finally{$o()}}}function $C(s,a,u,d,h){const g=hn(),y=2&d;try{vs(-1),y&&a.length>22&&my(s,a,22,!1),u(d,h)}finally{vs(g)}}function zg(s,a,u){if(Sa(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}function Ry(s,a,u){!Pc()||(function rx(s,a,u,d){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Ws(u,a),fn(d,a);const y=u.initialInputs;for(let w=h;w<g;w++){const b=s.data[w],A=Ii(b);A&&Gf(a,u,b);const k=Jo(a,s,w,u);fn(k,a),null!==y&&ox(0,w-h,k,b,0,y),A&&(kr(u.index,a)[8]=k)}}(s,a,u,di(u,a)),128==(128&u.flags)&&function M2(s,a,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,y=function Lc(){return Nt.lFrame.currentDirectiveIndex}();try{vs(g);for(let w=d;w<h;w++){const b=s.data[w],A=a[w];Ua(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&ix(b,A)}}finally{vs(-1),Ua(y)}}(s,a,u))}function Kg(s,a,u=di){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],w=-1===y?u(a,s):s[y];s[h++]=w}}}function zC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Fy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Fy(s,a,u,d,h,g,y,w,b,A){const k=22+d,Z=k+h,W=function X1(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:Wt);return u}(k,Z),re="function"==typeof A?A():A;return W[1]={type:s,blueprint:W,template:u,queries:null,viewQuery:w,declTNode:a,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:re,incompleteFirstPass:!1}}function Bf(s,a,u,d){const h=Kf(a);null===u?h.push(d):(h.push(u),s.firstCreatePass&&is(s).push(d,h.length-1))}function JC(s,a,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,h):u[d]=[a,h]}return u}function Ly(s,a){const d=a.directiveEnd,h=s.data,g=a.attrs,y=[];let w=null,b=null;for(let A=a.directiveStart;A<d;A++){const k=h[A],Z=k.inputs,W=null===g||_C(a)?null:eE(Z,g);y.push(W),w=JC(Z,A,w),b=JC(k.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=b}function Oo(s,a,u,d,h,g,y,w){const b=di(a,u);let k,A=a.inputs;!w&&null!=A&&(k=A[d])?(em(s,u,k,d,h),bo(a)&&YC(u,a.index)):3&a.type&&(d=function ex(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,g.setProperty(b,d,h))}function YC(s,a){const u=kr(a,s);16&u[2]||(u[2]|=32)}function Wg(s,a,u,d){let h=!1;if(Pc()){const g=function k2(s,a,u){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];fy(u,y.selectors,!1)&&(h||(h=[]),Wo(Ws(u,a),s,y.type),Ii(y)?(Ct(s,u),h.unshift(y)):h.push(y))}return h}(s,a,u),y=null===d?null:{"":-1};if(null!==g){h=!0,XC(u,s.data.length,g.length);for(let k=0;k<g.length;k++){const Z=g[k];Z.providersResolver&&Z.providersResolver(Z)}let w=!1,b=!1,A=jl(s,a,g.length,null);for(let k=0;k<g.length;k++){const Z=g[k];u.mergedAttrs=Ks(u.mergedAttrs,Z.hostAttrs),Hf(s,u,a,A,Z),Ss(A,Z,y),null!==Z.contentQueries&&(u.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(u.flags|=128);const W=Z.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),A++}Ly(s,u)}y&&function Pi(s,a,u){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new xe(-301,!1);d.push(a[h],g)}}}(u,d,y)}return u.mergedAttrs=Ks(u.mergedAttrs,u.attrs),h}function Jg(s,a,u,d,h,g){const y=g.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const b=~a.index;(function QC(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=b&&w.push(b),w.push(d,h,y)}}function ix(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Ct(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Ss(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;Ii(a)&&(u[""]=s)}}function XC(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function Hf(s,a,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=gs(h.type)),y=new $s(g,Ii(h),hc);s.blueprint[d]=y,u[d]=y,Jg(s,a,0,d,jl(s,u,h.hostVars,Wt),h)}function Gf(s,a,u){const d=di(a,s),h=zC(u),g=s[10],y=zf(s,qg(s,h,null,u.onPush?32:16,d,a,g,g.createRenderer(d,u),null,null,null));s[a.index]=y}function ma(s,a,u,d,h,g){const y=di(s,a);!function Yg(s,a,u,d,h,g,y){if(null==g)s.removeAttribute(a,h,u);else{const w=null==y?Ce(g):y(g,d||"",h);s.setAttribute(a,h,w,u)}}(a[11],y,g,s.value,u,d,h)}function ox(s,a,u,d,h,g){const y=g[a];if(null!==y){const w=d.setInput;for(let b=0;b<y.length;){const A=y[b++],k=y[b++],Z=y[b++];null!==w?d.setInput(u,Z,A,k):u[k]=Z}}}function eE(s,a){let u=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],a[d+1])),d+=2}else d+=2;else d+=4}return u}function tE(s,a,u,d){return new Array(s,!0,!1,a,null,0,d,u,null,null)}function sx(s,a){const u=kr(a,s);if(kc(u)){const d=u[1];48&u[2]?$g(d,u,d.template,u[8]):u[5]>0&&qf(u)}}function qf(s){for(let d=Nl(s);null!==d;d=D(d))for(let h=10;h<d.length;h++){const g=d[h];if(kc(g))if(512&g[2]){const y=g[1];$g(y,g,y.template,g[8])}else g[5]>0&&qf(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=kr(u[d],s);kc(h)&&h[5]>0&&qf(h)}}function $f(s,a){const u=kr(a,s),d=u[1];(function Bl(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),fh(d,u,u[8])}function zf(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function oi(s){for(;s;){s[2]|=32;const a=eh(s);if(ka(s)&&!a)return s;s=a}return null}function ph(s,a,u,d=!0){const h=a[10];h.begin&&h.begin();try{$g(s,a,s.template,u)}catch(y){throw d&&Wf(a,y),y}finally{h.end&&h.end()}}function Cr(s,a,u){ti(0),a(s,u)}function Kf(s){return s[7]||(s[7]=[])}function is(s){return s.cleanup||(s.cleanup=[])}function Wf(s,a){const u=s[9],d=u?u.get(Di,null):null;d&&d.handleError(a)}function em(s,a,u,d,h){for(let g=0;g<u.length;){const y=u[g++],w=u[g++],b=a[y],A=s.data[y];null!==A.setInput?A.setInput(b,h,d,w):b[w]=h}}function fc(s,a,u){const d=ms(a,s);!function P(s,a,u){s.setValue(a,u)}(s[11],d,u)}function os(s,a,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?g=w:1==g?h=De(h,w):2==g&&(d=De(d,w+": "+a[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function _a(s,a,u,d,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(xn(g)),Gr(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&_a(b[1],b,A,d)}const y=u.type;if(8&y)_a(s,a,u.child,d);else if(32&y){const w=Qd(u,a);let b;for(;b=w();)d.push(b)}else if(16&y){const w=H_(a,u);if(Array.isArray(w))d.push(...w);else{const b=eh(a[16]);_a(b[1],b,w,d,!0)}}u=h?u.projectionNext:u.next}return d}class Lr{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return _a(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Gr(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(bf(a,d),Qa(u,d))}this._attachedToViewContainer=!1}uu(this._lView[1],this._lView)}onDestroy(a){Bf(this._lView[1],this._lView,null,a)}markForCheck(){oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ph(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vt(s,a){Ni(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class pu extends Lr{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ph(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Vy extends kf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=O(a);return new Jf(u,this.ngModule)}}function gh(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class rE{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){const h=this.injector.get(a,Pg,d);return h!==Pg||u===Pg?h:this.parentInjector.get(a,u,d)}}class Jf extends uC{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function vC(s){return s.map(Rf).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gh(this.componentDef.inputs)}get outputs(){return gh(this.componentDef.outputs)}create(a,u,d,h){let g=(h=h||this.ngModule)instanceof Ll?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new rE(a,g):a,w=y.get(k1,null);if(null===w)throw new xe(407,!1);const b=y.get(O1,null),A=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",Z=d?function KC(s,a,u){return s.selectRootElement(a,u===bt.ShadowDom)}(A,d,this.componentDef.encapsulation):he(A,k,function Zy(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(k)),W=this.componentDef.onPush?288:272,re=Fy(0,null,null,1,0,null,null,null,null,null),Te=qg(null,re,null,W,null,null,w,A,b,y,null);let He,Xe;ys(Te);try{const _t=function ux(s,a,u,d,h,g){const y=u[1];u[22]=s;const b=Zl(y,22,2,"#host",null),A=b.mergedAttrs=a.hostAttrs;null!==A&&(os(b,A,!0),null!==s&&(sl(h,s,A),null!==b.classes&&$_(h,s,b.classes),null!==b.styles&&q_(h,s,b.styles)));const k=d.createRenderer(s,a),Z=qg(u,zC(a),null,a.onPush?32:16,u[22],b,d,k,g||null,null,null);return y.firstCreatePass&&(Wo(Ws(b,u),y,a.type),Ct(y,b),XC(b,u.length,1)),zf(u,Z),u[22]=Z}(Z,this.componentDef,Te,w,A);if(Z)if(d)sl(A,Z,["ng-version",ac.full]);else{const{attrs:Pt,classes:Fe}=function U1(s){const a=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++d]):8===h&&u.push(g);else{if(!mo(h))break;h=g}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Pt&&sl(A,Z,Pt),Fe&&Fe.length>0&&$_(A,Z,Fe.join(" "))}if(Xe=Wu(re,22),void 0!==u){const Pt=Xe.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Dt=u[Fe];Pt.push(null!=Dt?Array.from(Dt):null)}}He=function mh(s,a,u,d){const h=u[1],g=function nx(s,a,u){const d=Wn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Hf(s,d,a,jl(s,a,1,null),u),Ly(s,d));const h=Jo(a,s,d.directiveStart,d);fn(h,a);const g=di(d,a);return g&&fn(g,a),h}(h,u,a);if(s[8]=u[8]=g,null!==d)for(const w of d)w(g,a);if(a.contentQueries){const w=Wn();a.contentQueries(1,g,w.directiveStart)}const y=Wn();return!h.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(vs(y.index),Jg(u[1],y,0,y.directiveStart,y.directiveEnd,a),ix(a,g)),g}(_t,this.componentDef,Te,[lx]),fh(re,Te,null)}finally{$o()}return new un(this.componentType,He,uh(Xe,Te),Te,Xe)}}class un extends class x1{}{constructor(a,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new pu(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;em(g[1],g,h,a,u),YC(g,this._tNode.index)}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function lx(){const s=Wn();Ba(ke()[1],s)}function ss(s){let a=function iE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let h;if(Ii(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=nm(s.inputs),y.declaredInputs=nm(s.declaredInputs),y.outputs=nm(s.outputs);const w=h.hostBindings;w&&Ci(s,w);const b=h.viewQuery,A=h.contentQueries;if(b&&sE(s,b),A&&N2(s,A),pe(s.inputs,h.inputs),pe(s.declaredInputs,h.declaredInputs),pe(s.outputs,h.outputs),Ii(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const w=g[y];w&&w.ngInherit&&w(s),w===ss&&(u=!1)}}a=Object.getPrototypeOf(a)}!function oE(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Ks(h.hostAttrs,u=Ks(u,h.hostAttrs))}}(d)}function nm(s){return s===ir?{}:s===St?[]:s}function sE(s,a){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function N2(s,a){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{a(d,h,g),u(d,h,g)}:a}function Ci(s,a){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}let rm=null;function _u(){if(!rm){const s=nn.Symbol;if(s&&s.iterator)rm=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rm=d)}}}return rm}function Yf(s){return!!im(s)&&(Array.isArray(s)||!(s instanceof Map)&&_u()in s)}function im(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ro(s,a,u){return s[a]=u}function Rt(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function ks(s,a,u,d){const h=Rt(s,a,u);return Rt(s,a+1,d)||h}function By(s,a,u,d){const h=ke();return Rt(h,_s(),a)&&(en(),ma(An(),h,s,a,u,d)),By}function _h(s,a,u,d,h,g){const w=ks(s,function qr(){return Nt.lFrame.bindingIndex}(),u,h);return pi(2),w?a+Ce(u)+d+Ce(h)+g:Wt}function pE(s,a,u,d,h,g,y,w){const b=ke(),A=en(),k=s+22,Z=A.firstCreatePass?function gx(s,a,u,d,h,g,y,w,b){const A=a.consts,k=Zl(a,s,4,y||null,Ai(A,w));Wg(a,u,k,Ai(A,b)),Ba(a,k);const Z=k.tViews=Fy(2,k,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,k),Z.queries=a.queries.embeddedTView(k)),k}(k,A,b,a,u,d,h,g,y):A.data[k];Si(Z,!1);const W=b[11].createComment("");B_(A,b,W,Z),fn(W,b),zf(b,b[k]=tE(W,b,W,Z)),Ma(Z)&&Ry(A,b,Z),null!=y&&Kg(b,Z,w)}function ep(s){return function Gi(s,a){return s[a]}(function Rn(){return Nt.lFrame.contextLView}(),22+s)}function $y(s,a,u){const d=ke();return Rt(d,_s(),a)&&Oo(en(),An(),d,s,a,d[11],u,!1),$y}function mc(s,a,u,d,h){const y=h?"class":"style";em(s,u,a.inputs[y],y,d)}function Ky(s,a,u,d){const h=ke(),g=en(),y=22+s,w=h[11],b=h[y]=he(w,a,function Od(){return Nt.lFrame.currentNamespace}()),A=g.firstCreatePass?function zy(s,a,u,d,h,g,y){const w=a.consts,A=Zl(a,s,2,h,Ai(w,g));return Wg(a,u,A,Ai(w,y)),null!==A.attrs&&os(A,A.attrs,!1),null!==A.mergedAttrs&&os(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(y,g,h,0,a,u,d):g.data[y];Si(A,!0);const k=A.mergedAttrs;null!==k&&sl(w,b,k);const Z=A.classes;null!==Z&&$_(w,b,Z);const W=A.styles;return null!==W&&q_(w,b,W),64!=(64&A.flags)&&B_(g,h,b,A),0===function Qu(){return Nt.lFrame.elementDepthCount}()&&fn(b,h),function Ad(){Nt.lFrame.elementDepthCount++}(),Ma(A)&&(Ry(g,h,A),zg(g,A,h)),null!==d&&Kg(h,A),Ky}function sm(){let s=Wn();Fa()?Fc():(s=s.parent,Si(s,!1));const a=s;!function sf(){Nt.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(Ba(u,s),Sa(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Ld(s){return 0!=(16&s.flags)}(a)&&mc(u,a,ke(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function uf(s){return 0!=(32&s.flags)}(a)&&mc(u,a,ke(),a.stylesWithoutHost,!1),sm}function Wy(s,a,u,d){return Ky(s,a,u,d),sm(),Wy}function Du(s,a,u){const d=ke(),h=en(),g=s+22,y=h.firstCreatePass?function mx(s,a,u,d,h){const g=a.consts,y=Ai(g,d),w=Zl(a,s,8,"ng-container",y);return null!==y&&os(w,y,!0),Wg(a,u,w,Ai(g,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,h,d,a,u):h.data[g];Si(y,!0);const w=d[g]=d[11].createComment("");return B_(h,d,w,y),fn(w,d),Ma(y)&&(Ry(h,d,y),zg(h,y,d)),null!=u&&Kg(d,y),Du}function Cu(){let s=Wn();const a=en();return Fa()?Fc():(s=s.parent,Si(s,!1)),a.firstCreatePass&&(Ba(a,s),Sa(s)&&a.queries.elementEnd(s)),Cu}function Jy(){return ke()}function am(s){return!!s&&"function"==typeof s.then}function Yy(s){return!!s&&"function"==typeof s.subscribe}const $l=Yy;function Qy(s,a,u,d){const h=ke(),g=en(),y=Wn();return function _E(s,a,u,d,h,g,y,w){const b=Ma(d),k=s.firstCreatePass&&is(s),Z=a[8],W=Kf(a);let re=!0;if(3&d.type||w){const Xe=di(d,a),_t=w?w(Xe):Xe,Pt=W.length,Fe=w?En=>w(xn(En[d.index])):d.index;let Dt=null;if(!w&&b&&(Dt=function mE(s,a,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===u&&h[g+1]===d){const w=a[7],b=h[g+2];return w.length>b?w[b]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,d.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=g,Dt.__ngLastListenerFn__=g,re=!1;else{g=vh(d,a,Z,g,!1);const En=u.listen(_t,h,g);W.push(g,En),k&&k.push(h,Fe,Pt,Pt+1)}}else g=vh(d,a,Z,g,!1);const Te=d.outputs;let He;if(re&&null!==Te&&(He=Te[h])){const Xe=He.length;if(Xe)for(let _t=0;_t<Xe;_t+=2){const qn=a[He[_t]][He[_t+1]].subscribe(g),Iu=W.length;W.push(g,qn),k&&k.push(h,d.index,Iu,-(Iu+1))}}}(g,h,h[11],y,s,a,0,d),Qy}function cm(s,a,u,d){try{return!1!==u(d)}catch(h){return Wf(s,h),!1}}function vh(s,a,u,d,h){return function g(y){if(y===Function)return d;oi(2&s.flags?kr(s.index,a):a);let b=cm(a,0,d,y),A=g.__ngNextListenerFn__;for(;A;)b=cm(a,0,A,y)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function yE(s=1){return function Pd(s){return(Nt.lFrame.contextLView=function ag(s,a){for(;s>0;)a=a[15],s--;return a}(s,Nt.lFrame.contextLView))[8]}(s)}function bE(s,a,u,d,h){const g=s[u+1],y=null===a;let w=d?Is(g):ns(g),b=!1;for(;0!==w&&(!1===b||y);){const k=s[w+1];Dx(s[w],a)&&(b=!0,s[w+1]=d?Iy(k):xy(k)),w=d?Is(k):ns(k)}b&&(s[u+1]=d?xy(g):Iy(g))}function Dx(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ws(s,a)>=0}const zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TE(s){return s.substring(zr.key,zr.keyEnd)}function nv(s,a){const u=zr.textEnd;return u===a?-1:(a=zr.keyEnd=function IE(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,zr.key=a,u),Ps(s,a,u))}function Ps(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function Dh(s,a,u){return Os(s,a,u,!1),Dh}function dm(s,a){return Os(s,a,null,!0),dm}function hm(s){!function Ji(s,a,u,d){const h=en(),g=pi(2);h.firstUpdatePass&&NE(h,null,g,d);const y=ke();if(u!==Wt&&Rt(y,g,u)){const w=h.data[hn()];if(Ex(w,d)&&!kE(h,g)){let b=d?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(u=De(b,u||"")),mc(h,w,y,u,d)}else!function sv(s,a,u,d,h,g,y,w){h===Wt&&(h=St);let b=0,A=0,k=0<h.length?h[0]:null,Z=0<g.length?g[0]:null;for(;null!==k||null!==Z;){const W=b<h.length?h[b+1]:void 0,re=A<g.length?g[A+1]:void 0;let He,Te=null;k===Z?(b+=2,A+=2,W!==re&&(Te=Z,He=re)):null===Z||null!==k&&k<Z?(b+=2,Te=k):(A+=2,Te=Z,He=re),null!==Te&&FE(s,a,u,d,Te,He,y,w),k=b<h.length?h[b]:null,Z=A<g.length?g[A]:null}}(h,w,y,y[11],y[g+1],y[g+1]=function rp(s,a,u){if(null==u||""===u)return St;const d=[],h=ha(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(s,a,u),d,g)}}(mi,cs,s,!0)}function cs(s,a){for(let u=function Cx(s){return function va(s){zr.key=0,zr.keyEnd=0,zr.value=0,zr.valueEnd=0,zr.textEnd=s.length}(s),nv(s,Ps(s,0,zr.textEnd))}(a);u>=0;u=nv(a,u))mi(s,TE(a),!0)}function Os(s,a,u,d){const h=ke(),g=en(),y=pi(2);g.firstUpdatePass&&NE(g,s,y,d),a!==Wt&&Rt(h,y,a)&&FE(g,g.data[hn()],h,h[11],s,h[y+1]=function UE(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ve(ha(s)))),s}(a,u),d,y)}function kE(s,a){return a>=s.expandoStartIndex}function NE(s,a,u,d){const h=s.data;if(null===h[u+1]){const g=h[hn()],y=kE(s,u);Ex(g,d)&&null===a&&!y&&(a=!1),a=function ov(s,a,u,d){const h=tl(s);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=np(u=fm(null,s,a,u,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(u=fm(h,s,a,u,d),null===g){let b=function PE(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==ns(d))return s[Is(d)]}(s,a,d);void 0!==b&&Array.isArray(b)&&(b=fm(null,s,a,b[1],d),b=np(b,a.attrs,d),function OE(s,a,u,d){s[Is(u?a.classBindings:a.styleBindings)]=d}(s,a,d,b))}else g=function RE(s,a,u){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=np(d,s[g].hostAttrs,u);return np(d,a.attrs,u)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,d),function yx(s,a,u,d,h,g){let y=g?a.classBindings:a.styleBindings,w=Is(y),b=ns(y);s[d]=u;let k,A=!1;if(Array.isArray(u)){const Z=u;k=Z[1],(null===k||ws(Z,k)>0)&&(A=!0)}else k=u;if(h)if(0!==b){const W=Is(s[w+1]);s[d+1]=jg(W,w),0!==W&&(s[W+1]=Uf(s[W+1],d)),s[w+1]=function Ty(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=jg(w,0),0!==w&&(s[w+1]=Uf(s[w+1],d)),w=d;else s[d+1]=jg(b,0),0===w?w=d:s[b+1]=Uf(s[b+1],d),b=d;A&&(s[d+1]=xy(s[d+1])),bE(s,k,d,!0),bE(s,k,d,!1),function vx(s,a,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&ws(g,a)>=0&&(u[d+1]=Iy(u[d+1]))}(a,k,s,d,g),y=jg(w,b),g?a.classBindings=y:a.styleBindings=y}(h,g,a,u,y,d)}}function fm(s,a,u,d,h){let g=null;const y=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<y&&(g=a[w],d=np(d,g.hostAttrs,h),g!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function np(s,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mi(s,y,!!u||a[++g]))}return void 0===s?null:s}function FE(s,a,u,d,h,g,y,w){if(!(3&a.type))return;const b=s.data,A=b[w+1];Ch(function Vf(s){return 1==(1&s)}(A)?LE(b,a,u,h,ns(A),y):void 0)||(Ch(g)||function OC(s){return 2==(2&s)}(A)&&(g=LE(b,null,u,h,w,y)),function i2(s,a,u,d,h){if(a)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Yn.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yn.Important),s.setStyle(u,d,h,g))}}(d,y,ms(hn(),u),h,g))}function LE(s,a,u,d,h,g){const y=null===a;let w;for(;h>0;){const b=s[h],A=Array.isArray(b),k=A?b[1]:b,Z=null===k;let W=u[h+1];W===Wt&&(W=Z?St:void 0);let re=Z?Xc(W,d):k===d?W:void 0;if(A&&!Ch(re)&&(re=Xc(b,d)),Ch(re)&&(w=re,y))return w;const Te=s[h+1];h=y?Is(Te):ns(Te)}if(null!==a){let b=g?a.residualClasses:a.residualStyles;null!=b&&(w=Xc(b,d))}return w}function Ch(s){return void 0!==s}function Ex(s,a){return 0!=(s.flags&(a?16:32))}function wx(s,a=""){const u=ke(),d=en(),h=s+22,g=d.firstCreatePass?Zl(d,h,1,a,null):d.data[h],y=u[h]=function M(s,a){return s.createText(a)}(u[11],a);B_(d,u,y,g),Si(g,!1)}function VE(s){return av("",s,""),VE}function av(s,a,u){const d=ke(),h=function yu(s,a,u,d){return Rt(s,_s(),u)?a+Ce(u)+d:Wt}(d,s,a,u);return h!==Wt&&fc(d,hn(),h),av}function op(s,a,u,d,h){const g=ke(),y=_h(g,s,a,u,d,h);return y!==Wt&&fc(g,hn(),y),op}function uv(s,a,u){const d=ke();if(Rt(d,_s(),a)){const g=en(),y=An();Oo(g,y,d,s,a,function Oi(s,a,u){return(null===s||Ii(s))&&(u=function Hs(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[a.index])),u[11]}(tl(g.data),y,d),u,!0)}return uv}const Kl=void 0;var Ux=["en",[["a","p"],["AM","PM"],Kl],[["AM","PM"],Kl,Kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kl,"{1} 'at' {0}",Kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Lx(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Wl={};function lp(s){const a=function Zx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=dp(a);if(u)return u;const d=a.split("-")[0];if(u=dp(d),u)return u;if("en"===d)return Ux;throw new xe(701,!1)}function _m(s){return lp(s)[Ut.PluralCase]}function dp(s){return s in Wl||(Wl[s]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[s]),Wl[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Jl="en-US";let lv=Jl;function _v(s,a,u,d,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)_v(s[g],a,u,d,h);else{const g=en(),y=ke();let w=Fl(s)?s:Q(s.provide),b=cC(s);const A=Wn(),k=1048575&A.providerIndexes,Z=A.directiveStart,W=A.providerIndexes>>20;if(Fl(s)||!s.multi){const re=new $s(b,h,hc),Te=vv(w,a,h?k:k+W,Z);-1===Te?(Wo(Ws(A,y),g,w),yv(g,s,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(re),y.push(re)):(u[Te]=re,y[Te]=re)}else{const re=vv(w,a,k+W,Z),Te=vv(w,a,k,k+W),He=re>=0&&u[re],Xe=Te>=0&&u[Te];if(h&&!Xe||!h&&!He){Wo(Ws(A,y),g,w);const _t=function G2(s,a,u,d,h){const g=new $s(s,u,hc);return g.multi=[],g.index=a,g.componentProviders=0,ww(g,h,d&&!u),g}(h?bw:dI,u.length,h,d,b);!h&&Xe&&(u[Te].providerFactory=_t),yv(g,s,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(_t),y.push(_t)}else yv(g,s,re>-1?re:Te,ww(u[h?Te:re],b,!h&&d));!h&&d&&Xe&&u[Te].componentProviders++}}}function yv(s,a,u,d){const h=Fl(a),g=function _1(s){return!!s.useClass}(a);if(h||g){const b=(g?Q(a.useClass):a).prototype.ngOnDestroy;if(b){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=A.indexOf(u);-1===k?A.push(u,[d,b]):A[k+1].push(d,b)}else A.push(u,b)}}}function ww(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function vv(s,a,u,d){for(let h=u;h<d;h++)if(a[h]===s)return h;return-1}function dI(s,a,u,d){return Dv(this.multi,[])}function bw(s,a,u,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Jo(u,u[1],this.providerFactory.index,d);g=w.slice(0,y),Dv(h,g);for(let b=y;b<w.length;b++)g.push(w[b])}else g=[],Dv(h,g);return g}function Dv(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function Tw(s,a=[]){return u=>{u.providersResolver=(d,h)=>function Ew(s,a,u){const d=en();if(d.firstCreatePass){const h=Ii(s);_v(u,d.data,d.blueprint,h,!0),_v(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class vc{}class xw{}function hI(s,a){return new Cv(s,a??null)}class Cv extends vc{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vy(this);const d=Je(a);this._bootstrapComponents=pa(d.bootstrap),this._r3Injector=Ug(a,u,[{provide:vc,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Am extends xw{constructor(a){super(),this.moduleType=a}create(a){return new Cv(this.moduleType,a)}}class Ev extends vc{constructor(a,u,d){super(),this.componentFactoryResolver=new Vy(this),this.instance=null;const h=new v1([...a,{provide:vc,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],u||kg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function ln(s,a,u=null){return new Ev(s,a,u).injector}let Yi=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=ny(0,u.type),h=d.length>0?ln([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Me({token:s,providedIn:"environment",factory:()=>new s(cr(Ll))}),s})();function wu(s){s.getStandaloneInjector=a=>a.get(Yi).getOrCreateStandaloneInjector(s)}function ed(s,a,u,d){return function Mw(s,a,u,d,h,g){const y=a+u;return Rt(s,y,h)?Ro(s,y+1,g?d.call(g,h):d(h)):td(s,y+1)}(ke(),hi(),s,a,u,d)}function Ht(s,a,u,d,h){return function kw(s,a,u,d,h,g,y){const w=a+u;return ks(s,w,h,g)?Ro(s,w+2,y?d.call(y,h,g):d(h,g)):td(s,w+2)}(ke(),hi(),s,a,u,d,h)}function Dc(s,a,u,d,h,g){return function Nw(s,a,u,d,h,g,y,w){const b=a+u;return function om(s,a,u,d,h){const g=ks(s,a,u,d);return Rt(s,a+2,h)||g}(s,b,h,g,y)?Ro(s,b+3,w?d.call(w,h,g,y):d(h,g,y)):td(s,b+3)}(ke(),hi(),s,a,u,d,h,g)}function td(s,a){const u=s[a];return u===Wt?void 0:u}function Sv(s){return a=>{setTimeout(s,void 0,a)}}const Da=class Av extends i.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,g=u||(()=>null),y=d;if(a&&"object"==typeof a){const b=a;h=b.next?.bind(b),g=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(g=Sv(g),h&&(h=Sv(h)),y&&(y=Sv(y)));const w=super.subscribe({next:h,error:g,complete:y});return a instanceof B.w0&&a.add(w),w}};function Ow(){return this._results[_u()]()}class Mv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=_u(),d=Mv.prototype;d[u]||(d[u]=Ow)}get changes(){return this._changes||(this._changes=new Da)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=Ir(a);(this._changesDetected=!function Yc(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=a[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pm,s})();const _p=mp,Rw=class extends _p{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tViews,h=qg(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),fh(d,h,a),new Lr(h)}};function Pm(){return yp(Wn(),ke())}function yp(s,a){return 4&s.type?new Rw(a,s,uh(s,a)):null}let Om=(()=>{class s{}return s.__NG_ELEMENT_ID__=bI,s})();function bI(){return Nv(Wn(),ke())}const TI=Om,Fw=class extends TI{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const a=$a(this._hostTNode,this._hostLView);if(al(a)){const u=lo(a,this._hostLView),d=Ha(a);return new Qs(u[1].data[d+8],u)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=kv(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=a.createEmbeddedView(u||{},g);return this.insert(y,h),y}createComponent(a,u,d,h,g){const y=a&&!function ki(s){return"function"==typeof s}(a);let w;if(y)w=u;else{const Z=u||{};w=Z.index,d=Z.injector,h=Z.projectableNodes,g=Z.environmentInjector||Z.ngModuleRef}const b=y?a:new Jf(O(a)),A=d||this.parentInjector;if(!g&&null==b.ngModule){const W=(y?A:this.parentInjector).get(Ll,null);W&&(g=W)}const k=b.create(A,h,void 0,g);return this.insert(k.hostView,w),k}insert(a,u){const d=a._lView,h=d[1];if(function Oa(s){return Gr(s[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const Z=d[3],W=new Fw(Z,Z[6],Z[3]);W.detach(W.indexOf(a))}}const g=this._adjustIndex(u),y=this._lContainer;!function Ki(s,a,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=a),d<g-10?(a[4]=u[h],fl(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const y=a[17];null!==y&&u!==y&&function da(s,a){const u=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(h,d,y,g);const w=G_(g,y),b=d[11],A=lu(b,y[7]);return null!==A&&function nt(s,a,u,d,h,g){d[0]=h,d[6]=a,Ni(s,d,u,1,h,g)}(h,y[6],b,d,A,w),a.attachToViewContainerRef(),fl(vp(y),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=kv(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=bf(this._lContainer,u);d&&(Qa(vp(this._lContainer),u),uu(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=bf(this._lContainer,u);return d&&null!=Qa(vp(this._lContainer),u)?new Lr(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function kv(s){return s[8]}function vp(s){return s[8]||(s[8]=[])}function Nv(s,a){let u;const d=a[s.index];if(Gr(d))u=d;else{let h;if(8&s.type)h=xn(d);else{const g=a[11];h=g.createComment("");const y=di(s,a);xs(g,lu(g,y),h,function r2(s,a){return s.nextSibling(a)}(g,y),!1)}a[s.index]=u=tE(d,a,h,s),zf(a,u)}return new Fw(u,s,a)}class Ov{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const y=u.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Dp(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Gv(a,u).matches&&this.queries[u].setDirty()}}class Fm{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Rv{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Rv(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Cp{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Cp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,u,Fv(u,g)),this.matchTNodeWithReadOption(a,u,Ys(u,a,g,!1,!1))}else d===mp?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Ys(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Nf||h===Om||h===mp&&4&u.type)this.addMatch(u.index,-2);else{const g=Ys(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Fv(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function Uv(s,a,u,d){return-1===u?function Lv(s,a){return 11&s.type?uh(s,a):4&s.type?yp(s,a):null}(a,s):-2===u?function xI(s,a,u){return u===Nf?uh(a,s):u===mp?yp(a,s):u===Om?Nv(a,s):void 0}(s,a,d):Jo(s,s[1],u,a)}function Uw(s,a,u,d){const h=a[19].queries[d];if(null===h.matches){const g=s.data,y=u.matches,w=[];for(let b=0;b<y.length;b+=2){const A=y[b];w.push(A<0?null:Uv(a,g[A],y[b+1],u.metadata.read))}h.matches=w}return h.matches}function Vv(s,a,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const y=Uw(s,a,h,u);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)d.push(y[w/2]);else{const A=g[w+1],k=a[-b];for(let Z=10;Z<k.length;Z++){const W=k[Z];W[17]===W[3]&&Vv(W[1],W,A,d)}if(null!==k[9]){const Z=k[9];for(let W=0;W<Z.length;W++){const re=Z[W];Vv(re[1],re,A,d)}}}}}return d}function Ep(s){const a=ke(),u=en(),d=qs();ti(d+1);const h=Gv(u,d);if(s.dirty&&function Ju(s){return 4==(4&s[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Vv(u,a,d,[]):Uw(u,a,h,d);s.reset(g,M1),s.notifyOnChanges()}return!0}return!1}function jv(s,a,u,d){const h=en();if(h.firstCreatePass){const g=Wn();(function Hv(s,a,u){null===s.queries&&(s.queries=new Rv),s.queries.track(new Cp(a,u))})(h,new Fm(a,u,d),g.index),function II(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function Um(s,a,u){const d=new Mv(4==(4&u));Bf(s,a,d,d.destroy),null===a[19]&&(a[19]=new Dp),a[19].queries.push(new Ov(d))}(h,ke(),u)}function Lm(){return function Bv(s,a){return s[19].queries[a].queryList}(ke(),qs())}function Gv(s,a){return s.queries.getByIndex(a)}function jm(...s){}const Kw=new yn("Application Initializer");let Bm=(()=>{class s{constructor(u){this.appInits=u,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(am(g))u.push(g);else if($l(g)){const y=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(cr(Kw,8))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ww=new yn("AppId",{providedIn:"root",factory:function Jw(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yw=new yn("Platform Initializer"),eA=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qw=new yn("appBootstrapListener"),tA=new yn("AnimationModuleType");let nA=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Xv=new yn("LocaleId",{providedIn:"root",factory:()=>yl(Xv,ut.Optional|ut.SkipSelf)||function sN(){return typeof $localize<"u"&&$localize.locale||Jl}()}),rA=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Xw{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let oA=(()=>{class s{compileModuleSync(u){return new Am(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=pa(Je(u).declarations).reduce((y,w)=>{const b=O(w);return b&&y.push(new Jf(b)),y},[]);return new Xw(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cA=(()=>Promise.resolve(0))();function t0(s){typeof Zone>"u"?cA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function uN(){let s=nn.requestAnimationFrame,a=nn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Hm(s){const a=()=>{!function uA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,n0(s),s.isCheckStableRunning=!0,nb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),n0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,y,w)=>{try{return rb(s),u.invokeTask(h,g,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),lA(s)}},onInvoke:(u,d,h,g,y,w,b)=>{try{return rb(s),u.invoke(h,g,y,w,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),lA(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,n0(s),nb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new xe(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,lN,jm,jm);try{return g.runTask(y,u,d)}finally{g.cancelTask(y)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const lN={};function nb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function n0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function lA(s){s._nesting--,nb(s)}class ib{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const Gm=new yn(""),r0=new yn("");let o0,dN=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o0||(function dA(s){o0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),t0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())t0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(cr(Fs),cr(qm),cr(r0))},s.\u0275prov=Me({token:s,factory:s.\u0275fac}),s})(),qm=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return o0?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),nd=null;const hA=new yn("AllowMultipleToken"),s0=new yn("PlatformDestroyListeners");class pN{constructor(a,u){this.name=a,this.token=u}}function pA(s,a,u=[]){const d=`Platform: ${a}`,h=new yn(d);return(g=[])=>{let y=ob();if(!y||y.injector.get(hA,!1)){const w=[...u,...g,{provide:h,useValue:!0}];s?s(w):function gN(s){if(nd&&!nd.get(hA,!1))throw new xe(400,!1);nd=s;const a=s.get(mA);(function fA(s){const a=s.get(Yw,null);a&&a.forEach(u=>u())})(s)}(function gA(s=[],a){return Vl.create({name:a,providers:[{provide:ry,useValue:"platform"},{provide:s0,useValue:new Set([()=>nd=null])},...s]})}(w,d))}return function _N(s){const a=ob();if(!a)throw new xe(401,!1);return a}()}}function ob(){return nd?.get(mA)??null}let mA=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function yA(s,a){let u;return u="noop"===s?new ib:("zone.js"===s?void 0:s)||new Fs(a),u}(d?.ngZone,function _A(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Fs,useValue:h}];return h.run(()=>{const y=Vl.create({providers:g,parent:this.injector,name:u.moduleType.name}),w=u.create(y),b=w.injector.get(Di,null);if(!b)throw new xe(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{b.handleError(k)}});w.onDestroy(()=>{c0(this._modules,w),A.unsubscribe()})}),function vA(s,a,u){try{const d=u();return am(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(b,h,()=>{const A=w.injector.get(Bm);return A.runInitializers(),A.donePromise.then(()=>(function YE(s){ae(s,"Expected localeId to be defined"),"string"==typeof s&&(lv=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Xv,Jl)||Jl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,d=[]){const h=DA({},d);return function hN(s,a,u){const d=new Am(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(a0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new xe(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(s0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(cr(Vl))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function DA(s,a){return Array.isArray(a)?a.reduce(DA,s):{...s,...a}}let a0=(()=>{class s{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new R.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),t0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(g,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof uC;if(!this._injector.get(Bm).done)throw!h&&Ee(u),new xe(405,false);let y;y=h?u:this._injector.get(kf).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const w=function fN(s){return s.isBoundToModule}(y)?void 0:this._injector.get(vc),A=y.create(Vl.NULL,[],d||y.selector,w),k=A.location.nativeElement,Z=A.injector.get(Gm,null);return Z?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),c0(this.components,A),Z?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;c0(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Qw,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>c0(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(cr(Fs),cr(Ll),cr(Di))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function c0(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let EA=!0,wA=!1;function vN(){return wA=!0,EA}function DN(){if(wA)throw new Error("Cannot enable prod mode after platform setup.");EA=!1}let CN=(()=>{class s{}return s.__NG_ELEMENT_ID__=EN,s})();function EN(s){return function wN(s,a,u){if(bo(s)&&!u){const d=kr(s.index,a);return new Lr(d,d)}return 47&s.type?new Lr(a[16],a):null}(Wn(),ke(),16==(16&s))}class d0{constructor(){}supports(a){return Yf(a)}create(a){return new IA(a)}}const lb=(s,a)=>a;class IA{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||lb}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const y=!d||u&&u.currentIndex<Ln(d,h,g)?u:d,w=Ln(y,h,g),b=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{g||(g=[]);const A=w-h,k=b-h;if(A!=k){for(let W=0;W<A;W++){const re=W<g.length?g[W]:g[W]=0,Te=re+W;k<=Te&&Te<A&&(g[W]=re+1)}g[y.previousIndex]=k-A}}w!==b&&a(y,w,b)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Yf(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],y=this._trackByFn(w,g),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,g,y,w)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,w),d=!0),u=u._next}else h=0,function fx(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[_u()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,w,y,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new AA(u,d),g,h),a}_verifyReinsertion(a,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new nr),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nr),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class AA{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class nr{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new SA,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ln(s,a,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class $m{constructor(){}supports(a){return a instanceof Map||im(a)}create(){return new h0}}class h0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||im(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new MA(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class MA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new f0([new d0])}let f0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||db()),deps:[[s,new ta,new So]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:db}),s})();function hb(){return new zm([new $m])}let zm=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||hb()),deps:[[s,new ta,new So]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:hb}),s})();const pb=pA(null,"core",[]);let NA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(cr(a0))},s.\u0275mod=vr({type:s}),s.\u0275inj=xt({}),s})();function PA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Et,Oe,V)=>{V.d(Oe,{Z:()=>xe});var i=V(2090),B=V(4859),R=V(6881),oe=V(1877);class de{constructor(Ce,ye){this._delegate=Ce,this.firebase=ye,(0,R._addComponent)(Ce,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ce,ye=R._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ce);return!pt.isInitialized()&&"EXPLICIT"===(null===(yt=pt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:ye})}_removeServiceInstance(Ce,ye=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ye)}_addComponent(Ce){(0,R._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,R._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function De(){const it=function ve(it){const Ce={},ye={__esModule:!0,initializeApp:function Ae(ze,le={}){const Ye=R.initializeApp(ze,le);if((0,i.r3)(Ce,Ye.name))return Ce[Ye.name];const At=new it(Ye,ye);return Ce[Ye.name]=At,At},app:pt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Se(ze){const le=ze.name,Ye=le.replace("-compat","");if(R._registerComponent(ze)&&"PUBLIC"===ze.type){const At=(gt=pt())=>{if("function"!=typeof gt[Ye])throw pe.create("invalid-app-argument",{appName:le});return gt[Ye]()};void 0!==ze.serviceProps&&(0,i.ZB)(At,ze.serviceProps),ye[Ye]=At,it.prototype[Ye]=function(...gt){return this._getService.bind(this,le).apply(this,ze.multipleInstances?gt:[])}}return"PUBLIC"===ze.type?ye[Ye]:null},removeApp:function yt(ze){delete Ce[ze]},useAsService:function $e(ze,le){return"serverAuth"===le?null:le},modularAPIs:R}};function pt(ze){if(!(0,i.r3)(Ce,ze=ze||R._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ze});return Ce[ze]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function be(){return Object.keys(Ce).map(ze=>Ce[ze])}}),pt.App=it,ye}(de);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Ce(ye){(0,i.ZB)(it,ye)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),it}(),$=new oe.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=z;!function Pe(it){(0,R.registerVersion)("@firebase/app-compat","0.2.13",it)}()},6881:(Et,Oe,V)=>{V.r(Oe),V.d(Oe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ao,_DEFAULT_ENTRY_NAME:()=>Yr,_addComponent:()=>dt,_addOrOverwriteComponent:()=>bt,_apps:()=>Mn,_clearComponents:()=>ir,_components:()=>$t,_getProvider:()=>Qr,_registerComponent:()=>nn,_removeServiceInstance:()=>yr,deleteApp:()=>er,getApp:()=>jn,getApps:()=>wn,initializeApp:()=>sn,onLog:()=>tr,registerVersion:()=>Xr,setLogLevel:()=>xi});var i=V(5861),B=V(4859),R=V(1877),oe=V(2090);let _e,pe;const z=new WeakMap,$=new WeakMap,Q=new WeakMap,Ge=new WeakMap,Pe=new WeakMap;let Ce={get(ce,ie,Le){if(ce instanceof IDBTransaction){if("done"===ie)return $.get(ce);if("objectStoreNames"===ie)return ce.objectStoreNames||Q.get(ce);if("store"===ie)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Ae(ce[ie])},set:(ce,ie,Le)=>(ce[ie]=Le,!0),has:(ce,ie)=>ce instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in ce};function pt(ce){return"function"==typeof ce?function yt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ie){return ce.apply(be(this),ie),Ae(z.get(this))}:function(...ie){return Ae(ce.apply(be(this),ie))}:function(ie,...Le){const Ue=ce.call(be(this),ie,...Le);return Q.set(Ue,ie.sort?ie.sort():[ie]),Ae(Ue)}}(ce):(ce instanceof IDBTransaction&&function it(ce){if($.has(ce))return;const ie=new Promise((Le,Ue)=>{const Mt=()=>{ce.removeEventListener("complete",Bt),ce.removeEventListener("error",gn),ce.removeEventListener("abort",gn)},Bt=()=>{Le(),Mt()},gn=()=>{Ue(ce.error||new DOMException("AbortError","AbortError")),Mt()};ce.addEventListener("complete",Bt),ce.addEventListener("error",gn),ce.addEventListener("abort",gn)});$.set(ce,ie)}(ce),((ce,ie)=>ie.some(Le=>ce instanceof Le))(ce,function ve(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ce):ce)}function Ae(ce){if(ce instanceof IDBRequest)return function xe(ce){const ie=new Promise((Le,Ue)=>{const Mt=()=>{ce.removeEventListener("success",Bt),ce.removeEventListener("error",gn)},Bt=()=>{Le(Ae(ce.result)),Mt()},gn=()=>{Ue(ce.error),Mt()};ce.addEventListener("success",Bt),ce.addEventListener("error",gn)});return ie.then(Le=>{Le instanceof IDBCursor&&z.set(Le,ce)}).catch(()=>{}),Pe.set(ie,ce),ie}(ce);if(Ge.has(ce))return Ge.get(ce);const ie=pt(ce);return ie!==ce&&(Ge.set(ce,ie),Pe.set(ie,ce)),ie}const be=ce=>Pe.get(ce),ze=["get","getKey","getAll","getAllKeys","count"],le=["put","add","delete","clear"],Ye=new Map;function At(ce,ie){if(!(ce instanceof IDBDatabase)||ie in ce||"string"!=typeof ie)return;if(Ye.get(ie))return Ye.get(ie);const Le=ie.replace(/FromIndex$/,""),Ue=ie!==Le,Mt=le.includes(Le);if(!(Le in(Ue?IDBIndex:IDBObjectStore).prototype)||!Mt&&!ze.includes(Le))return;const Bt=function(){var gn=(0,i.Z)(function*(Bn,...Xt){const Hr=this.transaction(Bn,Mt?"readwrite":"readonly");let Hi=Hr.store;return Ue&&(Hi=Hi.index(Xt.shift())),(yield Promise.all([Hi[Le](...Xt),Mt&&Hr.done]))[0]});return function(Xt){return gn.apply(this,arguments)}}();return Ye.set(ie,Bt),Bt}!function ye(ce){Ce=ce(Ce)}(ce=>({...ce,get:(ie,Le,Ue)=>At(ie,Le)||ce.get(ie,Le,Ue),has:(ie,Le)=>!!At(ie,Le)||ce.has(ie,Le)}));class gt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function qt(ce){return"VERSION"===ce.getComponent()?.type}(Le)){const Ue=Le.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Le=>Le).join(" ")}}const lt="@firebase/app",gr=new R.Yd("@firebase/app"),Yr="[DEFAULT]",On={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,$t=new Map;function dt(ce,ie){try{ce.container.addComponent(ie)}catch(Le){gr.debug(`Component ${ie.name} failed to register with FirebaseApp ${ce.name}`,Le)}}function bt(ce,ie){ce.container.addOrOverwriteComponent(ie)}function nn(ce){const ie=ce.name;if($t.has(ie))return gr.debug(`There were multiple attempts to register component ${ie}.`),!1;$t.set(ie,ce);for(const Le of Mn.values())dt(Le,ce);return!0}function Qr(ce,ie){const Le=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ce.container.getProvider(ie)}function yr(ce,ie,Le=Yr){Qr(ce,ie).clearInstance(Le)}function ir(){$t.clear()}const zn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zt{constructor(ie,Le,Ue){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const ao="9.23.0";function sn(ce,ie={}){let Le=ce;"object"!=typeof ie&&(ie={name:ie});const Ue=Object.assign({name:Yr,automaticDataCollectionEnabled:!1},ie),Mt=Ue.name;if("string"!=typeof Mt||!Mt)throw zn.create("bad-app-name",{appName:String(Mt)});if(Le||(Le=(0,oe.aH)()),!Le)throw zn.create("no-options");const Bt=Mn.get(Mt);if(Bt){if((0,oe.vZ)(Le,Bt.options)&&(0,oe.vZ)(Ue,Bt.config))return Bt;throw zn.create("duplicate-app",{appName:Mt})}const gn=new B.H0(Mt);for(const Xt of $t.values())gn.addComponent(Xt);const Bn=new zt(Le,Ue,gn);return Mn.set(Mt,Bn),Bn}function jn(ce=Yr){const ie=Mn.get(ce);if(!ie&&ce===Yr&&(0,oe.aH)())return sn();if(!ie)throw zn.create("no-app",{appName:ce});return ie}function wn(){return Array.from(Mn.values())}function er(ce){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,i.Z)(function*(ce){const ie=ce.name;Mn.has(ie)&&(Mn.delete(ie),yield Promise.all(ce.container.getProviders().map(Le=>Le.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function Xr(ce,ie,Le){var Ue;let Mt=null!==(Ue=On[ce])&&void 0!==Ue?Ue:ce;Le&&(Mt+=`-${Le}`);const Bt=Mt.match(/\s|\//),gn=ie.match(/\s|\//);if(Bt||gn){const Bn=[`Unable to register library "${Mt}" with version "${ie}":`];return Bt&&Bn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Bt&&gn&&Bn.push("and"),gn&&Bn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void gr.warn(Bn.join(" "))}nn(new B.wA(`${Mt}-version`,()=>({library:Mt,version:ie}),"VERSION"))}function tr(ce,ie){if(null!==ce&&"function"!=typeof ce)throw zn.create("invalid-log-argument");(0,R.Am)(ce,ie)}function xi(ce){(0,R.Ub)(ce)}const G="firebase-heartbeat-store";let H=null;function L(){return H||(H=function Se(ce,ie,{blocked:Le,upgrade:Ue,blocking:Mt,terminated:Bt}={}){const gn=indexedDB.open(ce,ie),Bn=Ae(gn);return Ue&&gn.addEventListener("upgradeneeded",Xt=>{Ue(Ae(gn.result),Xt.oldVersion,Xt.newVersion,Ae(gn.transaction),Xt)}),Le&&gn.addEventListener("blocked",Xt=>Le(Xt.oldVersion,Xt.newVersion,Xt)),Bn.then(Xt=>{Bt&&Xt.addEventListener("close",()=>Bt()),Mt&&Xt.addEventListener("versionchange",Hr=>Mt(Hr.oldVersion,Hr.newVersion,Hr))}).catch(()=>{}),Bn}("firebase-heartbeat-database",1,{upgrade:(ce,ie)=>{0===ie&&ce.createObjectStore(G)}}).catch(ce=>{throw zn.create("idb-open",{originalErrorMessage:ce.message})})),H}function N(){return(N=(0,i.Z)(function*(ce){try{return yield(yield L()).transaction(G).objectStore(G).get(Je(ce))}catch(ie){if(ie instanceof oe.ZR)gr.warn(ie.message);else{const Le=zn.create("idb-get",{originalErrorMessage:ie?.message});gr.warn(Le.message)}}})).apply(this,arguments)}function J(ce,ie){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,i.Z)(function*(ce,ie){try{const Ue=(yield L()).transaction(G,"readwrite");yield Ue.objectStore(G).put(ie,Je(ce)),yield Ue.done}catch(Le){if(Le instanceof oe.ZR)gr.warn(Le.message);else{const Ue=zn.create("idb-set",{originalErrorMessage:Le?.message});gr.warn(Ue.message)}}})).apply(this,arguments)}function Je(ce){return`${ce.name}!${ce.options.appId}`}class tt{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ft(Le),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var ie=this;return(0,i.Z)(function*(){const Ue=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=at();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ie._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Mt))return ie._heartbeatsCache.heartbeats.push({date:Mt,agent:Ue}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Bt=>{const gn=new Date(Bt.date).valueOf();return Date.now()-gn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,i.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Le=at(),{heartbeatsToSend:Ue,unsentEntries:Mt}=function Qt(ce,ie=1024){const Le=[];let Ue=ce.slice();for(const Mt of ce){const Bt=Le.find(gn=>gn.agent===Mt.agent);if(Bt){if(Bt.dates.push(Mt.date),an(Le)>ie){Bt.dates.pop();break}}else if(Le.push({agent:Mt.agent,dates:[Mt.date]}),an(Le)>ie){Le.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ue}}(ie._heartbeatsCache.heartbeats),Bt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ue}));return ie._heartbeatsCache.lastSentHeartbeatDate=Le,Mt.length>0?(ie._heartbeatsCache.heartbeats=Mt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Bt})()}}function at(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,i.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function O(ce){return N.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const Bt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Bt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const Bt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...ie.heartbeats]})}})()}}function an(ce){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Br(ce){nn(new B.wA("platform-logger",ie=>new gt(ie),"PRIVATE")),nn(new B.wA("heartbeat",ie=>new tt(ie),"PRIVATE")),Xr(lt,"0.9.13",ce),Xr(lt,"0.9.13","esm2017"),Xr("fire-js","")}("")},4859:(Et,Oe,V)=>{V.d(Oe,{H0:()=>ve,wA:()=>R});var i=V(5861),B=V(2090);class R{constructor(z,$,Q){this.name=z,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class de{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const Q=new B.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&Q.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const Q=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Pe){if(Ge)return null;throw Pe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function pe(De){return"EAGER"===De.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const Pe=this.getOrInitializeService({instanceIdentifier:Ge});Q.resolve(Pe)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,i.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Pe,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Pe)&&xe.resolve(Ge);return Ge}onInit(z,$){var Q;const Ge=this.normalizeInstanceIdentifier($),Pe=null!==(Q=this.onInitCallbacks.get(Ge))&&void 0!==Q?Q:new Set;Pe.add(z),this.onInitCallbacks.set(Ge,Pe);const xe=this.instances.get(Ge);return xe&&z(xe,Ge),()=>{Pe.delete(z)}}invokeOnInitCallbacks(z,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ge of Q)try{Ge(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(De=z,De===oe?void 0:De),options:$}),this.instances.set(z,Q),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var De;return Q||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new de(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Oe,V)=>{V.d(Oe,{Am:()=>De,Ub:()=>ve,Yd:()=>pe,in:()=>B});const i=[];var B=(()=>{return(z=B||(B={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",B;var z})();const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},oe=B.INFO,de={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},_e=(z,$,...Q)=>{if($<z.logLevel)return;const Ge=(new Date).toISOString(),Pe=de[$];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Pe](`[${Ge}]  ${z.name}:`,...Q)};class pe{constructor($){this.name=$,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?R[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function ve(z){i.forEach($=>{$.setLogLevel(z)})}function De(z,$){for(const Q of i){let Ge=null;$&&$.level&&(Ge=R[$.level]),Q.userLogHandler=null===z?null:(Pe,xe,...it)=>{const Ce=it.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");xe>=(Ge??Pe.logLevel)&&z({level:B[xe].toLowerCase(),message:Ce,args:it,type:Pe.name})}}}},259:(Et,Oe,V)=>{V.d(Oe,{C6:()=>i.getApps,KN:()=>i.registerVersion,Mq:()=>i.getApp,ZF:()=>i.initializeApp});var i=V(6881);(0,i.registerVersion)("firebase","9.23.0","app")},9260:(Et,Oe,V)=>{V.d(Oe,{Z:()=>i.Z});var i=V(3942);i.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Et,Oe,V)=>{V.r(Oe);var i=V(5861),B=V(3942),R=V(1389),oe=V(2090),pe=(V(6881),V(1877),V(4859));function ve(){return window}function $(){return($=(0,i.Z)(function*(L,O,N){var J;const{BuildInfo:Ee}=ve();(0,R.as)(O.sessionId,"AuthEvent did not contain a session ID");const Je=yield ye(O.sessionId),mt={};return(0,R.at)()?mt.ibi=Ee.packageName:(0,R.au)()?mt.apn=Ee.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),Ee.displayName&&(mt.appDisplayName=Ee.displayName),mt.sessionId=Je,(0,R.aw)(L,N,O.type,void 0,null!==(J=O.eventId)&&void 0!==J?J:void 0,mt)})).apply(this,arguments)}function Ge(){return(Ge=(0,i.Z)(function*(L){const{BuildInfo:O}=ve(),N={};(0,R.at)()?N.iosBundleId=O.packageName:(0,R.au)()?N.androidPackageName=O.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),yield(0,R.ax)(L,N)})).apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(L,O,N){const{cordova:J}=ve();let Ee=()=>{};try{yield new Promise((Je,mt)=>{let we=null;function tt(){var Ft;Je();const an=null===(Ft=J.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof an&&an(),"function"==typeof N?.close&&N.close()}function at(){we||(we=window.setTimeout(()=>{mt((0,R.az)(L,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&at()}O.addPassiveListener(tt),document.addEventListener("resume",at,!1),(0,R.au)()&&document.addEventListener("visibilitychange",Qt,!1),Ee=()=>{O.removePassiveListener(tt),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Qt,!1),we&&window.clearTimeout(we)}})}finally{Ee()}})).apply(this,arguments)}function ye(L){return yt.apply(this,arguments)}function yt(){return(yt=(0,i.Z)(function*(L){const O=pt(L),N=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(N)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(L){if((0,R.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const O=new ArrayBuffer(L.length),N=new Uint8Array(O);for(let J=0;J<L.length;J++)N[J]=L.charCodeAt(J);return N}class be extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(O)),super.onEvent(O)}initialized(){var O=this;return(0,i.Z)(function*(){yield O.initPromise})()}}function ze(L){return le.apply(this,arguments)}function le(){return(le=(0,i.Z)(function*(L){const O=yield gt()._get(qt(L));return O&&(yield gt()._remove(qt(L))),O})).apply(this,arguments)}function At(){const L=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const J=Math.floor(Math.random()*O.length);L.push(O.charAt(J))}return L.join("")}function gt(){return(0,R.aC)(R.b)}function qt(L){return(0,R.aD)("authEvent",L.config.apiKey,L.name)}function gr(L){if(!L?.includes("?"))return{};const[O,...N]=L.split("?");return(0,oe.zd)(N.join("?"))}function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function ct(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function tn(L=(0,oe.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const L=self.localStorage,O=R.aL();if(L)return L.setItem(O,"1"),L.removeItem(O),!function pn(L=(0,oe.z$)()){return function on(){return(0,oe.w1)()&&11===document?.documentMode}()||function Nn(L=(0,oe.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,oe.hl)()}catch{return Sn()&&(0,oe.hl)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function xt(){return"http:"===ct()||"https:"===ct()}()||(0,oe.ru)()||tn())&&!function kt(){return(0,oe.b$)()||(0,oe.UG)()}()&&Qn()&&!Sn()}function mr(){return tn()&&typeof document<"u"}function ut(){return(ut=(0,i.Z)(function*(){return!!mr()&&new Promise(L=>{const O=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),L(!0)})})})).apply(this,arguments)}const Xn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=R.aA,Bi="persistence";function On(L){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,i.Z)(function*(L){yield L._initializationPromise;const O=dt(),N=R.aD(Bi,L.config.apiKey,L.name);O&&O.setItem(N,L._getPersistence())})).apply(this,arguments)}function dt(){var L;try{return(null===(L=function _r(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const bt=R.aA;class nn{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(class so{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){const J=O._key();let Ee=N.eventManagers.get(J);return Ee||(Ee=new be(O),N.eventManagers.set(J,Ee),N.attachCallbackListeners(O,Ee)),Ee})()}_openPopup(O){(0,R.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){!function Ce(L){var O,N,J,Ee,Je,mt,we,tt,at,Qt;const Ft=ve();(0,R.aA)("function"==typeof(null===(O=Ft?.universalLinks)||void 0===O?void 0:O.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(N=Ft?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(Je=null===(Ee=null===(J=Ft?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Je?void 0:Je.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(tt=null===(we=null===(mt=Ft?.cordova)||void 0===mt?void 0:mt.plugins)||void 0===we?void 0:we.browsertab)||void 0===tt?void 0:tt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(Qt=null===(at=Ft?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Qt?void 0:Qt.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const mt=yield Je._initialize(O);yield mt.initialized(),mt.resetRedirect(),(0,R.aG)(),yield Je._originValidation(O);const we=function Se(L,O,N=null){return{type:O,eventId:N,urlResponse:null,sessionId:At(),postBody:null,tenantId:L.tenantId,error:(0,R.az)(L,"no-auth-event")}}(O,J,Ee);yield function $e(L,O){return gt()._set(qt(L),O)}(O,we);const tt=yield function z(L,O,N){return $.apply(this,arguments)}(O,we,N),at=yield function Pe(L){const{cordova:O}=ve();return new Promise(N=>{O.plugins.browsertab.isAvailable(J=>{let Ee=null;J?O.plugins.browsertab.openUrl(L):Ee=O.InAppBrowser.open(L,(0,R.ay)()?"_blank":"_system","location=yes"),N(Ee)})})}(tt);return function xe(L,O,N){return it.apply(this,arguments)}(O,mt,at)})()}_isIframeWebStorageSupported(O,N){throw new Error("Method not implemented.")}_originValidation(O){const N=O._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Q(L){return Ge.apply(this,arguments)}(O)),this.originValidationPromises[N]}attachCallbackListeners(O,N){const{universalLinks:J,handleOpenURL:Ee,BuildInfo:Je}=ve(),mt=setTimeout((0,i.Z)(function*(){yield ze(O),N.onEvent(ne())}),500),we=function(){var Qt=(0,i.Z)(function*(Ft){clearTimeout(mt);const an=yield ze(O);let Br=null;an&&Ft?.url&&(Br=function Ye(L,O){var N,J;const Ee=function oo(L){const O=gr(L),N=O.link?decodeURIComponent(O.link):void 0,J=gr(N).link,Ee=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return gr(Ee).link||Ee||J||N||L}(O);if(Ee.includes("/__/auth/callback")){const Je=gr(Ee),mt=Je.firebaseError?function lt(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,we=null===(J=null===(N=mt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===J?void 0:J[1],tt=we?(0,R.az)(we):null;return tt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ee,postBody:null}}return null}(an,Ft.url)),N.onEvent(Br||ne())});return function(an){return Qt.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,we);const tt=Ee,at=`${Je.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Qt=(0,i.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(at)&&we({url:Ft}),"function"==typeof tt)try{tt(Ft)}catch(an){console.error(an)}});return function(Ft){return Qt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(O,N,J,Ee)})()}_openRedirect(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(O,N,J,Ee)})()}_isIframeWebStorageSupported(O,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,N)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,i.Z)(function*(){if(O.underlyingResolver)return;const N=yield function Ti(){return ut.apply(this,arguments)}();O.underlyingResolver=N?O.cordovaResolver:O.browserResolver})()}}function Qr(L){return L.unwrap()}function ir(L){return zn(L)}function zn(L){const{_tokenResponse:O}=L instanceof oe.ZR?L.customData:L;if(!O)return null;if(!(L instanceof oe.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return R.P.credentialFromResult(L);const N=O.providerId;if(!N||N===R.p.PASSWORD)return null;let J;switch(N){case R.p.GOOGLE:J=R.V;break;case R.p.FACEBOOK:J=R.U;break;case R.p.GITHUB:J=R.W;break;case R.p.TWITTER:J=R.Z;break;default:const{oauthIdToken:Ee,oauthAccessToken:Je,oauthTokenSecret:mt,pendingToken:we,nonce:tt}=O;return Je||mt||Ee||we?we?N.startsWith("saml.")?R.aO._create(N,we):R.L._fromParams({providerId:N,signInMethod:N,pendingToken:we,idToken:Ee,accessToken:Je}):new R.X(N).credential({idToken:Ee,accessToken:Je,rawNonce:tt}):null}return L instanceof oe.ZR?J.credentialFromError(L):J.credentialFromResult(L)}function zt(L,O){return O.catch(N=>{throw N instanceof oe.ZR&&function St(L,O){var N;const J=null===(N=O.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new jn(L,R.aq(L,O));else if(J){const Ee=zn(O),Je=O;Ee&&(Je.credential=Ee,Je.tenantId=J.tenantId||void 0,Je.email=J.email||void 0,Je.phoneNumber=J.phoneNumber||void 0)}}(L,N),N}).then(N=>{const Ee=N.user;return{operationType:N.operationType,credential:ir(N),additionalUserInfo:R.ao(N),user:wn.getOrCreate(Ee)}})}function ao(L,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(L,O){const N=yield O;return{verificationId:N.verificationId,confirm:J=>zt(L,N.confirm(J))}})).apply(this,arguments)}class jn{constructor(O,N){this.resolver=N,this.auth=function yr(L){return L.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return zt(Qr(this.auth),this.resolver.resolveSignIn(O))}}class wn{constructor(O){this._delegate=O,this.multiFactor=R.ar(O)}static getOrCreate(O){return wn.USER_MAP.has(O)||wn.USER_MAP.set(O,new wn(O)),wn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a0(N._delegate,O))})()}linkWithPhoneNumber(O,N){var J=this;return(0,i.Z)(function*(){return ao(J.auth,R.l(J._delegate,O,N))})()}linkWithPopup(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.d(N._delegate,O,nn))})()}linkWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.g(N._delegate,O,nn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a1(N._delegate,O))})()}reauthenticateWithPhoneNumber(O,N){return ao(this.auth,R.r(this._delegate,O,N))}reauthenticateWithPopup(O){return zt(this.auth,R.e(this._delegate,O,nn))}reauthenticateWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.h(N._delegate,O,nn)})()}sendEmailVerification(O){return R.ae(this._delegate,O)}unlink(O){var N=this;return(0,i.Z)(function*(){return yield R.an(N._delegate,O),N})()}updateEmail(O){return R.aj(this._delegate,O)}updatePassword(O){return R.ak(this._delegate,O)}updatePhoneNumber(O){return R.u(this._delegate,O)}updateProfile(O){return R.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,N){return R.af(this._delegate,O,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wn.USER_MAP=new WeakMap;const er=R.aA;let Pn=(()=>{class L{constructor(N,J){if(this.app=N,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=N.options;er(Ee,"invalid-api-key",{appName:N.name}),er(Ee,"invalid-api-key",{appName:N.name});const Je=typeof window<"u"?nn:void 0;this._delegate=J.initialize({options:{persistence:tr(Ee,N.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,J){R.I(this._delegate,N,J)}applyActionCode(N){return R.a5(this._delegate,N)}checkActionCode(N){return R.a6(this._delegate,N)}confirmPasswordReset(N,J){return R.a4(this._delegate,N,J)}createUserWithEmailAndPassword(N,J){var Ee=this;return(0,i.Z)(function*(){return zt(Ee._delegate,R.a8(Ee._delegate,N,J))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.ad(this._delegate,N)}isSignInWithEmailLink(N){return R.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,i.Z)(function*(){er(Zn(),N._delegate,"operation-not-supported-in-this-environment");const J=yield R.j(N._delegate,nn);return J?zt(N._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ie(L,O){(0,R.aH)(L)._logFramework(O)}(this._delegate,N)}onAuthStateChanged(N,J,Ee){const{next:Je,error:mt,complete:we}=Xr(N,J,Ee);return this._delegate.onAuthStateChanged(Je,mt,we)}onIdTokenChanged(N,J,Ee){const{next:Je,error:mt,complete:we}=Xr(N,J,Ee);return this._delegate.onIdTokenChanged(Je,mt,we)}sendSignInLinkToEmail(N,J){return R.aa(this._delegate,N,J)}sendPasswordResetEmail(N,J){return R.a3(this._delegate,N,J||void 0)}setPersistence(N){var J=this;return(0,i.Z)(function*(){let Ee;switch(function Yr(L,O){$n(Object.values(Xn).includes(O),L,"invalid-persistence-type"),(0,oe.b$)()?$n(O!==Xn.SESSION,L,"unsupported-persistence-type"):(0,oe.UG)()?$n(O===Xn.NONE,L,"unsupported-persistence-type"):Sn()?$n(O===Xn.NONE||O===Xn.LOCAL&&(0,oe.hl)(),L,"unsupported-persistence-type"):$n(O===Xn.NONE||Qn(),L,"unsupported-persistence-type")}(J._delegate,N),N){case Xn.SESSION:Ee=R.a;break;case Xn.LOCAL:Ee=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Xn.NONE:Ee=R.N;break;default:return R.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return zt(this._delegate,R._(this._delegate))}signInWithCredential(N){return zt(this._delegate,R.$(this._delegate,N))}signInWithCustomToken(N){return zt(this._delegate,R.a2(this._delegate,N))}signInWithEmailAndPassword(N,J){return zt(this._delegate,R.a9(this._delegate,N,J))}signInWithEmailLink(N,J){return zt(this._delegate,R.ac(this._delegate,N,J))}signInWithPhoneNumber(N,J){return ao(this._delegate,R.s(this._delegate,N,J))}signInWithPopup(N){var J=this;return(0,i.Z)(function*(){return er(Zn(),J._delegate,"operation-not-supported-in-this-environment"),zt(J._delegate,R.c(J._delegate,N,nn))})()}signInWithRedirect(N){var J=this;return(0,i.Z)(function*(){return er(Zn(),J._delegate,"operation-not-supported-in-this-environment"),yield On(J._delegate),R.f(J._delegate,N,nn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Xn,L})();function Xr(L,O,N){let J=L;"function"!=typeof L&&({next:J,error:O,complete:N}=L);const Ee=J;return{next:mt=>Ee(mt&&wn.getOrCreate(mt)),error:O,complete:N}}function tr(L,O){const N=function $t(L,O){const N=dt();if(!N)return[];const J=R.aD(Bi,L,O);switch(N.getItem(J)){case Xn.NONE:return[R.N];case Xn.LOCAL:return[R.i,R.a];case Xn.SESSION:return[R.a];default:return[]}}(L,O);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const J of[R.b,R.a])N.includes(J)||N.push(J);return N.includes(R.N)||N.push(R.N),N}class xi{constructor(){this.providerId="phone",this._delegate=new R.P(Qr(B.Z.auth()))}static credential(O,N){return R.P.credential(O,N)}verifyPhoneNumber(O,N){return this._delegate.verifyPhoneNumber(O,N)}unwrap(){return this._delegate}}xi.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,xi.PROVIDER_ID=R.P.PROVIDER_ID;const vr=R.aA;class jr{constructor(O,N,J=B.Z.app()){var Ee;vr(null===(Ee=J.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new R.R(O,N,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(L){L.INTERNAL.registerComponent(new pe.wA("auth-compat",O=>{const N=O.getProvider("app-compat").getImmediate(),J=O.getProvider("auth");return new Pn(N,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:xi,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:jr,TwitterAuthProvider:R.Z,Auth:Pn,AuthCredential:R.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(Et,Oe,V)=>{function i(R,oe,de,_e,pe,ve,De){try{var z=R[ve](De),$=z.value}catch(Q){return void de(Q)}z.done?oe($):Promise.resolve($).then(_e,pe)}function B(R){return function(){var oe=this,de=arguments;return new Promise(function(_e,pe){var ve=R.apply(oe,de);function De($){i(ve,_e,pe,De,z,"next",$)}function z($){i(ve,_e,pe,De,z,"throw",$)}De(void 0)})}}V.d(Oe,{Z:()=>B})},7582:(Et,Oe,V)=>{function oe(ae,ne){var Ie={};for(var fe in ae)Object.prototype.hasOwnProperty.call(ae,fe)&&ne.indexOf(fe)<0&&(Ie[fe]=ae[fe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(fe=Object.getOwnPropertySymbols(ae);Ne<fe.length;Ne++)ne.indexOf(fe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(ae,fe[Ne])&&(Ie[fe[Ne]]=ae[fe[Ne]])}return Ie}function Q(ae,ne,Ie,fe){return new(Ie||(Ie=Promise))(function(Me,ct){function xt(on){try{kt(fe.next(on))}catch(Nn){ct(Nn)}}function tn(on){try{kt(fe.throw(on))}catch(Nn){ct(Nn)}}function kt(on){on.done?Me(on.value):function Ne(Me){return Me instanceof Ie?Me:new Ie(function(ct){ct(Me)})}(on.value).then(xt,tn)}kt((fe=fe.apply(ae,ne||[])).next())})}function Ae(ae){return this instanceof Ae?(this.v=ae,this):new Ae(ae)}function be(ae,ne,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,fe=Ie.apply(ae,ne||[]),Me=[];return Ne={},ct("next"),ct("throw"),ct("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ct(pn){fe[pn]&&(Ne[pn]=function(Qn){return new Promise(function(Sn,Zn){Me.push([pn,Qn,Sn,Zn])>1||xt(pn,Qn)})})}function xt(pn,Qn){try{!function tn(pn){pn.value instanceof Ae?Promise.resolve(pn.value.v).then(kt,on):Nn(Me[0][2],pn)}(fe[pn](Qn))}catch(Sn){Nn(Me[0][3],Sn)}}function kt(pn){xt("next",pn)}function on(pn){xt("throw",pn)}function Nn(pn,Qn){pn(Qn),Me.shift(),Me.length&&xt(Me[0][0],Me[0][1])}}function $e(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ne=ae[Symbol.asyncIterator];return ne?ne.call(ae):(ae=function it(ae){var ne="function"==typeof Symbol&&Symbol.iterator,Ie=ne&&ae[ne],fe=0;if(Ie)return Ie.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&fe>=ae.length&&(ae=void 0),{value:ae&&ae[fe++],done:!ae}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ie={},fe("next"),fe("throw"),fe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function fe(Me){Ie[Me]=ae[Me]&&function(ct){return new Promise(function(xt,tn){!function Ne(Me,ct,xt,tn){Promise.resolve(tn).then(function(kt){Me({value:kt,done:xt})},ct)}(xt,tn,(ct=ae[Me](ct)).done,ct.value)})}}}V.d(Oe,{FC:()=>be,KL:()=>$e,_T:()=>oe,mG:()=>Q,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},Et=>{Et(Et.s=3882)}]);