"use strict";(self.webpackChunkasi_somos_asi_bailamos=self.webpackChunkasi_somos_asi_bailamos||[]).push([[179],{2011:(wt,Oe,V)=>{V.d(Oe,{Dh:()=>_e,GT:()=>me,cc:()=>Ne,hO:()=>$e,on:()=>q,pX:()=>le,xv:()=>we});var d=V(4650),j=V(9260),k=V(4976);wt=V.hmd(wt);const re=["ngOnDestroy"],le=(ye,_t,gt,xe={})=>new Proxy(ye,{get:(Ce,Se)=>gt.runOutsideAngular(()=>{var ze;if(ye[Se])return!(null===(ze=xe?.spy)||void 0===ze)&&ze.get&&xe.spy.get(Se,ye[Se]),ye[Se];if(re.indexOf(Se)>-1)return()=>{};const Ge=_t.toPromise().then(ue=>{const Ke=ue&&ue[Se];return"function"==typeof Ke?Ke.bind(ue):Ke&&Ke.then?Ke.then(At=>gt.run(()=>At)):gt.run(()=>Ke)});return new Proxy(()=>{},{get:(ue,Ke)=>Ge[Ke],apply:(ue,Ke,At)=>Ge.then(mt=>{var zt;const dt=mt&&mt(...At);return!(null===(zt=xe?.spy)||void 0===zt)&&zt.apply&&xe.spy.apply(Se,At,dt),dt})})})}),me=(ye,_t)=>{_t.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(xe=>{Object.defineProperty(ye.prototype,xe,Object.getOwnPropertyDescriptor(gt.prototype||gt,xe))})})};class fe{constructor(_t){return _t}}const _e=new d.OlP("angularfire2.app.options"),we=new d.OlP("angularfire2.app.name");function q(ye,_t,gt){const Ce="object"==typeof gt&&gt||{};Ce.name=Ce.name||"string"==typeof gt&&gt||"[DEFAULT]";const ze=j.Z.apps.filter(Ge=>Ge&&Ge.name===Ce.name)[0]||_t.runOutsideAngular(()=>j.Z.initializeApp(ye,Ce));try{JSON.stringify(ye)!==JSON.stringify(ze.options)&&G("error",`${ze.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(ze)}const G=(ye,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ye](..._t)},J={provide:fe,useFactory:q,deps:[_e,d.R0b,[new d.FiY,we]]};let $e=(()=>{class ye{constructor(gt){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",d.q4F.full,gt.toString())}static initializeApp(gt,xe){return{ngModule:ye,providers:[{provide:_e,useValue:gt},{provide:we,useValue:xe}]}}}return ye.\u0275fac=function(gt){return new(gt||ye)(d.LFG(d.Lbi))},ye.\u0275mod=d.oAB({type:ye}),ye.\u0275inj=d.cJS({providers:[J]}),ye})();function Ne(ye,_t,gt,xe,Ce){const[,Se,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ye)||[];if(Se)return function De(ye,_t){try{return ye.toString()===_t.toString()}catch{return ye===_t}}(Ce,ze)||(Ee("error",`${_t} was already initialized on the ${gt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ce,was:ze})),Se;{const Ge=xe();return globalThis.\u0275AngularfireInstanceCache.push([ye,Ge,Ce]),Ge}}const it=!!wt.hot,Ee=(ye,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ye](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Oe,V)=>{V.d(Oe,{q4:()=>Ja,iC:()=>Xo,HU:()=>Qu,vb:()=>Ud,JM:()=>Jo,u3:()=>ea});var d=V(4650),j=V(259),k=V(5861),re=V(6881),le=V(2090),me=V(4859),fe=V(1877);let we,q;const $e=new WeakMap,Ne=new WeakMap,De=new WeakMap,it=new WeakMap,Ee=new WeakMap;let gt={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return Ne.get(E);if("objectStoreNames"===T)return E.objectStoreNames||De.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return ze(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Se(E){return"function"==typeof E?function Ce(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(Ge(this),T),ze($e.get(this))}:function(...T){return ze(E.apply(Ge(this),T))}:function(T,...x){const L=E.call(Ge(this),T,...x);return De.set(L,T.sort?T.sort():[T]),ze(L)}}(E):(E instanceof IDBTransaction&&function _t(E){if(Ne.has(E))return;const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{x(),W()},ge=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Ne.set(E,T)}(E),((E,T)=>T.some(x=>E instanceof x))(E,function G(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,gt):E)}function ze(E){if(E instanceof IDBRequest)return function ye(E){const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{x(ze(E.result)),W()},ge=()=>{L(E.error),W()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&$e.set(x,E)}).catch(()=>{}),Ee.set(T,E),T}(E);if(it.has(E))return it.get(E);const T=Se(E);return T!==E&&(it.set(E,T),Ee.set(T,E)),T}const Ge=E=>Ee.get(E),At=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],zt=new Map;function dt(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(zt.get(T))return zt.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,W=mt.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!At.includes(x))return;const X=function(){var ge=(0,k.Z)(function*(Ye,...qe){const et=this.transaction(Ye,W?"readwrite":"readonly");let Ft=et.store;return L&&(Ft=Ft.index(qe.shift())),(yield Promise.all([Ft[x](...qe),W&&et.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return zt.set(T,X),X}!function xe(E){gt=E(gt)}(E=>({...E,get:(T,x,L)=>dt(T,x)||E.get(T,x,L),has:(T,x)=>!!dt(T,x)||E.has(T,x)}));const Yi="@firebase/installations",Qi="w:0.6.4",ie="FIS_v2",lt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(E){return E instanceof le.ZR&&E.code.includes("request-failed")}function Xt({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Rt(E){return{token:E.token,requestStatus:2,expiresIn:gr(E.expiresIn),creationTime:Date.now()}}function rn(E,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,k.Z)(function*(E,T){const L=(yield T.json()).error;return lt.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function hn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Qn(E,{refreshToken:T}){const x=hn(E);return x.append("Authorization",function wi(E){return`${ie} ${E}`}(T)),x}function An(E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function gr(E){return Number(E.replace("s","000"))}function ct(E,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const L=Xt(E),W=hn(E),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&W.append("x-firebase-client",et)}const Ye={method:"POST",headers:W,body:JSON.stringify({fid:x,authVersion:ie,appId:E.appId,sdkVersion:Qi})},qe=yield An(()=>fetch(L,Ye));if(qe.ok){const et=yield qe.json();return{fid:et.fid||x,registrationStatus:2,refreshToken:et.refreshToken,authToken:Rt(et.authToken)}}throw yield rn("Create Installation",qe)})).apply(this,arguments)}function Jn(E){return new Promise(T=>{setTimeout(T,E)})}const Fi=/^[cdef][\w-]{21}$/;function Pn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function Sn(E){return function zn(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Fi.test(x)?x:""}catch{return""}}function Gt(E){return`${E.appName}!${E.appId}`}const ht=new Map;function bt(E,T){const x=Gt(E);yr(x,T),function nr(E,T){const x=function Gn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=E=>{yr(E.data.key,E.data.fid)}),St}();x&&x.postMessage({key:E,fid:T}),function qt(){0===ht.size&&St&&(St.close(),St=null)}()}(x,T)}function yr(E,T){const x=ht.get(E);if(x)for(const L of x)L(T)}let St=null;const Vn="firebase-installations-store";let vn=null;function Xn(){return vn||(vn=function ue(E,T,{blocked:x,upgrade:L,blocking:W,terminated:X}={}){const ge=indexedDB.open(E,T),Ye=ze(ge);return L&&ge.addEventListener("upgradeneeded",qe=>{L(ze(ge.result),qe.oldVersion,qe.newVersion,ze(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),W&&qe.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ye}("firebase-installations-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(Vn)}})),vn}function Rn(E,T){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,k.Z)(function*(E,T){const x=Gt(E),W=(yield Xn()).transaction(Vn,"readwrite"),X=W.objectStore(Vn),ge=yield X.get(x);return yield X.put(T,x),yield W.done,(!ge||ge.fid!==T.fid)&&bt(E,T.fid),T})).apply(this,arguments)}function er(E){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,k.Z)(function*(E){const T=Gt(E),L=(yield Xn()).transaction(Vn,"readwrite");yield L.objectStore(Vn).delete(T),yield L.done})).apply(this,arguments)}function _r(E,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,k.Z)(function*(E,T){const x=Gt(E),W=(yield Xn()).transaction(Vn,"readwrite"),X=W.objectStore(Vn),ge=yield X.get(x),Ye=T(ge);return void 0===Ye?yield X.delete(x):yield X.put(Ye,x),yield W.done,Ye&&(!ge||ge.fid!==Ye.fid)&&bt(E,Ye.fid),Ye})).apply(this,arguments)}function z(E){return $.apply(this,arguments)}function $(){return($=(0,k.Z)(function*(E){let T;const x=yield _r(E.appConfig,L=>{const W=F(L),X=O(E,W);return T=X.registrationPromise,X.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function F(E){return Ie(E||{fid:Pn(),registrationStatus:0})}function O(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(lt.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function R(E,T){return Y.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:be(E)}:{installationEntry:T}}function Y(){return(Y=(0,k.Z)(function*(E,T){try{const x=yield ct(E,T);return Rn(E.appConfig,x)}catch(x){throw Tt(x)&&409===x.customData.serverCode?yield er(E.appConfig):yield Rn(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function be(E){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,k.Z)(function*(E){let T=yield yt(E.appConfig);for(;1===T.registrationStatus;)yield Jn(100),T=yield yt(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield z(E);return L||x}return T})).apply(this,arguments)}function yt(E){return _r(E,T=>{if(!T)throw lt.create("installation-not-found");return Ie(T)})}function Ie(E){return function tt(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ut(E,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const L=kt(E,x),W=Qn(E,x),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&W.append("x-firebase-client",et)}const Ye={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Qi,appId:E.appId}})},qe=yield An(()=>fetch(L,Ye));if(qe.ok)return Rt(yield qe.json());throw yield rn("Generate Auth Token",qe)})).apply(this,arguments)}function kt(E,{fid:T}){return`${Xt(E)}/${T}/authTokens:generate`}function on(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,k.Z)(function*(E,T=!1){let x;const L=yield _r(E.appConfig,X=>{if(!$t(X))throw lt.create("not-registered");const ge=X.authToken;if(!T&&fn(ge))return X;if(1===ge.requestStatus)return x=oe(E,T),X;{if(!navigator.onLine)throw lt.create("app-offline");const Ye=Qt(X);return x=Ve(E,Ye),Ye}});return x?yield x:L.authToken})).apply(this,arguments)}function oe(E,T){return ne.apply(this,arguments)}function ne(){return(ne=(0,k.Z)(function*(E,T){let x=yield Le(E.appConfig);for(;1===x.authToken.requestStatus;)yield Jn(100),x=yield Le(E.appConfig);const L=x.authToken;return 0===L.requestStatus?on(E,T):L})).apply(this,arguments)}function Le(E){return _r(E,T=>{if(!$t(T))throw lt.create("not-registered");return function $r(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ve(E,T){return xt.apply(this,arguments)}function xt(){return(xt=(0,k.Z)(function*(E,T){try{const x=yield ut(E,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Rn(E.appConfig,L),x}catch(x){if(!Tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Rn(E.appConfig,L)}else yield er(E.appConfig);throw x}})).apply(this,arguments)}function $t(E){return void 0!==E&&2===E.registrationStatus}function fn(E){return 2===E.requestStatus&&!function Un(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function Qt(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function ri(){return(ri=(0,k.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:L}=yield z(T);return L?L.catch(console.error):on(T).catch(console.error),x.fid})).apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(E,T=!1){const x=E;return yield ln(x),(yield on(x,T)).token})).apply(this,arguments)}function ln(E){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(E){const{registrationPromise:T}=yield z(E);T&&(yield T)})).apply(this,arguments)}function Ir(E){return lt.create("missing-app-config-values",{valueName:E})}const Hr="installations",ps=E=>{const T=E.getProvider("app").getImmediate(),x=function ud(E){if(!E||!E.options)throw Ir("App Configuration");if(!E.name)throw Ir("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw Ir(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,re._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ba=E=>{const T=E.getProvider("app").getImmediate(),x=(0,re._getProvider)(T,Hr).getImmediate();return{getId:()=>function Li(E){return ri.apply(this,arguments)}(x),getToken:W=>function _a(E){return va.apply(this,arguments)}(x,W)}};(function bi(){(0,re._registerComponent)(new me.wA(Hr,ps,"PUBLIC")),(0,re._registerComponent)(new me.wA("installations-internal",ba,"PRIVATE"))})(),(0,re.registerVersion)(Yi,"0.6.4"),(0,re.registerVersion)(Yi,"0.6.4","esm2017");const Ia="@firebase/remote-config",xn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fl{constructor(T,x,L,W){this.client=T,this.storage=x,this.storageCache=L,this.logger=W}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,W=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return W;T.eTag=W&&W.eTag;const X=yield x.client.fetch(T),ge=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&ge.push(x.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(ge),X})()}}function wu(E=navigator){return E.languages&&E.languages[0]||E.language}class Ll{constructor(T,x,L,W,X,ge){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=W,this.apiKey=X,this.appId=ge}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},qe={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:x.appId,language_code:wu()},et={method:"POST",headers:Ye,body:JSON.stringify(qe)},Ft=fetch(ge,et),Nt=new Promise((Xr,Nr)=>{T.signal.addEventListener(()=>{const na=new Error("The operation was aborted.");na.name="AbortError",Nr(na)})});let Pr;try{yield Promise.race([Ft,Nt]),Pr=yield Ft}catch(Xr){let Nr="fetch-client-network";throw"AbortError"===Xr?.name&&(Nr="fetch-timeout"),xn.create(Nr,{originalErrorMessage:Xr?.message})}let dn=Pr.status;const rs=Pr.headers.get("ETag")||void 0;let ta,is;if(200===Pr.status){let Xr;try{Xr=yield Pr.json()}catch(Nr){throw xn.create("fetch-client-parse",{originalErrorMessage:Nr?.message})}ta=Xr.entries,is=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===is?dn=500:"NO_CHANGE"===is?dn=304:("NO_TEMPLATE"===is||"EMPTY_CONFIG"===is)&&(ta={}),304!==dn&&200!==dn)throw xn.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:rs,config:ta}})()}}class Vl{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,k.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var W=this;return(0,k.Z)(function*(){yield function Ta(E,T){return new Promise((x,L)=>{const W=Math.max(T-Date.now(),0),X=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(X),L(xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const X=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),X}catch(X){if(!function pd(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const ge={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(ge),W.attemptFetch(T,ge)}})()}}class Ul{constructor(T,x,L,W,X){this.app=T,this._client=x,this._storageCache=L,this._storage=W,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qn(E,T){const x=E.target.error||void 0;return xn.create(T,{originalErrorMessage:x&&x?.message})}const gs="app_namespace_store";class Yh{constructor(T,x,L,W=function Sy(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(qn(L,"storage-open"))},x.onsuccess=L=>{E(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(gs,{keyPath:"compositeKey"})}}catch(x){T(xn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((W,X)=>{const Ye=L.transaction([gs],"readonly").objectStore(gs),qe=x.createCompositeKey(T);try{const et=Ye.get(qe);et.onerror=Ft=>{X(qn(Ft,"storage-get"))},et.onsuccess=Ft=>{const Nt=Ft.target.result;W(Nt?Nt.value:void 0)}}catch(et){X(xn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,x){var L=this;return(0,k.Z)(function*(){const W=yield L.openDbPromise;return new Promise((X,ge)=>{const qe=W.transaction([gs],"readwrite").objectStore(gs),et=L.createCompositeKey(T);try{const Ft=qe.put({compositeKey:et,value:x});Ft.onerror=Nt=>{ge(qn(Nt,"storage-set"))},Ft.onsuccess=()=>{X()}}catch(Ft){ge(xn.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((W,X)=>{const Ye=L.transaction([gs],"readwrite").objectStore(gs),qe=x.createCompositeKey(T);try{const et=Ye.delete(qe);et.onerror=Ft=>{X(qn(Ft,"storage-delete"))},et.onsuccess=()=>{W()}}catch(et){X(xn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class bn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),X=yield x;X&&(T.lastFetchStatus=X);const ge=yield L;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const Ye=yield W;Ye&&(T.activeConfig=Ye)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function ii(){return md.apply(this,arguments)}function md(){return(md=(0,k.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}let Vi,Sr;!function Oo(){(0,re._registerComponent)(new me.wA("remote-config",function E(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!(0,le.hl)())throw xn.create("indexed-db-unavailable");const{projectId:X,apiKey:ge,appId:Ye}=L.options;if(!X)throw xn.create("registration-project-id");if(!ge)throw xn.create("registration-api-key");if(!Ye)throw xn.create("registration-app-id");const qe=new Yh(Ye,L.name,x=x||"firebase"),et=new bn(qe),Ft=new fe.Yd(Ia);Ft.logLevel=fe.in.ERROR;const Nt=new Ll(W,re.SDK_VERSION,x,X,ge,Ye),Pr=new Vl(Nt,qe),dn=new Fl(Pr,qe,et,Ft),rs=new Ul(L,dn,et,qe,Ft);return function fd(E){const T=(0,le.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(rs),rs},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ia,"0.4.4"),(0,re.registerVersion)(Ia,"0.4.4","esm2017")}();const Da=new WeakMap,Ii=new WeakMap,Cr=new WeakMap,ko=new WeakMap,Pt=new WeakMap;let zl={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return Ii.get(E);if("objectStoreNames"===T)return E.objectStoreNames||Cr.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ui(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Cu(E){return"function"==typeof E?function Qh(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bu(){return Sr||(Sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(Tu(this),T),Ui(Da.get(this))}:function(...T){return Ui(E.apply(Tu(this),T))}:function(T,...x){const L=E.call(Tu(this),T,...x);return Cr.set(L,T.sort?T.sort():[T]),Ui(L)}}(E):(E instanceof IDBTransaction&&function Hl(E){if(Ii.has(E))return;const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{x(),W()},ge=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Ii.set(E,T)}(E),((E,T)=>T.some(x=>E instanceof x))(E,function $l(){return Vi||(Vi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,zl):E)}function Ui(E){if(E instanceof IDBRequest)return function Iu(E){const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{x(Ui(E.result)),W()},ge=()=>{L(E.error),W()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&Da.set(x,E)}).catch(()=>{}),Pt.set(T,E),T}(E);if(ko.has(E))return ko.get(E);const T=Cu(E);return T!==E&&(ko.set(E,T),Pt.set(T,E)),T}const Tu=E=>Pt.get(E);function Re(E,T,{blocked:x,upgrade:L,blocking:W,terminated:X}={}){const ge=indexedDB.open(E,T),Ye=Ui(ge);return L&&ge.addEventListener("upgradeneeded",qe=>{L(Ui(ge.result),qe.oldVersion,qe.newVersion,Ui(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),W&&qe.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ye}function Jt(E,{blocked:T}={}){const x=indexedDB.deleteDatabase(E);return T&&x.addEventListener("blocked",()=>T()),Ui(x).then(()=>{})}const Gl=["get","getKey","getAll","getAllKeys","count"],Du=["put","add","delete","clear"],Wn=new Map;function Aa(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,W=Du.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!Gl.includes(x))return;const X=function(){var ge=(0,k.Z)(function*(Ye,...qe){const et=this.transaction(Ye,W?"readwrite":"readonly");let Ft=et.store;return L&&(Ft=Ft.index(qe.shift())),(yield Promise.all([Ft[x](...qe),W&&et.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return Wn.set(T,X),X}!function yd(E){zl=E(zl)}(E=>({...E,get:(T,x,L)=>Aa(T,x)||E.get(T,x,L),has:(T,x)=>!!Aa(T,x)||E.has(T,x)}));const Os="/firebase-messaging-sw.js",Ci="/firebase-cloud-messaging-push-scope",Sa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_d="google.c.a.c_id",Nn="google.c.a.c_l",xy="google.c.a.ts",ql="google.c.a.e";var zr=(()=>{return(E=zr||(zr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",zr;var E})();function oi(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function so(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),W=new Uint8Array(L.length);for(let X=0;X<L.length;++X)W[X]=L.charCodeAt(X);return W}const ai="fcm_token_details_db",vd="fcm_token_object_Store";function wd(E){return Su.apply(this,arguments)}function Su(){return Su=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(ai))return null;let T=null;return(yield Re(ai,5,{upgrade:(L=(0,k.Z)(function*(W,X,ge,Ye){var qe;if(X<2||!W.objectStoreNames.contains(vd))return;const et=Ye.objectStore(vd),Ft=yield et.index("fcmSenderId").get(E);if(yield et.clear(),Ft)if(2===X){const Nt=Ft;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;T={token:Nt.fcmToken,createTime:null!==(qe=Nt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:oi(Nt.vapidKey)}}}else if(3===X){const Nt=Ft;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:oi(Nt.auth),p256dh:oi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:oi(Nt.vapidKey)}}}else if(4===X){const Nt=Ft;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:oi(Nt.auth),p256dh:oi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:oi(Nt.vapidKey)}}}}),function(X,ge,Ye,qe){return L.apply(this,arguments)})})).close(),yield Jt(ai),yield Jt("fcm_vapid_details_db"),yield Jt("undefined"),Ma(T)?T:null;var L}),Su.apply(this,arguments)}function Ma(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Jr="firebase-messaging-store";let xu=null;function Zl(){return xu||(xu=Re("firebase-messaging-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(Jr)}})),xu}function oo(E){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,k.Z)(function*(E){const T=bd(E),L=yield(yield Zl()).transaction(Jr).objectStore(Jr).get(T);if(L)return L;{const W=yield wd(E.appConfig.senderId);if(W)return yield Pa(E,W),W}})).apply(this,arguments)}function Pa(E,T){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,k.Z)(function*(E,T){const x=bd(E),W=(yield Zl()).transaction(Jr,"readwrite");return yield W.objectStore(Jr).put(T,x),yield W.done,T})).apply(this,arguments)}function Ed(E){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(E){const T=bd(E),L=(yield Zl()).transaction(Jr,"readwrite");yield L.objectStore(Jr).delete(T),yield L.done})).apply(this,arguments)}function bd({appConfig:E}){return E.appId}const cn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ao(E,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(E,T){const x=yield Na(E),L=uo(T),W={method:"POST",headers:x,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(Id(E.appConfig),W)).json()}catch(ge){throw cn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(X.error)throw cn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw cn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Qp(E,T){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,k.Z)(function*(E,T){const x=yield Na(E),L=uo(T.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${Id(E.appConfig)}/${T.token}`,W)).json()}catch(ge){throw cn.create("token-update-failed",{errorInfo:ge?.toString()})}if(X.error)throw cn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw cn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Jh(E,T){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,k.Z)(function*(E,T){const L={method:"DELETE",headers:yield Na(E)};try{const X=yield(yield fetch(`${Id(E.appConfig)}/${T}`,L)).json();if(X.error)throw cn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(W){throw cn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Id({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Na(E){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,k.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function uo({p256dh:E,auth:T,endpoint:x,vapidKey:L}){const W={web:{endpoint:x,auth:T,p256dh:E}};return L!==Sa&&(W.web.applicationPubKey=L),W}const Pu=6048e5;function Nu(E){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,k.Z)(function*(E){const T=yield Td(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:oi(T.getKey("auth")),p256dh:oi(T.getKey("p256dh"))},L=yield oo(E.firebaseDependencies);if(L){if(ef(L.subscriptionOptions,x))return Date.now()>=L.createTime+Pu?Lo(E,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield Jh(E.firebaseDependencies,L.token)}catch(W){console.warn(W)}return Vo(E.firebaseDependencies,x)}return Vo(E.firebaseDependencies,x)})).apply(this,arguments)}function Xh(E){return es.apply(this,arguments)}function es(){return(es=(0,k.Z)(function*(E){const T=yield oo(E.firebaseDependencies);T&&(yield Jh(E.firebaseDependencies,T.token),yield Ed(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Lo(E,T){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,k.Z)(function*(E,T){try{const x=yield Qp(E.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Pa(E.firebaseDependencies,L),x}catch(x){throw yield Xh(E),x}})).apply(this,arguments)}function Vo(E,T){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(E,T){const L={token:yield ao(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Pa(E,L),L.token})).apply(this,arguments)}function Td(E,T){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,k.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:so(T)})})).apply(this,arguments)}function ef(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Ql(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ou(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const L=T.notification.body;L&&(E.notification.body=L);const W=T.notification.image;W&&(E.notification.image=W);const X=T.notification.icon;X&&(E.notification.icon=X)}(T,E),function Jl(E,T){!T.data||(E.data=T.data)}(T,E),function ku(E,T){var x,L,W,X,ge;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;E.fcmOptions={};const Ye=null!==(W=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==W?W:null===(X=T.notification)||void 0===X?void 0:X.click_action;Ye&&(E.fcmOptions.link=Ye);const qe=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(T,E),T}function Ad(E){return"object"==typeof E&&!!E&&_d in E}function Uo(E,T){const x=[];for(let L=0;L<E.length;L++)x.push(E.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function Xl(E){return cn.create("missing-app-config-values",{valueName:E})}Uo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ka{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function tf(E){if(!E||!E.options)throw Xl("App Configuration Object");if(!E.name)throw Xl("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const L of T)if(!x[L])throw Xl(L);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function nf(E){return ts.apply(this,arguments)}function ts(){return(ts=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Os,{scope:Ci}),E.swRegistration.update().catch(()=>{})}catch(T){throw cn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Fs(E,T){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield nf(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function ec(E,T){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=Sa)})).apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(E,T){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield ec(E,T?.vapidKey),yield Fs(E,T?.serviceWorkerRegistration),Nu(E)})).apply(this,arguments)}function Bi(E,T,x){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,k.Z)(function*(E,T,x){const L=Bo(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[_d],message_name:x[Nn],message_time:x[xy],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bo(E){switch(E){case zr.NOTIFICATION_CLICKED:return"notification_open";case zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function co(){return(co=(0,k.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===zr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ql(x)):E.onMessageHandler.next(Ql(x)));const L=x.data;Ad(L)&&"1"===L[ql]&&(yield Bi(E,x.messageType,L))})).apply(this,arguments)}const Va="@firebase/messaging",Ua=E=>{const T=new ka(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function La(E,T){return co.apply(this,arguments)}(T,x)),T},tc=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:L=>function Fu(E,T){return Fa.apply(this,arguments)}(T,L)}};function jo(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,k.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rf(){(0,re._registerComponent)(new me.wA("messaging",Ua,"PUBLIC")),(0,re._registerComponent)(new me.wA("messaging-internal",tc,"PRIVATE")),(0,re.registerVersion)(Va,"0.12.4"),(0,re.registerVersion)(Va,"0.12.4","esm2017")}();const ja="analytics",$a="firebase_id",xd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ms="https://www.googletagmanager.com/gtag/js",On=new fe.Yd("@firebase/analytics"),ir=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vu(E){if(!E.startsWith(ms)){const T=ir.create("invalid-gtag-resource",{gtagURL:E});return On.warn(T.message),""}return E}function Ti(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function Md(E,T){const x=function ic(E,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,T)),x}("firebase-js-sdk-policy",{createScriptURL:Vu}),L=document.createElement("script"),W=`${ms}?l=${E}&id=${T}`;L.src=x?x?.createScriptURL(W):W,L.async=!0,document.head.appendChild(L)}function Rd(E,T,x,L,W,X){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(E,T,x,L,W,X){const ge=L[W];try{if(ge)yield T[ge];else{const qe=(yield Ti(x)).find(et=>et.measurementId===W);qe&&(yield T[qe.appId])}}catch(Ye){On.error(Ye)}E("config",W,X)})).apply(this,arguments)}function My(E,T,x,L,W){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,k.Z)(function*(E,T,x,L,W){try{let X=[];if(W&&W.send_to){let ge=W.send_to;Array.isArray(ge)||(ge=[ge]);const Ye=yield Ti(x);for(const qe of ge){const et=Ye.find(Nt=>Nt.measurementId===qe),Ft=et&&T[et.appId];if(!Ft){X=[];break}X.push(Ft)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),E("event",L,W||{})}catch(X){On.error(X)}})).apply(this,arguments)}function af(E){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(ms)&&x.src.includes(E))return x;return null}const sr=new class Ry{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ju(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Di(E){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,k.Z)(function*(E){var T;const{appId:x,apiKey:L}=E,W={method:"GET",headers:ju(L)},X=xd.replace("{app-id}",x),ge=yield fetch(X,W);if(200!==ge.status&&304!==ge.status){let Ye="";try{const qe=yield ge.json();null!==(T=qe.error)&&void 0!==T&&T.message&&(Ye=qe.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ye})}return ge.json()})).apply(this,arguments)}function $u(E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(E,T=sr,x){const{appId:L,apiKey:W,measurementId:X}=E.options;if(!L)throw ir.create("no-app-id");if(!W){if(X)return{measurementId:X,appId:L};throw ir.create("no-api-key")}const ge=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Nd;return setTimeout((0,k.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),ji({appId:L,apiKey:W,measurementId:X},ge,Ye,T)})).apply(this,arguments)}function ji(E,T,x){return sc.apply(this,arguments)}function sc(){return(sc=(0,k.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},L,W=sr){var X;const{appId:ge,measurementId:Ye}=E;try{yield za(L,T)}catch(qe){if(Ye)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:ge,measurementId:Ye};throw qe}try{const qe=yield Di(E);return W.deleteThrottleMetadata(ge),qe}catch(qe){const et=qe;if(!Hu(et)){if(W.deleteThrottleMetadata(ge),Ye)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:ge,measurementId:Ye};throw qe}const Ft=503===Number(null===(X=et?.customData)||void 0===X?void 0:X.httpStatus)?(0,le.$s)(x,W.intervalMillis,30):(0,le.$s)(x,W.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:x+1};return W.setThrottleMetadata(ge,Nt),On.debug(`Calling attemptFetch again in ${Ft} millis`),ji(E,Nt,L,W)}})).apply(this,arguments)}function za(E,T){return new Promise((x,L)=>{const W=Math.max(T-Date.now(),0),X=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(X),L(ir.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Hu(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Nd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Od,Ga;function lf(){return(lf=(0,k.Z)(function*(E,T,x,L,W){if(W&&W.global)E("event",x,L);else{const X=yield T;E("event",x,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function Go(E){Ga=E}function uc(E){Od=E}function In(){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(){if(!(0,le.hl)())return On.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(E){return On.warn(ir.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(E,T,x,L,W,X,ge){var Ye;const qe=$u(E);qe.then(dn=>{x[dn.measurementId]=dn.appId,E.options.measurementId&&dn.measurementId!==E.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>On.error(dn)),T.push(qe);const et=In().then(dn=>{if(dn)return L.getId()}),[Ft,Nt]=yield Promise.all([qe,et]);af(X)||Md(X,Ft.measurementId),Ga&&(W("consent","default",Ga),Go(void 0)),W("js",new Date);const Pr=null!==(Ye=ge?.config)&&void 0!==Ye?Ye:{};return Pr.origin="firebase",Pr.update=!0,null!=Nt&&(Pr[$a]=Nt),W("config",Ft.measurementId,Pr),Od&&(W("set",Od),uc(void 0)),Ft.measurementId})).apply(this,arguments)}class qa{constructor(T){this.app=T}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},lc=[];const Ld={};let Zn,pt,ys="dataLayer",Wa=!1;function cc(E,T,x){!function Za(){const E=[];if((0,le.ru)()&&E.push("This is a browser extension environment."),(0,le.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((L,W)=>`(${W+1}) ${L}`).join(" "),x=ir.create("invalid-analytics-context",{errorInfo:T});On.warn(x.message)}}();const L=E.options.appId;if(!L)throw ir.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ir.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[L])throw ir.create("already-exists",{id:L});if(!Wa){!function pn(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(ys);const{wrappedGtag:X,gtagCore:ge}=function eg(E,T,x,L,W){let X=function(...ge){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(X=window[W]),window[W]=function Xp(E,T,x,L){function X(){return(X=(0,k.Z)(function*(ge,...Ye){try{if("event"===ge){const[qe,et]=Ye;yield My(E,T,x,qe,et)}else if("config"===ge){const[qe,et]=Ye;yield Rd(E,T,x,L,qe,et)}else if("consent"===ge){const[qe]=Ye;E("consent","update",qe)}else if("get"===ge){const[qe,et,Ft]=Ye;E("get",qe,et,Ft)}else if("set"===ge){const[qe]=Ye;E("set",qe)}else E(ge,...Ye)}catch(qe){On.error(qe)}})).apply(this,arguments)}return function W(ge){return X.apply(this,arguments)}}(X,E,T,x),{gtagCore:X,wrappedGtag:window[W]}}(di,lc,Ld,ys,"gtag");pt=X,Zn=ge,Wa=!0}return di[L]=function rg(E,T,x,L,W,X,ge){return ci.apply(this,arguments)}(E,lc,Ld,T,Zn,ys,x),new qa(E)}function fo(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const vr="@firebase/analytics";!function fc(){(0,re._registerComponent)(new me.wA(ja,(T,{options:x})=>cc(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,re._registerComponent)(new me.wA("analytics-internal",function E(T){try{const x=T.getProvider(ja).getImmediate();return{logEvent:(L,W,X)=>function hi(E,T,x,L){E=(0,le.m9)(E),function tg(E,T,x,L,W){return lf.apply(this,arguments)}(pt,di[E.app.options.appId],T,x,L).catch(W=>On.error(W))}(x,L,W,X)}}catch(x){throw ir.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,re.registerVersion)(vr,"0.10.0"),(0,re.registerVersion)(vr,"0.10.0","esm2017")}();var Rr=V(4408),Wu=V(7565);const pc=new class df extends Wu.v{}(class Wo extends Rr.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var hf=V(4986),Qa=V(9751),Zu=V(8505),po=V(9468),go=V(5363);const Ja=new d.GfV("7.6.1"),Ku="__angularfire_symbol__analyticsIsSupportedValue",Zo="__angularfire_symbol__analyticsIsSupported",mc="__angularfire_symbol__remoteConfigIsSupportedValue",Ko="__angularfire_symbol__remoteConfigIsSupported",yc="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";function Jo(E,T,x){if(T){if(1===T.length)return T[0];const X=T.filter(ge=>ge.app===x);if(1===X.length)return X[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Zo]||(globalThis[Zo]=fo().then(E=>globalThis[Ku]=E).catch(()=>globalThis[Ku]=!1)),globalThis[Yo]||(globalThis[Yo]=jo().then(E=>globalThis[yc]=E).catch(()=>globalThis[yc]=!1)),globalThis[Ko]||(globalThis[Ko]=ii().then(E=>globalThis[mc]=E).catch(()=>globalThis[mc]=!1));const Ud=(E,T)=>{const x=T?[T]:(0,j.C6)(),L=[];return x.forEach(W=>{W.container.getProvider(E).instances.forEach(ge=>{L.includes(ge)||L.push(ge)})}),L};function $s(){}class _c{constructor(T,x=pc){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const W=this.zone;return this.delegate.schedule(function(ge){W.runGuarded(()=>{T.apply(this,[ge])})},x,L)}}class ff{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),x.pipe((0,Zu.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qu=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new _c(Zone.current)),this.insideAngular=x.run(()=>new _c(Zone.current,hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Kn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Es(E){return Kn().ngZone.runOutsideAngular(()=>E())}function ns(E){return Kn().ngZone.run(()=>E())}function Xo(E){return Kn(),function fi(E){return function(x){return(x=x.lift(new ff(E.ngZone))).pipe((0,po.R)(E.outsideAngular),(0,go.Q)(E.insideAngular))}}(Kn())(E)}const vc=(E,T)=>function(){const L=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ns(()=>E.apply(void 0,L))},ea=(E,T)=>function(){let x;const L=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof L[X]&&(T&&(x||(x=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)))),L[X]=vc(L[X],x));const W=Es(()=>E.apply(this,L));if(!T){if(W instanceof Qa.y){const X=Kn();return W.pipe((0,po.R)(X.outsideAngular),(0,go.Q)(X.insideAngular))}return ns(()=>W)}return W instanceof Qa.y?W.pipe(Xo):W instanceof Promise?ns(()=>new Promise((X,ge)=>W.then(Ye=>ns(()=>X(Ye)),Ye=>ns(()=>ge(Ye))))):"function"==typeof W&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),W.apply(this,arguments)}:ns(()=>W)}},1389:(wt,Oe,V)=>{V.d(Oe,{$:()=>Os,A:()=>G,D:()=>Ne,I:()=>jn,J:()=>ps,L:()=>Xi,N:()=>_r,P:()=>rg,Q:()=>Yh,R:()=>li,U:()=>io,V:()=>ii,W:()=>md,X:()=>Bl,Y:()=>$l,Z:()=>bu,_:()=>Pt,a:()=>Us,a0:()=>Sa,a1:()=>_d,a2:()=>si,a3:()=>vd,a4:()=>Su,a5:()=>Wl,a6:()=>Jr,a7:()=>Zl,a8:()=>Ra,a9:()=>Kl,aA:()=>ue,aB:()=>Zo,aC:()=>er,aD:()=>Br,aE:()=>Zu,aF:()=>Vd,aG:()=>Ka,aH:()=>Bn,aL:()=>Bs,aO:()=>Vi,aa:()=>Ed,ab:()=>bd,ac:()=>Yp,ad:()=>Qp,ae:()=>Jh,af:()=>Id,ai:()=>Pu,aj:()=>Yl,ak:()=>Xh,an:()=>Qh,ao:()=>Ou,aq:()=>Ls,ar:()=>Va,as:()=>At,at:()=>Ie,au:()=>be,av:()=>xe,aw:()=>Nt,ax:()=>Yo,ay:()=>tt,az:()=>Ce,b:()=>Sd,c:()=>pt,d:()=>cc,e:()=>or,f:()=>vr,g:()=>df,h:()=>Rr,i:()=>uf,j:()=>hf,k:()=>is,l:()=>kd,m:()=>na,p:()=>_e,r:()=>Gu,s:()=>cf,u:()=>In});var d=V(5861),j=V(2090),k=V(6881),re=V(7582),le=V(1877),me=V(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},De=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new le.Yd("@firebase/auth");function gt(v,...p){ye.logLevel<=le.in.ERROR&&ye.error(`Auth (${k.SDK_VERSION}): ${v}`,...p)}function xe(v,...p){throw Ge(v,...p)}function Ce(v,...p){return Ge(v,...p)}function Se(v,p,m){const b=Object.assign(Object.assign({},De()),{[p]:m});return new j.LL("auth","Firebase",b).create(p,{appName:v.name})}function ze(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&xe(v,"argument-error"),Se(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...p){if("string"!=typeof v){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return it.create(v,...p)}function ue(v,p,...m){if(!v)throw Ge(p,...m)}function Ke(v){const p="INTERNAL ASSERTION FAILED: "+v;throw gt(p),new Error(p)}function At(v,p){v||Ke(p)}function mt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function zt(){return"http:"===dt()||"https:"===dt()}function dt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ni{constructor(p,m){this.shortDelay=p,this.longDelay=m,At(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qi(v,p){At(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ie{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new ni(3e4,6e4);function he(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Pe(v,p,m,b){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(v,p,m,b,M={}){return lt(v,M,(0,d.Z)(function*(){let N={},Q={};b&&("GET"===p?Q=b:N={body:JSON.stringify(b)});const de=(0,j.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),ie.fetch()(rn(v,v.config.apiHost,m,de),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function lt(v,p,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(v,p,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},ee),p);try{const M=new Mn(v),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const Q=yield N.json();if("needConfirmation"in Q)throw hn(v,"account-exists-with-different-credential",Q);if(N.ok&&!("errorMessage"in Q))return Q;{const de=N.ok?Q.errorMessage:Q.error.message,[He,nt]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw hn(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===He)throw hn(v,"email-already-in-use",Q);if("USER_DISABLED"===He)throw hn(v,"user-disabled",Q);const vt=b[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Se(v,vt,nt);xe(v,vt)}}catch(M){if(M instanceof j.ZR)throw M;xe(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Xt(v,p,m,b){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(v,p,m,b,M={}){const N=yield Pe(v,p,m,b,M);return"mfaPendingCredential"in N&&xe(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function rn(v,p,m,b){const M=`${p}${m}?${b}`;return v.config.emulator?Qi(v.config,M):`${v.config.apiScheme}://${M}`}class Mn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ce(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(v,p,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=Ce(v,p,b);return M.customData._tokenResponse=m,M}function An(){return(An=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ln(v,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wi(v,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function mr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Fi(){return(Fi=(0,d.Z)(function*(v,p=!1){const m=(0,j.m9)(v),b=yield m.getIdToken(p),M=Pn(b);ue(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Q=N?.sign_in_provider;return{claims:M,token:b,authTime:mr(Kr(M.auth_time)),issuedAtTime:mr(Kr(M.iat)),expirationTime:mr(Kr(M.exp)),signInProvider:Q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Kr(v){return 1e3*Number(v)}function Pn(v){const[p,m,b]=v.split(".");if(void 0===p||void 0===m||void 0===b)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(m);return M?JSON.parse(M):(gt("Failed to decode base64 JWT payload"),null)}catch(M){return gt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Gt(v,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof j.ZR&&bt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function bt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class tn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Yr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(v){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(v){var p;const m=v.auth,b=yield v.getIdToken(),M=yield Gt(v,wi(m,{idToken:b}));ue(M?.users.length,m,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const Q=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?Ji(N.providerUserInfo):[],de=qt(v.providerData,Q),vt=!!v.isAnonymous&&!(v.email&&N.passwordHash||de?.length),an={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:de,metadata:new Yr(N.createdAt,N.lastLoginAt),isAnonymous:vt};Object.assign(v,an)})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(v){const p=(0,j.m9)(v);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function qt(v,p){return[...v.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function Ji(v){return v.map(p=>{var{providerId:m}=p,b=(0,re._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Vn(){return(Vn=(0,d.Z)(function*(v,p){const m=yield lt(v,{},(0,d.Z)(function*(){const b=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,Q=rn(v,M,"/v1/token",`key=${N}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(Q,{method:"POST",headers:de,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ue(p.idToken,"internal-error"),ue(typeof p.idToken<"u","internal-error"),ue(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Sn(v){const p=Pn(v);return ue(p,"internal-error"),ue(typeof p.exp<"u","internal-error"),ue(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return ue(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Q}=yield function sn(v,p){return Vn.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(M,N,Number(Q))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:M,expirationTime:N}=m,Q=new vn;return b&&(ue("string"==typeof b,"internal-error",{appName:p}),Q.refreshToken=b),M&&(ue("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),N&&(ue("number"==typeof N,"internal-error",{appName:p}),Q.expirationTime=N),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function Xn(v,p){ue("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Rn{constructor(p){var{uid:m,auth:b,stsTokenManager:M}=p,N=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Yr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield Gt(m,m.stsTokenManager.getToken(m.auth,p));return ue(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function zn(v){return Fi.apply(this,arguments)}(this,p)}reload(){return function St(v){return Gn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ue(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Rn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield yr(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield Gt(p,function Qn(v,p){return An.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,M,N,Q,de,He,nt,vt;const an=null!==(b=m.displayName)&&void 0!==b?b:void 0,$i=null!==(M=m.email)&&void 0!==M?M:void 0,ra=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Xu=null!==(Q=m.photoURL)&&void 0!==Q?Q:void 0,mf=null!==(de=m.tenantId)&&void 0!==de?de:void 0,el=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,zd=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,yf=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Tc,emailVerified:_f,isAnonymous:lg,providerData:mo,stsTokenManager:Xa}=m;ue(Tc&&Xa,p,"internal-error");const Gd=vn.fromJSON(this.name,Xa);ue("string"==typeof Tc,p,"internal-error"),Xn(an,p.name),Xn($i,p.name),ue("boolean"==typeof _f,p,"internal-error"),ue("boolean"==typeof lg,p,"internal-error"),Xn(ra,p.name),Xn(Xu,p.name),Xn(mf,p.name),Xn(el,p.name),Xn(zd,p.name),Xn(yf,p.name);const qd=new Rn({uid:Tc,auth:p,email:$i,emailVerified:_f,displayName:an,isAnonymous:lg,photoURL:Xu,phoneNumber:ra,tenantId:mf,stsTokenManager:Gd,createdAt:zd,lastLoginAt:yf});return mo&&Array.isArray(mo)&&(qd.providerData=mo.map(Py=>Object.assign({},Py))),el&&(qd._redirectEventId=el),qd}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const M=new vn;M.updateFromServerResponse(m);const N=new Rn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield yr(N),N})()}}const Qr=new Map;function er(v){At(v instanceof Function,"Expected a class definition");let p=Qr.get(v);return p?(At(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Qr.set(v,p),p)}const _r=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,d.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Br(v,p,m){return`firebase:${v}:${p}:${m}`}class z{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:M,name:N}=this.auth;this.fullUserKey=Br(this.userKey,M.apiKey,N),this.fullPersistenceKey=Br("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Rn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new z(er(_r),p,b);const M=(yield Promise.all(m.map(function(){var nt=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let N=M[0]||er(_r);const Q=Br(b,p.config.apiKey,p.name);let de=null;for(const nt of m)try{const vt=yield nt._get(Q);if(vt){const an=Rn._fromJSON(p,vt);nt!==N&&(de=an),N=nt;break}}catch{}const He=M.filter(nt=>nt._shouldAllowMigration);return N._shouldAllowMigration&&He.length?(N=He[0],de&&(yield N._set(Q,de.toJSON())),yield Promise.all(m.map(function(){var nt=(0,d.Z)(function*(vt){if(vt!==N)try{yield vt._remove(Q)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new z(N,p,b)):new z(N,p,b)})()}}function $(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Y(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ze(p))return"Blackberry";if(yt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||R(p))&&!p.includes("edge/"))return"Chrome";if(be(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function F(v=(0,j.z$)()){return/firefox\//i.test(v)}function O(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function R(v=(0,j.z$)()){return/crios\//i.test(v)}function Y(v=(0,j.z$)()){return/iemobile/i.test(v)}function be(v=(0,j.z$)()){return/android/i.test(v)}function Ze(v=(0,j.z$)()){return/blackberry/i.test(v)}function yt(v=(0,j.z$)()){return/webos/i.test(v)}function Ie(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function tt(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function kt(v=(0,j.z$)()){return Ie(v)||be(v)||yt(v)||Ze(v)||/windows phone/i.test(v)||Y(v)}function jr(v,p=[]){let m;switch(v){case"Browser":m=$((0,j.z$)());break;case"Worker":m=`${$((0,j.z$)())}-${v}`;break;default:m=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${k.SDK_VERSION}/${b}`}function ne(){return(ne=(0,d.Z)(function*(v){return(yield Pe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(v,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,d.Z)(function*(v,p){return Pe(v,"GET","/v2/recaptchaConfig",he(v,p))})).apply(this,arguments)}function xt(v){return void 0!==v&&void 0!==v.getResponse}function $t(v){return void 0!==v&&void 0!==v.enterprise}class fn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Qt(v){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=M=>{const N=Ce("internal-error");N.customData=M,m(N)},b.type="text/javascript",b.charset="UTF-8",function Un(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function $r(v){return`__${v}${Math.floor(1e6*Math.random())}`}class va{constructor(p){this.type="recaptcha-enterprise",this.auth=Bn(p)}verify(p="verify",m=!1){var b=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(de){if(!m){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var He=(0,d.Z)(function*(nt,vt){Le(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(an=>{if(void 0!==an.recaptchaKey){const $i=new fn(an);return null==de.tenantId?de._agentRecaptchaConfig=$i:de._tenantRecaptchaConfigs[de.tenantId]=$i,nt($i.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(an=>{vt(an)})});return function(nt,vt){return He.apply(this,arguments)}}())}),N.apply(this,arguments)}function Q(de,He,nt){const vt=window.grecaptcha;$t(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(de,{action:p}).then(an=>{He(an)}).catch(()=>{He("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,He)=>{(function M(de){return N.apply(this,arguments)})(b.auth).then(nt=>{if(!m&&$t(window.grecaptcha))Q(nt,de,He);else{if(typeof window>"u")return void He(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Q(nt,de,He)}).catch(vt=>{He(vt)})}}).catch(nt=>{He(nt)})})})()}}function ln(v,p,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(v,p,m,b=!1){const M=new va(v);let N;try{N=yield M.verify(m)}catch{N=yield M.verify(m,!0)}const Q=Object.assign({},p);return Object.assign(Q,b?{captchaResp:N}:{captchaResponse:N}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class ad{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=N=>new Promise((Q,de)=>{try{Q(p(N))}catch(He){de(He)}});b.onAbort=m,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const M of m.queue)yield M(p),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const N of b)try{N()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class eo{constructor(p,m,b,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new ad(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=er(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,N;if(!b._deleted&&(b.persistenceManager=yield z.create(b,p),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(N=b.currentUser)||void 0===N?void 0:N.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const M=yield m.assertedPersistence.getCurrentUser();let N=M,Q=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,He=N?._redirectEventId,nt=yield m.tryRedirectSignIn(p);(!de||de===He)&&nt?.user&&(N=nt.user,Q=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(Q)try{yield m.beforeStateQueue.runMiddleware(N)}catch(de){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return ue(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield yr(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function pr(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,j.m9)(p):null;return b&&ue(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&ue(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(er(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const m=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new fn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new va(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&er(p)||m._popupRedirectResolver;ue(b,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[er(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Q,this,"internal-error"),Q.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,b,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(b["X-Firebase-Client"]=M);const N=yield p._getAppCheckToken();return N&&(b["X-Firebase-AppCheck"]=N),b})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function _t(v,...p){ye.logLevel<=le.in.WARN&&ye.warn(`Auth (${k.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Bn(v){return(0,j.m9)(v)}class Ps{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jn(v,p,m){const b=Bn(v);ue(b._canInitEmulator,b,"emulator-config-failed"),ue(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!m?.disableWarnings,N=ud(p),{host:Q,port:de}=function Ir(v){const p=ud(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const N=M[1];return{host:N,port:Hr(b.substr(N.length+1))}}{const[N,Q]=b.split(":");return{host:N,port:Hr(Q)}}}(p);b.config.emulator={url:`${N}//${Q}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Q,port:de,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ea(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ud(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Hr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class ps{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ke("not implemented")}_getIdTokenResponse(p){return Ke("not implemented")}_linkToIdToken(p,m){return Ke("not implemented")}_getReauthenticationResolver(p){return Ke("not implemented")}}function ba(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:resetPassword",he(v,p))})).apply(this,arguments)}function Ia(v,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qh(v,p){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",he(v,p))})).apply(this,arguments)}function Wh(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPassword",he(v,p))})).apply(this,arguments)}function Nl(v,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:sendOobCode",he(v,p))})).apply(this,arguments)}function Wp(v,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(v,p){return Nl(v,p)})).apply(this,arguments)}function cd(v,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,d.Z)(function*(v,p){return Nl(v,p)})).apply(this,arguments)}function Zh(v,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,d.Z)(function*(v,p){return Nl(v,p)})).apply(this,arguments)}function hd(v,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,d.Z)(function*(v,p){return Nl(v,p)})).apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithEmailLink",he(v,p))})).apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithEmailLink",he(v,p))})).apply(this,arguments)}class kl extends ps{constructor(p,m,b,M=null){super("password",b),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new kl(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new kl(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const N=yield ln(p,M,"signInWithPassword");return Wh(p,N)}return Wh(p,M).catch(function(){var N=(0,d.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield ln(p,M,"signInWithPassword");return Wh(p,de)}return Promise.reject(Q)});return function(Q){return N.apply(this,arguments)}}());case"emailLink":return function Zp(v,p){return _u.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Ia(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Kh(v,p){return vu.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function no(v,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithIdp",he(v,p))})).apply(this,arguments)}class Xi extends ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Xi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!b||!M)return null;const Q=new Xi(b,M);return Q.idToken=N.idToken||void 0,Q.accessToken=N.accessToken||void 0,Q.secret=N.secret,Q.nonce=N.nonce,Q.pendingToken=N.pendingToken||null,Q}_getIdTokenResponse(p){return no(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,no(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,no(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,j.xO)(m)}return p}}function Fl(v,p){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:sendVerificationCode",he(v,p))})).apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,p))})).apply(this,arguments)}function Vl(){return(Vl=(0,d.Z)(function*(v,p){const m=yield Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,p));if(m.temporaryProof)throw hn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const gd={USER_NOT_FOUND:"user-not-found"};function Ul(){return(Ul=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gd)})).apply(this,arguments)}class qn extends ps{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new qn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new qn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ll(v,p){return Ta.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function pd(v,p){return Vl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Eu(v,p){return Ul.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:N}=p;return b||m||M||N?new qn({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:N}):null}}class Ns{constructor(p){var m,b,M,N,Q,de;const He=(0,j.zd)((0,j.pd)(p)),nt=null!==(m=He.apiKey)&&void 0!==m?m:null,vt=null!==(b=He.oobCode)&&void 0!==b?b:null,an=function gs(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);ue(nt&&vt&&an,"argument-error"),this.apiKey=nt,this.operation=an,this.code=vt,this.continueUrl=null!==(N=He.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Q=He.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(de=He.tenantId)&&void 0!==de?de:null}static parseLink(p){const m=function Kp(v){const p=(0,j.zd)((0,j.pd)(v)).link,m=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,b=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(b?(0,j.zd)((0,j.pd)(b)).link:null)||b||m||p||v}(p);try{return new Ns(m)}catch{return null}}}let Yh=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return kl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=Ns.parseLink(b);return ue(M,"argument-error"),kl._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class bn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Oo extends bn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Bl extends Oo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ue("providerId"in m&&"signInMethod"in m,"argument-error"),Xi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ue(p.idToken||p.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Bl.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Bl.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:N,nonce:Q,providerId:de}=p;if(!b&&!M&&!m&&!N||!de)return null;try{return new Bl(de)._credential({idToken:m,accessToken:b,nonce:Q,pendingToken:N})}catch{return null}}}let io=(()=>{class v extends Oo{constructor(){super("facebook.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ii=(()=>{class v extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return v.credential(b,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),md=(()=>{class v extends Oo{constructor(){super("github.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vi extends ps{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return no(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,no(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,no(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:N}=m;return b&&M&&N&&b===M?new Vi(b,N):null}static _create(p,m){return new Vi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $l extends bn{constructor(p){ue(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return $l.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return $l.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Vi.fromJSON(p);return ue(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Vi._create(b,m)}catch{return null}}}let bu=(()=>{class v extends Oo{constructor(){super("twitter.com")}static credential(m,b){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return v.credential(b,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Da(v,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signUp",he(v,p))})).apply(this,arguments)}class Cr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,M=!1){return(0,d.Z)(function*(){const N=yield Rn._fromIdTokenResponse(p,b,M),Q=ko(b);return new Cr({user:N,providerId:Q,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=ko(b);return new Cr({user:p,providerId:M,_tokenResponse:b,operationType:m})})()}}function ko(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Pt(v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(v){var p;const m=Bn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Cr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Da(m,{returnSecureToken:!0}),M=yield Cr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Hl extends j.ZR{constructor(p,m,b,M){var N;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,Hl.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,M){return new Hl(p,m,b,M)}}function zl(v,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Hl._fromErrorAndOperation(v,N,p,b):N})}function yd(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Qh(v,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(v,p){const m=(0,j.m9)(v);yield Re(!0,m,p);const{providerUserInfo:b}=yield Ln(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=yd(b||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ui(v,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(v,p,m=!1){const b=yield Gt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Cr._forOperation(v,"link",b)})).apply(this,arguments)}function Re(v,p,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(v,p,m){yield yr(p);const M=!1===v?"provider-already-linked":"no-such-provider";ue(yd(p.providerData).has(m)===v,p.auth,M)})).apply(this,arguments)}function Gl(v,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,d.Z)(function*(v,p,m=!1){const{auth:b}=v,M="reauthenticate";try{const N=yield Gt(v,zl(b,M,p,v),m);ue(N.idToken,b,"internal-error");const Q=Pn(N.idToken);ue(Q,b,"internal-error");const{sub:de}=Q;return ue(v.uid===de,b,"user-mismatch"),Cr._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&xe(b,"user-mismatch"),N}})).apply(this,arguments)}function Wn(v,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(v,p,m=!1){const b="signIn",M=yield zl(v,b,p),N=yield Cr._fromIdTokenResponse(v,b,M);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Os(v,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(v,p){return Wn(Bn(v),p)})).apply(this,arguments)}function Sa(v,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(v,p){const m=(0,j.m9)(v);return yield Re(!1,m,p.providerId),Ui(m,p)})).apply(this,arguments)}function _d(v,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(v,p){return Gl((0,j.m9)(v),p)})).apply(this,arguments)}function xy(v,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithCustomToken",he(v,p))})).apply(this,arguments)}function si(v,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(v,p){const m=Bn(v),b=yield xy(m,{token:p,returnSecureToken:!0}),M=yield Cr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class oi{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?so._fromServerResponse(p,m):"totpInfo"in m?ai._fromServerResponse(p,m):xe(p,"internal-error")}}class so extends oi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new so(m)}}class ai extends oi{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ai(m)}}function xa(v,p,m){var b;ue((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),ue(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ue(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ue(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function vd(v,p,m){return wd.apply(this,arguments)}function wd(){return wd=(0,d.Z)(function*(v,p,m){var b;const M=Bn(v),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Q=yield ln(M,N,"getOobCode",!0);m&&xa(M,Q,m),yield cd(M,Q)}else m&&xa(M,N,m),yield cd(M,N).catch(function(){var Q=(0,d.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const He=yield ln(M,N,"getOobCode",!0);m&&xa(M,He,m),yield cd(M,He)}});return function(de){return Q.apply(this,arguments)}}())}),wd.apply(this,arguments)}function Su(v,p,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(v,p,m){yield ba((0,j.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Wl(v,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(v,p){yield qh((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function Jr(v,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(v,p){const m=(0,j.m9)(v),b=yield ba(m,{oobCode:p}),M=b.requestType;switch(ue(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(b.mfaInfo,m,"internal-error");default:ue(b.email,m,"internal-error")}let N=null;return b.mfaInfo&&(N=oi._fromServerResponse(Bn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Zl(v,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(v,p){const{data:m}=yield Jr((0,j.m9)(v),p);return m.email})).apply(this,arguments)}function Ra(v,p,m){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,d.Z)(function*(v,p,m){var b;const M=Bn(v),N={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const nt=yield ln(M,N,"signUpPassword");Q=Da(M,nt)}else Q=Da(M,N).catch(function(){var nt=(0,d.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const an=yield ln(M,N,"signUpPassword");return Da(M,an)}return Promise.reject(vt)});return function(vt){return nt.apply(this,arguments)}}());const de=yield Q.catch(nt=>Promise.reject(nt)),He=yield Cr._fromIdTokenResponse(M,"signIn",de);return yield M._updateCurrentUser(He.user),He}),Pa.apply(this,arguments)}function Kl(v,p,m){return Os((0,j.m9)(v),Yh.credential(p,m))}function Ed(v,p,m){return ks.apply(this,arguments)}function ks(){return ks=(0,d.Z)(function*(v,p,m){var b;const M=Bn(v),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(de,He){ue(He.handleCodeInApp,M,"argument-error"),He&&xa(M,de,He)}if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const de=yield ln(M,N,"getOobCode",!0);Q(de,m),yield Zh(M,de)}else Q(N,m),yield Zh(M,N).catch(function(){var de=(0,d.Z)(function*(He){if("auth/missing-recaptcha-token"!==He.code)return Promise.reject(He);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield ln(M,N,"getOobCode",!0);Q(nt,m),yield Zh(M,nt)}});return function(He){return de.apply(this,arguments)}}())}),ks.apply(this,arguments)}function bd(v,p){return"EMAIL_SIGNIN"===Ns.parseLink(p)?.operation}function Yp(v,p,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v),M=Yh.credentialWithLink(p,m||mt());return ue(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Os(b,M)})).apply(this,arguments)}function ao(v,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:createAuthUri",he(v,p))})).apply(this,arguments)}function Qp(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(v,p){const b={identifier:p,continueUri:zt()?mt():"http://localhost"},{signinMethods:M}=yield ao((0,j.m9)(v),b);return M||[]})).apply(this,arguments)}function Jh(v,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,d.Z)(function*(v,p){const m=(0,j.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&xa(m.auth,M,p);const{email:N}=yield Wp(m.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Id(v,p,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&xa(b.auth,N,m);const{email:Q}=yield hd(b.auth,N);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function Oa(v,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pu(v,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,j.m9)(v),N={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Q=yield Gt(b,Oa(b.auth,N));b.displayName=Q.displayName||null,b.photoURL=Q.photoUrl||null;const de=b.providerData.find(({providerId:He})=>"password"===He);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Yl(v,p){return es((0,j.m9)(v),p,null)}function Xh(v,p){return es((0,j.m9)(v),null,p)}function es(v,p,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(v,p,m){const{auth:b}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const Q=yield Gt(v,Ia(b,N));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Vo{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class lo extends Vo{constructor(p,m,b,M){super(p,m,b),this.username=M}}class Td extends Vo{constructor(p,m){super(p,"facebook.com",m)}}class Dd extends lo{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ef extends Vo{constructor(p,m){super(p,"google.com",m)}}class Ql extends lo{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Ou(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Cd(v){var p,m;if(!v)return null;const{providerId:b}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const Q=null===(m=null===(p=Pn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Q)return new Vo(N,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!b)return null;switch(b){case"facebook.com":return new Td(N,M);case"github.com":return new Dd(N,M);case"google.com":return new ef(N,M);case"twitter.com":return new Ql(N,M,v.screenName||null);case"custom":case"anonymous":return new Vo(N,null);default:return new Vo(N,b,M)}}(m)}class ui{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new ui("enroll",p,m)}static _fromMfaPendingCredential(p){return new ui("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ui._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return ui._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ec{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Bn(p),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(de=>oi._fromServerResponse(b,de));ue(M.mfaPendingCredential,b,"internal-error");const Q=ui._fromMfaPendingCredential(M.mfaPendingCredential);return new ec(Q,N,function(){var de=(0,d.Z)(function*(He){const nt=yield He._process(b,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const an=yield Cr._fromIdTokenResponse(b,m.operationType,vt);return yield b._updateCurrentUser(an.user),an;case"reauthenticate":return ue(m.user,b,"internal-error"),Cr._forOperation(m.user,m.operationType,vt);default:xe(b,"internal-error")}});return function(He){return de.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function Ls(v,p){var m;const b=(0,j.m9)(v),M=p;return ue(p.customData.operationType,b,"argument-error"),ue(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ec._fromError(b,M)}function Fu(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:start",he(v,p))}class La{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>oi._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new La(p)}getSession(){var p=this;return(0,d.Z)(function*(){return ui._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const M=p,N=yield b.getSession(),Q=yield Gt(b.user,M._process(b.user.auth,N,m));return yield b.user._updateTokensIfNecessary(Q),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const N=yield Gt(m.user,function Bo(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",he(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Q})=>Q!==b),yield m.user._updateTokensIfNecessary(N),yield m.user.reload()}catch(N){throw N}})()}}const co=new WeakMap;function Va(v){const p=(0,j.m9)(v);return co.has(p)||co.set(p,La._fromUser(p)),co.get(p)}const Vs="__sak";class Ua{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sd=(()=>{class v extends Ua{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tc(){const v=(0,j.z$)();return O(v)||Ie(v)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),N=this.localCache[b];M!==N&&m(b,N,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((de,He,nt)=>{this.notifyListeners(de,nt)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const N=()=>{const de=this.storage.getItem(M);!b&&this.localCache[M]===de||this.notifyListeners(M,de)},Q=this.storage.getItem(M);!function Yt(){return(0,j.w1)()&&10===document.documentMode}()||Q===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,N=this;return(0,d.Z)(function*(){yield M().call(N,m,b),N.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const N=yield b().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Us=(()=>{class v extends Ua{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let sf=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(N=>N.isListeningto(m));if(b)return b;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const M=m,{eventId:N,eventType:Q,data:de}=M.data,He=b.handlersMap[Q];if(!He?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Q});const nt=Array.from(He).map(function(){var an=(0,d.Z)(function*($i){return $i(M.origin,de)});return function($i){return an.apply(this,arguments)}}()),vt=yield function Jp(v){return Promise.all(v.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:N,eventType:Q,response:vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Bs(v="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return v+m}class Ho{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var M=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Q,de;return new Promise((He,nt)=>{const vt=Bs("",20);N.port1.start();const an=setTimeout(()=>{nt(new Error("unsupported_event"))},b);de={messageChannel:N,onMessage($i){const ra=$i;if(ra.data.eventId===vt)switch(ra.data.status){case"ack":clearTimeout(an),Q=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),He(ra.data.response);break;default:clearTimeout(an),clearTimeout(Q),nt(new Error("invalid_response"))}}},M.handlers.add(de),N.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:m},[N.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function rr(){return window}function $a(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function rc(){return(rc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const On="firebaseLocalStorageDb",ir="firebaseLocalStorage",Vu="fbase_key";class Ti{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ic(v,p){return v.transaction([ir],p?"readwrite":"readonly").objectStore(ir)}function pn(){const v=indexedDB.open(On,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(ir,{keyPath:Vu})}catch(M){m(M)}}),v.addEventListener("success",(0,d.Z)(function*(){const b=v.result;b.objectStoreNames.contains(ir)?p(b):(b.close(),yield function Md(){const v=indexedDB.deleteDatabase(On);return new Ti(v).toPromise()}(),p(yield pn()))}))})}function Rd(v,p,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(v,p,m){const b=ic(v,!0).put({[Vu]:p,value:m});return new Ti(b).toPromise()})).apply(this,arguments)}function Uu(){return(Uu=(0,d.Z)(function*(v,p){const m=ic(v,!1).get(p),b=yield new Ti(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Xp(v,p){const m=ic(v,!0).delete(p);return new Ti(m).toPromise()}const uf=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield pn()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const N=yield b._openDb();return yield m(N)}catch(N){if(M++>3)throw N;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return $a()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=sf._getInstance(function ms(){return $a()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function nc(){return rc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ho(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(b=N[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function xd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield pn();return yield Rd(m,Vs,"1"),yield Xp(m,Vs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(N=>Rd(N,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(N=>function My(v,p){return Uu.apply(this,arguments)}(N,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>Xp(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(Q=>{const de=ic(Q,!1).getAll();return new Ti(de).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Q,value:de}of b)N.add(Q),JSON.stringify(m.localCache[Q])!==JSON.stringify(de)&&(m.notifyListeners(Q,de),M.push(Q));for(const Q of Object.keys(m.localCache))m.localCache[Q]&&!N.has(Q)&&(m.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ry(v,p){return Pe(v,"POST","/v2/accounts/mfaSignIn:start",he(v,p))}const $u=1e12;class Tr{constructor(p){this.auth=p,this.counter=$u,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new ji(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||$u;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||$u))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||$u))||void 0===b||b.execute(),""})()}}class ji{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ue(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sc(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const za=$r("rcb"),Hu=new ni(3e4,6e4);class Od{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=rr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ue(function tg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&xt(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((b,M)=>{const N=rr().setTimeout(()=>{M(Ce(p,"network-request-failed"))},Hu.get());rr()[za]=()=>{rr().clearTimeout(N),delete rr()[za];const de=rr().grecaptcha;if(!de||!xt(de))return void M(Ce(p,"internal-error"));const He=de.render;de.render=(nt,vt)=>{const an=He(nt,vt);return this.counter++,an},this.hostLanguage=m,b(de)},Qt(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:za,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=rr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lf{load(p){return(0,d.Z)(function*(){return new Tr(p)})()}clearedOneInstance(){}}const ng="recaptcha",oc={theme:"light",type:"image"};class li{constructor(p,m=Object.assign({},oc),b){this.parameters=m,this.type=ng,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(b),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ue(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lf:new Od,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(N=>{const Q=de=>{!de||(p.tokenChangeListeners.delete(Q),N(de))};p.tokenChangeListeners.add(Q),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=rr()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ue(zt()&&!$a(),p.auth,"internal-error"),yield function zu(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function oe(v){return ne.apply(this,arguments)}(p.auth);ue(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ho{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=qn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function cf(v,p,m){return ac.apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(v,p,m){const b=Bn(v),M=yield Go(b,p,(0,j.m9)(m));return new ho(M,N=>Os(b,N))})).apply(this,arguments)}function kd(v,p,m){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v);yield Re(!1,b,"phone");const M=yield Go(b.auth,p,(0,j.m9)(m));return new ho(M,N=>Sa(b,N))})).apply(this,arguments)}function Gu(v,p,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v),M=yield Go(b.auth,p,(0,j.m9)(m));return new ho(M,N=>_d(b,N))})).apply(this,arguments)}function Go(v,p,m){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(v,p,m){var b;const M=yield m.verify();try{let N;if(ue("string"==typeof M,v,"argument-error"),ue(m.type===ng,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const Q=N.session;if("phoneNumber"in N)return ue("enroll"===Q.type,v,"internal-error"),(yield Fu(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ue("signin"===Q.type,v,"internal-error");const de=(null===(b=N.multiFactorHint)||void 0===b?void 0:b.uid)||N.multiFactorUid;return ue(de,v,"missing-multi-factor-info"),(yield Ry(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield Fl(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Q}}finally{m._reset()}})).apply(this,arguments)}function In(v,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(v,p){yield Ui((0,j.m9)(v),p)})).apply(this,arguments)}let rg=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Bn(m)}verifyPhoneNumber(m,b){return Go(this.auth,m,(0,j.m9)(b))}static credential(m,b){return qn._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?qn._fromTokenResponse(b,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ci(v,p){return p?er(p):(ue(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class qa extends ps{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return no(p,this._buildIdpRequest())}_linkToIdToken(p,m){return no(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return no(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function di(v){return Wn(v.auth,new qa(v),v.bypassAuthState)}function lc(v){const{auth:p,user:m}=v;return ue(m,p,"internal-error"),Gl(m,new qa(v),v.bypassAuthState)}function Ld(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(v){const{auth:p,user:m}=v;return ue(m,p,"internal-error"),Ui(m,new qa(v),v.bypassAuthState)})).apply(this,arguments)}class _s{constructor(p,m,b,M,N=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:N,tenantId:Q,error:de,type:He}=p;if(de)return void m.reject(de);const nt={auth:m.auth,requestUri:b,sessionId:M,tenantId:Q||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(nt))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return di;case"linkViaPopup":case"linkViaRedirect":return Ld;case"reauthViaPopup":case"reauthViaRedirect":return lc;default:xe(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zn=new ni(2e3,1e4);function pt(v,p,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(v,p,m){const b=Bn(v);ze(v,p,bn);const M=ci(b,m);return new js(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function or(v,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v);ze(b.auth,p,bn);const M=ci(b.auth,m);return new js(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function cc(v,p,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v);ze(b.auth,p,bn);const M=ci(b.auth,m);return new js(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let js=(()=>{class v extends _s{constructor(m,b,M,N,Q){super(m,b,N,Q),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return ue(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){At(1===m.filter.length,"Popup operations only handle one event");const b=Bs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Zn.get())};m()}}return v.currentPopupAction=null,v})();const Mr=new Map;class ig extends _s{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Mr.get(m.auth._key());if(!b){try{const N=(yield function dc(v,p){return vs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(N)}catch(M){b=()=>Promise.reject(M)}Mr.set(m.auth._key(),b)}return m.bypassAuthState||Mr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function vs(){return(vs=(0,d.Z)(function*(v,p){const m=Ya(p),b=hi(v);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function hc(v,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(v,p){return hi(v)._set(Ya(p),"true")})).apply(this,arguments)}function Ka(){Mr.clear()}function Vd(v,p){Mr.set(v._key(),p)}function hi(v){return er(v._redirectPersistence)}function Ya(v){return Br("pendingRedirect",v.config.apiKey,v.name)}function vr(v,p,m){return function ws(v,p,m){return fc.apply(this,arguments)}(v,p,m)}function fc(){return(fc=(0,d.Z)(function*(v,p,m){const b=Bn(v);ze(v,p,bn),yield b._initializationPromise;const M=ci(b,m);return yield hc(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Rr(v,p,m){return function Wo(v,p,m){return Wu.apply(this,arguments)}(v,p,m)}function Wu(){return(Wu=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v);ze(b.auth,p,bn),yield b.auth._initializationPromise;const M=ci(b.auth,m);yield hc(M,b.auth);const N=yield go(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function df(v,p,m){return function pc(v,p,m){return gc.apply(this,arguments)}(v,p,m)}function gc(){return(gc=(0,d.Z)(function*(v,p,m){const b=(0,j.m9)(v);ze(b.auth,p,bn),yield b.auth._initializationPromise;const M=ci(b.auth,m);yield Re(!1,b,p.providerId),yield hc(M,b.auth);const N=yield go(b);return M._openRedirect(b.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function hf(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(v,p){return yield Bn(v)._initializationPromise,Zu(v,p,!1)})).apply(this,arguments)}function Zu(v,p){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(v,p,m=!1){const b=Bn(v),M=ci(b,p),Q=yield new ig(b,M,m).execute();return Q&&!m&&(delete Q.user._redirectEventId,yield b._persistUserIfCurrent(Q.user),yield b._setRedirectUser(null,p)),Q})).apply(this,arguments)}function go(v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(v){const p=Bs(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Zo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function yc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Ko(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mc(p))}saveEventToCache(p){this.cachedEventUids.add(mc(p)),this.lastProcessedEventTime=Date.now()}}function mc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ko({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Yo(v){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,p={}){return Pe(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Yu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sg=/^https?/;function Jo(){return(Jo=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Yo(v);for(const m of p)try{if(Ud(m))return}catch{}xe(v,"unauthorized-domain")})).apply(this,arguments)}function Ud(v){const p=mt(),{protocol:m,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Q.hostname===b}if(!sg.test(m))return!1;if(Yu.test(v))return b===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const $s=new ni(3e4,6e4);function _c(){const v=rr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Qu=null;function Kn(v){return Qu=Qu||function ff(v){return new Promise((p,m)=>{var b,M,N;function Q(){_c(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_c(),m(Ce(v,"network-request-failed"))},timeout:$s.get()})}if(null!==(M=null===(b=rr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(N=rr().gapi)||void 0===N||!N.load){const de=$r("iframefcb");return rr()[de]=()=>{gapi.load?Q():m(Ce(v,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${de}`).catch(He=>m(He))}Q()}}).catch(p=>{throw Qu=null,p})}(v),Qu}const Es=new ni(5e3,15e3),ug={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fi(v){const p=v.config;ue(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Qi(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:k.SDK_VERSION},M=Xo.get(v.config.apiHost);M&&(b.eid=M);const N=v._getFrameworks();return N.length&&(b.fw=N.join(",")),`${m}?${(0,j.xO)(b).slice(1)}`}function ea(){return ea=(0,d.Z)(function*(v){const p=yield Kn(v),m=rr().gapi;return ue(m,v,"internal-error"),p.open({where:document.body,url:fi(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ug,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(N,Q){yield b.restyle({setHideOnLeave:!1});const de=Ce(v,"network-request-failed"),He=rr().setTimeout(()=>{Q(de)},Es.get());function nt(){rr().clearTimeout(He),N(b)}b.ping(nt).then(nt,()=>{Q(de)})});return function(N,Q){return M.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft=encodeURIComponent("fac");function Nt(v,p,m,b,M,N){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(v,p,m,b,M,N){ue(v.config.authDomain,v,"auth-domain-config-required"),ue(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:k.SDK_VERSION,eventId:M};if(p instanceof bn){p.setDefaultLanguage(v.languageCode),Q.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,an]of Object.entries(N||{}))Q[vt]=an}if(p instanceof Oo){const vt=p.getScopes().filter(an=>""!==an);vt.length>0&&(Q.scopes=vt.join(","))}v.tenantId&&(Q.tid=v.tenantId);const de=Q;for(const vt of Object.keys(de))void 0===de[vt]&&delete de[vt];const He=yield v._getAppCheckToken(),nt=He?`#${Ft}=${encodeURIComponent(He)}`:"";return`${dn(v)}?${(0,j.xO)(de).slice(1)}${nt}`})).apply(this,arguments)}function dn({config:v}){return v.emulator?Qi(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const rs="webStorageSupport",is=class ta{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Us,this._completeRedirectFn=Zu,this._overrideRedirectResult=Vd}_openPopup(p,m,b,M){var N=this;return(0,d.Z)(function*(){var Q;At(null===(Q=N.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const de=yield Nt(p,m,b,mt(),M);return function ge(v,p,m,b=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const He=Object.assign(Object.assign({},E),{width:b.toString(),height:M.toString(),top:N,left:Q}),nt=(0,j.z$)().toLowerCase();m&&(de=R(nt)?"_blank":m),F(nt)&&(p=p||"http://localhost",He.scrollbars="yes");const vt=Object.entries(He).reduce(($i,[ra,Xu])=>`${$i}${ra}=${Xu},`,"");if(function ut(v=(0,j.z$)()){var p;return Ie(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==de)return function Ye(v,p){const m=document.createElement("a");m.href=v,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",de),new X(null);const an=window.open(p||"",de,vt);ue(an,v,"popup-blocked");try{an.focus()}catch{}return new X(an)}(p,de,Bs())})()}_openRedirect(p,m,b,M){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(p),function ja(v){rr().location.href=v}(yield Nt(p,m,b,mt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(At(N,"If manager is not set, promise should be"),N)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function vc(v){return ea.apply(this,arguments)}(p),M=new Zo(p);return b.register("authEvent",N=>(ue(N?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(rs,{type:rs},M=>{var N;const Q=null===(N=M?.[0])||void 0===N?void 0:N[rs];void 0!==Q&&m(!!Q),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function og(v){return Jo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return kt()||O()||Ie()}};class Nr extends class Xr{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nr(p)}_finalizeEnroll(p,m,b){return function Fa(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:finalize",he(v,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function sr(v,p){return Pe(v,"POST","/v2/accounts/mfaSignIn:finalize",he(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let na=(()=>{class v{constructor(){}static assertion(m){return Nr._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var bc="@firebase/auth";class jd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Ju(v){(0,k._registerComponent)(new me.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:de}=b.options;ue(Q&&!Q.includes(":"),"invalid-api-key",{appName:b.name});const He={apiKey:Q,authDomain:de,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(v)},nt=new eo(b,M,N,He);return function No(v,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(er);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,p?.popupRedirectResolver)}(nt,m),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new me.wA("auth-internal",p=>{const m=Bn(p.getProvider("auth").getImmediate());return new jd(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(bc,"0.23.2",function $d(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(bc,"0.23.2","esm2017")}("Browser")},2090:(wt,Oe,V)=>{V.d(Oe,{$s:()=>er,BH:()=>Se,G6:()=>Qi,L:()=>we,LL:()=>Me,P0:()=>gt,Pz:()=>Ce,Sg:()=>ze,UG:()=>Ke,US:()=>me,ZB:()=>J,ZR:()=>Pe,aH:()=>xe,b$:()=>zt,eu:()=>ee,hl:()=>ie,jU:()=>At,m9:()=>Br,ne:()=>Gt,pd:()=>Pn,r3:()=>Ln,ru:()=>mt,tV:()=>q,uI:()=>ue,vZ:()=>mr,w1:()=>Yi,xO:()=>Fi,xb:()=>wi,z$:()=>Ge,zI:()=>Ae,zd:()=>Kr});const re=function(z){const $=[];let F=0;for(let O=0;O<z.length;O++){let R=z.charCodeAt(O);R<128?$[F++]=R:R<2048?($[F++]=R>>6|192,$[F++]=63&R|128):55296==(64512&R)&&O+1<z.length&&56320==(64512&z.charCodeAt(O+1))?(R=65536+((1023&R)<<10)+(1023&z.charCodeAt(++O)),$[F++]=R>>18|240,$[F++]=R>>12&63|128,$[F++]=R>>6&63|128,$[F++]=63&R|128):($[F++]=R>>12|224,$[F++]=R>>6&63|128,$[F++]=63&R|128)}return $},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let R=0;R<z.length;R+=3){const Y=z[R],be=R+1<z.length,Ze=be?z[R+1]:0,yt=R+2<z.length,Ie=yt?z[R+2]:0;let Yt=(15&Ze)<<2|Ie>>6,kt=63&Ie;yt||(kt=64,be||(Yt=64)),O.push(F[Y>>2],F[(3&Y)<<4|Ze>>4],F[Yt],F[kt])}return O.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(re(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let F=0,O=0;for(;F<z.length;){const R=z[F++];if(R<128)$[O++]=String.fromCharCode(R);else if(R>191&&R<224){const Y=z[F++];$[O++]=String.fromCharCode((31&R)<<6|63&Y)}else if(R>239&&R<365){const yt=((7&R)<<18|(63&z[F++])<<12|(63&z[F++])<<6|63&z[F++])-65536;$[O++]=String.fromCharCode(55296+(yt>>10)),$[O++]=String.fromCharCode(56320+(1023&yt))}else{const Y=z[F++],be=z[F++];$[O++]=String.fromCharCode((15&R)<<12|(63&Y)<<6|63&be)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const F=$?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let R=0;R<z.length;){const Y=F[z.charAt(R++)],Ze=R<z.length?F[z.charAt(R)]:0;++R;const Ie=R<z.length?F[z.charAt(R)]:64;++R;const ut=R<z.length?F[z.charAt(R)]:64;if(++R,null==Y||null==Ze||null==Ie||null==ut)throw new fe;O.push(Y<<2|Ze>>4),64!==Ie&&(O.push(Ze<<4&240|Ie>>2),64!==ut&&O.push(Ie<<6&192|ut))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(z){return function(z){const $=re(z);return me.encodeByteArray($,!0)}(z).replace(/\./g,"")},q=function(z){try{return me.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function J(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const F in $)!$.hasOwnProperty(F)||!$e(F)||(z[F]=J(z[F],$[F]));return z}function $e(z){return"__proto__"!==z}const ye=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=z&&q(z[1]);return $&&JSON.parse($)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},gt=z=>{const $=(z=>{var $,F;return null===(F=null===($=ye())||void 0===$?void 0:$.emulatorHosts)||void 0===F?void 0:F[z]})(z);if(!$)return;const F=$.lastIndexOf(":");if(F<=0||F+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const O=parseInt($.substring(F+1),10);return"["===$[0]?[$.substring(1,F-1),O]:[$.substring(0,F),O]},xe=()=>{var z;return null===(z=ye())||void 0===z?void 0:z.config},Ce=z=>{var $;return null===($=ye())||void 0===$?void 0:$[`_${z}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,F)=>{this.resolve=$,this.reject=F})}wrapCallback($){return(F,O)=>{F?this.reject(F):this.resolve(O),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(F):$(F,O))}}}function ze(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=$||"demo-project",R=z.iat||0,Y=z.sub||z.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const be=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:R,exp:R+3600,auth_time:R,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},z);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(be)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ke(){var z;const $=null===(z=ye())||void 0===z?void 0:z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function mt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yi(){const z=Ge();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Qi(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((z,$)=>{try{let F=!0;const O="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(O);R.onsuccess=()=>{R.result.close(),F||self.indexedDB.deleteDatabase(O),z(!0)},R.onupgradeneeded=()=>{F=!1},R.onerror=()=>{var Y;$((null===(Y=R.error)||void 0===Y?void 0:Y.message)||"")}}catch(F){$(F)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor($,F,O){super(F),this.code=$,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor($,F,O){this.service=$,this.serviceName=F,this.errors=O}create($,...F){const O=F[0]||{},R=`${this.service}/${$}`,Y=this.errors[$],be=Y?function lt(z,$){return z.replace(Tt,(F,O)=>{const R=$[O];return null!=R?String(R):`<${O}?>`})}(Y,O):"Error";return new Pe(R,`${this.serviceName}: ${be} (${R}).`,O)}}const Tt=/\{\$([^}]+)}/g;function Ln(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function wi(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function mr(z,$){if(z===$)return!0;const F=Object.keys(z),O=Object.keys($);for(const R of F){if(!O.includes(R))return!1;const Y=z[R],be=$[R];if(Jn(Y)&&Jn(be)){if(!mr(Y,be))return!1}else if(Y!==be)return!1}for(const R of O)if(!F.includes(R))return!1;return!0}function Jn(z){return null!==z&&"object"==typeof z}function Fi(z){const $=[];for(const[F,O]of Object.entries(z))Array.isArray(O)?O.forEach(R=>{$.push(encodeURIComponent(F)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(F)+"="+encodeURIComponent(O));return $.length?"&"+$.join("&"):""}function Kr(z){const $={};return z.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[R,Y]=O.split("=");$[decodeURIComponent(R)]=decodeURIComponent(Y)}}),$}function Pn(z){const $=z.indexOf("?");if(!$)return"";const F=z.indexOf("#",$);return z.substring($,F>0?F:void 0)}function Gt(z,$){const F=new ht(z,$);return F.subscribe.bind(F)}class ht{constructor($,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{$(this)}).catch(O=>{this.error(O)})}next($){this.forEachObserver(F=>{F.next($)})}error($){this.forEachObserver(F=>{F.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,F,O){let R;if(void 0===$&&void 0===F&&void 0===O)throw new Error("Missing Observer.");R=function tn(z,$){if("object"!=typeof z||null===z)return!1;for(const F of $)if(F in z&&"function"==typeof z[F])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:F,complete:O},void 0===R.next&&(R.next=Yr),void 0===R.error&&(R.error=Yr),void 0===R.complete&&(R.complete=Yr);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),Y}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,$)}sendOne($,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{F(this.observers[$])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function er(z,$=1e3,F=2){const O=$*Math.pow(F,z),R=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+R)}function Br(z){return z&&z._delegate?z._delegate:z}},5519:(wt,Oe,V)=>{var d=V(4650);let j=null;function k(){return j}const fe=new d.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function we(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})();const q=new d.OlP("Location Initialized");let G=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function $e(){return new G((0,d.LFG)(fe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(_t)},providedIn:"root"}),n})();const ye=new d.OlP("appBaseHref");let _t=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_e),d.LFG(ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+it(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+it(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_e),d.LFG(ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ne,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(d.LFG(Ee))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(){return new xe((0,d.LFG)(Ee))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}let ln=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Bn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Bn(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),to(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{to(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function to(n,e){n.context.$implicit=e.item}let jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ud,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ir("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ir("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ud{constructor(){this.$implicit=null,this.ngIf=null}}function Ir(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Ns(n){return"server"===n}let Oo=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Bl((0,d.LFG)(fe),window)}),n})();class Bl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ii(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=io(this.window.history)||io(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function io(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ql extends class ef extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){j||(j=n)}(new Ql)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jl(){return Ou=Ou||document.querySelector("base"),Ou?Ou.getAttribute("href"):null}();return null==t?null:function Ad(n){ku=ku||document.createElement("a"),ku.setAttribute("href",n);const e=ku.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ou=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function va(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ku,Ou=null;const Uo=new d.OlP("TRANSITION_ID"),Xl=[{provide:d.ip1,useFactory:function tf(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Uo,fe,d.zs3],multi:!0}];let nf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new d.OlP("EventManagerPlugins");let Fs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ts),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ui{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ec=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends ec{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Fu(n){k().remove(n)}const Fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bi=/%COMP%/g;function Ua(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ua(n,i,t):(i=i.replace(Bi,n),t.push(i))}return t}function tc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let jo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ba(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Jp(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new sf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ua(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fs),d.LFG(Ls),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ba{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Us(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Us(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Fa[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Fa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,tc(r)):this.eventManager.addEventListener(e,t,tc(r))}}function Us(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jp extends Ba{constructor(e,t,r,i){super(e),this.component=r;const a=Ua(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Va(n){return"_ngcontent-%COMP%".replace(Bi,n)}(i+"-"+r.id),this.hostAttr=function Vs(n){return"_nghost-%COMP%".replace(Bi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sf extends Ba{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ua(i.id,i.styles,[]);for(let l=0;l<a.length;l++){const f=document.createElement("style");f.textContent=a[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Bs=(()=>{class n extends ui{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ja={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $a=(()=>{class n extends ui{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Ho.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=rr[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ho.forEach(l=>{l!==i&&(0,ja[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function zo(){Ql.makeCurrent()},multi:!0},{provide:fe,useFactory:function Vu(){return(0,d.RDi)(document),document},deps:[]}]),Md=new d.OlP(""),pn=[{provide:d.rWj,useClass:class ka{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Rd=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ir(){return new d.qLn},deps:[]},{provide:ts,useClass:Bs,multi:!0,deps:[fe,d.R0b,d.Lbi]},{provide:ts,useClass:$a,multi:!0,deps:[fe]},{provide:jo,useClass:jo,deps:[Fs,Ls,d.AFp]},{provide:d.FYo,useExisting:jo},{provide:ec,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[fe]},{provide:Fs,useClass:Fs,deps:[ts,d.R0b]},{provide:class jl{},useClass:nf,deps:[]},[]];let Ha=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Uo,useExisting:d.AFp},Xl]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Md,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Rd,...pn],imports:[gd,d.hGG]}),n})(),af=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function eg(){return new af((0,d.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Gu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Go),r},providedIn:"root"}),n})(),Go=(()=>{class n extends Gu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ga(n){return new Go(n.get(fe))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var In=V(8996),xr=V(9751);const{isArray:rg}=Array,{getPrototypeOf:ci,prototype:qa,keys:di}=Object;function lc(n){if(1===n.length){const e=n[0];if(rg(e))return{args:e,keys:null};if(function Ld(n){return n&&"object"==typeof n&&ci(n)===qa}(e)){const t=di(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ys=V(8421),_s=V(7669),Zn=V(5403),pt=V(4004);const{isArray:Wa}=Array;function Za(n){return(0,pt.U)(e=>function or(n,e){return Wa(e)?n(...e):n(e)}(n,e))}function cc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let js=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),fo=(()=>{class n extends js{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Mr=new d.OlP("NgValueAccessor"),vs={provide:Mr,useExisting:(0,d.Gpc)(()=>Ka),multi:!0},qo=new d.OlP("CompositionEventMode");let Ka=(()=>{class n extends js{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hc(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qo,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([vs]),d.qOj]}),n})();function hi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Ya(n){return null!=n&&"number"==typeof n.length}const vr=new d.OlP("NgValidators"),ws=new d.OlP("NgAsyncValidators"),fc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rr{static min(e){return function Wo(n){return e=>{if(hi(e.value)||hi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Wu(n){return e=>{if(hi(e.value)||hi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function df(n){return hi(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function pc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gc(n){return hi(n.value)||fc.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hf(n){return e=>hi(e.value)||!Ya(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Qa(n){return e=>Ya(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Zu(n){if(!n)return po;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(hi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return yc(e)}static composeAsync(e){return Qo(e)}}function po(n){return null}function go(n){return null!=n}function Ja(n){return(0,d.QGY)(n)?(0,In.D)(n):n}function Ku(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Zo(n,e){return e.map(t=>t(n))}function Ko(n){return n.map(e=>function mc(n){return!n.validate}(e)?e:t=>e.validate(t))}function yc(n){if(!n)return null;const e=n.filter(go);return 0==e.length?null:function(t){return Ku(Zo(t,e))}}function Yo(n){return null!=n?yc(Ko(n)):null}function Qo(n){if(!n)return null;const e=n.filter(go);return 0==e.length?null:function(t){return function qu(...n){const e=(0,_s.jO)(n),{args:t,keys:r}=lc(n),i=new xr.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let y=l,w=l;for(let D=0;D<l;D++){let S=!1;(0,ys.Xf)(t[D]).subscribe((0,Zn.x)(a,B=>{S||(S=!0,w--),f[D]=B},()=>y--,void 0,()=>{(!y||!S)&&(w||a.next(r?cc(r,f):f),a.complete())}))}});return e?i.pipe(Za(e)):i}(Zo(t,e).map(Ja)).pipe((0,pt.U)(Ku))}}function Yu(n){return null!=n?Qo(Ko(n)):null}function sg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function og(n){return n._rawValidators}function Jo(n){return n._rawAsyncValidators}function Ud(n){return n?Array.isArray(n)?n:[n]:[]}function $s(n,e){return Array.isArray(n)?n.includes(e):n===e}function _c(n,e){const t=Ud(e);return Ud(n).forEach(i=>{$s(t,i)||t.push(i)}),t}function ff(n,e){return Ud(e).filter(t=>!$s(n,t))}class Qu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kn extends Qu{get formDirective(){return null}get path(){return null}}class Es extends Qu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ns{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xo=(()=>{class n extends ns{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Es,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),fi=(()=>{class n extends ns{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Kn,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const is="VALID",Xr="INVALID",Nr="PENDING",na="DISABLED";function pf(n){return(bc(n)?n.validators:n)||null}function Bd(n){return Array.isArray(n)?Yo(n):n||null}function wc(n,e){return(bc(e)?e.asyncValidators:n)||null}function Ec(n){return Array.isArray(n)?Yu(n):n||null}function bc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ic(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")}function jd(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})}class $d{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Bd(this._rawValidators),this._composedAsyncValidatorFn=Ec(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===is}get invalid(){return this.status===Xr}get pending(){return this.status==Nr}get disabled(){return this.status===na}get enabled(){return this.status!==na}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Bd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ec(e)}addValidators(e){this.setValidators(_c(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_c(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ff(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ff(e,this._rawAsyncValidators))}hasValidator(e){return $s(this._rawValidators,e)}hasAsyncValidator(e){return $s(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=na,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=is,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===Nr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?na:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nr,this._hasOwnPendingAsyncValidator=!0;const t=Ja(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?na:this.errors?Xr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nr)?Nr:this._anyControlsHaveStatus(Xr)?Xr:is}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ju extends $d{constructor(e,t,r){super(pf(t),wc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jd(this,0,e),Object.keys(e).forEach(r=>{Ic(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class gf extends Ju{}function v(n,e){M(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Q(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&He(n,e)})}(n,e),function nt(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function de(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&He(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function p(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),N(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M(n,e){const t=og(n);null!==e.validator?n.setValidators(sg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Jo(n);null!==e.asyncValidator?n.setAsyncValidators(sg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();m(e._rawValidators,i),m(e._rawAsyncValidators,i)}function N(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=og(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Jo(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return m(e._rawValidators,r),m(e._rawAsyncValidators,r),t}function He(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Py(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tl=class extends $d{constructor(e=null,t,r){super(pf(t),wc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Py(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Py(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const jy=new d.OlP("NgModelWithFormControlWarning"),ZT={provide:Kn,useExisting:(0,d.Gpc)(()=>il)};let il=(()=>{class n extends Kn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return v(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){p(t.control||null,t,!1),function _f(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function yf(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(p(r||null,t),(n=>n instanceof tl)(i)&&(v(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function vt(n,e){M(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function an(n,e){return N(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&N(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vr,10),d.Y36(ws,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ZT]),d.qOj,d.TTD]}),n})();const Nw={provide:Es,useExisting:(0,d.Gpc)(()=>Wd)};let Wd=(()=>{class n extends Es{constructor(t,r,i,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Tc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ka?t=a:function zd(n){return Object.getPrototypeOf(n.constructor)===fo}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function el(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Cc(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Kn,13),d.Y36(vr,10),d.Y36(ws,10),d.Y36(Mr,10),d.Y36(jy,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Nw]),d.qOj,d.TTD]}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vy]}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$w]}),n})(),Hw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$w]}),n})();class zw extends $d{constructor(e,t,r){super(pf(t),wc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){jd(this,0,e),e.forEach((r,i)=>{Ic(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Zy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ef=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return Zy(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ju(i,a)}record(t,r=null){const i=this._reduceControls(t);return new gf(i,r)}control(t,r,i){let a={};return this.useNonNullable?(Zy(r)?a=r:(a.validators=r,a.asyncValidators=i),new tl(t,{...a,nonNullable:!0})):new tl(t,r,i)}array(t,r,i){const a=t.map(l=>this._createControl(l));return new zw(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof tl||t instanceof $d?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:Hw}),n})();class Gw{}const sa="*";function uD(n,e){return{type:7,name:n,definitions:e,options:{}}}function qw(n,e=null){return{type:4,styles:e,timings:n}}function Ww(n,e=null){return{type:2,steps:n,options:e}}function bf(n){return{type:6,styles:n,offset:null}}function Zw(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yd(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Yy(n){Promise.resolve().then(n)}class Qd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Yy(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function _g(n){return new d.vHH(3e3,!1)}function xD(){return typeof window<"u"&&typeof window.document<"u"}function Eg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function eu(n){switch(n.length){case 0:return new Qd;case 1:return n[0];default:return new yg(n)}}function bg(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let y=-1,w=null;if(r.forEach(D=>{const S=D.get("offset"),B=S==y,H=B&&w||new Map;D.forEach((K,se)=>{let ce=se,Be=K;if("offset"!==se)switch(ce=e.normalizePropertyName(ce,l),Be){case"!":Be=i.get(se);break;case sa:Be=a.get(se);break;default:Be=e.normalizeStyleValue(se,ce,Be,l)}H.set(ce,Be)}),B||f.push(H),w=H,y=S}),l.length)throw function bD(n){return new d.vHH(3502,!1)}();return f}function Tf(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&t_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&t_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&t_(t,"destroy",n)))}}function t_(n,e,t){const a=Df(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function Df(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function pi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function nE(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let n_=(n,e)=>!1,rE=(n,e,t)=>[],iE=null;function r_(n){const e=n.parentNode||n.host;return e===iE?null:e}(Eg()||typeof Element<"u")&&(xD()?(iE=(()=>document.documentElement)(),n_=(n,e)=>{for(;e;){if(e===n)return!0;e=r_(e)}return!1}):n_=(n,e)=>n.contains(e),rE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hs=null,oa=!1;const PD=n_,i_=rE;let s_=(()=>{class n{validateStyleProperty(t){return function RD(n){Hs||(Hs=function uP(){return typeof document<"u"?document.body:null}()||{},oa=!!Hs.style&&"WebkitAppearance"in Hs.style);let e=!0;return Hs.style&&!function MD(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hs.style,!e&&oa&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hs.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return PD(t,r)}getParentElement(t){return r_(t)}query(t,r,i){return i_(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],y){return new Qd(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),sE=(()=>{class n{}return n.NOOP=new s_,n})();const o_="ng-enter",Ig="ng-leave",ss="ng-trigger",Cg=".ng-trigger",a_="ng-animating",u_=".ng-animating";function tu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:l_(parseFloat(e[1]),e[2])}function l_(n,e){return"s"===e?1e3*n:n}function Tg(n,e,t){return n.hasOwnProperty("duration")?n:function lE(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(_g()),{duration:0,delay:0,easing:""};i=l_(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=l_(parseFloat(y),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function Qw(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Jw(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,_g())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Af(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cE(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function nu(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function c_(n,e,t){return t?e+":"+t+";":""}function d_(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=c_(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=c_(0,Rc(t),n.style[t]));n.setAttribute("style",e)}function aa(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ag(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Eg()&&d_(n))}function Mc(n,e){n.style&&(e.forEach((t,r)=>{const i=Ag(r);n.style[i]=""}),Eg()&&d_(n))}function eh(n){return Array.isArray(n)?1==n.length?n[0]:Ww(n):n}const Dg=new RegExp("{{\\s*(.+?)\\s*}}","g");function dE(n){let e=[];if("string"==typeof n){let t;for(;t=Dg.exec(n);)e.push(t[1]);Dg.lastIndex=0}return e}function Sf(n,e,t){const r=n.toString(),i=r.replace(Dg,(a,l)=>{let f=e[l];return null==f&&(t.push(function hD(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function h_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hE=/-+([a-z0-9])/g;function Ag(n){return n.replace(hE,(...e)=>e[1].toUpperCase())}function Rc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Qy(n){return new d.vHH(3004,!1)}()}}function fE(n,e){return window.getComputedStyle(n)[e]}function LD(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function gE(n,e,t){if(":"==n[0]){const y=function Sg(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function wD(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vD(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(mE(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(mE(l,i))}(r,t,e)):t.push(n),t}const xg=new Set(["true","1"]),xf=new Set(["false","0"]);function mE(n,e){const t=xg.has(n)||xf.has(n),r=xg.has(e)||xf.has(e);return(i,a)=>{let l="*"==n||n==i,f="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?xg.has(n):xf.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?xg.has(e):xf.has(e)),l&&f}}const VD=new RegExp("s*:selfs*,?","g");function m_(n,e,t,r){return new vE(n).build(e,t,r)}class vE{constructor(e){this._driver=e}build(e,t,r){const i=new EE(t);return this._resetContextStyleTimingState(i),Hi(this,eh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function fD(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function Jy(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{dE(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(h_(a.values()),t.errors.push(function wg(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hi(this,eh(e.animation),t);return{type:1,matchers:LD(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:iu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hi(this,r,t)),options:iu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=Hi(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:iu(e.options)}}visitAnimate(e,t){const r=function dP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return __(Tg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=__(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Tg(t,e);return __(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:bf({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=bf(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===sa?r.push(f):t.errors.push(new d.vHH(3002,!1)):r.push(cE(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let S=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function Xy(n,e,t,r,i){return new d.vHH(3010,!1)}()),S=!1),a=D.startTime),S&&w.set(y,{startTime:a,endTime:i}),t.options&&function OD(n,e,t){const r=e.params||{},i=dE(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Sc(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gD(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,w=0;const D=e.steps.map(Be=>{const Qe=this._makeStyleAst(Be,t);let We=null!=Qe.offset?Qe.offset:function y_(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Qe.styles),Xe=0;return null!=We&&(a++,Xe=Qe.offset=We),y=y||Xe<0||Xe>1,f=f||Xe<w,w=Xe,l.push(Xe),Qe});y&&t.errors.push(function mD(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function Xw(){return new d.vHH(3200,!1)}());const S=e.steps.length;let B=0;a>0&&a<S?t.errors.push(function Jd(){return new d.vHH(3202,!1)}()):0==a&&(B=1/(S-1));const H=S-1,K=t.currentTime,se=t.currentAnimateTimings,ce=se.duration;return D.forEach((Be,Qe)=>{const We=B>0?Qe==H?1:B*Qe:l[Qe],Xe=We*ce;t.currentTime=K+se.delay+Xe,se.duration=Xe,this._validateStyleAst(Be,t),Be.offset=We,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Hi(this,eh(e.animation),t),options:iu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:iu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:iu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function UD(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(VD,"")),n=n.replace(/@\*/g,Cg).replace(/@\w+/g,t=>Cg+"-"+t.slice(1)).replace(/:animating/g,u_),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,pi(t.collectedStyles,t.currentQuerySelector,new Map);const f=Hi(this,eh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:iu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yD(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Tg(e.timings,t.errors,!0);return{type:12,animation:Hi(this,eh(e.animation),t),timings:r,options:null}}}class EE{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function iu(n){return n?(n=Af(n)).params&&(n.params=function wE(n){return n?Af(n):null}(n.params)):n={},n}function __(n,e,t){return{duration:n,delay:e,easing:t}}function bE(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class su{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mg=new RegExp(":enter","g"),TE=new RegExp(":leave","g");function v_(n,e,t,r,i,a=new Map,l=new Map,f,y,w=[]){return(new w_).buildKeyframes(n,e,t,r,i,a,l,f,y,w)}class w_{buildKeyframes(e,t,r,i,a,l,f,y,w,D=[]){w=w||new su;const S=new Mf(e,t,w,i,a,D,[]);S.options=y;const B=y.delay?tu(y.delay):0;S.currentTimeline.delayNextStep(B),S.currentTimeline.setStyles([l],null,S.errors,y),Hi(this,r,S);const H=S.timelines.filter(K=>K.containsAnimation());if(H.length&&f.size){let K;for(let se=H.length-1;se>=0;se--){const ce=H[se];if(ce.element===t){K=ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,S.errors,y)}return H.length?H.map(K=>K.buildKeyframes()):[bE(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:tu(Sf(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?tu(r.duration):null,f=null!=r.delay?tu(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zs);const l=tu(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Hi(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?tu(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Hi(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Tg(t.params?Sf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?tu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zs);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,w);a&&S.delayNextStep(a),w===t.element&&(y=S.currentTimeline),Hi(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const S=D.currentTime;Hi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const zs={};class Mf{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Rf(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=tu(r.duration)),null!=r.delay&&(i.delay=tu(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Sf(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Mf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=zs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new E_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Mg,"."+this._enterClassName)).replace(TE,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function _D(n){return new d.vHH(3014,!1)}()),f}}class Rf{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Rf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||sa),this._currentKeyframe.set(t,sa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function DE(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,sa)}else nu(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const w=Sf(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??sa),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=nu(f,new Map,this._backFill);w.forEach((D,S)=>{"!"===D?e.add(S):D===sa&&t.add(S)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?h_(e.values()):[],l=t.size?h_(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return bE(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class E_ extends Rf{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=nu(e[0]);y.set("offset",0),a.push(y);const w=nu(e[0]);w.set("offset",BD(f)),a.push(w);const D=e.length-1;for(let S=1;S<=D;S++){let B=nu(e[S]);const H=B.get("offset");B.set("offset",BD((t+H*r)/l)),a.push(B)}r=l,t=0,i="",e=a}return bE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function BD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class th{}const I_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class C_ extends th{normalizePropertyName(e,t){return Ag(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(I_.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function vg(n,e){return new d.vHH(3005,!1)}())}return l+a}}function Rg(n,e,t,r,i,a,l,f,y,w,D,S,B){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:S,errors:B}}const AE={};class SE{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jD(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,w,D){const S=[],B=this.ast.options&&this.ast.options.params||AE,K=this.buildStyles(r,f&&f.params||AE,S),se=y&&y.params||AE,ce=this.buildStyles(i,se,S),Be=new Set,Qe=new Map,We=new Map,Xe="void"===i,Ut={params:$D(se,B),delay:this.ast.options?.delay},Bt=D?[]:v_(e,t,this.ast.animation,a,l,K,ce,Ut,w,S);let _n=0;if(Bt.forEach(hs=>{_n=Math.max(hs.duration+hs.delay,_n)}),S.length)return Rg(t,this._triggerName,r,i,Xe,K,ce,[],[],Qe,We,_n,S);Bt.forEach(hs=>{const od=hs.element,Y2=pi(Qe,od,new Set);hs.preStyleProps.forEach(Gp=>Y2.add(Gp));const Sw=pi(We,od,new Set);hs.postStyleProps.forEach(Gp=>Sw.add(Gp)),od!==t&&Be.add(od)});const Dr=h_(Be.values());return Rg(t,this._triggerName,r,i,Xe,K,ce,Bt,Dr,Qe,We,_n)}}function $D(n,e){const t=Af(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class xE{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Af(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=Sf(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(y,l)})}),r}}class HD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new xE(i.style,i.options&&i.options.params||{},r))}),T_(this.states,"true","1"),T_(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new SE(e,i,this.states))}),this.fallbackTransition=function pP(n,e,t){return new SE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function T_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ME=new su;class zD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=m_(this._driver,t,r,[]);if(r.length)throw function tE(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=bg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=v_(this._driver,t,a,o_,Ig,new Map,new Map,r,ME,i),l.forEach(D=>{const S=pi(f,D.element,new Map);D.postStyleProps.forEach(B=>S.set(B,null))})):(i.push(function iP(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function ID(n){return new d.vHH(3504,!1)}();f.forEach((D,S)=>{D.forEach((B,H)=>{D.set(H,this._driver.computeStyle(S,H,sa))})});const w=eu(l.map(D=>{const S=f.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function If(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Df(t,"","","");return Tf(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Pg="ng-animate-queued",RE="ng-animate-disabled",vP=[],GD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vo="__ng_removed";class PE{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function D_(n){return n??null}(r?e.value:e),r){const a=Af(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Gs="void",Pf=new PE(Gs);class qD{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CD(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function Xd(n){return new d.vHH(3303,!1)}();if(!function sl(n){return"start"==n||"done"==n}(r))throw function Cf(n,e){return new d.vHH(3400,!1)}();const a=pi(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=pi(this._engine.statesByElement,e,new Map);return f.has(t)||(bs(e,ss),bs(e,ss+"-"+t),f.set(t,Pf)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function TD(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new Nf(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(bs(e,ss),bs(e,ss+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new PE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=Pf),w.value!==Gs&&y.value===w.value){if(!function S_(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const se=[],ce=a.matchStyles(y.value,y.params,se),Be=a.matchStyles(w.value,w.params,se);se.length?this._engine.reportError(se):this._engine.afterFlush(()=>{Mc(e,ce),aa(e,Be)})}return}const B=pi(this._engine.playersByElement,e,[]);B.forEach(se=>{se.namespaceId==this.id&&se.triggerName==t&&se.queued&&se.destroy()});let H=a.matchTransition(y.value,w.value,e,w.params),K=!1;if(!H){if(!i)return;H=a.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:w,player:l,isFallbackTransition:K}),K||(bs(e,Pg),l.onStart(()=>{nh(e,Pg)})),l.onDone(()=>{let se=this.players.indexOf(l);se>=0&&this.players.splice(se,1);const ce=this._engine.playersByElement.get(e);if(ce){let Be=ce.indexOf(l);Be>=0&&ce.splice(Be,1)}}),this.players.push(l),B.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Cg,!0);r.forEach(i=>{if(i[vo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,Gs,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&eu(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||Pf,D=new PE(Gs),S=new Nf(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[vo];(!a||a===GD)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=Df(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Tf(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class NE{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Ng(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ng(t))return;const a=t[vo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bs(e,RE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nh(e,RE))}removeNode(e,t,r,i){if(Ng(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[vo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Ng(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Cg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,u_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[vo];if(t&&t.setForRemoval){if(e[vo]=GD,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)bs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?eu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function sP(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new su,i=[],a=new Map,l=[],f=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(Et=>{D.add(Et);const jt=this.driver.query(Et,".ng-animate-queued",!0);for(let Ht=0;Ht<jt.length;Ht++)D.add(jt[Ht])});const S=this.bodyNode,B=Array.from(this.statesByElement.keys()),H=FE(B,this.collectedEnterElements),K=new Map;let se=0;H.forEach((Et,jt)=>{const Ht=o_+se++;K.set(jt,Ht),Et.forEach(Tn=>bs(Tn,Ht))});const ce=[],Be=new Set,Qe=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const jt=this.collectedLeaveElements[Et],Ht=jt[vo];Ht&&Ht.setForRemoval&&(ce.push(jt),Be.add(jt),Ht.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Tn=>Be.add(Tn)):Qe.add(jt))}const We=new Map,Xe=FE(B,Array.from(Be));Xe.forEach((Et,jt)=>{const Ht=Ig+se++;We.set(jt,Ht),Et.forEach(Tn=>bs(Tn,Ht))}),e.push(()=>{H.forEach((Et,jt)=>{const Ht=K.get(jt);Et.forEach(Tn=>nh(Tn,Ht))}),Xe.forEach((Et,jt)=>{const Ht=We.get(jt);Et.forEach(Tn=>nh(Tn,Ht))}),ce.forEach(Et=>{this.processLeaveNode(Et)})});const Ut=[],Bt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Ht=>{const Tn=Ht.player,ki=Ht.element;if(Ut.push(Tn),this.collectedEnterElements.length){const fs=ki[vo];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(Ht.triggerName)){const qp=fs.previousTriggersValues.get(Ht.triggerName),ya=this.statesByElement.get(Ht.element);if(ya&&ya.has(Ht.triggerName)){const jT=ya.get(Ht.triggerName);jT.value=qp,ya.set(Ht.triggerName,jT)}}return void Tn.destroy()}}const Rl=!S||!this.driver.containsElement(S,ki),Po=We.get(ki),Gh=K.get(ki),Ar=this._buildInstruction(Ht,r,Gh,Po,Rl);if(Ar.errors&&Ar.errors.length)return void Bt.push(Ar);if(Rl)return Tn.onStart(()=>Mc(ki,Ar.fromStyles)),Tn.onDestroy(()=>aa(ki,Ar.toStyles)),void i.push(Tn);if(Ht.isFallbackTransition)return Tn.onStart(()=>Mc(ki,Ar.fromStyles)),Tn.onDestroy(()=>aa(ki,Ar.toStyles)),void i.push(Tn);const X2=[];Ar.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||X2.push(fs)}),Ar.timelines=X2,r.append(ki,Ar.timelines),l.push({instruction:Ar,player:Tn,element:ki}),Ar.queriedElements.forEach(fs=>pi(f,fs,[]).push(Tn)),Ar.preStyleProps.forEach((fs,qp)=>{if(fs.size){let ya=y.get(qp);ya||y.set(qp,ya=new Set),fs.forEach((jT,KR)=>ya.add(KR))}}),Ar.postStyleProps.forEach((fs,qp)=>{let ya=w.get(qp);ya||w.set(qp,ya=new Set),fs.forEach((jT,KR)=>ya.add(KR))})});if(Bt.length){const Et=[];Bt.forEach(jt=>{Et.push(function AD(n,e){return new d.vHH(3505,!1)}())}),Ut.forEach(jt=>jt.destroy()),this.reportError(Et)}const _n=new Map,Dr=new Map;l.forEach(Et=>{const jt=Et.element;r.has(jt)&&(Dr.set(jt,jt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,_n))}),i.forEach(Et=>{const jt=Et.element;this._getPreviousPlayers(jt,!1,Et.namespaceId,Et.triggerName,null).forEach(Tn=>{pi(_n,jt,[]).push(Tn),Tn.destroy()})});const hs=ce.filter(Et=>Nc(Et,y,w)),od=new Map;kE(od,this.driver,Qe,w,sa).forEach(Et=>{Nc(Et,y,w)&&hs.push(Et)});const Sw=new Map;H.forEach((Et,jt)=>{kE(Sw,this.driver,new Set(Et),y,"!")}),hs.forEach(Et=>{const jt=od.get(Et),Ht=Sw.get(Et);od.set(Et,new Map([...Array.from(jt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const Gp=[],Q2=[],J2={};l.forEach(Et=>{const{element:jt,player:Ht,instruction:Tn}=Et;if(r.has(jt)){if(D.has(jt))return Ht.onDestroy(()=>aa(jt,Tn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Tn.totalTime),void i.push(Ht);let ki=J2;if(Dr.size>1){let Po=jt;const Gh=[];for(;Po=Po.parentNode;){const Ar=Dr.get(Po);if(Ar){ki=Ar;break}Gh.push(Po)}Gh.forEach(Ar=>Dr.set(Ar,ki))}const Rl=this._buildAnimation(Ht.namespaceId,Tn,_n,a,Sw,od);if(Ht.setRealPlayer(Rl),ki===J2)Gp.push(Ht);else{const Po=this.playersByElement.get(ki);Po&&Po.length&&(Ht.parentPlayer=eu(Po)),i.push(Ht)}}else Mc(jt,Tn.fromStyles),Ht.onDestroy(()=>aa(jt,Tn.toStyles)),Q2.push(Ht),D.has(jt)&&i.push(Ht)}),Q2.forEach(Et=>{const jt=a.get(Et.element);if(jt&&jt.length){const Ht=eu(jt);Et.setRealPlayer(Ht)}}),i.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ce.length;Et++){const jt=ce[Et],Ht=jt[vo];if(nh(jt,Ig),Ht&&Ht.hasAnimation)continue;let Tn=[];if(f.size){let Rl=f.get(jt);Rl&&Rl.length&&Tn.push(...Rl);let Po=this.driver.query(jt,u_,!0);for(let Gh=0;Gh<Po.length;Gh++){let Ar=f.get(Po[Gh]);Ar&&Ar.length&&Tn.push(...Ar)}}const ki=Tn.filter(Rl=>!Rl.destroyed);ki.length?WD(this,jt,ki):this.processLeaveNode(jt)}return ce.length=0,Gp.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const jt=this.players.indexOf(Et);this.players.splice(jt,1)}),Et.play()}),Gp}elementContainsData(e,t){let r=!1;const i=t[vo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==Gs;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==a,S=pi(r,w,[]);this._getPreviousPlayers(w,D,l,f,t.toState).forEach(H=>{const K=H.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),H.destroy(),S.push(H)})}Mc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,w=[],D=new Set,S=new Set,B=t.timelines.map(K=>{const se=K.element;D.add(se);const ce=se[vo];if(ce&&ce.removedBeforeQueried)return new Qd(K.duration,K.delay);const Be=se!==y,Qe=function Og(n){const e=[];return Pc(n,e),e}((r.get(se)||vP).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===se),We=a.get(se),Xe=l.get(se),Ut=bg(0,this._normalizer,0,K.keyframes,We,Xe),Bt=this._buildPlayer(K,Ut,Qe);if(K.subTimeline&&i&&S.add(se),Be){const _n=new Nf(e,f,se);_n.setRealPlayer(Bt),w.push(_n)}return Bt});w.forEach(K=>{pi(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function OE(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,K.element,K))}),D.forEach(K=>bs(K,a_));const H=eu(B);return H.onDestroy(()=>{D.forEach(K=>nh(K,a_)),aa(y,t.toStyles)}),S.forEach(K=>{pi(i,K,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Qd(e.duration,e.delay)}}class Nf{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Qd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Tf(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ng(n){return n&&1===n.nodeType}function A_(n,e){const t=n.style.display;return n.style.display=e??"none",t}function kE(n,e,t,r,i){const a=[];t.forEach(y=>a.push(A_(y)));const l=[];r.forEach((y,w)=>{const D=new Map;y.forEach(S=>{const B=e.computeStyle(w,S,i);D.set(S,B),(!B||0==B.length)&&(w[vo]=wP,l.push(w))}),n.set(w,D)});let f=0;return t.forEach(y=>A_(y,a[f++])),l}function FE(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(f){if(!f)return 1;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:l(w),a.set(f,y),y}return e.forEach(f=>{const y=l(f);1!==y&&t.get(y).push(f)}),t}function bs(n,e){n.classList?.add(e)}function nh(n,e){n.classList?.remove(e)}function WD(n,e,t){eu(t).onDone(()=>n.processLeaveNode(e))}function Pc(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yg?Pc(r.players,e):e.push(r)}}function Nc(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class rh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new NE(e,t,r),this._timelineEngine=new zD(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],D=m_(this._driver,a,y,[]);if(y.length)throw function eE(n,e){return new d.vHH(3404,!1)}();f=function fP(n,e,t){return new HD(n,e,t)}(i,D,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=nE(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=nE(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let LE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(aa(this._element,this._initialStyles),this._endStyles&&(aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),aa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fg(n){let e=null;return n.forEach((t,r)=>{(function x_(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Lg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:fE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VE{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PD(e,t)}getParentElement(e){return r_(e)}query(e,t,r){return i_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,D=l.filter(H=>H instanceof Lg);(function kD(n,e){return 0===n||0===e})(r,i)&&D.forEach(H=>{H.currentSnapshot.forEach((K,se)=>w.set(se,K))});let S=function ND(n){return n.length?n[0]instanceof Map?n:n.map(e=>cE(e)):[]}(t).map(H=>nu(H));S=function f_(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,fE(n,f)))}}return e}(e,S,w);const B=function kg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Fg(e[0]),e.length>1&&(r=Fg(e[e.length-1]))):e instanceof Map&&(t=Fg(e)),t||r?new LE(n,t,r):null}(e,S);return new Lg(e,S,y,B)}}let M_=(()=>{class n extends Gw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Ww(t):t;return UE(this._renderer,null,r,"register",[i]),new ZD(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ZD extends class Ky{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new EP(this._id,e,t||{},this._renderer)}}class EP{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return UE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function UE(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const BE="@.disabled";let jE=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new R_("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(l,f,t,D.name,D)};return r.data.animation.forEach(y),new KD(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(rh),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class R_{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==BE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class KD extends R_{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==BE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Is(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function $E(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let YD=(()=>{class n extends rh{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(sE),d.LFG(th),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Vg=[{provide:Gw,useClass:M_},{provide:th,useFactory:function bP(){return new C_}},{provide:rh,useClass:YD},{provide:d.FYo,useFactory:function QD(n,e,t){return new jE(n,e,t)},deps:[jo,rh,d.R0b]}],Ug=[{provide:sE,useFactory:()=>new VE},{provide:d.QbO,useValue:"BrowserAnimations"},...Vg],HE=[{provide:sE,useClass:s_},{provide:d.QbO,useValue:"NoopAnimations"},...Vg];let JD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?HE:Ug}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Ug,imports:[Ha]}),n})();function It(...n){const e=(0,_s.yG)(n);return(0,In.D)(n,e)}var Ai=V(7579);class wo extends Ai.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const kf=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ff=V(4671),ua=V(9672);function Bg(...n){const e=(0,_s.yG)(n),t=(0,_s.jO)(n),{args:r,keys:i}=lc(n);if(0===r.length)return(0,In.D)([],e);const a=new xr.y(function eA(n,e,t=Ff.y){return r=>{GE(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)GE(e,()=>{const w=(0,In.D)(n[y],e);let D=!1;w.subscribe((0,Zn.x)(r,S=>{a[y]=S,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>cc(i,l):Ff.y));return t?a.pipe(Za(t)):a}function GE(n,e,t){n?(0,ua.f)(t,n,e):e()}var jg=V(8189);function P_(...n){return function qE(){return(0,jg.J)(1)}()((0,In.D)(n,(0,_s.yG)(n)))}function WE(n){return new xr.y(e=>{(0,ys.Xf)(n()).subscribe(e)})}var tA=V(9635),Lf=V(576);function Vf(n,e){const t=(0,Lf.m)(n)?n:()=>n,r=i=>i.error(t());return new xr.y(e?i=>e.schedule(r,0,i):r)}var Oc=V(515),Uf=V(727),gi=V(4482);function ih(){return(0,gi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nA extends xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uf.w0.EMPTY)}return e}refCount(){return ih()(this)}}function kr(n,e){return(0,gi.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Zn.x)(r,y=>{i?.unsubscribe();let w=0;const D=a++;(0,ys.Xf)(n(y,D)).subscribe(i=(0,Zn.x)(r,S=>r.next(e?e(y,S,D,w++):S),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function $g(n){return n<=0?()=>Oc.E:(0,gi.e)((e,t)=>{let r=0;e.subscribe((0,Zn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Bf(...n){const e=(0,_s.yG)(n);return(0,gi.e)((t,r)=>{(e?P_(n,t,e):P_(n,t)).subscribe(r)})}function qs(n,e){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Si=V(5577);function jf(n){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hg(n=ou){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ou(){return new kf}function Ws(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qs((i,a)=>n(i,a,r)):Ff.y,$g(1),t?jf(e):Hg(()=>new kf))}function la(n,e){return(0,Lf.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var Fr=V(8505);function ol(n){return(0,gi.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Zn.x)(t,void 0,void 0,l=>{a=(0,ys.Xf)(n(l,ol(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function N_(n,e,t,r,i){return(a,l)=>{let f=t,y=e,w=0;a.subscribe((0,Zn.x)(l,D=>{const S=w++;y=f?n(y,D,S):(f=!0,D),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}function sh(n,e){return(0,gi.e)(N_(n,e,arguments.length>=2,!0))}function O_(n){return n<=0?()=>Oc.E:(0,gi.e)((e,t)=>{let r=[];e.subscribe((0,Zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ZE(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qs((i,a)=>n(i,a,r)):Ff.y,O_(1),t?jf(e):Hg(()=>new kf))}function KE(n){return(0,gi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const un="primary",zg=Symbol("RouteTitle");class iA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oh(n){return new iA(n)}function sA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!QE(n[i],e[i]))return!1;return!0}function QE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Gg(n){return Array.prototype.concat.apply([],n)}function JE(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function al(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,In.D)(Promise.resolve(n)):It(n)}const qg={exact:function XE(n,e,t){if(!ei(n.segments,e.segments)||!Cs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!XE(n.children[r],e.children[r],t))return!1;return!0},subset:Wg},ul={exact:function Hf(n,e){return Zs(n,e)},subset:function uA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QE(n[t],e[t]))},ignored:()=>!0};function aA(n,e,t){return qg[t.paths](n.root,e.root,t.matrixParams)&&ul[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Wg(n,e,t){return eb(n,e,e.segments,t)}function eb(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ei(i,t)||e.hasChildren()||!Cs(i,t,r))}if(n.segments.length===t.length){if(!ei(n.segments,t)||!Cs(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Wg(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(ei(n.segments,i)&&Cs(n.segments,i,r)&&n.children[un])&&eb(n.children[un],e,a,r)}}function Cs(n,e,t){return e.every((r,i)=>ul[t](n[i].parameters,r.parameters))}class Eo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}toString(){return ah.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return au(this)}}class bo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oh(this.parameters)),this._parameterMap}toString(){return V_(this)}}function ei(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new ll},providedIn:"root"}),n})();class ll{parse(e){const t=new ob(e);return new Eo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ca(e.root,!0)}`,r=function nb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${uu(t)}=${uu(i)}`).join("&"):`${uu(t)}=${uu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ah=new ll;function au(n){return n.segments.map(e=>V_(e)).join("/")}function ca(n,e){if(!n.hasChildren())return au(n);if(e){const t=n.children[un]?ca(n.children[un],!1):"",r=[];return mi(n.children,(i,a)=>{a!==un&&r.push(`${a}:${ca(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function F_(n,e){let t=[];return mi(n.children,(r,i)=>{i===un&&(t=t.concat(e(r,i)))}),mi(n.children,(r,i)=>{i!==un&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===un?[ca(n.children[un],!1)]:[`${i}:${ca(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${au(n)}/${t[0]}`:`${au(n)}/(${t.join("//")})`}}function Fc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(n){return Fc(n).replace(/%3B/gi,";")}function cl(n){return Fc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zf(n){return decodeURIComponent(n)}function L_(n){return zf(n.replace(/\+/g,"%20"))}function V_(n){return`${cl(n.path)}${function tb(n){return Object.keys(n).map(e=>`;${cl(e)}=${cl(n[e])}`).join("")}(n.parameters)}`}const rb=/^[^\/()?;=#]+/;function Gf(n){const e=n.match(rb);return e?e[0]:""}const ib=/^[^=?&#]+/,lA=/^[^&#]+/;class ob{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[un]=new Ot(e,t)),r}parseSegment(){const e=Gf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new bo(zf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gf(this.remaining);i&&(r=i,this.capture(r))}e[zf(t)]=zf(r)}parseQueryParam(e){const t=function sb(n){const e=n.match(ib);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function cA(n){const e=n.match(lA);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=L_(t),a=L_(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=un);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[un]:new Ot([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function U_(n){return n.segments.length>0?new Ot([],{[un]:n}):n}function Kg(n){const e={};for(const r of Object.keys(n.children)){const a=Kg(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function B_(n){if(1===n.numberOfChildren&&n.children[un]){const e=n.children[un];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function lu(n){return n instanceof Eo}function dA(n,e,t,r,i){if(0===t.length)return Lc(e.root,e.root,e.root,r,i);const a=function G_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mi(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Qg(t,e,r)}(t);return a.toRoot()?Lc(e.root,e.root,new Ot([],{}),r,i):function l(y){const w=function ab(n,e,t,r){if(n.isAbsolute)return new Vc(e.root,!0,0);if(-1===r)return new Vc(t,t===e.root,0);return function ub(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Vc(r,!1,i-a)}(t,r+(dl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),D=w.processChildren?lh(w.segmentGroup,w.index,a.commands):Jg(w.segmentGroup,w.index,a.commands);return Lc(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function dl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hl(n){return"object"==typeof n&&null!=n&&n.outlets}function Lc(n,e,t,r,i){let l,a={};r&&mi(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),l=n===e?t:z_(n,e,t);const f=U_(Kg(l));return new Eo(f,a,i)}function z_(n,e,t){const r={};return mi(n.children,(i,a)=>{r[a]=i===e?t:z_(i,e,t)}),new Ot(n.segments,r)}class Qg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dl(r[0]))throw new d.vHH(4003,!1);const i=r.find(hl);if(i&&i!==JE(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jg(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return lh(n,e,t);const r=function cb(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(hl(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Z_(y,w,l))return a;r+=2}else{if(!Z_(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ot(n.segments.slice(0,r.pathIndex),{});return a.children[un]=new Ot(n.segments.slice(r.pathIndex),n.children),lh(a,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?W_(n,e,t):r.match?lh(n,0,i):W_(n,e,t)}function lh(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function lb(n){return hl(n[0])?n[0].outlets:{[un]:n}}(t),i={};return mi(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Jg(n.children[l],e,a))}),mi(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Ot(n.segments,i)}}function W_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(hl(a)){const y=hA(a.outlets);return new Ot(r,y)}if(0===i&&dl(t[0])){r.push(new bo(n.segments[e].path,db(t[0]))),i++;continue}const l=hl(a)?a.outlets[un]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&dl(f)?(r.push(new bo(l,db(f))),i+=2):(r.push(new bo(l,{})),i++)}return new Ot(r,{})}function hA(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=W_(new Ot([],{}),0,t))}),e}function db(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function Z_(n,e,t){return n==t.path&&Zs(e,t.parameters)}class Io{constructor(e,t){this.id=e,this.url=t}}class Xg extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fl extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qf extends Io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K_ extends Io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hb extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fb extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pb extends Io{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gb extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DP extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gA{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _b{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Y_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Q_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Q_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=em(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return em(e,this._root).map(t=>t.value)}}function Q_(n,e){if(n===e.value)return e;for(const t of e.children){const r=Q_(n,t);if(r)return r}return null}function em(n,e){if(n===e.value)return[e];for(const t of e.children){const r=em(n,t);if(r.length)return r.unshift(e),r}return[]}class da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Co(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vb extends Y_{constructor(e,t){super(e),this.snapshot=t,Ks(this,e)}toString(){return this.snapshot.toString()}}function wb(n,e){const t=function Eb(n,e){const l=new ch([],{},{},"",{},un,e,null,n.root,-1,{});return new tm("",new da(l,[]))}(n,e),r=new wo([new bo("",{})]),i=new wo({}),a=new wo({}),l=new wo({}),f=new wo(""),y=new Uc(r,i,l,f,a,un,e,t.root);return y.snapshot=t.root,new vb(new da(y,[]),t)}class Uc{constructor(e,t,r,i,a,l,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,pt.U)(w=>w[zg]))??It(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>oh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>oh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function AP(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ch{constructor(e,t,r,i,a,l,f,y,w,D,S,B){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.[zg],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=B??D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tm extends Y_{constructor(e,t){super(t),this.url=e,Ks(this,t)}toString(){return bb(this._root)}}function Ks(n,e){e.value._routerState=n,e.children.forEach(t=>Ks(n,t))}function bb(n){const e=n.children.length>0?` { ${n.children.map(bb).join(", ")} } `:"";return`${n.value}${e}`}function nm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zs(e.params,t.params)||n.params.next(t.params),function YE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ys(n,e){const t=Zs(n.params,e.params)&&function Zg(n,e){return ei(n,e)&&n.every((t,r)=>Zs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ys(n.parent,e.parent))}function zi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ib(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zi(n,r,i);return zi(n,r)})}(n,e,t);return new da(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>zi(n,f)),l}}const r=function Cb(n){return new Uc(new wo(n.url),new wo(n.params),new wo(n.queryParams),new wo(n.fragment),new wo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>zi(n,a));return new da(r,i)}}const X_="ngNavigationCancelingError";function Tb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Db(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Db(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[X_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ab(n){return rm(n)&&lu(n.url)}function rm(n){return n&&n[X_]}class Wf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zf,this.attachRef=null}}let Zf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Wf,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kf=!1;let ev=(()=>{class n{constructor(t,r,i,a,l){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||un,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Kf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Kf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Kf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,Kf);this._activatedRoute=t;const i=this.location,l=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new Sb(t,f,i.injector);if(r&&function xb(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zf),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Sb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Uc?this.route:e===Zf?this.childContexts:this.parent.get(e,t)}}let dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[ev],encapsulation:2}),n})();function Mb(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function im(n){const e=n.children&&n.children.map(im),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==un&&(t.component=dh),t}function Ts(n){return n.outlet||un}function nv(n,e){const t=n.filter(r=>Ts(r)===e);return t.push(...n.filter(r=>Ts(r)!==e)),t}function hh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wA{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),nm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Co(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),mi(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Co(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Co(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Co(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new yb(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(nm(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),nm(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=hh(i.snapshot),y=f?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class kb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sm{constructor(e,t){this.component=e,this.route=t}}function EA(n,e,t){const r=n._root;return Qf(r,e?e._root:null,t,[r.value])}function fh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Qf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Co(e);return n.children.forEach(l=>{(function IA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function CA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ei(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(n.url,e.url)||!Zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ys(n,e)||!Zs(n.queryParams,e.queryParams);default:return!Ys(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new kb(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Qf(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new sm(f.outlet.component,l))}else l&&Jf(e,f,i),i.canActivateChecks.push(new kb(r)),Qf(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),mi(a,(l,f)=>Jf(l,t.getContext(f),i)),i}function Jf(n,e,t){const r=Co(n),i=n.value;mi(r,(a,l)=>{Jf(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new sm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xf(n){return"function"==typeof n}function om(n){return n instanceof kf||"EmptyError"===n?.name}const ep=Symbol("INITIAL_VALUE");function Bc(){return kr(n=>Bg(n.map(e=>e.pipe($g(1),Bf(ep)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===ep)return ep;if(!1===t||t instanceof Eo)return t}return!0}),qs(e=>e!==ep),$g(1)))}function $c(n){return(0,tA.z)((0,Fr.b)(e=>{if(lu(e))throw Tb(0,e)}),(0,pt.U)(e=>!0===e))}const tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OA(n,e,t,r,i){const a=am(n,e,t);return a.matched?function SP(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?It(i.map(l=>{const f=fh(l,n);return al(function MA(n){return n&&Xf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Bc(),$c()):It(!0)}(r=Mb(e,r),e,t).pipe((0,pt.U)(l=>!0===l?a:{...tp})):It(a)}function am(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sA)(t,n,e);if(!i)return{...tp};const a={};mi(i.posParams,(f,y)=>{a[y]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function np(n,e,t,r,i="corrected"){if(t.length>0&&function kA(n,e,t){return t.some(r=>um(n,e,r)&&Ts(r)!==un)}(n,t,r)){const l=new Ot(e,function Lt(n,e,t,r){const i={};i[un]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ts(a)!==un){const l=new Ot([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Ts(a)]=l}return i}(n,e,r,new Ot(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function FA(n,e,t){return t.some(r=>um(n,e,r))}(n,t,r)){const l=new Ot(n.segments,function xP(n,e,t,r,i,a){const l={};for(const f of r)if(um(n,t,f)&&!i[Ts(f)]){const y=new Ot([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,l[Ts(f)]=y}return{...i,...l}}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const a=new Ot(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function um(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Hc(n,e,t,r){return!!(Ts(n)===r||r!==un&&um(e,t,n))&&("**"===n.path||am(e,n,t).matched)}function $b(n,e,t){return 0===e.length&&!n.children[t]}const zc=!1;class Gc{constructor(e){this.segmentGroup=e||null}}class ar{constructor(e){this.urlTree=e}}function lm(n){return Vf(new Gc(n))}function iv(n){return Vf(new ar(n))}class Gb{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=np(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,un).pipe((0,pt.U)(a=>this.createUrlTree(Kg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ol(a=>{if(a instanceof ar)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Gc?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,un).pipe((0,pt.U)(i=>this.createUrlTree(Kg(i),e.queryParams,e.fragment))).pipe(ol(i=>{throw i instanceof Gc?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,zc)}createUrlTree(e,t,r){const i=U_(e);return new Eo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(a=>new Ot([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,In.D)(i).pipe(la(a=>{const l=r.children[a],f=nv(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,pt.U)(y=>({segment:y,outlet:a})))}),sh((a,l)=>(a[l.outlet]=l.segment,a),{}),ZE())}expandSegment(e,t,r,i,a,l){return(0,In.D)(r).pipe(la(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(ol(w=>{if(w instanceof Gc)return It(null);throw w}))),Ws(f=>!!f),ol((f,y)=>{if(om(f))return $b(t,i,a)?It(new Ot([],{})):lm(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return Hc(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):lm(t):lm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iv(a):this.lineralizeSegments(r,a).pipe((0,Si.z)(l=>{const f=new Ot(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=am(t,i,a);if(!f)return lm(t);const S=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?iv(S):this.lineralizeSegments(i,S).pipe((0,Si.z)(B=>this.expandSegment(e,t,r,B.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Mb(r,e),r.loadChildren?(r._loadedRoutes?It({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,pt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Ot(i,{})))):It(new Ot(i,{}))):OA(t,r,i,e).pipe(kr(({matched:l,consumedSegments:f,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Si.z)(D=>{const S=D.injector??e,B=D.routes,{segmentGroup:H,slicedSegments:K}=np(t,f,y,B),se=new Ot(H.segments,H.children);if(0===K.length&&se.hasChildren())return this.expandChildren(S,B,se).pipe((0,pt.U)(We=>new Ot(f,We)));if(0===B.length&&0===K.length)return It(new Ot(f,{}));const ce=Ts(r)===a;return this.expandSegment(S,se,B,K,ce?un:a,!0).pipe((0,pt.U)(Qe=>new Ot(f.concat(Qe.segments),Qe.children)))})):lm(t)))}getChildConfig(e,t,r){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function NA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?It(!0):It(i.map(l=>{const f=fh(l,n);return al(function DA(n){return n&&Xf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Bc(),$c())}(e,t,r).pipe((0,Si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Fr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function LA(n){return Vf(Db(zc,3))}())):It({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return It(r);if(i.numberOfChildren>1||!i.children[un])return Vf(new d.vHH(4e3,zc));i=i.children[un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Eo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return mi(t.children,(f,y)=>{l[y]=this.createSegmentGroup(e,f,r,i)}),new Ot(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,zc);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class VA{}class ip{constructor(e,t,r,i,a,l,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=np(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,un).pipe((0,pt.U)(t=>{if(null===t)return null;const r=new ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new da(r,t),a=new tm(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=J_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,In.D)(Object.keys(r.children)).pipe(la(i=>{const a=r.children[i],l=nv(t,i);return this.processSegmentGroup(e,l,a,i)}),sh((i,a)=>i&&a?(i.push(...a),i):null),function $f(n,e=!1){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),jf(null),ZE(),(0,pt.U)(i=>{if(null===i)return null;const a=sp(i);return function jA(n){n.sort((e,t)=>e.value.outlet===un?-1:t.value.outlet===un?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,In.D)(t).pipe(la(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Ws(l=>!!l),ol(l=>{if(om(l))return $b(r,i,a)?It([]):It(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Hc(t,r,i,a))return It(null);let l;if("**"===t.path){const f=i.length>0?JE(i).parameters:{},y=ov(r)+i.length;l=It({snapshot:new ch(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ph(t),Ts(t),t.component??t._loadedComponent??null,t,sv(r),y,gh(t),y),consumedSegments:[],remainingSegments:[]})}else l=OA(r,t,i,e).pipe((0,pt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!f)return null;const S=ov(r)+y.length;return{snapshot:new ch(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ph(t),Ts(t),t.component??t._loadedComponent??null,t,sv(r),S,gh(t),S),consumedSegments:y,remainingSegments:w}}));return l.pipe(kr(f=>{if(null===f)return It(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const S=t._loadedInjector??e,B=function $A(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:K}=np(r,w,D,B.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution);if(0===K.length&&H.hasChildren())return this.processChildren(S,B,H).pipe((0,pt.U)(ce=>null===ce?null:[new da(y,ce)]));if(0===B.length&&0===K.length)return It([new da(y,[])]);const se=Ts(t)===a;return this.processSegment(S,B,H,K,se?un:a).pipe((0,pt.U)(ce=>null===ce?null:[new da(y,ce)]))}))}}function HA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sp(n){const e=[],t=new Set;for(const r of n){if(!HA(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=sp(r.children);e.push(new da(r.value,i))}return e.filter(r=>!t.has(r))}function sv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ov(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ph(n){return n.data||{}}function gh(n){return n.resolve||{}}function Jb(n){return"string"==typeof n.title||null===n.title}function cm(n){return kr(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,pt.U)(()=>e)):It(e)})}let Xb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===un);return r}getResolvedTitleForRoute(t){return t.data[zg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(eI)},providedIn:"root"}),n})(),eI=(()=>{class n extends Xb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(af))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MP{}class PP extends class RP{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const qc=new d.OlP("",{providedIn:"root",factory:()=>({})}),av=new d.OlP("ROUTES");let dm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=al(t.loadComponent()).pipe((0,Fr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),KE(()=>{this.componentLoaders.delete(t)})),i=new nA(r,()=>new Ai.x).pipe(ih());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return It({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,pt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=Gg(y.get(av,[],d.XFs.Self|d.XFs.Optional)));return{routes:w.map(im),injector:y}}),KE(()=>{this.childrenLoaders.delete(r)})),l=new nA(a,()=>new Ai.x).pipe(ih());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return al(t()).pipe((0,Si.z)(r=>r instanceof d.YKP||Array.isArray(r)?It(r):(0,In.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class op{}class WA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ZA(n){throw n}function KA(n,e,t){return e.parse("/")}const YA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function iI(){const n=(0,d.f3M)(kc),e=(0,d.f3M)(Zf),t=(0,d.f3M)(xe),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),a=(0,d.f3M)(av,{optional:!0})??[],l=(0,d.f3M)(qc,{optional:!0})??{},f=(0,d.f3M)(eI),y=(0,d.f3M)(Xb,{optional:!0}),w=(0,d.f3M)(op,{optional:!0}),D=(0,d.f3M)(MP,{optional:!0}),S=new $n(null,n,e,t,r,i,Gg(a));return w&&(S.urlHandlingStrategy=w),D&&(S.routeReuseStrategy=D),S.titleStrategy=y??f,function QA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,S),S}let $n=(()=>{class n{constructor(t,r,i,a,l,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ai.x,this.errorHandler=ZA,this.malformedUriErrorHandler=KA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>It(void 0),this.urlHandlingStrategy=new WA,this.routeReuseStrategy=new PP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(dm),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new pA(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new fA(B)),this.ngModule=l.get(d.h0i),this.console=l.get(d.c2e);const S=l.get(d.R0b);this.isNgZoneEnabled=S instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function oA(){return new Eo(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wb(this.currentUrlTree,this.rootComponentType),this.transitions=new wo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qs(i=>0!==i.id),(0,pt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),kr(i=>{let a=!1,l=!1;return It(i).pipe((0,Fr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return uv(f.source)&&(this.browserUrlTree=f.extractedUrl),It(f).pipe(kr(S=>{const B=this.transitions.getValue();return r.next(new Xg(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),B!==this.transitions.getValue()?Oc.E:Promise.resolve(S)}),function qb(n,e,t,r){return kr(i=>function zb(n,e,t,r,i){return new Gb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,pt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function zA(n,e,t,r,i,a){return(0,Si.z)(l=>function BA(n,e,t,r,i,a,l="emptyOnly",f="legacy"){return new ip(n,e,t,r,i,l,f,a).recognize().pipe(kr(y=>null===y?function UA(n){return new xr.y(e=>e.error(n))}(new VA):It(y)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,a).pipe((0,pt.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fr.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const B=new hb(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(B)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:H,source:K,restoredState:se,extras:ce}=f,Be=new Xg(B,this.serializeUrl(H),K,se);r.next(Be);const Qe=wb(H,this.rootComponentType).snapshot;return It(i={...f,targetSnapshot:Qe,urlAfterRedirects:H,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Oc.E}),(0,Fr.b)(f=>{const y=new fb(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,pt.U)(f=>i={...f,guards:EA(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Lb(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?It({...t,guardsResult:!0}):function Vb(n,e,t,r){return(0,In.D)(n).pipe((0,Si.z)(i=>function PA(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?It(a.map(f=>{const y=hh(e)??i,w=fh(f,y);return al(function xA(n){return n&&Xf(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Ws())})).pipe(Bc()):It(!0)}(i.component,i.route,t,e,r)),Ws(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Si.z)(f=>f&&function TA(n){return"boolean"==typeof n}(f)?function Ub(n,e,t,r){return(0,In.D)(e).pipe(la(i=>P_(function jb(n,e){return null!==n&&e&&e(new mb(n)),It(!0)}(i.route.parent,r),function Bb(n,e){return null!==n&&e&&e(new Gr(n)),It(!0)}(i.route,r),function jc(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function bA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>WE(()=>It(l.guards.map(y=>{const w=hh(l.node)??t,D=fh(y,w);return al(function SA(n){return n&&Xf(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(Ws())})).pipe(Bc())));return It(a).pipe(Bc())}(n,i.path,t),function rv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return It(!0);const i=r.map(a=>WE(()=>{const l=hh(e)??t,f=fh(a,l);return al(function AA(n){return n&&Xf(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Ws())}));return It(i).pipe(Bc())}(n,i.route,t))),Ws(i=>!0!==i,!0))}(r,a,n,e):It(f)),(0,pt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Fr.b)(f=>{if(i.guardsResult=f.guardsResult,lu(f.guardsResult))throw Tb(0,f.guardsResult);const y=new pb(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),qs(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),cm(f=>{if(f.guards.canActivateChecks.length)return It(f).pipe((0,Fr.b)(y=>{const w=new gb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),kr(y=>{let w=!1;return It(y).pipe(function GA(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return It(t);let a=0;return(0,In.D)(i).pipe(la(l=>function qA(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Jb(i)&&(a[zg]=i.title),function Kb(n,e,t,r){const i=function Yb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return It({});const a={};return(0,In.D)(i).pipe((0,Si.z)(l=>function Qb(n,e,t,r){const i=hh(e)??r,a=fh(n,i);return al(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Ws(),(0,Fr.b)(f=>{a[l]=f}))),O_(1),function rA(n){return(0,pt.U)(()=>n)}(a),ol(l=>om(l)?Oc.E:Vf(l)))}(a,n,e,r).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=J_(n,t).resolve,i&&Jb(i)&&(n.data[zg]=i.title),null)))}(l.route,r,n,e)),(0,Fr.b)(()=>a++),O_(1),(0,Si.z)(l=>a===i.length?It(t):Oc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Fr.b)(y=>{const w=new DP(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),cm(f=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Fr.b)(S=>{w.component=S}),(0,pt.U)(()=>{})));for(const S of w.children)D.push(...y(S));return D};return Bg(y(f.targetSnapshot.root)).pipe(jf(),$g(1))}),cm(()=>this.afterPreactivation()),(0,pt.U)(f=>{const y=function To(n,e,t){const r=zi(n,e._root,t?t._root:void 0);return new vb(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Fr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new wA(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Fr.b)({next(){a=!0},complete(){a=!0}}),KE(()=>{a||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ol(f=>{if(l=!0,rm(f)){Ab(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new qf(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),Ab(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uv(i.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new K_(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Oc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(im),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:l;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),dA(w,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=lu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function JA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...YA}:!1===r?{...rI}:r,lu(t))return aA(this.currentUrlTree,t,i);const a=this.parseUrl(t);return aA(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,y,w;l?(f=l.resolve,y=l.reject,w=l.promise):w=new Promise((B,H)=>{f=B,y=H});const D=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:D,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(B=>Promise.reject(B))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new qf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return iI()},providedIn:"root"}),n})();function uv(n){return"imperative"!==n}let ap=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ai.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36($n),d.Y36(Uc),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})(),cu=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ai.x,this.subscription=t.events.subscribe(a=>{a instanceof fl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,l){return!!(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36($n),d.Y36(Uc),d.Y36(Ee))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class oI{}let uI=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(qs(t=>t instanceof fl),la(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,In.D)(i).pipe((0,jg.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):It(null);const a=i.pipe((0,Si.z)(l=>null===l?It(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,In.D)([a,l]).pipe((0,jg.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($n),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(oI),d.LFG(dm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fm=new d.OlP("");let lI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _b&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _b(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function mh(n,e){return{\u0275kind:n,\u0275providers:e}}function mm(n){return[{provide:av,multi:!0,useValue:n}]}function cI(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get($n),i=n.get(dI);1===n.get(lv)&&r.initialNavigation(),n.get(hI,null,d.XFs.Optional)?.setUpPreloading(),n.get(fm,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const dI=new d.OlP("",{factory:()=>new Ai.x}),lv=new d.OlP("",{providedIn:"root",factory:()=>1});const hI=new d.OlP("");function fI(n){return mh(0,[{provide:hI,useExisting:uI},{provide:oI,useExisting:n}])}const cv=new d.OlP("ROUTER_FORROOT_GUARD"),iS=[xe,{provide:kc,useClass:ll},{provide:$n,useFactory:iI},Zf,{provide:Uc,useFactory:function gm(n){return n.routerState.root},deps:[$n]},dm];function sS(){return new d.PXZ("Router",$n)}let pI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iS,[],mm(t),{provide:cv,useFactory:fv,deps:[[$n,new d.FiY,new d.tp0]]},{provide:qc,useValue:r||{}},r?.useHash?{provide:Ee,useClass:gt}:{provide:Ee,useClass:_t},{provide:fm,useFactory:()=>{const n=(0,d.f3M)($n),e=(0,d.f3M)(Oo),t=(0,d.f3M)(qc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new lI(n,e,t)}},r?.preloadingStrategy?fI(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:sS},r?.initialNavigation?oS(r):[],[{provide:mI,useFactory:cI},{provide:d.tb,multi:!0,useExisting:mI}]]}}static forChild(t){return{ngModule:n,providers:[mm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cv,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dh]}),n})();function fv(n){return"guarded"}function oS(n){return["disabled"===n.initialNavigation?mh(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)($n);return()=>{e.setUpLocationChangeListener()}}},{provide:lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mh(2,[{provide:lv,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(q,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const l=e.get($n),f=e.get(dI);(function i(a){e.get($n).events.pipe(qs(f=>f instanceof fl||f instanceof qf||f instanceof K_),(0,pt.U)(f=>f instanceof fl||f instanceof qf&&(0===f.code||1===f.code)&&null),qs(f=>null!==f),$g(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),l.afterPreactivation=()=>(a(!0),r||f.closed?It(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const mI=new d.OlP("");var yI=V(6451),du=V(5363),_I=V(6063);class aS extends Ai.x{constructor(e=1/0,t=1/0,r=_I.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var VP=V(3099);function gv(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,VP.B)({connector:()=>new aS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _m(n,e){return(0,Lf.m)(e)?kr(()=>n,e):kr(()=>n)}var mv=V(9468),gn=V(4976),Do=V(2011),pl=V(259);class gl{constructor(e){return e}}class yv{constructor(){return(0,pl.C6)()}}const vm=new d.OlP("angularfire2._apps"),lS={provide:gl,useFactory:function vI(n){return n&&1===n.length?n[0]:new gl((0,pl.Mq)())},deps:[[new d.FiY,vm]]},cS={provide:yv,deps:[[new d.FiY,vm]]};function dS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gl(r)}}let hS=(()=>{class n{constructor(t){(0,pl.KN)("angularfire",gn.q4.full,"core"),(0,pl.KN)("angularfire",gn.q4.full,"app"),(0,pl.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[lS,cS]}),n})();function wI(n,...e){return{ngModule:hS,providers:[{provide:vm,useFactory:dS(n),multi:!0,deps:[d.R0b,d.zs3,gn.HU,...e]}]}}const pS=(0,gn.u3)(pl.ZF,!0);var ve=V(5861),Ds=V(6881),yh=V(4859),en=V(2090),ml=V(1877);const _v=new Map,EI={activated:!1,tokenObservers:[]},gS={initialized:!1,enabled:!1};function wr(n){return _v.get(n)||Object.assign({},EI)}function wm(){return gS}class yS{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new en.BH,yield function _S(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new en.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yi=new en.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wv(n){if(!wr(n).activated)throw yi.create("use-before-activation",{appName:n.name})}function yl(n,e){return bv.apply(this,arguments)}function bv(){return(bv=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(S){throw yi.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==l.status)throw yi.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(S){throw yi.create("fetch-parse-error",{originalErrorMessage:S?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function DI(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const lp="firebase-app-check-store";let Im=null;function cp(){return Im||(Im=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lp,{keyPath:"compositeKey"})}}catch(t){e(yi.create("storage-open",{originalErrorMessage:t?.message}))}}),Im)}function dp(){return(dp=(0,ve.Z)(function*(n,e){const r=(yield cp()).transaction(lp,"readwrite"),a=r.objectStore(lp).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;f(yi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Tm=new ml.Yd("@firebase/app-check");function Dm(n,e){return(0,en.hl)()?function vS(n,e){return function Tv(n,e){return dp.apply(this,arguments)}(function xI(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Mv(){return wm().enabled}function Rv(){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,ve.Z)(function*(){const n=wm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MI={error:"UNKNOWN_ERROR"};function Nv(n){return en.US.encodeString(JSON.stringify(n),!1)}function pp(n){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,ve.Z)(function*(n,e=!1){const t=n.app;wv(t);const r=wr(t);let a,i=r.token;if(i&&!_h(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(_h(y)?i=y:yield Dm(t,void 0))}if(!e&&i&&_h(i))return{token:i.token};let f,l=!1;if(Mv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yl(DI(t,yield Rv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield Dm(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield wr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Tm.warn(y.message):Tm.error(y),a=y}return i?a?f=_h(i)?{token:i.token,internalError:a}:xi(a):(f={token:i.token},r.token=i,yield Dm(t,i)):f=xi(a),l&&Vv(t,f),f})).apply(this,arguments)}function Am(){return(Am=(0,ve.Z)(function*(n){const e=n.app;wv(e);const{provider:t}=wr(e);if(Mv()){const r=yield Rv(),{token:i}=yield yl(DI(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Sm(n,e){const t=wr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Lv(n){const{app:e}=n,t=wr(e);let r=t.tokenRefresher;r||(r=function bS(n){const{app:e}=n;return new yS((0,ve.Z)(function*(){let r;if(r=wr(e).token?yield pp(n,!0):yield pp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Vv(n,e){const t=wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function _h(n){return n.expireTimeMillis-Date.now()>0}function xi(n){return{token:Nv(MI),error:n}}class vh{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wr(this.app);for(const t of e)Sm(this.app,t.next);return Promise.resolve()}}const kI="app-check-internal";!function GP(){(0,Ds._registerComponent)(new yh.wA("app-check",n=>function IS(n,e){return new vh(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kI).initialize()})),(0,Ds._registerComponent)(new yh.wA(kI,n=>function CS(n){return{getToken:e=>pp(n,e),getLimitedUseToken:()=>function kv(n){return Am.apply(this,arguments)}(n),addTokenListener:e=>function Fv(n,e,t,r){const{app:i}=n,a=wr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&_h(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Lv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Lv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Sm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class Mm{constructor(){return(0,gn.vb)("app-check")}}typeof window<"u"&&window;var YP=V(9260);const jS=new d.OlP("angularfire2.auth.use-emulator"),$S=new d.OlP("angularfire2.auth.settings"),HS=new d.OlP("angularfire2.auth.tenant-id"),zS=new d.OlP("angularfire2.auth.langugage-code"),GS=new d.OlP("angularfire2.auth.use-device-language"),qS=new d.OlP("angularfire.auth.persistence"),WS=(n,e,t,r,i,a,l,f)=>(0,Do.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,D]of Object.entries(l))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]);let Zc=(()=>{class n{constructor(t,r,i,a,l,f,y,w,D,S,B,H){const K=new Ai.x,se=It(void 0).pipe((0,du.Q)(l.outsideAngular),kr(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,pt.U)(()=>(0,Do.on)(t,a,r)),(0,pt.U)(ce=>WS(ce,a,f,w,D,S,y,B)),gv({bufferSize:1,refCount:!1}));if(Ns(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=It(null);else{se.pipe(Ws()).subscribe();const Be=se.pipe(kr(Xe=>Xe.getRedirectResult().then(Ut=>Ut,()=>null)),gn.iC,gv({bufferSize:1,refCount:!1})),Qe=se.pipe(kr(Xe=>new xr.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Xe.onAuthStateChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))})))),We=se.pipe(kr(Xe=>new xr.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Xe.onIdTokenChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))}))));this.authState=Be.pipe(_m(Qe),(0,mv.R)(l.outsideAngular),(0,du.Q)(l.insideAngular)),this.user=Be.pipe(_m(We),(0,mv.R)(l.outsideAngular),(0,du.Q)(l.insideAngular)),this.idToken=this.user.pipe(kr(Xe=>Xe?(0,In.D)(Xe.getIdToken()):It(null))),this.idTokenResult=this.user.pipe(kr(Xe=>Xe?(0,In.D)(Xe.getIdTokenResult()):It(null))),this.credential=(0,yI.T)(Be,K,this.authState.pipe(qs(Xe=>!Xe))).pipe((0,pt.U)(Xe=>Xe?.user?Xe:null),(0,mv.R)(l.outsideAngular),(0,du.Q)(l.insideAngular))}return(0,Do.pX)(this,se,a,{spy:{apply:(ce,Be,Qe)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Qe.then(We=>K.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Do.Dh),d.LFG(Do.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(jS,8),d.LFG($S,8),d.LFG(HS,8),d.LFG(zS,8),d.LFG(GS,8),d.LFG(qS,8),d.LFG(Mm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pm=(()=>{class n{constructor(){YP.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Zc]}),n})();const ZS=["toast-component",""];function BI(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function Nm(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function jI(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,Nm,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function $I(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function QP(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function qv(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}class JS{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Zv{constructor(e,t,r,i,a,l){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=l,this._onTap=new Ai.x,this._onAction=new Ai.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const GI=new d.OlP("ToastConfig");class ex{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ai.x,this._activate=new Ai.x,this._manualClose=new Ai.x,this._resetTimeout=new Ai.x,this._countDuplicate=new Ai.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class tx{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Zv?this._toastPackage:this._parentInjector.get(e,t,r)}}class tN extends class eN{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class nx{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let qI=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WI=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new tN(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new nx(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qI),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(t,r,i,a,l){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const y=l&&f.title===t;if((!l||y)&&f.message===r)return f.toastRef.onDuplicate(i,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&a.enableHtml&&(w=this.sanitizer.sanitize(d.q3G.HTML,r));const D=new ex(y),S=new Zv(this.index,a,w,i,t,D),B=new tx(S,this._injector),H=new JS(a.toastComponent,B),K=y.attach(H,this.toastrConfig.newestOnTop);D.componentInstance=K.instance;const se={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:K};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{se.toastRef.activate()})),this.toasts.push(se),se}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(GI),d.LFG(WI),d.LFG(d.zs3),d.LFG(Gu),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rx={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Eh),d.Y36(Zv),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(d.d8E("@flyInOut",r.state),d.Tol(r.toastClasses),d.Udp("display",r.displayStyle))},attrs:ZS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(d.YNc(0,BI,3,0,"button",0),d.YNc(1,jI,3,5,"div",1),d.YNc(2,$I,1,3,"div",2),d.YNc(3,QP,2,4,"div",3),d.YNc(4,qv,2,2,"div",4)),2&t&&(d.Q6J("ngIf",r.options.closeButton),d.xp6(1),d.Q6J("ngIf",r.title),d.xp6(1),d.Q6J("ngIf",r.message&&r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.message&&!r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.options.progressBar))},dependencies:[jn],encapsulation:2,data:{animation:[uD("flyInOut",[Zw("inactive",bf({opacity:0})),Zw("active",bf({opacity:1})),Zw("removed",bf({opacity:0})),Yd("inactive => active",qw("{{ easeTime }}ms {{ easing }}")),Yd("active => removed",qw("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let Kv=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:GI,useValue:{default:rx,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gd]]}),n})(),ix=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.toastr=i}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuarioActual=t&&t.displayName?t.displayName:"Invitado"})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zc),d.Y36($n),d.Y36(Eh))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-main"]],decls:28,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"titulo"],[1,"log"],[1,"logout",3,"click"],[1,"align"],[1,"t1"],["routerLink","/galeria"],[1,"t2"],["routerLink","/videos"],[1,"t3"],["routerLink","/musica"],[1,"msj"],[1,"pie"],["href","https://www.facebook.com/profile.php?id=100013672369598",1,"foo"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),d._uU(3,"Asi somos asi Bailamos Corinto"),d.qZA(),d.TgZ(4,"div",3)(5,"span"),d._uU(6),d.qZA(),d.TgZ(7,"span",4),d.NdJ("click",function(){return r.logout()}),d._uU(8,"Salir"),d.qZA()(),d.TgZ(9,"div")(10,"p",5),d._uU(11," Sum\xe9rgete en el coraz\xf3n de Corinto, Cauca, a trav\xe9s de esta conmovedora recopilaci\xf3n de ensayos, presentaciones, eventos, im\xe1genes y m\xfasica, protagonizados por nuestros queridos j\xf3venes. Cada momento capturado refleja la dedicaci\xf3n, el talento y la pasi\xf3n de nuestros muchachos, quienes con su esfuerzo y creatividad han dejado una huella imborrable en nuestra comunidad. "),d.qZA()(),d.TgZ(12,"ul")(13,"li",6)(14,"a",7),d._uU(15,"Galeria"),d.qZA()(),d.TgZ(16,"li",8)(17,"a",9),d._uU(18,"Videos"),d.qZA()(),d.TgZ(19,"li",10)(20,"a",11),d._uU(21,"Musica"),d.qZA()()(),d.TgZ(22,"div",12),d._uU(23,"Gracias a todos espero lo disfruten tanto como yo!!."),d.qZA(),d.TgZ(24,"aside")(25,"footer",13)(26,"a",14),d._uU(27,"Copyright \xa9 Edwin cut 2022"),d.qZA()()()()()),2&t&&(d.xp6(6),d.hij("hola ",r.usuarioActual,""))},dependencies:[cu],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#d80bdf;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:0;overflow:hidden}.log[_ngcontent-%COMP%]{display:flex;justify-content:space-between;animation:moveText .8s ease-in;white-space:nowrap;overflow:hidden}.logout[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:80%;width:83%;color:#fff;font-size:20px;padding:20px;border:1px solid white;border-radius:15px;outline:solid #ffffff;background-color:#a649d5;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Ffondo.png?alt=media&token=bd6155e5-660d-4611-96e7-4951d7429367);background-repeat:no-repeat;background-position:right;background-size:contain}.titulo[_ngcontent-%COMP%]{padding:10px;font-size:30px;text-align:center;background-color:#7e2da7;border-radius:8px;animation:moveText .5s linear}.align[_ngcontent-%COMP%]{padding:12px;text-align:center;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid white;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff}.msj[_ngcontent-%COMP%]{color:#fff;margin-bottom:9px}.pie[_ngcontent-%COMP%]{position:relative}.foo[_ngcontent-%COMP%]{color:#fff;text-decoration:none}@media (max-width: 767px){.titulo[_ngcontent-%COMP%]{font-size:22px}.welcome[_ngcontent-%COMP%]{font-size:20px;padding:0;margin:0}.align[_ngcontent-%COMP%]{margin-bottom:15px;font-size:17px;animation:moveText 1s linear;overflow:hidden}.t1[_ngcontent-%COMP%]{animation:moveText 1.2s linear;white-space:nowrap;overflow:hidden}.t2[_ngcontent-%COMP%]{animation:moveText 1.4s linear;white-space:nowrap;overflow:hidden}.t3[_ngcontent-%COMP%]{animation:moveText 1.6s linear;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}.msj[_ngcontent-%COMP%], .pie[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 433px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.msj[_ngcontent-%COMP%]{font-size:13px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:16px;animation:apearText 2.3s linear}}@media (max-width: 348px){.titulo[_ngcontent-%COMP%]{font-size:16px}.align[_ngcontent-%COMP%]{padding:4px}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})();V(1389);class Yv{constructor(){return(0,gn.vb)("auth")}}const bx="firebasestorage.googleapis.com",Ix="storageBucket";class ur extends en.ZR{constructor(e,t,r=0){super(n0(e),`Firebase Storage: ${t} (${n0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return n0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Hn=(()=>{return(n=Hn||(Hn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Hn;var n})();function n0(n){return"storage/"+n}function Lm(){return new ur(Hn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function s0(n){return new ur(Hn.INVALID_ARGUMENT,n)}function uC(){return new ur(Hn.APP_DELETED,"The Firebase app was deleted.")}function Um(n,e){return new ur(Hn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Bm(n){throw new ur(Hn.INTERNAL_ERROR,"Internal error: "+n)}class os{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=os.makeFromUrl(e,t)}catch{return new os(e,"")}if(""===r.path)return r;throw function r0(n){return new ur(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(Xe){Xe.path_=decodeURIComponent(Xe.path)}const S=t.replace(/[.]/g,"\\."),We=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Xe){"/"===Xe.path.charAt(Xe.path.length-1)&&(Xe.path_=Xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===bx?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Xe=0;Xe<We.length;Xe++){const Ut=We[Xe],Bt=Ut.regex.exec(e);if(Bt){let Dr=Bt[Ut.indices.path];Dr||(Dr=""),r=new os(Bt[Ut.indices.bucket],Dr),Ut.postModify(r);break}}if(null==r)throw function oC(n){return new ur(Hn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class AN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function o0(n){return"string"==typeof n||n instanceof String}function Rx(n){return s()&&n instanceof Blob}function s(){return typeof Blob<"u"&&!(0,en.UG)()}function o(n,e,t,r){if(r<e)throw s0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw s0(`Invalid value for '${n}'. Expected ${t} or less.`)}function u(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function c(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var h=(()=>{return(n=h||(h={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",h;var n})();class _{constructor(e,t,r,i,a,l,f,y,w,D,S,B=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=S,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,K)=>{this.resolve_=H,this.reject_=K,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());!function xN(n){return void 0!==n}(y)?a():a(y)}catch(y){l(y)}else if(null!==f){const y=Lm();y.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,y):y)}else l(i.canceled?this.appDelete_?uC():function Ax(){return new ur(Hn.CANCELED,"User canceled the upload/download.")}():function Vm(){return new ur(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new I(!1,null,!0)):this.backoffId_=function Mx(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function y(){return 2===f}let w=!1;function D(...ce){w||(w=!0,e.apply(null,ce))}function S(ce){i=setTimeout(()=>{i=null,n(H,y())},ce)}function B(){a&&clearTimeout(a)}function H(ce,...Be){if(w)return void B();if(ce)return B(),void D.call(null,ce,...Be);if(y()||l)return B(),void D.call(null,ce,...Be);let We;r<64&&(r*=2),1===f?(f=2,We=0):We=1e3*(r+Math.random()),S(We)}let K=!1;function se(ce){K||(K=!0,B(),!w&&(null!==i?(ce||(f=2),clearTimeout(i),S(0)):ce||(f=1)))}return S(0),a=setTimeout(()=>{l=!0,se(!0)},t),se}((r,i)=>{if(i)return void r(!1,new I(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===h.NO_ERROR,y=a.getStatus();if(!f||function g(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}(y,this.additionalRetryCodes_)&&this.retry){const D=a.getErrorCode()===h.ABORT;return void r(!1,new I(!1,null,D))}const w=-1!==this.successCodes_.indexOf(y);r(!0,new I(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function SN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Te(...n){const e=function te(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(s())return new Blob(n);throw new ur(Hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class Mt{constructor(e,t){this.data=e,this.contentType=t||null}}function Vt(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Yn(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Um(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Um(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Je(n){if(typeof atob>"u")throw function xx(n){return new ur(Hn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Um(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class vl{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Um("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function l0(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class So{constructor(e,t){let r=0,i="";Rx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rx(this.data_)){const i=function je(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new So(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new So(r,!0)}}static getBlob(...e){if(s()){const t=e.map(r=>r instanceof So?r.data_:r);return new So(Te.apply(null,t))}{const t=e.map(l=>o0(l)?function ke(n,e){switch(n){case"raw":return new Mt(Vt(e));case"base64":case"base64url":return new Mt(Yn(n,e));case"data_url":return new Mt(function a0(n){const e=new vl(n);return e.base64?Yn("base64",e.rest):function Cn(n){let e;try{e=decodeURIComponent(n)}catch{throw Um("data_url","Malformed data URL.")}return Vt(e)}(e.rest)}(e),function u0(n){return new vl(n).contentType}(e))}throw Lm()}("raw",l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new So(i,!0)}}uploadData(){return this.data_}}function _p(n){let e;try{e=JSON.parse(n)}catch{return null}return function RN(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function jm(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function h0(n,e){return e}class As{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||h0}}let lC=null;function f0(){if(lC)return lC;const n=[];n.push(new As("bucket")),n.push(new As("generation")),n.push(new As("metageneration")),n.push(new As("name","fullPath",!0));const t=new As("name");t.xform=function e(a,l){return function EV(n){return!o0(n)||n.length<2?n:jm(n)}(l)},n.push(t);const i=new As("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new As("timeCreated")),n.push(new As("updated")),n.push(new As("md5Hash",null,!0)),n.push(new As("cacheControl",null,!0)),n.push(new As("contentDisposition",null,!0)),n.push(new As("contentEncoding",null,!0)),n.push(new As("contentLanguage",null,!0)),n.push(new As("contentType",null,!0)),n.push(new As("metadata","customMetadata",!0)),lC=n,lC}function PN(n,e,t){const r=_p(e);return null===r?null:function IV(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function bV(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new os(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}const NN="prefixes";class wl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function El(n){if(!n)throw Lm()}function $m(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Dx(){return new ur(Hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Tx(){return new ur(Hn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function iC(n){return new ur(Hn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function sC(n){return new ur(Hn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function xV(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=u(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new wl(f,"GET",function AV(n,e){return function t(r,i){const a=function DV(n,e,t){const r=_p(t);return null===r?null:function TV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[NN])for(const i of t[NN]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new os(e,a));r.prefixes.push(l)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new os(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return El(null!==a),a}}(n,e.bucket),w);return D.urlParams=a,D.errorHandler=$m(e),D}function VN(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},y=function f(){let We="";for(let Xe=0;Xe<2;Xe++)We+=Math.random().toString().slice(2);return We}();l["Content-Type"]="multipart/related; boundary="+y;const w=function LN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function NV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),D=function Px(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}(w,t),H=So.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+y+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===H)throw function aC(){return new ur(Hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const K={name:w.fullPath},se=u(a,n.host,n._protocol),Be=n.maxUploadRetryTime,Qe=new wl(se,"POST",function cC(n,e){return function t(r,i){const a=PN(n,i,e);return El(null!==a),a}}(n,t),Be);return Qe.urlParams=K,Qe.headers=l,Qe.body=H.uploadData(),Qe.errorHandler=$m(e),Qe}class UV extends class VV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Bm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function hu(){return new UV}class vp{constructor(e,t){this._service=e,this._location=t instanceof os?t:os.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vp(e,t)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jm(this._location.path)}get storage(){return this._service}get parent(){const e=function c0(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new os(this._location.bucket,e);return new vp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function DN(n){return new ur(Hn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function $N(n,e,t){return kx.apply(this,arguments)}function kx(){return(kx=(0,ve.Z)(function*(n,e,t){const i=yield HN(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield $N(n,e,i.nextPageToken))})).apply(this,arguments)}function HN(n,e){null!=e&&"number"==typeof e.maxResults&&o("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=xV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,hu)}function JV(n){n._throwIfRoot("getDownloadURL");const e=function MV(n,e,t){const i=u(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new wl(i,"GET",function SV(n,e){return function t(r,i){const a=PN(n,i,e);return El(null!==a),function CV(n,e,t,r){const i=_p(e);if(null===i||!o0(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(w=>{const S=n.fullPath;return u("/b/"+l(n.bucket)+"/o/"+l(S),t,r)+c({alt:"media",token:w})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=function p0(n){const e=$m(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function rC(n){return new ur(Hn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}(e),f}(n.storage,n._location,f0());return n.storage.makeRequestWithTokens(e,hu).then(t=>{if(null===t)throw function TN(){return new ur(Hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function GN(n,e){if(n instanceof Fx){const t=n;if(null==t._bucket)throw function Sx(){return new ur(Hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ix+"' property when initializing the app?")}();const r=new vp(t,t._bucket);return null!=e?GN(r,e):r}return void 0!==e?function zN(n,e){const t=function d0(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new os(n._location.bucket,t);return new vp(n.storage,r)}(n,e):n}function qN(n,e){const t=e?.[Ix];return null==t?null:os.makeFromBucketSpec(t,n)}class Fx{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?os.makeFromBucketSpec(i,this._host):qN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?os.makeFromBucketSpec(this._url,e):qN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vp(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new AN(uC());{const l=function Z(n,e,t,r,i,a,l=!0){const f=c(n.urlParams),y=n.url+f,w=Object.assign({},n.headers);return function P(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function C(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function A(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(w,a),function U(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new _(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const WN="@firebase/storage",KN="storage";function iU(n,e,t){return function jN(n,e,t){n._throwIfRoot("uploadBytes");const r=VN(n.storage,n._location,f0(),new So(e,!0),t);return n.storage.makeRequestWithTokens(r,hu).then(i=>({metadata:i,ref:n}))}(n=(0,en.m9)(n),e,t)}function sU(n){return function KV(n){const e={prefixes:[],items:[]};return $N(n,e).then(()=>e)}(n=(0,en.m9)(n))}function oU(n){return JV(n=(0,en.m9)(n))}function aU(n,e){return function nU(n,e){if(e&&function eU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Fx)return function tU(n,e){return new vp(n,e)}(n,e);throw s0("To use ref(service, url), the first argument must be a Storage instance.")}return GN(n,e)}(n=(0,en.m9)(n),e)}function uU(n=(0,Ds.getApp)(),e){n=(0,en.m9)(n);const r=(0,Ds._getProvider)(n,KN).getImmediate({identifier:e}),i=(0,en.P0)("storage");return i&&function lU(n,e,t,r={}){!function rU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,en.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function cU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Fx(t,r,i,e,Ds.SDK_VERSION)}!function dU(){(0,Ds._registerComponent)(new yh.wA(KN,cU,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(WN,"0.11.2",""),(0,Ds.registerVersion)(WN,"0.11.2","esm2017")}();class zm{constructor(e){return e}}const YN="storage",Lx=new d.OlP("angularfire2.storage-instances");function pU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zm(r)}}const gU={provide:class hU{constructor(){return(0,gn.vb)(YN)}},deps:[[new d.FiY,Lx]]},mU={provide:zm,useFactory:function fU(n,e){const t=(0,gn.JM)(YN,n,e);return t&&new zm(t)},deps:[[new d.FiY,Lx],gl]};let yU=(()=>{class n{constructor(){(0,pl.KN)("angularfire",gn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[mU,gU]}),n})();function _U(n,...e){return{ngModule:yU,providers:[{provide:Lx,useFactory:pU(n),multi:!0,deps:[d.R0b,d.zs3,gn.HU,yv,[new d.FiY,Yv],[new d.FiY,Mm],...e]}]}}const QN=(0,gn.u3)(oU,!0),vU=(0,gn.u3)(uU,!0),JN=(0,gn.u3)(sU,!0),hC=(0,gn.u3)(aU,!0),XN=(0,gn.u3)(iU,!0);function wU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",16)(1,"img",17),d.NdJ("mouseenter",function(){const a=d.CHM(t).index,l=d.oxw();return d.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=d.CHM(t).index,l=d.oxw();return d.KtG(l.onMouseLeave(a))})("click",function(){const a=d.CHM(t).index,l=d.oxw();return d.KtG(l.onPreviewImage(a))}),d.qZA()()}if(2&n){const t=e.$implicit;d.xp6(1),d.Q6J("src",t,d.LSH)}}function EU(n,e){if(1&n&&(d.TgZ(0,"span",24),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function bU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",25),d.NdJ("click",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.onClosePreview())}),d._UZ(1,"i",26),d.qZA()}}function IU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.prev())}),d._UZ(1,"i",28),d.qZA()}}function CU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",29),d.NdJ("click",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.next())}),d._UZ(1,"i",30),d.qZA()}}function TU(n,e){if(1&n&&(d.TgZ(0,"div",31),d._UZ(1,"img",32),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.ekj("zoom-in",t.previewImage),d.Q6J("src",t.currentLightboxImage,d.LSH)}}const DU=function(n){return{active:n}};function AU(n,e){if(1&n&&(d.TgZ(0,"div",18),d.YNc(1,EU,2,2,"span",19),d.YNc(2,bU,2,0,"button",20),d.YNc(3,IU,2,0,"button",21),d.YNc(4,CU,2,0,"button",22),d.YNc(5,TU,2,3,"div",23),d.qZA()),2&n){const t=d.oxw();d.Q6J("ngClass",d.VKq(6,DU,t.previewImage)),d.xp6(1),d.Q6J("ngIf",t.showCount),d.xp6(1),d.Q6J("ngIf",t.previewImage),d.xp6(1),d.Q6J("ngIf",t.controls),d.xp6(1),d.Q6J("ngIf",t.controls),d.xp6(1),d.Q6J("ngIf",t.previewImage)}}let SU=(()=>{class n{constructor(t,r){this.storage=t,this.el=r,this.images=[],this.showCount=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0}ngOnInit(){this.getImages()}subirArchivo(t){const r=t.target.files[0],i=hC(this.storage,`images/${r.name}`);XN(i,r).then(a=>{this.getImages()}).catch(a=>console.log(a))}getImages(){var t=this;const r=hC(this.storage,"images");console.log(r),JN(r).then(function(){var i=(0,ve.Z)(function*(a){t.images=[];for(let l of a.items){const f=yield QN(l);t.images.push(f)}});return function(a){return i.apply(this,arguments)}}()).catch(i=>console.log(i))}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.images[t],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zm),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-galeria"]],decls:22,vars:2,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"con-input"],[1,"input-file-container"],["id","file-input","type","file",3,"change"],["for","file-input",1,"file-label"],[1,"fas","fa-plus"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next"],[1,"lightbox-img"],["alt","imagen",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),d._uU(5,"INICIO"),d.qZA(),d.TgZ(6,"a",4),d._uU(7,"IMAGENES"),d.qZA(),d.TgZ(8,"a",5),d._uU(9,"VIDEOS"),d.qZA(),d.TgZ(10,"a",6),d._uU(11,"MUSICA"),d.qZA()()(),d.TgZ(12,"div",7)(13,"div",8)(14,"input",9),d.NdJ("change",function(a){return r.subirArchivo(a)}),d.qZA(),d.TgZ(15,"label",10),d._UZ(16,"i",11),d._uU(17," Agregar nueva imagen "),d.qZA()()(),d.TgZ(18,"div",12)(19,"div",13),d.YNc(20,wU,2,1,"div",14),d.qZA(),d.YNc(21,AU,6,8,"div",15),d.qZA()()()),2&t&&(d.xp6(20),d.Q6J("ngForOf",r.images),d.xp6(1),d.Q6J("ngIf",r.showMask))},dependencies:[ln,Ps,jn,cu],styles:[".contenedor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:30px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:5px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.con-input[_ngcontent-%COMP%]{padding:15px 0 20px}.file-label[_ngcontent-%COMP%]{padding:4px;font-size:14px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();var xU=V(4986);function Vx(){return(0,gi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Zn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function RU(n,e){return n===e}V(9568);var at,PU=V(3942),NU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fu={},Ux=Ux||{},Kt=NU||self;function fC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function g0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Bx="closure_uid_"+(1e9*Math.random()>>>0),kU=0;function FU(n,e,t){return n.call.apply(n.bind,arguments)}function LU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function as(n,e,t){return(as=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FU:LU).apply(null,arguments)}function pC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ih(){this.s=this.s,this.o=this.o}Ih.prototype.s=!1,Ih.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function OU(n){Object.prototype.hasOwnProperty.call(n,Bx)&&n[Bx]||(n[Bx]=++kU)}(this)},Ih.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function jx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function us(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var UU=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",()=>{},e),Kt.removeEventListener("test",()=>{},e)}catch{}return n}();function m0(n){return/^[\s\xa0]*$/.test(n)}function gC(){var n=Kt.navigator;return n&&(n=n.userAgent)?n:""}function bl(n){return-1!=gC().indexOf(n)}function $x(n){return $x[" "](n),n}$x[" "]=function(){};var zx,n,jU=bl("Opera"),Gm=bl("Trident")||bl("MSIE"),nO=bl("Edge"),Hx=nO||Gm,rO=bl("Gecko")&&!(-1!=gC().toLowerCase().indexOf("webkit")&&!bl("Edge"))&&!(bl("Trident")||bl("MSIE"))&&!bl("Edge"),$U=-1!=gC().toLowerCase().indexOf("webkit")&&!bl("Edge");function iO(){var n=Kt.document;return n?n.documentMode:void 0}e:{var Gx="",qx=(n=gC(),rO?/rv:([^\);]+)(\)|;)/.exec(n):nO?/Edge\/([\d\.]+)/.exec(n):Gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$U?/WebKit\/(\S+)/.exec(n):jU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qx&&(Gx=qx?qx[1]:""),Gm){var Wx=iO();if(null!=Wx&&Wx>parseFloat(Gx)){zx=String(Wx);break e}}zx=Gx}var HU=Kt.document&&Gm&&(iO()||parseInt(zx,10))||void 0;function y0(n,e){if(us.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rO){e:{try{$x(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&y0.$.h.call(this)}}Mi(y0,us);var zU={2:"touch",3:"pen",4:"mouse"};y0.prototype.h=function(){y0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _0="closure_listenable_"+(1e6*Math.random()|0),GU=0;function qU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++GU,this.fa=this.ia=!1}function mC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kx(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oO(n){const e={};for(const t in n)e[t]=n[t];return e}const aO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<aO.length;a++)t=aO[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yC(n){this.src=n,this.g={},this.h=0}function Yx(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=eO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(mC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qx(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}yC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Qx(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new qU(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var Jx="closure_lm_"+(1e6*Math.random()|0),Xx={};function lO(n,e,t,r,i){if(r&&r.once)return dO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)lO(n,e[a],t,r,i);return null}return t=rM(t),n&&n[_0]?n.O(e,t,g0(r)?!!r.capture:!!r,i):cO(n,e,t,!1,r,i)}function cO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=g0(i)?!!i.capture:!!i,f=tM(n);if(f||(n[Jx]=f=new yC(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function ZU(){const e=KU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)UU||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)dO(n,e[a],t,r,i);return null}return t=rM(t),n&&n[_0]?n.P(e,t,g0(r)?!!r.capture:!!r,i):cO(n,e,t,!0,r,i)}function hO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)hO(n,e[a],t,r,i);else r=g0(r)?!!r.capture:!!r,t=rM(t),n&&n[_0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qx(a=n.g[e],t,r,i))&&(mC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=tM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qx(e,t,r,i)),(t=-1<n?e[n]:null)&&eM(t))}function eM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[_0])Yx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tM(e))?(Yx(t,n),0==t.h&&(t.src=null,e[Jx]=null)):mC(n)}}}function fO(n){return n in Xx?Xx[n]:Xx[n]="on"+n}function KU(n,e){if(n.fa)n=!0;else{e=new y0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&eM(n),n=t.call(r,e)}return n}function tM(n){return(n=n[Jx])instanceof yC?n:null}var nM="__closure_events_fn_"+(1e9*Math.random()>>>0);function rM(n){return"function"==typeof n?n:(n[nM]||(n[nM]=function(e){return n.handleEvent(e)}),n[nM])}function Ri(){Ih.call(this),this.i=new yC(this),this.S=this,this.J=null}function Gi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new us(e,n);else if(e instanceof us)e.target=e.target||n;else{var i=e;uO(e=new us(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=_C(l,r,!0,e)&&i}if(i=_C(l=e.g=n,r,!0,e)&&i,i=_C(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=_C(l=e.g=t[a],r,!1,e)&&i}function _C(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&Yx(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Mi(Ri,Ih),Ri.prototype[_0]=!0,Ri.prototype.removeEventListener=function(n,e,t,r){hO(this,n,e,t,r)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)mC(t[r]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ri.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var iM=Kt.JSON.stringify;function QU(){var n=sM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pO=new class YU{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new XU,n=>n.reset());class XU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eB(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function tB(n){Kt.setTimeout(()=>{throw n},0)}let v0,w0=!1,sM=new class JU{constructor(){this.h=this.g=null}add(e,t){const r=pO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},gO=()=>{const n=Kt.Promise.resolve(void 0);v0=()=>{n.then(nB)}};var nB=()=>{for(var n;n=QU();){try{n.h.call(n.g)}catch(t){tB(t)}var e=pO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}w0=!1};function vC(n,e){Ri.call(this),this.h=n||1,this.g=e||Kt,this.j=as(this.qb,this),this.l=Date.now()}function oM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function aM(n,e,t){if("function"==typeof n)t&&(n=as(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=as(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function mO(n){n.g=aM(()=>{n.g=null,n.i&&(n.i=!1,mO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(vC,Ri),(at=vC.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gi(this,"tick"),this.ga&&(oM(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){vC.$.N.call(this),oM(this),delete this.g};class rB extends Ih{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mO(this)}N(){super.N(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E0(n){Ih.call(this),this.h=n,this.g={}}Mi(E0,Ih);var yO=[];function _O(n,e,t,r){Array.isArray(t)||(t&&(yO[0]=t.toString()),t=yO);for(var i=0;i<t.length;i++){var a=lO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function vO(n){Kx(n.g,function(e,t){this.g.hasOwnProperty(t)&&eM(e)},n),n.g={}}function wC(){this.g=!0}function qm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return iM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}E0.prototype.N=function(){E0.$.N.call(this),vO(this)},E0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wC.prototype.Ea=function(){this.g=!1},wC.prototype.info=function(){};var wp={},wO=null;function EC(){return wO=wO||new Ri}function EO(n){us.call(this,wp.Ta,n)}function b0(n){const e=EC();Gi(e,new EO(e))}function bO(n,e){us.call(this,wp.STAT_EVENT,n),this.stat=e}function Ss(n){const e=EC();Gi(e,new bO(e,n))}function IO(n,e){us.call(this,wp.Ua,n),this.size=e}function I0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}wp.Ta="serverreachability",Mi(EO,us),wp.STAT_EVENT="statevent",Mi(bO,us),wp.Ua="timingevent",Mi(IO,us);var bC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uM(){}function DO(){}uM.prototype.h=null;var dM,C0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lM(){us.call(this,"d")}function cM(){us.call(this,"c")}function IC(){}function T0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new E0(this),this.P=uB,this.V=new vC(n=Hx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AO}function AO(){this.i=null,this.g="",this.h=!1}Mi(lM,us),Mi(cM,us),Mi(IC,uM),IC.prototype.g=function(){return new XMLHttpRequest},IC.prototype.i=function(){return{}},dM=new IC;var uB=45e3,hM={},CC={};function fM(n,e,t){n.L=1,n.v=SC(Yc(e)),n.s=t,n.S=!0,SO(n,null)}function SO(n,e){n.G=Date.now(),D0(n),n.A=Yc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),VO(t.i,"t",r),n.C=0,t=n.l.J,n.h=new AO,n.g=uk(n.l,t?e:null,!n.s),0<n.O&&(n.M=new rB(as(n.Pa,n,n.g),n.O)),_O(n.U,n.g,"readystatechange",n.nb),e=n.I?oO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),b0(),function iB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");l=2<=S.length&&"type"==S[1]?l+(D+"=")+w+"&":l+(D+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xO(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function MO(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=lB(n,t),i==CC){4==e&&(n.o=4,Ss(14),r=!1),qm(n.j,n.m,null,"[Incomplete Response]");break}if(i==hM){n.o=4,Ss(15),qm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qm(n.j,n.m,i,null),pM(n,i)}xO(n)&&i!=CC&&i!=hM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),EM(e),e.M=!0,Ss(11))):(qm(n.j,n.m,t,"[Invalid Chunked Response]"),Ep(n),A0(n))}function lB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?CC:(t=Number(e.substring(t,r)),isNaN(t)?hM:(r+=1)+t>e.length?CC:(e=e.slice(r,r+t),n.C=r+t,e))}function D0(n){n.Y=Date.now()+n.P,RO(n,n.P)}function RO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=I0(as(n.lb,n),e)}function TC(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function A0(n){0==n.l.H||n.J||ik(n.l,n)}function Ep(n){TC(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,oM(n.V),vO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function pM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||gM(t.i,n)))if(!n.K&&gM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;OC(t),PC(t)}wM(t),Ss(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=I0(as(t.ib,t),6e3));if(1>=jO(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ip(t,11)}else if((n.K||t.g==n)&&OC(t),!m0(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const D=w[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const B=w[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const K=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=r.i;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(mM(a,a.h),a.h=null))}if(r.F){const se=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,lr(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=ak(r,r.J?r.pa:null,r.Y),l.K){$O(r.i,l);var f=l,y=r.L;y&&f.setTimeout(y),f.B&&(TC(f),D0(f)),r.g=l}else nk(r);0<t.j.length&&NC(t)}else"stop"!=w[0]&&"close"!=w[0]||Ip(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ip(t,7):vM(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}b0()}catch{}}function PO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dB(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function cB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(at=T0.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const e=this.M;e&&3==Il(n)?e.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const D=Il(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||Hx||this.g&&(this.h.h||this.g.ja()||YO(this.g)))){this.J||4!=D||7==e||b0(),TC(this);var t=this.g.da();this.ca=t;t:if(xO(this)){var r=YO(this.g);n="";var i=r.length,a=4==Il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ep(this),A0(this);var l="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function sB(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m0(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ss(12),Ep(this),A0(this);break e}qm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pM(this,t)}this.S?(MO(this,D,l),Hx&&this.i&&3==D&&(_O(this.U,this.V,"tick",this.mb),this.V.start())):(qm(this.j,this.m,l,null),pM(this,l)),4==D&&Ep(this),this.i&&!this.J&&(4==D?ik(this.l,this):(this.i=!1,D0(this)))}else(function xB(n){const e={};n=(n.g&&2<=Il(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(m0(n[r]))continue;var t=eB(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function WU(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ss(12)):(this.o=0,Ss(13)),Ep(this),A0(this)}}}catch{}},at.mb=function(){if(this.g){var n=Il(this.g),e=this.g.ja();this.C<e.length&&(TC(this),MO(this,n,e),this.i&&4!=n&&D0(this))}},at.cancel=function(){this.J=!0,Ep(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(b0(),Ss(17)),Ep(this),this.o=2,A0(this)):RO(this,this.Y-n)};var NO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof bp){this.h=n.h,DC(this,n.j),this.s=n.s,this.g=n.g,AC(this,n.m),this.l=n.l;var e=n.i,t=new M0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),OO(this,t),this.o=n.o}else n&&(e=String(n).match(NO))?(this.h=!1,DC(this,e[1]||"",!0),this.s=S0(e[2]||""),this.g=S0(e[3]||"",!0),AC(this,e[4]),this.l=S0(e[5]||"",!0),OO(this,e[6]||"",!0),this.o=S0(e[7]||"")):(this.h=!1,this.i=new M0(null,this.h))}function Yc(n){return new bp(n)}function DC(n,e,t){n.j=t?S0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function AC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function OO(n,e,t){e instanceof M0?(n.i=e,function _B(n,e){e&&!n.j&&(Ch(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(FO(this,r),VO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=x0(e,mB)),n.i=new M0(e,n.h))}function lr(n,e,t){n.i.set(e,t)}function SC(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function S0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function x0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(x0(e,kO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(x0(e,kO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(x0(t,"/"==t.charAt(0)?gB:pB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",x0(t,yB)),n.join("")};var kO=/[#\/\?@]/g,pB=/[#\?:]/g,gB=/[#\?]/g,mB=/[#\?@]/g,yB=/#/g;function M0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ch(n){n.g||(n.g=new Map,n.h=0,n.i&&function hB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function FO(n,e){Ch(n),e=Wm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function LO(n,e){return Ch(n),e=Wm(n,e),n.g.has(e)}function VO(n,e,t){FO(n,e),0<t.length&&(n.i=null,n.g.set(Wm(n,e),jx(t)),n.h+=t.length)}function Wm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function UO(n){this.l=n||wB,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ka&&Kt.g.Ka()&&Kt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=M0.prototype).add=function(n,e){Ch(this),this.i=null,n=Wm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){Ch(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},at.ta=function(){Ch(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},at.Z=function(n){Ch(this);let e=[];if("string"==typeof n)LO(this,n)&&(e=e.concat(this.g.get(Wm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return Ch(this),this.i=null,LO(this,n=Wm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var wB=10;function BO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jO(n){return n.h?1:n.g?n.g.size:0}function gM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mM(n,e){n.g?n.g.add(e):n.h=e}function $O(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function HO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return jx(n.i)}function bB(){this.g=new class{stringify(n){return Kt.JSON.stringify(n,void 0)}parse(n){return Kt.JSON.parse(n,void 0)}}}function IB(n,e,t){const r=t||"";try{PO(n,function(i,a){let l=i;g0(i)&&(l=iM(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function R0(n){this.l=n.fc||null,this.j=n.ob||!1}function MC(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=yM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UO.prototype.cancel=function(){if(this.i=HO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Mi(R0,uM),R0.prototype.g=function(){return new MC(this.l,this.j)},R0.prototype.i=function(n){return function(){return n}}({}),Mi(MC,Ri);var yM=0;function zO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function P0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,N0(n)}function N0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=MC.prototype).open=function(n,e){if(this.readyState!=yM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,N0(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Kt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,P0(this)),this.readyState=yM},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,N0(this)),this.g&&(this.readyState=3,N0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?P0(this):N0(this),3==this.readyState&&zO(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,P0(this))},at.Ya=function(n){this.g&&(this.response=n,P0(this))},at.ka=function(){this.g&&P0(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(MC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TB=Kt.JSON.parse;function Lr(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GO,this.L=this.M=!1}Mi(Lr,Ri);var GO="",DB=/^https?$/i,AB=["POST","PUT"];function qO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WO(n),RC(n)}function WO(n){n.F||(n.F=!0,Gi(n,"complete"),Gi(n,"error"))}function ZO(n){if(n.h&&typeof Ux<"u"&&(!n.C[1]||4!=Il(n)||2!=n.da()))if(n.v&&4==Il(n))aM(n.La,0,n);else if(Gi(n,"readystatechange"),4==Il(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(NO)[1]||null;!i&&Kt.self&&Kt.self.location&&(i=Kt.self.location.protocol.slice(0,-1)),r=!DB.test(i?i.toLowerCase():"")}t=r}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var a=2<Il(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",WO(n)}}finally{RC(n)}}}function RC(n,e){if(n.g){KO(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function KO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function Il(n){return n.g?n.g.readyState:0}function YO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case GO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function QO(n){let e="";return Kx(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _M(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=QO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lr(n,e,t))}function O0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function JO(n){this.Ga=0,this.j=[],this.l=new wC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=O0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=O0("baseRetryDelayMs",5e3,n),this.hb=O0("retryDelaySeedMs",1e4,n),this.eb=O0("forwardChannelMaxRetries",2,n),this.xa=O0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new UO(n&&n.concurrentRequestLimit),this.Ja=new bB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vM(n){if(XO(n),3==n.H){var e=n.W++,t=Yc(n.I);if(lr(t,"SID",n.K),lr(t,"RID",e),lr(t,"TYPE","terminate"),k0(n,t),(e=new T0(n,n.l,e)).L=2,e.v=SC(Yc(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon)try{t=Kt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=uk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),D0(e)}ok(n)}function PC(n){n.g&&(EM(n),n.g.cancel(),n.g=null)}function XO(n){PC(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),OC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function NC(n){if(!BO(n.i)&&!n.m){n.m=!0;var e=n.Na;v0||gO(),w0||(v0(),w0=!0),sM.add(e,n),n.C=0}}function ek(n,e){var t;t=e?e.m:n.W++;const r=Yc(n.I);lr(r,"SID",n.K),lr(r,"RID",t),lr(r,"AID",n.V),k0(n,r),n.o&&n.s&&_M(r,n.o,n.s),t=new T0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=tk(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),mM(n.i,t),fM(t,r,e)}function k0(n,e){n.na&&Kx(n.na,function(t,r){lr(e,r,t)}),n.h&&PO({},function(t,r){lr(e,r,t)})}function tk(n,e,t){t=Math.min(n.j.length,t);var r=n.h?as(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].g;const D=i[y].map;if(w-=a,0>w)a=Math.max(0,i[y].g-100),f=!1;else try{IB(D,l,"req"+w+"_")}catch{r&&r(D)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function nk(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;v0||gO(),w0||(v0(),w0=!0),sM.add(e,n),n.A=0}}function wM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=I0(as(n.Ma,n),sk(n,n.A)),n.A++,0))}function EM(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function rk(n){n.g=new T0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Yc(n.wa);lr(e,"RID","rpc"),lr(e,"SID",n.K),lr(e,"AID",n.V),lr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lr(e,"TO",n.qa),lr(e,"TYPE","xmlhttp"),k0(n,e),n.o&&n.s&&_M(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=SC(Yc(e)),t.s=null,t.S=!0,SO(t,n)}function OC(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function ik(n,e){var t=null;if(n.g==e){OC(n),EM(n),n.g=null;var r=2}else{if(!gM(n.i,e))return;t=e.F,$O(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Gi(r=EC(),new IO(r,t)),NC(n)}else nk(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function MB(n,e){return!(jO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=I0(as(n.Na,n,e),sk(n,n.C)),n.C++,0)))}(n,e)||2==r&&wM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ip(n,5);break;case 4:Ip(n,10);break;case 3:Ip(n,6);break;default:Ip(n,2)}}function sk(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ip(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=as(n.pb,n);t||(t=new bp("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||DC(t,"https"),SC(t)),function CB(n,e){const t=new wC;if(Kt.Image){const r=new Image;r.onload=pC(xC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pC(xC,t,r,"TestLoadImage: error",!1,e),r.onabort=pC(xC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pC(xC,t,r,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ss(2);n.H=0,n.h&&n.h.za(e),ok(n),XO(n)}function ok(n){if(n.H=0,n.ma=[],n.h){const e=HO(n.i);(0!=e.length||0!=n.j.length)&&(tO(n.ma,e),tO(n.ma,n.j),n.i.i.length=0,jx(n.j),n.j.length=0),n.h.ya()}}function ak(n,e,t){var r=t instanceof bp?Yc(t):new bp(t);if(""!=r.g)e&&(r.g=e+"."+r.g),AC(r,r.m);else{var i=Kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new bp(null);r&&DC(a,r),e&&(a.g=e),i&&AC(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&lr(r,t,e),lr(r,"VER",n.ra),k0(n,r),r}function uk(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t&&n.Ha&&!n.va?new R0({ob:!0}):n.va)).Oa(n.J),e}function lk(){}function kC(){if(Gm&&!(10<=Number(HU)))throw Error("Environmental error: no available transport.")}function xo(n,e){Ri.call(this),this.g=new JO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!m0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!m0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zm(this)}function ck(n){lM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dk(){cM.call(this),this.status=1}function Zm(n){this.g=n}function pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function kn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(at=Lr.prototype).Oa=function(n){this.M=n},at.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dM.g(),this.C=function TO(n){return n.h||(n.h=n.i())}(this.u?this.u:dM),this.g.onreadystatechange=as(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void qO(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Kt.FormData&&n instanceof Kt.FormData,!(0<=eO(AB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KO(this),0<this.B&&((this.L=function SB(n){return Gm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.ua,this)):this.A=aM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){qO(this,a)}},at.ua=function(){typeof Ux<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),RC(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),RC(this,!0)),Lr.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?ZO(this):this.kb())},at.kb=function(){ZO(this)},at.isActive=function(){return!!this.g},at.da=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),TB(e)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=JO.prototype).ra=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new T0(this,this.l,n);let a=this.s;if(this.U&&(a?(a=oO(a),uO(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=tk(this,i,e),lr(t=Yc(this.I),"RID",n),lr(t,"CVER",22),this.F&&lr(t,"X-HTTP-Session-Id",this.F),k0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(QO(a)))+"&"+e:this.o&&_M(t,this.o,a)),mM(this.i,i),this.bb&&lr(t,"TYPE","init"),this.P?(lr(t,"$req",e),lr(t,"SID","null"),i.aa=!0,fM(i,t,null)):fM(i,t,e),this.H=2}}else 3==this.H&&(n?ek(this,n):0==this.j.length||BO(this.i)||ek(this))},at.Ma=function(){if(this.u=null,rk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=I0(as(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ss(10),PC(this),rk(this))},at.ib=function(){null!=this.v&&(this.v=null,PC(this),wM(this),Ss(19))},at.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ss(2)):(this.l.info("Failed to ping google.com"),Ss(1))},at.isActive=function(){return!!this.h&&this.h.isActive(this)},(at=lk.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.isActive=function(){return!0},at.Va=function(){},kC.prototype.g=function(n,e){return new xo(n,e)},Mi(xo,Ri),xo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ss(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=ak(n,null,n.Y),NC(n)},xo.prototype.close=function(){vM(this.g)},xo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=iM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&NC(e)},xo.prototype.N=function(){this.g.h=null,delete this.j,vM(this.g),delete this.g,xo.$.N.call(this)},Mi(ck,lM),Mi(dk,cM),Mi(Zm,lk),Zm.prototype.Ba=function(){Gi(this.g,"a")},Zm.prototype.Aa=function(n){Gi(this.g,new ck(n))},Zm.prototype.za=function(n){Gi(this.g,new dk)},Zm.prototype.ya=function(){Gi(this.g,"b")},Mi(pu,function RB(){this.blockSize=-1}),pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)bM(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){bM(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){bM(this,r),i=0;break}}this.h=i,this.i+=e},pu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var PB={};function IM(n){return-128<=n&&128>n?function BU(n,e){var t=PB;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new kn([0|e],0>e?-1:0)}):new kn([0|n],0>n?-1:0)}function Cl(n){if(isNaN(n)||!isFinite(n))return Km;if(0>n)return qi(Cl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=CM;return new kn(e,0)}var CM=4294967296,Km=IM(0),TM=IM(1),fk=IM(16777216);function Qc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function pa(n){return-1==n.h}function qi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new kn(t,~n.h).add(TM)}function FC(n,e){return n.add(qi(e))}function LC(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function F0(n,e){this.g=n,this.h=e}function VC(n,e){if(Qc(e))throw Error("division by zero");if(Qc(n))return new F0(Km,Km);if(pa(n))return e=VC(qi(n),e),new F0(qi(e.g),qi(e.h));if(pa(e))return e=VC(n,qi(e)),new F0(qi(e.g),e.h);if(30<n.g.length){if(pa(n)||pa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=TM,r=e;0>=r.X(n);)t=pk(t),r=pk(r);var i=Ym(t,1),a=Ym(r,1);for(r=Ym(r,2),t=Ym(t,2);!Qc(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Ym(r,1),t=Ym(t,1)}return e=FC(n,i.R(e)),new F0(i,e)}for(i=Km;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Cl(t)).R(e);pa(l)||0<l.X(n);)l=(a=Cl(t-=r)).R(e);Qc(a)&&(a=TM),i=i.add(a),n=FC(n,l)}return new F0(i,n)}function pk(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new kn(t,n.h)}function Ym(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new kn(i,n.h)}(at=kn.prototype).ea=function(){if(pa(this))return-qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:CM+r)*e,e*=CM}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Qc(this))return"0";if(pa(this))return"-"+qi(this).toString(n);for(var e=Cl(Math.pow(n,6)),t=this,r="";;){var i=VC(t,e).g,a=((0<(t=FC(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Qc(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return pa(n=FC(this,n))?-1:Qc(n)?0:1},at.abs=function(){return pa(this)?qi(this):this},at.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new kn(t,-2147483648&t[t.length-1]?-1:0)},at.R=function(n){if(Qc(this)||Qc(n))return Km;if(pa(this))return pa(n)?qi(this).R(qi(n)):qi(qi(this).R(n));if(pa(n))return qi(this.R(qi(n)));if(0>this.X(fk)&&0>n.X(fk))return Cl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,LC(t,2*r+2*i),t[2*r+2*i+1]+=a*y,LC(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,LC(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,LC(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new kn(t,0)},at.gb=function(n){return VC(this,n).h},at.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new kn(t,this.h&n.h)},at.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new kn(t,this.h|n.h)},at.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new kn(t,this.h^n.h)},kC.prototype.createWebChannel=kC.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,bC.NO_ERROR=0,bC.TIMEOUT=8,bC.HTTP_ERROR=6,CO.COMPLETE="complete",DO.EventType=C0,C0.OPEN="a",C0.CLOSE="b",C0.ERROR="c",C0.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,Lr.prototype.listenOnce=Lr.prototype.P,Lr.prototype.getLastError=Lr.prototype.Sa,Lr.prototype.getLastErrorCode=Lr.prototype.Ia,Lr.prototype.getStatus=Lr.prototype.da,Lr.prototype.getResponseJson=Lr.prototype.Wa,Lr.prototype.getResponseText=Lr.prototype.ja,Lr.prototype.send=Lr.prototype.ha,Lr.prototype.setWithCredentials=Lr.prototype.Oa,pu.prototype.digest=pu.prototype.l,pu.prototype.reset=pu.prototype.reset,pu.prototype.update=pu.prototype.j,kn.prototype.add=kn.prototype.add,kn.prototype.multiply=kn.prototype.R,kn.prototype.modulo=kn.prototype.gb,kn.prototype.compare=kn.prototype.X,kn.prototype.toNumber=kn.prototype.ea,kn.prototype.toString=kn.prototype.toString,kn.prototype.getBits=kn.prototype.D,kn.fromNumber=Cl,kn.fromString=function hk(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qi(hk(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Cl(Math.pow(e,8)),r=Km,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Cl(Math.pow(e,a)),r=r.R(a).add(Cl(l))):r=(r=r.R(t)).add(Cl(l))}return r};var NB=fu.createWebChannelTransport=function(){return new kC},OB=fu.getStatEventTarget=function(){return EC()},DM=fu.ErrorCode=bC,kB=fu.EventType=CO,FB=fu.Event=wp,gk=fu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LB=fu.FetchXmlHttpFactory=R0,UC=fu.WebChannel=DO,VB=fu.XhrIo=Lr,UB=fu.Md5=pu,Qm=fu.Integer=kn;const mk="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Jm="9.23.0";const Th=new ml.Yd("@firebase/firestore");function AM(){return Th.logLevel}function Ue(n,...e){if(Th.logLevel<=ml.in.DEBUG){const t=e.map(SM);Th.debug(`Firestore (${Jm}): ${n}`,...t)}}function qr(n,...e){if(Th.logLevel<=ml.in.ERROR){const t=e.map(SM);Th.error(`Firestore (${Jm}): ${n}`,...t)}}function ga(n,...e){if(Th.logLevel<=ml.in.WARN){const t=e.map(SM);Th.warn(`Firestore (${Jm}): ${n}`,...t)}}function SM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${Jm}) INTERNAL ASSERTION FAILED: `+n;throw qr(e),new Error(e)}function Ct(n,e){n||ft()}function st(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class HB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zB{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new yk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Pi(e)}}class GB{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new GB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _k{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WB{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new _k(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class vk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function Xm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function wk(n){return n+"\0"}class Er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Er(0,0))}static max(){return new Dt(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class L0{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===L0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof L0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends L0{construct(e,t,r){return new wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const KB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends L0{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return KB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(wn.fromString(e))}static fromName(e){return new rt(wn.fromString(e).popFirst(5))}static empty(){return new rt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new wn(e.slice()))}}class BC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xM(n){return n.fields.find(e=>2===e.kind)}function Cp(n){return n.fields.filter(e=>2!==e.kind)}BC.UNKNOWN_ID=-1;class jC{constructor(e,t){this.fieldPath=e,this.kind=t}}class V0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new V0(0,Mo.min())}}function Ek(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new Er(t+1,0):new Er(t,r));return new Mo(i,rt.empty(),e)}function bk(n){return new Mo(n.readTime,n.key,-1)}class Mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mo(Dt.min(),rt.empty(),-1)}static max(){return new Mo(Dt.max(),rt.empty(),-1)}}function MM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const Ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ck{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dh(n){return RM.apply(this,arguments)}function RM(){return RM=(0,ve.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==Ik)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),RM.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(D=>{l[w]=D,++f,f===a&&r(l)},D=>i(D))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class $C{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new _i,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new U0(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=PM(r.target.error);this.v.reject(new U0(e,i))}}static open(e,t,r,i){try{return new $C(t,e.transaction(i,r))}catch(a){throw new U0(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new XB(t)}}class gu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===gu.S((0,en.z$)())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Tp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,en.hl)())return!1;if(gu.C())return!0;const e=(0,en.z$)(),t=gu.S(e),r=0<t&&t<10,i=gu.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new U0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new U0(e,f))},a.onupgradeneeded=l=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ve.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=$C.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(D=>(y.P(),D)).catch(D=>(y.abort(D),ae.reject(D))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JB{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Tp(this.L.delete())}}class U0 extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ah(n){return"IndexedDbTransactionError"===n.name}class XB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tp(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Tp(this.store.add(e))}get(e){return Tp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Tp(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Tp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const l=PM(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new ae((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const y=new JB(f),w=t(f.primaryKey,f.value,y);if(w instanceof ae){const D=w.catch(S=>(y.done(),ae.reject(S)));r.push(D)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tp(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=PM(r.target.error);t(i)}})}let Tk=!1;function PM(n){const e=gu.S((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tk||(Tk=!0,setTimeout(()=>{throw r},0)),r}}return n}class ej{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ah(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Dh(r)}yield t.et(6e4)}))}}class tj{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ue("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=bk(a);MM(l,r)>0&&(r=l)}),new Mo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ro=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function B0(n){return null==n}function j0(n){return 0===n&&1/n==-1/0}function Dk(n){return"number"==typeof n&&Number.isInteger(n)&&!j0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ak(e)),e=nj(n.get(t),e);return Ak(e)}function nj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Ak(n){return n+"\x01\x01"}function Tl(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&ft(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:ft()}a=l+2}return new wn(r)}const Sk=["userId","batchId"];function HC(n,e){return[n,ls(e)]}function xk(n,e,t){return[n,ls(e),t]}const rj={},ij=["prefixPath","collectionGroup","readTime","documentId"],sj=["prefixPath","collectionGroup","documentId"],oj=["collectionGroup","readTime","prefixPath","documentId"],aj=["canonicalId","targetId"],uj=["targetId","path"],lj=["path","targetId"],cj=["collectionId","parent"],dj=["indexId","uid"],hj=["uid","sequenceNumber"],fj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pj=["indexId","uid","orderedDocumentKey"],gj=["userId","collectionPath","documentId"],mj=["userId","collectionPath","largestBatchId"],yj=["userId","collectionGroup","largestBatchId"],Mk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_j=[...Mk,"documentOverlays"],Rk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pk=Rk,vj=[...Pk,"indexConfiguration","indexState","indexEntries"];class NM extends Ck{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=st(n);return gu.M(t.ht,e)}function Nk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ok(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tr{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zC(this.root,e,this.comparator,!1)}getReverseIterator(){return new zC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zC(this.root,e,this.comparator,!0)}}class zC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=a??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Wi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kk(this.data.getIterator())}getIteratorFrom(e){return new kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ey(n){return n.hasNext()?n.getNext():void 0}class Js{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new Js([])}unionWith(e){let t=new cr(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fk("Invalid base64 string: "+i):i}}(e);return new vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const Ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=Ej.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jc(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function GC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qC(n){const e=n.mapValue.fields.__previous_value__;return GC(e)?qC(e):e}function $0(n){const e=xh(n.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}class bj{constructor(e,t,r,i,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=w}}class Mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}const Rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WC={nullValue:"NULL_VALUE"};function Ph(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GC(n)?4:Bk(n)?9007199254740991:10:ft()}function Dl(n,e){if(n===e)return!0;const t=Ph(n);if(t!==Ph(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $0(n).isEqual($0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=xh(r.timestampValue),l=xh(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Jc(n.bytesValue).isEqual(Jc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ur(r.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ur(r.integerValue)===Ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ur(r.doubleValue),l=Ur(i.doubleValue);return a===l?j0(a)===j0(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Xm(n.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Nk(a)!==Nk(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Dl(a[f],l[f])))return!1;return!0}(n,e);default:return ft()}var i}function H0(n,e){return void 0!==(n.values||[]).find(t=>Dl(t,e))}function Nh(n,e){if(n===e)return 0;const t=Ph(n),r=Ph(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ur(i.integerValue||i.doubleValue),f=Ur(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return Lk(n.timestampValue,e.timestampValue);case 4:return Lk($0(n),$0(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Jc(i),f=Jc(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const w=Zt(l[y],f[y]);if(0!==w)return w}return Zt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Zt(Ur(i.latitude),Ur(a.latitude));return 0!==l?l:Zt(Ur(i.longitude),Ur(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const w=Nh(l[y],f[y]);if(w)return w}return Zt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Rh.mapValue&&a===Rh.mapValue)return 0;if(i===Rh.mapValue)return 1;if(a===Rh.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const S=Zt(f[D],w[D]);if(0!==S)return S;const B=Nh(l[f[D]],y[w[D]]);if(0!==B)return B}return Zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ft()}}function Lk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=xh(n),r=xh(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function ty(n){return OM(n)}function OM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jc(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=OM(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${OM(r.fields[f])}`;return a+"}"}(n.mapValue):ft();var e}function Dp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kM(n){return!!n&&"integerValue"in n}function z0(n){return!!n&&"arrayValue"in n}function Vk(n){return!!n&&"nullValue"in n}function Uk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KC(n){return!!n&&"mapValue"in n}function G0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=G0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=G0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Bk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ij(n){return"nullValue"in n?WC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dp(Mh.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Cj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dp(Mh.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rh:ft()}function jk(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $k(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!KC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=G0(t)}setAll(e){let t=Vr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=G0(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());KC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];KC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zi(G0(this.value))}}function Hk(n){const e=[];return Sh(n.fields,(t,r)=>{const i=new Vr([t]);if(KC(r)){const a=Hk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Js(e)}class dr{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new dr(e,0,Dt.min(),Dt.min(),Dt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Dt.min(),Dt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Dt.min(),Dt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function zk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),t.key):Nh(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Gk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dl(n.position[t],e.position[t]))return!1;return!0}class ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qk{}class mn extends qk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Dj(e,t,r):"array-contains"===t?new xj(e,r):"in"===t?new Jk(e,r):"not-in"===t?new Mj(e,r):"array-contains-any"===t?new Rj(e,r):new mn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Aj(e,r):new Sj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nh(t,this.value)):null!==t&&Ph(this.value)===Ph(t)&&this.matchesComparison(Nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fn extends qk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Fn(e,t)}matches(e){return ry(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ry(n){return"and"===n.op}function FM(n){return"or"===n.op}function LM(n){return Wk(n)&&ry(n)}function Wk(n){for(const e of n.filters)if(e instanceof Fn)return!1;return!0}function VM(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+ty(n.value);if(LM(n))return n.filters.map(e=>VM(e)).join(",");{const e=n.filters.map(t=>VM(t)).join(",");return`${n.op}(${e})`}}function Zk(n,e){return n instanceof mn?(t=n,(r=e)instanceof mn&&t.op===r.op&&t.field.isEqual(r.field)&&Dl(t.value,r.value)):n instanceof Fn?function(t,r){return r instanceof Fn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&Zk(a,r.filters[l]),!0)}(n,e):void ft();var t,r}function Kk(n,e){const t=n.filters.concat(e);return Fn.create(t,n.op)}function Yk(n){return n instanceof mn?`${(e=n).field.canonicalString()} ${e.op} ${ty(e.value)}`:n instanceof Fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Yk).join(" ,")+"}"}(n):"Filter";var e}class Dj extends mn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Aj extends mn{constructor(e,t){super(e,"in",t),this.keys=Qk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sj extends mn{constructor(e,t){super(e,"not-in",t),this.keys=Qk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class xj extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return z0(t)&&H0(t.arrayValue,this.value)}}class Jk extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&H0(this.value.arrayValue,t)}}class Mj extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(H0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!H0(this.value.arrayValue,t)}}class Rj extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!z0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>H0(this.value.arrayValue,r))}}class Pj{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function UM(n,e=null,t=[],r=[],i=null,a=null,l=null){return new Pj(n,e,t,r,i,a,l)}function Ap(n){const e=st(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),B0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ty(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ty(r)).join(",")),e.dt=t}return e.dt}function q0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Gk(n.startAt,e.startAt)&&Gk(n.endAt,e.endAt)}function YC(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function QC(n,e){return n.filters.filter(t=>t instanceof mn&&t.field.isEqual(e))}function Xk(n,e,t){let r=WC,i=!0;for(const a of QC(n,e)){let l=WC,f=!0;switch(a.op){case"<":case"<=":l=Ij(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=WC}jk({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];jk({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function eF(n,e,t){let r=Rh,i=!0;for(const a of QC(n,e)){let l=Rh,f=!0;switch(a.op){case">=":case">":l=Cj(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Rh}$k({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];$k({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Xc{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function tF(n,e,t,r,i,a,l,f){return new Xc(n,e,t,r,i,a,l,f)}function iy(n){return new Xc(n)}function nF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function BM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jM(n){return null!==n.collectionGroup}function Sp(n){const e=st(n);if(null===e.wt){e.wt=[];const t=JC(e),r=BM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ny(t)),e.wt.push(new ny(Vr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ny(Vr.keyField(),a))}}}return e.wt}function xs(n){const e=st(n);if(!e._t)if("F"===e.limitType)e._t=UM(e.path,e.collectionGroup,Sp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Sp(e))t.push(new ny(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Oh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oh(e.startAt.position,e.startAt.inclusive):null;e._t=UM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function $M(n,e){e.getFirstInequalityField(),JC(n);const t=n.filters.concat([e]);return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function XC(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function W0(n,e){return q0(xs(n),xs(e))&&n.limitType===e.limitType}function rF(n){return`${Ap(xs(n))}|lt:${n.limitType}`}function HM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Yk(r)).join(", ")}]`),B0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ty(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ty(r)).join(",")),`Target(${t})`}(xs(n))}; limitType=${n.limitType})`}function Z0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Sp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=zk(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,Sp(t),r)||t.endAt&&!function(i,a,l){const f=zk(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,Sp(t),r)));var t,r}function iF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sF(n){return(e,t)=>{let r=!1;for(const i of Sp(n)){const a=Nj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Nj(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?Nh(f,y):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class ed{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ok(this.inner)}size(){return this.innerSize}}const Oj=new tr(rt.comparator);function Xs(){return Oj}const oF=new tr(rt.comparator);function K0(...n){let e=oF;for(const t of n)e=e.insert(t.key,t);return e}function aF(n){let e=oF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Al(){return Y0()}function uF(){return Y0()}function Y0(){return new ed(n=>n.toString(),(n,e)=>n.isEqual(e))}const kj=new tr(rt.comparator),Fj=new cr(rt.comparator);function nn(...n){let e=Fj;for(const t of n)e=e.add(t);return e}const Lj=new cr(Zt);function zM(){return Lj}function lF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j0(e)?"-0":e}}function cF(n){return{integerValue:""+n}}function dF(n,e){return Dk(e)?cF(e):lF(n,e)}class eT{constructor(){this._=void 0}}function Vj(n,e,t){return n instanceof sy?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&GC(i)&&(i=qC(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof xp?fF(n,e):n instanceof Mp?pF(n,e):function(r,i){const a=hF(r,i),l=gF(a)+gF(r.gt);return kM(a)&&kM(r.gt)?cF(l):lF(r.serializer,l)}(n,e)}function Uj(n,e,t){return n instanceof xp?fF(n,e):n instanceof Mp?pF(n,e):t}function hF(n,e){return n instanceof oy?kM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sy extends eT{}class xp extends eT{constructor(e){super(),this.elements=e}}function fF(n,e){const t=mF(e);for(const r of n.elements)t.some(i=>Dl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mp extends eT{constructor(e){super(),this.elements=e}}function pF(n,e){let t=mF(e);for(const r of n.elements)t=t.filter(i=>!Dl(i,r));return{arrayValue:{values:t}}}class oy extends eT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function gF(n){return Ur(n.integerValue||n.doubleValue)}function mF(n){return z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Q0{constructor(e,t){this.field=e,this.transform=t}}class jj{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nT{}function yF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uy(n.key,br.none()):new ay(n.key,n.data,br.none());{const t=n.data,r=Zi.empty();let i=new cr(Vr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new td(n.key,r,new Js(i.toArray()),br.none())}}function $j(n,e,t){n instanceof ay?function(r,i,a){const l=r.value.clone(),f=wF(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof td?function(r,i,a){if(!tT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=wF(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(vF(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function J0(n,e,t,r){return n instanceof ay?function(i,a,l,f){if(!tT(i.precondition,a))return l;const y=i.value.clone(),w=EF(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof td?function(i,a,l,f){if(!tT(i.precondition,a))return l;const y=EF(i.fieldTransforms,f,a),w=a.data;return w.setAll(vF(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(l=t,tT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function Hj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=hF(r.transform,i||null);null!=a&&(null===t&&(t=Zi.empty()),t.set(r.field,a))}return t||null}function _F(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Xm(t,r,(i,a)=>function Bj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof xp&&r instanceof xp||t instanceof Mp&&r instanceof Mp?Xm(t.elements,r.elements,Dl):t instanceof oy&&r instanceof oy?Dl(t.gt,r.gt):t instanceof sy&&r instanceof sy);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ay extends nT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class td extends nT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wF(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,Uj(l,f,t[i]))}return r}function EF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,Vj(a,l,e))}return r}class uy extends nT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends nT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&$j(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=J0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=J0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uF();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=yF(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Xm(this.mutations,e.mutations,(t,r)=>_F(t,r))&&Xm(this.baseMutations,e.baseMutations,(t,r)=>_F(t,r))}}class WM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=kj;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new WM(e,t,r,i)}}class ZM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gj{constructor(e,t){this.count=e,this.unchangedNames=t}}var ti,En;function bF(n){switch(n){default:return ft();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function IF(n){if(void 0===n)return qr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ti.OK:return pe.OK;case ti.CANCELLED:return pe.CANCELLED;case ti.UNKNOWN:return pe.UNKNOWN;case ti.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ti.INTERNAL:return pe.INTERNAL;case ti.UNAVAILABLE:return pe.UNAVAILABLE;case ti.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ti.NOT_FOUND:return pe.NOT_FOUND;case ti.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ti.ABORTED:return pe.ABORTED;case ti.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ti.DATA_LOSS:return pe.DATA_LOSS;default:return ft()}}(En=ti||(ti={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class KM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rT}static getOrCreateInstance(){return null===rT&&(rT=new KM),rT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let rT=null;function CF(){return new TextEncoder}const qj=new Qm([4294967295,4294967295],0);function TF(n){const e=CF().encode(n),t=new UB;return t.update(e),new Uint8Array(t.digest())}function DF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qm([t,r],0),new Qm([i,a],0)]}class YM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new X0(`Invalid padding: ${t}`);if(r<0)throw new X0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new X0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new X0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qm.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Qm.fromNumber(r)));return 1===i.compare(qj)&&(i=new Qm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=TF(e),[r,i]=DF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new YM(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=TF(e),[r,i]=DF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class X0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ew{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,tw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ew(Dt.min(),i,new tr(Zt),Xs(),nn())}}class tw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tw(r,t,nn(),nn(),nn())}}class iT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class AF{constructor(e,t){this.targetId=e,this.Vt=t}}class SF{constructor(e,t,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xF{constructor(){this.St=0,this.Dt=RF(),this.Ct=vi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),r=nn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new tw(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=RF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xs(),this.zt=MF(),this.Wt=new tr(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(YC(l))if(0===i){const f=new rt(l.path);this.Yt(r,f,dr.newNoDocument(f,Dt.min()))}else Ct(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=KM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,D,S){var B,H,K,se,ce,Be;const Qe={localCacheCount:D,existenceFilterCount:S.count},We=S.unchangedNames;return We&&(Qe.bloomFilter={applied:0===w,hashCount:null!==(B=We?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(se=null===(K=null===(H=We?.bits)||void 0===H?void 0:H.bitmap)||void 0===K?void 0:K.length)&&void 0!==se?se:0,padding:null!==(Be=null===(ce=We?.bits)||void 0===ce?void 0:ce.padding)&&void 0!==Be?Be:0}),Qe}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,w;try{y=Jc(a).toUint8Array()}catch(D){if(D instanceof Fk)return ga("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{w=new YM(y,l,f)}catch(D){return ga(D instanceof X0?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&YC(f.target)){const y=new rt(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,dr.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=nn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new ew(e,t,this.Wt,this.jt,r);return this.jt=Xs(),this.zt=MF(),this.Wt=new tr(Zt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cr(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function MF(){return new tr(rt.comparator)}function RF(){return new tr(rt.comparator)}const Zj={asc:"ASCENDING",desc:"DESCENDING"},Kj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yj={and:"AND",or:"OR"};class Qj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QM(n,e){return n.useProto3Json||B0(e)?e:{value:e}}function ly(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jj(n,e){return ly(n,e.toTimestamp())}function Wr(n){return Ct(!!n),Dt.fromTimestamp(function(e){const t=xh(e);return new Er(t.seconds,t.nanos)}(n))}function JM(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function NF(n){const e=wn.fromString(n);return Ct($F(e)),e}function nw(n,e){return JM(n.databaseId,e.path)}function Sl(n,e){const t=NF(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(kF(t))}function XM(n,e){return JM(n.databaseId,e)}function OF(n){const e=NF(n);return 4===e.length?wn.emptyPath():kF(e)}function rw(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kF(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FF(n,e,t){return{name:nw(n,e),fields:t.value.mapValue.fields}}function LF(n,e,t){const r=Sl(n,e.name),i=Wr(e.updateTime),a=e.createTime?Wr(e.createTime):Dt.min(),l=new Zi({mapValue:{fields:e.fields}}),f=dr.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function iw(n,e){let t;if(e instanceof ay)t={update:FF(n,e.key,e.value)};else if(e instanceof uy)t={delete:nw(n,e.key)};else if(e instanceof td)t={update:FF(n,e.key,e.data),updateMask:o$(e.fieldMask)};else{if(!(e instanceof GM))return ft();t={verify:nw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof sy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Mp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oy)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Jj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function e1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?br.updateTime(Wr(i.updateTime)):void 0!==i.exists?br.exists(i.exists):br.none():br.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Ct("REQUEST_TIME"===l.setToServerValue),f=new sy):"appendMissingElements"in l?f=new xp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Mp(l.removeAllFromArray.values||[]):"increment"in l?f=new oy(a,l.increment):ft();const y=Vr.fromServerFormat(l.fieldPath);return new Q0(y,f)}(n,i)):[];var i;if(e.update){const i=Sl(n,e.update.name),a=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Js((e.updateMask.fieldPaths||[]).map(w=>Vr.fromServerFormat(w)));return new td(i,a,l,t,r)}return new ay(i,a,t,r)}if(e.delete){const i=Sl(n,e.delete);return new uy(i,t)}if(e.verify){const i=Sl(n,e.verify);return new GM(i,t)}return ft()}function VF(n,e){return{documents:[XM(n,e.path)]}}function t1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return jF(Fn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:kh((D=w).field),direction:r$(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=QM(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function UF(n){let e=OF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const S=BF(D);return S instanceof Fn&&LM(S)?S.getFilters():[S]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(D=>{return new ny(cy((S=D).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(D){let S;return S="object"==typeof D?D.value:D,B0(S)?null:S}(t.limit));let y=null;var D;t.startAt&&(y=new Oh((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Oh(D.values||[],!D.before)}(t.endAt)),tF(e,i,l,a,f,"F",y,w)}function BF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cy(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=cy(e.unaryFilter.field);return mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cy(e.unaryFilter.field);return mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cy(e.unaryFilter.field);return mn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?mn.create(cy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fn.create(e.compositeFilter.filters.map(t=>BF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function r$(n){return Zj[n]}function i$(n){return Kj[n]}function s$(n){return Yj[n]}function kh(n){return{fieldPath:n.canonicalString()}}function cy(n){return Vr.fromServerFormat(n.fieldPath)}function jF(n){return n instanceof mn?function(e){if("=="===e.op){if(Uk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NAN"}};if(Vk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NAN"}};if(Vk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(e.field),op:i$(e.op),value:e.value}}}(n):n instanceof Fn?function(e){const t=e.getFilters().map(r=>jF(r));return 1===t.length?t[0]:{compositeFilter:{op:s$(e.op),filters:t}}}(n):ft()}function o$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $F(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class nd{constructor(e,t,r,i,a=Dt.min(),l=Dt.min(),f=vi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new nd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HF{constructor(e){this.fe=e}}function zF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:nw(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ly(i,a.version.toTimestamp()),createTime:ly(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rp(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:Rp(e.version)}}var i,a;return r}function sT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pp(n){const e=new Er(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Np(n,e){const t=(e.baseMutations||[]).map(a=>e1(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(l.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>e1(n.fe,a)),i=Er.fromMillis(e.localWriteTimeMs);return new qM(e.batchId,i,t,r)}function sw(n){const e=Pp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pp(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=xs(iy(OF(i.documents[0])))):r=xs(UF(n.query)),new nd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function GF(n,e){const t=Rp(e.snapshotVersion),r=Rp(e.lastLimboFreeSnapshotVersion);let i;i=YC(e.target)?VF(n.fe,e.target):t1(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ap(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function n1(n){const e=UF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?XC(e,e.limit,"L"):e}function r1(n,e){return new ZM(e.largestBatchId,e1(n.fe,e.overlayMutation))}function qF(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function WF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Rp(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class u${getBundleMetadata(e,t){return ZF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Pp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ZF(e).put({bundleId:(r=t).id,createTime:Rp(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:n1(i.bundledQuery),readTime:Pp(i.readTime)};var i})}saveNamedQuery(e,t){return KF(e).put({name:(r=t).name,readTime:Rp(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZF(n){return Ni(n,"bundles")}function KF(n){return Ni(n,"namedQueries")}class oT{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new oT(e,t.uid||"")}getOverlay(e,t){return ow(e).get(qF(this.userId,t)).next(r=>r?r1(this.serializer,r):null)}getOverlays(e,t){const r=Al();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new ZM(t,l);i.push(this.we(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(ls(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(ow(e).J("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Al(),a=ls(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ow(e).j("collectionPathOverlayIndex",l).next(f=>{for(const y of f){const w=r1(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Al();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ow(e).X({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const S=r1(this.serializer,w);a.size()<i||S.largestBatchId===l?(a.set(S.getKey(),S),l=S.largestBatchId):D.done()}).next(()=>a)}we(e,t){return ow(e).put(function(r,i,a){const[l,f,y]=qF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:iw(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function ow(n){return Ni(n,"documentOverlays")}class Op{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),j0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Jc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Bk(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function l$(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function YF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=l$(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Op.Ve=new Op;class c${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=YF(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=YF(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class d${constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class h${constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class aw{constructor(){this.je=new c$,this.ze=new d$(this.je),this.We=new h$(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class kp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new kp(this.indexId,this.documentKey,this.arrayValue,r)}}function Fh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QF(n.arrayValue,e.arrayValue),0!==t?t:(t=QF(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function QF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class f${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=xM(e);if(void 0!==t&&!this.en(t))return!1;const r=Cp(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a){const f=r[a];if(l>=this.Ye.length||!this.sn(this.Ye[l++],f))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function JF(n){var e,t;if(Ct(n instanceof mn||n instanceof Fn),n instanceof mn){if(n instanceof Jk){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>mn.create(n.field,"==",a)))||[];return Fn.create(i,"or")}return n}const r=n.filters.map(i=>JF(i));return Fn.create(r,n.op)}function p$(n){if(0===n.getFilters().length)return[];const e=o1(JF(n));return Ct(XF(e)),i1(e)||s1(e)?[e]:e.getFilters()}function i1(n){return n instanceof mn}function s1(n){return n instanceof Fn&&LM(n)}function XF(n){return i1(n)||s1(n)||function(e){if(e instanceof Fn&&FM(e)){for(const t of e.getFilters())if(!i1(t)&&!s1(t))return!1;return!0}return!1}(n)}function o1(n){if(Ct(n instanceof mn||n instanceof Fn),n instanceof mn)return n;if(1===n.filters.length)return o1(n.filters[0]);const e=n.filters.map(r=>o1(r));let t=Fn.create(e,n.op);return t=aT(t),XF(t)?t:(Ct(t instanceof Fn),Ct(ry(t)),Ct(t.filters.length>1),t.filters.reduce((r,i)=>a1(r,i)))}function a1(n,e){let t;return Ct(n instanceof mn||n instanceof Fn),Ct(e instanceof mn||e instanceof Fn),t=n instanceof mn?e instanceof mn?Fn.create([n,e],"and"):eL(n,e):e instanceof mn?eL(e,n):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),ry(r)&&ry(i))return Kk(r,i.getFilters());const a=FM(r)?r:i,l=FM(r)?i:r,f=a.filters.map(y=>a1(y,l));return Fn.create(f,"or")}(n,e),aT(t)}function eL(n,e){if(ry(e))return Kk(e,n.getFilters());{const t=e.filters.map(r=>a1(n,r));return Fn.create(t,"or")}}function aT(n){if(Ct(n instanceof mn||n instanceof Fn),n instanceof mn)return n;const e=n.getFilters();if(1===e.length)return aT(e[0]);if(Wk(n))return n;const t=e.map(i=>aT(i)),r=[];return t.forEach(i=>{i instanceof mn?r.push(i):i instanceof Fn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Fn.create(r,n.op)}class g${constructor(){this.rn=new u1}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Mo.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class u1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cr(wn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(wn.comparator)).toArray()}}const uT=new Uint8Array(0);class m${constructor(e,t){this.user=e,this.databaseId=t,this.on=new u1,this.un=new ed(r=>Ap(r),(r,i)=>q0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:ls(i)};return tL(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[wk(t),""],!1,!0);return tL(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Tl(l.parent))}return r})}addFieldIndex(e,t){const r=lT(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=lw(e);return a.next(f=>{l.put(WF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=lT(e),i=lw(e),a=uw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=uw(e);let i=!0;const a=new Map;return ae.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=nn();const f=[];return ae.forEach(a,(y,w)=>{var D;Ue("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${Ap(t)}`);const S=function(We,Xe){const Ut=xM(Xe);if(void 0===Ut)return null;for(const Bt of QC(We,Ut.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(w,y),B=function(We,Xe){const Ut=new Map;for(const Bt of Cp(Xe))for(const _n of QC(We,Bt.fieldPath))switch(_n.op){case"==":case"in":Ut.set(Bt.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Ut.set(Bt.fieldPath.canonicalString(),_n.value),Array.from(Ut.values())}return null}(w,y),H=function(We,Xe){const Ut=[];let Bt=!0;for(const _n of Cp(Xe)){const Dr=0===_n.kind?Xk(We,_n.fieldPath,We.startAt):eF(We,_n.fieldPath,We.startAt);Ut.push(Dr.value),Bt&&(Bt=Dr.inclusive)}return new Oh(Ut,Bt)}(w,y),K=function(We,Xe){const Ut=[];let Bt=!0;for(const _n of Cp(Xe)){const Dr=0===_n.kind?eF(We,_n.fieldPath,We.endAt):Xk(We,_n.fieldPath,We.endAt);Ut.push(Dr.value),Bt&&(Bt=Dr.inclusive)}return new Oh(Ut,Bt)}(w,y),se=this.hn(y,w,H),ce=this.hn(y,w,K),Be=this.ln(y,w,B),Qe=this.fn(y.indexId,S,se,H.inclusive,ce,K.inclusive,Be);return ae.forEach(Qe,We=>r.H(We,t.limit).next(Xe=>{Xe.forEach(Ut=>{const Bt=rt.fromSegments(Ut.documentKey);l.has(Bt)||(l=l.add(Bt),f.push(Bt))})}))}).next(()=>f)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:p$(Fn.create(e.filters,"and")).map(r=>UM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),D=[];for(let S=0;S<y;++S){const B=t?this.dn(t[S/w]):uT,H=this.wn(e,B,r[S%w],i),K=this._n(e,B,a[S%w],l),se=f.map(ce=>this.wn(e,B,ce,!0));D.push(...this.createRange(H,K,se))}return D}wn(e,t,r,i){const a=new kp(e,rt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new kp(e,rt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new f$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return ae.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let y=new cr(Vr.comparator),w=!1;for(const D of f.filters)for(const S of D.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:y=y.add(S.field));for(const D of f.orderBy)D.field.isKeyField()||(y=y.add(D.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new aw;for(const i of Cp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);Op.Ve._e(a,l)}return r.Qe()}dn(e){const t=new aw;return Op.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new aw;return Op.Ve._e(Dp(this.databaseId,t),r.He(function(i){const a=Cp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new aw);let a=0;for(const l of Cp(e)){const f=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&z0(f))i=this.pn(i,l,f);else{const w=y.He(l.kind);Op.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const y=new aw;y.seed(f.Qe()),Op.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof mn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lT(e),i=lw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{l.push(function(w,D){const S=D?new V0(D.sequenceNumber,new Mo(Pp(D.readTime),new rt(Tl(D.documentKey)),D.largestBatchId)):V0.empty(),B=w.fields.map(([H,K])=>new jC(Vr.fromServerFormat(H),K));return new BC(w.indexId,w.collectionGroup,B,S)}(f,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lT(e),a=lw(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,y=>a.put(WF(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,y=>this.En(e,i,y).next(w=>{const D=this.An(a,y);return w.isEqual(D)?ae.resolve():this.vn(e,a,y,w,D)}))))})}Rn(e,t,r,i){return uw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return uw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=uw(e);let a=new cr(Fh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new kp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new cr(Fh);const i=this.mn(t,e);if(null==i)return r;const a=xM(t);if(null!=a){const l=e.data.field(a.fieldPath);if(z0(l))for(const f of l.arrayValue.values||[])r=r.add(new kp(t.indexId,e.key,this.dn(f),i))}else r=r.add(new kp(t.indexId,e.key,uT,i));return r}vn(e,t,r,i,a){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,y,w,D,S){const B=f.getIterator(),H=y.getIterator();let K=ey(B),se=ey(H);for(;K||se;){let ce=!1,Be=!1;if(K&&se){const Qe=w(K,se);Qe<0?Be=!0:Qe>0&&(ce=!0)}else null!=K?Be=!0:ce=!0;ce?(D(se),se=ey(H)):Be?(S(K),K=ey(B)):(K=ey(B),se=ey(H))}}(i,a,Fh,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),ae.waitFor(l)}Tn(e){let t=1;return lw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>Fh(l,f)).filter((l,f,y)=>!f||0!==Fh(l,y[f-1]));const i=[];i.push(e);for(const l of r){const f=Fh(l,e),y=Fh(l,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,uT,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,uT,[]]))}return a}bn(e,t){return Fh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nL)}getMinOffset(e,t){return ae.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ft())).next(nL)}}function tL(n){return Ni(n,"collectionParents")}function uw(n){return Ni(n,"indexEntries")}function lT(n){return Ni(n,"indexConfiguration")}function lw(n){return Ni(n,"indexState")}function nL(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Mo(e.readTime,e.documentKey,t)}const rL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:l},(D,S,B)=>(f++,B.delete()));a.push(y.next(()=>{Ct(1===f)}));const w=[];for(const D of t.mutations){const S=xk(e,D.key.path,t.batchId);a.push(i.delete(S)),w.push(D.key)}return ae.waitFor(a).next(()=>w)}function cT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class dT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new dT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=dy(e),l=Lh(e);return l.add({}).next(f=>{Ct("number"==typeof f);const y=new qM(f,t,r,i),w=function(B,H,K){const se=K.baseMutations.map(Be=>iw(B.fe,Be)),ce=K.mutations.map(Be=>iw(B.fe,Be));return{userId:H,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:se,mutations:ce}}(this.serializer,this.userId,y),D=[];let S=new cr((B,H)=>Zt(B.canonicalString(),H.canonicalString()));for(const B of i){const H=xk(this.userId,B.key.path,f);S=S.add(B.key.path.popLast()),D.push(l.put(w)),D.push(a.put(H,rj))}return S.forEach(B=>{D.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),ae.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return Lh(e).get(t).next(r=>r?(Ct(r.userId===this.userId),Np(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Lh(e).X({index:"userMutationsIndex",range:i},(l,f,y)=>{f.userId===this.userId&&(Ct(f.batchId>=r),a=Np(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Lh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).j("userMutationsIndex",t).next(r=>r.map(i=>Np(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=HC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dy(e).X({range:i},(l,f,y)=>{const[w,D,S]=l,B=Tl(D);if(w===this.userId&&t.path.isEqual(B))return Lh(e).get(S).next(H=>{if(!H)throw ft();Ct(H.userId===this.userId),a.push(Np(this.serializer,H))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Zt);const i=[];return t.forEach(a=>{const l=HC(this.userId,a.path),f=IDBKeyRange.lowerBound(l),y=dy(e).X({range:f},(w,D,S)=>{const[B,H,K]=w,se=Tl(H);B===this.userId&&a.path.isEqual(se)?r=r.add(K):S.done()});i.push(y)}),ae.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=HC(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new cr(Zt);return dy(e).X({range:l},(y,w,D)=>{const[S,B,H]=y,K=Tl(B);S===this.userId&&r.isPrefixOf(K)?K.length===i&&(f=f.add(H)):D.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Lh(e).get(a).next(l=>{if(null===l)throw ft();Ct(l.userId===this.userId),r.push(Np(this.serializer,l))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iL(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dy(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const y=Tl(a[1]);i.push(y)}else f.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return sL(e,this.userId,t)}xn(e){return oL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sL(n,e,t){const r=HC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return dy(n).X({range:a,Y:!0},(f,y,w)=>{const[D,S,B]=f;D===e&&S===i&&(l=!0),w.done()}).next(()=>l)}function Lh(n){return Ni(n,"mutations")}function dy(n){return Ni(n,"documentMutations")}function oL(n){return Ni(n,"mutationQueues")}class Fp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fp(0)}static Mn(){return new Fp(-1)}}class y${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Fp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Dt.fromTimestamp(new Er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return hy(e).X((l,f)=>{const y=sw(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return hy(e).X((r,i)=>{const a=sw(i);t(a)})}$n(e){return aL(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return aL(e).put("targetGlobalKey",t)}Fn(e,t){return hy(e).put(GF(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ap(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return hy(e).X({range:i,index:"queryTargetsIndex"},(l,f,y)=>{const w=sw(f);q0(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Vh(e);return t.forEach(l=>{const f=ls(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vh(e);return ae.forEach(t,a=>{const l=ls(a.path);return ae.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Vh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vh(e);let a=nn();return i.X({range:r,Y:!0},(l,f,y)=>{const w=Tl(l[1]),D=new rt(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[wk(r)],!1,!0);let a=0;return Vh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return hy(e).get(t).next(r=>r?sw(r):null)}}function hy(n){return Ni(n,"targets")}function aL(n){return Ni(n,"targetGlobal")}function Vh(n){return Ni(n,"targetDocuments")}function uL([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class _${constructor(e){this.Ln=e,this.buffer=new cr(uL),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ah(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Dh(r)}yield t.Qn(3e5)}))}}class v${constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Ro.ct);const r=new _$(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(rL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rL):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,l=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),AM()<=ml.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-D}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${S} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class w${constructor(e,t){this.db=e,this.garbageCollector=function cL(n,e){return new v$(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return hT(e,r)}removeReference(e,t,r){return hT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hT(e,t)}Xn(e,t){return function(r,i){let a=!1;return oL(r).Z(l=>sL(r,l,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Dt.min()),Vh(e).delete([0,ls(l.path)])))});i.push(y)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hT(e,t)}Yn(e,t){const r=Vh(e);let i,a=Ro.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:y,sequenceNumber:w})=>{0===l?(a!==Ro.ct&&t(new rt(Tl(i)),a),a=w,i=y):a=Ro.ct}).next(()=>{a!==Ro.ct&&t(new rt(Tl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hT(n,e){return Vh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class dL{constructor(){this.changes=new ed(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lp(e).put(r)}removeEntry(e,t,r){return Lp(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],sT(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Lp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cw(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Lp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cw(t))},(i,a)=>{r={document:this.ts(t,a),size:cT(a)}}).next(()=>r)}getEntries(e,t){let r=Xs();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Xs(),i=new tr(rt.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,cT(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ae.resolve();let i=new cr(gL);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(cw(i.first()),cw(i.last())),l=i.getIterator();let f=l.getNext();return Lp(e).X({index:"documentKeyIndex",range:a},(y,w,D)=>{const S=rt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&gL(f,S)<0;)r(f,null),f=l.getNext();f&&f.isEqual(S)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?D.G(cw(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),sT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lp(e).j(IDBKeyRange.bound(l,f,!0)).next(y=>{let w=Xs();for(const D of y){const S=this.ts(rt.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);S.isFoundDocument()&&(Z0(t,S)||i.has(S.key))&&(w=w.insert(S.key,S))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Xs();const l=pL(t,r),f=pL(t,Mo.max());return Lp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(y,w,D)=>{const S=this.ts(rt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new b$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fL(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return fL(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function a$(n,e){let t;if(e.document)t=LF(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),i=Pp(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=rt.fromSegments(e.unknownDocument.path),i=Pp(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Er(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return dr.newInvalidDocument(e)}}function hL(n){return new E$(n)}class b$ extends dL{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ed(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cr((a,l)=>Zt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const y=zF(this.os.serializer,l);i=i.add(a.path.popLast()),r+=cT(y)-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=zF(this.os.serializer,l.convertToNoDocument(Dt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function fL(n){return Ni(n,"remoteDocumentGlobal")}function Lp(n){return Ni(n,"remoteDocumentsV14")}function cw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pL(n,e){const t=e.documentKey.path.toArray();return[n,sT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Zt(t[a],r[a]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class I${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&J0(r.mutation,i,Js.empty(),Er.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const i=Al();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=K0();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Al();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=Xs();const l=Y0(),f=Y0();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof td)?a=a.insert(w.key,w):void 0!==D?(l.set(w.key,D.mutation.getFieldMask()),J0(D.mutation,w,D.mutation.getFieldMask(),Er.now())):l.set(w.key,Js.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,D)=>l.set(w,D)),t.forEach((w,D)=>{var S;return f.set(w,new I$(D,null!==(S=l.get(w))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Y0();let i=new tr((l,f)=>l-f),a=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||Js.empty();D=f.applyToLocalView(w,D),r.set(y,D);const S=(i.get(f.batchId)||nn()).add(y);i=i.insert(f.batchId,S)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,S=uF();D.forEach(B=>{if(!a.has(B)){const H=yF(t.get(B),r.get(B));null!==H&&S.set(B,H),a=a.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,S))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(Al());let f=-1,y=a;return l.next(w=>ae.forEach(w,(D,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(D)?ae.resolve():this.remoteDocumentCache.getEntry(e,D).next(B=>{y=y.insert(D,B)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,nn())).next(D=>({batchId:f,changes:aF(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=K0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=K0();return this.indexManager.getCollectionParents(e,i).next(l=>ae.forEach(l,f=>{const y=(w=t,D=f.child(i),new Xc(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,S)=>{a=a.insert(D,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,dr.newInvalidDocument(w)))});let l=K0();return a.forEach((f,y)=>{const w=i.get(f);void 0!==w&&J0(w.mutation,y,Js.empty(),Er.now()),Z0(t,y)&&(l=l.insert(f,y))}),l})}}class C${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:n1(r.bundledQuery),readTime:Wr(r.readTime)}),ae.resolve();var r}}class T${constructor(){this.overlays=new tr(rt.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Al();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Al(),a=t.length+1,l=new rt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new tr((w,D)=>w-D);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=a.get(w.largestBatchId);null===D&&(D=Al(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Al(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return ae.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZM(t,r));let a=this.ls.get(t);void 0===a&&(a=nn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class l1{constructor(){this.fs=new cr(Oi.ds),this.ws=new cr(Oi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Oi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Oi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new rt(new wn([])),r=new Oi(t,e),i=new Oi(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new wn([])),r=new Oi(t,e),i=new Oi(t,e+1);let a=nn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Oi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Oi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||rt.comparator(e.key,t.key)}}class D${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cr(Oi.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new qM(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Oi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Oi(t,0),i=new Oi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Zt);return t.forEach(i=>{const a=new Oi(i,0),l=new Oi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;rt.isDocumentKey(a)||(a=a.child(""));const l=new Oi(new rt(a),0);let f=new cr(Zt);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.As)),!0)},l),ae.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const a=new Oi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Oi(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class A${constructor(e){this.Ds=e,this.docs=new tr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Xs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():dr.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Xs();const l=t.path,f=new rt(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:D}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||MM(bk(D),r)<=0||(i.has(D.key)||Z0(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ft()}Cs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new S$(this)}getSize(e){return ae.resolve(this.size)}}class S$ extends dL{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class x${constructor(e){this.persistence=e,this.xs=new ed(t=>Ap(t),q0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new l1,this.targetCount=0,this.Ms=Fp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Fp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class c1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ro(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x$(this),this.indexManager=new g$,this.remoteDocumentCache=new A$(r=>this.referenceDelegate.Ls(r)),this.serializer=new HF(t),this.qs=new C$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new D$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new M$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class M$ extends Ck{constructor(e){super(),this.currentSequenceNumber=e}}class fT{constructor(e){this.persistence=e,this.Qs=new l1,this.js=null}static zs(e){return new fT(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class R${constructor(e){this.serializer=e}O(e,t,r,i){const a=new $C("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sk,{unique:!0}),f.createObjectStore("documentMutations"),yL(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),yL(e)),l=l.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,y){return y.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sk,{unique:!0});const D=y.store("mutations"),S=w.map(B=>D.put(B));return ae.waitFor(S)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:gj});y.createIndex("collectionPathOverlayIndex",mj,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",yj,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:ij});y.createIndex("documentKeyIndex",sj),y.createIndex("collectionGroupIndex",oj)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:dj}).createIndex("sequenceNumberIndex",hj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:fj}).createIndex("documentKeyIndex",pj,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=cT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ae.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>ae.forEach(f,y=>{Ct(y.userId===a.userId);const w=Np(this.serializer,y);return iL(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const y=new wn(l),w=[0,ls(y)];a.push(t.get(w).next(D=>D?ae.resolve():t.put({targetId:0,path:ls(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cj});const r=t.store("collectionParents"),i=new u1,a=l=>{if(i.add(l)){const f=l.lastSegment(),y=l.popLast();return r.put({collectionId:f,parent:ls(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const y=new wn(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,y],w)=>{const D=Tl(f);return a(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=sw(i),l=GF(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),y=(w=l,w.document?new rt(wn.fromString(w.document.name).popFirst(5)):w.noDocument?rt.fromSegments(w.noDocument.path):w.unknownDocument?rt.fromSegments(w.unknownDocument.path):ft()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(D))}).next(()=>ae.waitFor(i))}si(e,t){const r=t.store("mutations"),i=hL(this.serializer),a=new c1(fT.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:nn();Np(this.serializer,y).keys().forEach(S=>D=D.add(S)),f.set(y.userId,D)}),ae.forEach(f,(y,w)=>{const D=new Pi(w),S=oT.de(this.serializer,D),B=a.getIndexManager(D),H=dT.de(D,this.serializer,B,a.referenceDelegate);return new mL(i,H,S,B).recalculateAndSaveOverlaysForDocumentKeys(new NM(t,Ro.ct),y).next()})})}}function yL(n){n.createObjectStore("targetDocuments",{keyPath:uj}).createIndex("documentTargetsIndex",lj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aj,{unique:!0}),n.createObjectStore("targetGlobal")}const d1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h1{constructor(e,t,r,i,a,l,f,y,w,D,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=D,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!h1.D())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new w$(this,i),this.di=t+"main",this.serializer=new HF(y),this.wi=new gu(this.di,this.ui,new R$(this.serializer)),this.Bs=new y$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hL(this.serializer),this.qs=new u$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,d1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ro(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ah(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return dw(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return gT(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ni(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(y=>-1===l.indexOf(y));return ae.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):dw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,d1);return!1}}return!(!this.networkEnabled||!this.inForeground)||gT(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new NM(t,Ro.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gT(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return dT.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new m$(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return oT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?vj:14===l?Pk:13===l?Rk:12===l?_j:11===l?Mk:void ft();var l;let f;return this.wi.runTransaction(e,i,a,y=>(f=new NM(y,this.Os?this.Os.next():Ro.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(pe.FAILED_PRECONDITION,Ik);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return dw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,d1)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dw(e).put("owner",t)}static D(){return gu.D()}Ai(e){const t=dw(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,en.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dw(n){return Ni(n,"owner")}function gT(n){return Ni(n,"clientMetadata")}function f1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class p1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=nn(),i=nn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new p1(e,t.fromCache,r,i)}}class _L{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(nF(t))return ae.resolve(null);let r=xs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=XC(t,null,"F"),r=xs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=nn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,f);return this.zi(t,w,l,y.readTime)?this.Ki(e,XC(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return nF(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(AM()<=ml.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),HM(t)),this.Wi(e,l,t,Ek(i,-1)))})}ji(e,t){let r=new cr(sF(e));return t.forEach((i,a)=>{Z0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return AM()<=ml.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",HM(t)),this.Ui.getDocumentsMatchingQuery(e,t,Mo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class P${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new tr(Zt),this.Yi=new ed(a=>Ap(a),q0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function vL(n,e,t,r){return new P$(n,e,t,r)}function wL(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,ve.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=nn();for(const w of i){l.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),g1.apply(this,arguments)}function N$(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,w){const D=y.batch,S=D.keys();let B=ae.resolve();return S.forEach(H=>{B=B.next(()=>w.getEntry(f,H)).next(K=>{const se=y.docVersions.get(H);Ct(null!==se),K.version.compareTo(se)<0&&(D.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),w.addEntry(K)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=nn();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function EL(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function O$(n,e){const t=st(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((D,S)=>{const B=i.get(S);if(!B)return;f.push(t.Bs.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(a,D.addedDocuments,S)));let H=B.withSequenceNumber(a.currentSequenceNumber);var K,se,ce;null!==e.targetMismatches.get(S)?H=H.withResumeToken(vi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),i=i.insert(S,H),se=H,ce=D,(0===(K=B).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,H))});let y=Xs(),w=nn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(bL(a,l,e.documentUpdates).next(D=>{y=D.nr,w=D.sr})),!r.isEqual(Dt.min())){const D=t.Bs.getLastRemoteSnapshotVersion(a).next(S=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return ae.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}function bL(n,e,t){let r=nn(),i=nn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Xs();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Dt.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function k$(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fy(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new nd(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function py(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,ve.Z)(function*(n,e,t){const r=st(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ah(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),m1.apply(this,arguments)}function mT(n,e,t){const r=st(n);let i=Dt.min(),a=nn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,w){const D=st(f),S=D.Yi.get(w);return void 0!==S?ae.resolve(D.Ji.get(S)):D.Bs.getTargetData(y,w)}(r,l,xs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Dt.min(),t?a:nn())).next(f=>(TL(r,iF(e),f),{documents:f,ir:a})))}function IL(n,e){const t=st(n),r=st(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function CL(n,e){const t=st(n),r=t.Xi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Ek(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TL(t,e,i),i))}function TL(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function y1(){return y1=(0,ve.Z)(function*(n,e,t,r){const i=st(n);let a=nn(),l=Xs();for(const w of t){const D=e.rr(w.metadata.name);w.document&&(a=a.add(D));const S=e.ur(w);S.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(D,S)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield fy(i,(w=r,xs(iy(wn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>bL(w,f,l).next(D=>(f.apply(w),D)).next(D=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.nr,D.sr)).next(()=>D.nr)))}),y1.apply(this,arguments)}function L$(n,e){return _1.apply(this,arguments)}function _1(){return _1=(0,ve.Z)(function*(n,e,t=nn()){const r=yield fy(n,xs(n1(e.bundledQuery))),i=st(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Wr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(vi.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),_1.apply(this,arguments)}function DL(n,e){return`firestore_clients_${n}_${e}`}function AL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function v1(n,e){return`firestore_targets_${n}_${e}`}class yT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Fe(i.error.code,i.error.message))),l?new yT(e,t,i.state,a):(qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new hw(e,r.state,i):(qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _T{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=zM();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Dk(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new _T(e,a):(qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class w1{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new w1(t.clientId,t.onlineState):(qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class E1{constructor(){this.activeTargetIds=zM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b1{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new tr(Zt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=DL(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new E1),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(DL(e.persistenceKey,i));if(a){const l=_T.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(v1(this.persistenceKey,e));if(r){const i=hw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v1(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Ro.ct;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),l=f}catch(f){qr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Ro.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new yT(this.currentUser,e,t,r),a=AL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=AL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=v1(this.persistenceKey,e),a=new hw(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return _T.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return yT.ar(new Pi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return hw.ar(i,t)}br(e){return w1.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=zM();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class SL{constructor(){this.Hr=new E1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new E1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V${Yr(e){}shutdown(){}}class xL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vT=null;function I1(){return null===vT?vT=268435456+Math.round(2147483648*Math.random()):vT++,"0x"+vT.toString(16)}const U$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ds="WebChannelConnection";class j$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=I1(),f=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(w=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw ga("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${U$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=I1();return new Promise((l,f)=>{const y=new VB;y.setWithCredentials(!0),y.listenOnce(kB.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case DM.NO_ERROR:const D=y.getResponseJson();Ue(ds,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),l(D);break;case DM.TIMEOUT:Ue(ds,`RPC '${e}' ${a} timed out`),f(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case DM.HTTP_ERROR:const S=y.getStatus();if(Ue(ds,`RPC '${e}' ${a} failed with status:`,S,"response text:",y.getResponseText()),S>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const K=function(se){const ce=se.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ce)>=0?ce:pe.UNKNOWN}(H.status);f(new Fe(K,H.message))}else f(new Fe(pe.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ue(ds,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Ue(ds,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=I1(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NB(),f=OB(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new LB({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const D=a.join("");Ue(ds,`Creating RPC '${e}' stream ${i}: ${D}`,y);const S=l.createWebChannel(D,y);let B=!1,H=!1;const K=new B$({ro:ce=>{H?Ue(ds,`Not sending because RPC '${e}' stream ${i} is closed:`,ce):(B||(Ue(ds,`Opening RPC '${e}' stream ${i} transport.`),S.open(),B=!0),Ue(ds,`RPC '${e}' stream ${i} sending:`,ce),S.send(ce))},oo:()=>S.close()}),se=(ce,Be,Qe)=>{ce.listen(Be,We=>{try{Qe(We)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return se(S,UC.EventType.OPEN,()=>{H||Ue(ds,`RPC '${e}' stream ${i} transport opened.`)}),se(S,UC.EventType.CLOSE,()=>{H||(H=!0,Ue(ds,`RPC '${e}' stream ${i} transport closed`),K.wo())}),se(S,UC.EventType.ERROR,ce=>{H||(H=!0,ga(ds,`RPC '${e}' stream ${i} transport errored:`,ce),K.wo(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),se(S,UC.EventType.MESSAGE,ce=>{var Be;if(!H){const Qe=ce.data[0];Ct(!!Qe);const We=Qe,Xe=We.error||(null===(Be=We[0])||void 0===Be?void 0:Be.error);if(Xe){Ue(ds,`RPC '${e}' stream ${i} received error:`,Xe);const Ut=Xe.status;let Bt=function(Dr){const hs=ti[Dr];if(void 0!==hs)return IF(hs)}(Ut),_n=Xe.message;void 0===Bt&&(Bt=pe.INTERNAL,_n="Unknown error status: "+Ut+" with message "+Xe.message),H=!0,K.wo(new Fe(Bt,_n)),S.close()}else Ue(ds,`RPC '${e}' stream ${i} received:`,Qe),K._o(Qe)}}),se(f,FB.STAT_EVENT,ce=>{ce.stat===gk.PROXY?Ue(ds,`RPC '${e}' stream ${i} detected buffering proxy`):ce.stat===gk.NOPROXY&&Ue(ds,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function ML(){return typeof window<"u"?window:null}function wT(){return typeof document<"u"?document:null}function fw(n){return new Qj(n,!0)}class C1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class RL{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new C1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $$ extends RL{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function e$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ft(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Ct(void 0===w||"string"==typeof w),vi.fromBase64String(w||"")):(Ct(void 0===w||w instanceof Uint8Array),vi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const w=void 0===y.code?pe.UNKNOWN:IF(y.code);return new Fe(w,y.message||"")}(l);t=new SF(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Sl(n,r.document.name),a=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):Dt.min(),f=new Zi({mapValue:{fields:r.document.fields}}),y=dr.newFoundDocument(i,a,l,f);t=new iT(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Sl(n,r.document),a=r.readTime?Wr(r.readTime):Dt.min(),l=dr.newNoDocument(i,a);t=new iT([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Sl(n,r.document);t=new iT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new Gj(i,a);t=new AF(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?Wr(a.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=rw(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=YC(f)?{documents:VF(i,f)}:{query:t1(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=PF(i,a.resumeToken);const y=QM(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Dt.min())>0){l.readTime=ly(i,a.snapshotVersion.toTimestamp());const y=QM(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function n$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=rw(this.serializer),t.removeTarget=e,this.Wo(t)}}class H$ extends RL{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function t$(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let a=Wr(r.updateTime?r.updateTime:i);return a.isEqual(Dt.min())&&(a=Wr(i)),new jj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.cu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>iw(this.serializer,r))};this.Wo(t)}}class z$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(pe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class q${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class W${constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Uh(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(w){const D=st(w);D.vu.add(4),yield gy(D),D.bu.set("Unknown"),D.vu.delete(4),yield pw(D)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new q$(r,i)}}function pw(n){return D1.apply(this,arguments)}function D1(){return D1=(0,ve.Z)(function*(n){if(Uh(n))for(const e of n.Ru)yield e(!0)}),D1.apply(this,arguments)}function gy(n){return A1.apply(this,arguments)}function A1(){return A1=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),A1.apply(this,arguments)}function ET(n,e){const t=st(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),M1(t)?x1(t):yy(t).Ko()&&S1(t,e))}function gw(n,e){const t=st(n),r=yy(t);t.Au.delete(e),r.Ko()&&PL(t,e),0===t.Au.size&&(r.Ko()?r.jo():Uh(t)&&t.bu.set("Unknown"))}function S1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yy(n).su(e)}function PL(n,e){n.Vu.qt(e),yy(n).iu(e)}function x1(n){n.Vu=new Wj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),yy(n).start(),n.bu.gu()}function M1(n){return Uh(n)&&!yy(n).Uo()&&n.Au.size>0}function Uh(n){return 0===st(n).vu.size}function NL(n){n.Vu=void 0}function Z$(n){return R1.apply(this,arguments)}function R1(){return R1=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{S1(n,e)})}),R1.apply(this,arguments)}function K$(n,e){return P1.apply(this,arguments)}function P1(){return P1=(0,ve.Z)(function*(n,e){NL(n),M1(n)?(n.bu.Iu(e),x1(n)):n.bu.set("Unknown")}),P1.apply(this,arguments)}function Y$(n,e,t){return N1.apply(this,arguments)}function N1(){return N1=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof SF&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bT(n,r)}else if(e instanceof iT?n.Vu.Ht(e):e instanceof AF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield EL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(vi.EMPTY_BYTE_STRING,w.snapshotVersion)),PL(i,f);const D=new nd(w.target,f,y,w.sequenceNumber);S1(i,D)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield bT(n,r)}var r}),N1.apply(this,arguments)}function bT(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,ve.Z)(function*(n,e,t){if(!Ah(e))throw e;n.vu.add(1),yield gy(n),n.bu.set("Offline"),t||(t=()=>EL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield pw(n)}))}),O1.apply(this,arguments)}function OL(n,e){return e().catch(t=>bT(n,t,e))}function my(n){return k1.apply(this,arguments)}function k1(){return k1=(0,ve.Z)(function*(n){const e=st(n),t=Bh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Q$(e);)try{const i=yield k$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,J$(e,i)}catch(i){yield bT(e,i)}kL(e)&&FL(e)}),k1.apply(this,arguments)}function Q$(n){return Uh(n)&&n.Eu.length<10}function J$(n,e){n.Eu.push(e);const t=Bh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function kL(n){return Uh(n)&&!Bh(n).Uo()&&n.Eu.length>0}function FL(n){Bh(n).start()}function X$(n){return F1.apply(this,arguments)}function F1(){return F1=(0,ve.Z)(function*(n){Bh(n).hu()}),F1.apply(this,arguments)}function eH(n){return L1.apply(this,arguments)}function L1(){return L1=(0,ve.Z)(function*(n){const e=Bh(n);for(const t of n.Eu)e.uu(t.mutations)}),L1.apply(this,arguments)}function tH(n,e,t){return V1.apply(this,arguments)}function V1(){return V1=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),i=WM.from(r,e,t);yield OL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield my(n)}),V1.apply(this,arguments)}function nH(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,ve.Z)(function*(n,e){var t;e&&Bh(n).ou&&(yield(t=(0,ve.Z)(function*(r,i){if(bF(a=i.code)&&a!==pe.ABORTED){const l=r.Eu.shift();Bh(r).Qo(),yield OL(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield my(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kL(n)&&FL(n)}),U1.apply(this,arguments)}function LL(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,ve.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Uh(t);t.vu.add(3),yield gy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield pw(t)}),B1.apply(this,arguments)}function j1(n,e){return $1.apply(this,arguments)}function $1(){return $1=(0,ve.Z)(function*(n,e){const t=st(n);e?(t.vu.delete(2),yield pw(t)):e||(t.vu.add(2),yield gy(t),t.bu.set("Unknown"))}),$1.apply(this,arguments)}function yy(n){return n.Su||(n.Su=function(e,t,r){const i=st(e);return i.fu(),new $$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Z$.bind(null,n),ao:K$.bind(null,n),nu:Y$.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),M1(n)?x1(n):n.bu.set("Unknown")):(yield n.Su.stop(),NL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Bh(n){return n.Du||(n.Du=function(e,t,r){const i=st(e);return i.fu(),new H$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:X$.bind(null,n),ao:nH.bind(null,n),au:eH.bind(null,n),cu:tH.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield my(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class H1{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new H1(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Ah(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=K0(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VL{constructor(){this.Cu=new tr(rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wy{constructor(e,t,r,i,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new wy(e,t,vy.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rH{constructor(){this.Nu=void 0,this.listeners=[]}}class iH{constructor(){this.queries=new ed(e=>rF(e),W0),this.onlineState="Unknown",this.ku=new Set}}function z1(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ve.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new rH),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=_y(l,`Initialization of query '${HM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&Z1(t)}),G1.apply(this,arguments)}function q1(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,ve.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),W1.apply(this,arguments)}function sH(n,e){const t=st(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&Z1(t)}function oH(n,e,t){const r=st(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Z1(n){n.ku.forEach(e=>{e.next()})}class K1{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aH{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class UL{constructor(e){this.serializer=e}rr(e){return Sl(this.serializer,e)}ur(e){return e.metadata.exists?LF(this.serializer,e.document,!1):dr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wr(e)}}class uH{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=wn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new UL(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||nn()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function F$(n,e,t,r){return y1.apply(this,arguments)}(e.localStore,new UL(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield L$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function BL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jL{constructor(e){this.key=e}}class $L{constructor(e){this.key=e}}class HL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=sF(e),this.ec=new vy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new VL,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,S)=>{const B=i.get(D),H=Z0(this.query,S)?S:null,K=!!B&&this.mutatedKeys.has(B.key),se=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ce=!1;B&&H?B.data.isEqual(H.data)?K!==se&&(r.track({type:3,doc:H}),ce=!0):this.rc(B,H)||(r.track({type:2,doc:H}),ce=!0,(y&&this.tc(H,y)>0||w&&this.tc(H,w)<0)&&(f=!0)):!B&&H?(r.track({type:0,doc:H}),ce=!0):B&&!H&&(r.track({type:1,doc:B}),ce=!0,(y||w)&&(f=!0)),ce&&(H?(l=l.add(H),a=se?a.add(D):a.delete(D)):(l=l.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const D="F"===this.query.limitType?l.last():l.first();l=l.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,D)=>function(S,B){const H=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return H(S)-H(B)}(w.type,D.type)||this.tc(w.doc,D.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new wy(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new VL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new $L(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new jL(r))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class lH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cH{constructor(e){this.key=e,this.fc=!1}}class dH{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ed(f=>rF(f),W0),this._c=new Map,this.mc=new Set,this.gc=new tr(rt.comparator),this.yc=new Map,this.Ic=new l1,this.Tc={},this.Ec=new Map,this.Ac=Fp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hH(n,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ve.Z)(function*(n,e){const t=vR(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield fy(t.localStore,xs(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield Q1(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&ET(t.remoteStore,l)}return i}),Y1.apply(this,arguments)}function Q1(n,e,t,r,i){return J1.apply(this,arguments)}function J1(){return J1=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(S,B,H)=>{return(K=(0,ve.Z)(function*(se,ce,Be,Qe){let We=ce.view.sc(Be);We.zi&&(We=yield mT(se.localStore,ce.query,!1).then(({documents:Bt})=>ce.view.sc(Bt,We)));const Xe=Qe&&Qe.targetChanges.get(ce.targetId),Ut=ce.view.applyChanges(We,se.isPrimaryClient,Xe);return uR(se,ce.targetId,Ut.cc),Ut.snapshot}),function(se,ce,Be,Qe){return K.apply(this,arguments)})(n,S,B,H);var K};const a=yield mT(n.localStore,e,!0),l=new HL(e,a.ir),f=l.sc(a.documents),y=tw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,y);uR(n,t,w.cc);const D=new lH(e,t,l);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),J1.apply(this,arguments)}function fH(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,ve.Z)(function*(n,e){const t=st(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!W0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),gw(t.remoteStore,r.targetId),Ey(t,r.targetId)}).catch(Dh))):(Ey(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),X1.apply(this,arguments)}function eR(){return eR=(0,ve.Z)(function*(n,e,t){const r=wR(n);try{const i=yield function(a,l){const f=st(a),y=Er.now(),w=l.reduce((B,H)=>B.add(H.key),nn());let D,S;return f.persistence.runTransaction("Locally write mutations","readwrite",B=>{let H=Xs(),K=nn();return f.Zi.getEntries(B,w).next(se=>{H=se,H.forEach((ce,Be)=>{Be.isValidDocument()||(K=K.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(B,H)).next(se=>{D=se;const ce=[];for(const Be of l){const Qe=Hj(Be,D.get(Be.key).overlayedDocument);null!=Qe&&ce.push(new td(Be.key,Qe,Hk(Qe.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(B,y,ce,l)}).next(se=>{S=se;const ce=se.applyToLocalDocumentSet(D,K);return f.documentOverlayCache.saveOverlays(B,se.batchId,ce)})}).then(()=>({batchId:S.batchId,changes:aF(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new tr(Zt)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield rd(r,i.changes),yield my(r.remoteStore)}catch(i){const a=_y(i,"Failed to persist write");t.reject(a)}}),eR.apply(this,arguments)}function zL(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,ve.Z)(function*(n,e){const t=st(n);try{const r=yield O$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Ct(l.fc):i.removedDocuments.size>0&&(Ct(l.fc),l.fc=!1))}),yield rd(t,r,e)}catch(r){yield Dh(r)}}),tR.apply(this,arguments)}function GL(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=st(a);f.onlineState=l;let y=!1;f.queries.forEach((w,D)=>{for(const S of D.listeners)S.Mu(l)&&(y=!0)}),y&&Z1(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gH(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,ve.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new tr(rt.comparator);l=l.insert(a,dr.newNoDocument(a,Dt.min()));const f=nn().add(a),y=new ew(Dt.min(),new Map,new tr(Zt),l,f);yield zL(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),lR(r)}else yield py(r.localStore,e,!1).then(()=>Ey(r,e,t)).catch(Dh)}),nR.apply(this,arguments)}function mH(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,ve.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const i=yield N$(t.localStore,e);aR(t,r,null),oR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rd(t,i)}catch(i){yield Dh(i)}}),rR.apply(this,arguments)}function yH(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=(0,ve.Z)(function*(n,e,t){const r=st(n);try{const i=yield function(a,l){const f=st(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,l).next(D=>(Ct(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);aR(r,e,t),oR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rd(r,i)}catch(i){yield Dh(i)}}),iR.apply(this,arguments)}function sR(){return sR=(0,ve.Z)(function*(n,e){const t=st(n);Uh(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=st(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=_y(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),sR.apply(this,arguments)}function oR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function aR(n,e,t){const r=st(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||qL(n,r)})}function qL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(gw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),lR(n))}function uR(n,e,t){for(const r of t)r instanceof jL?(n.Ic.addReference(r.key,e),vH(n,r)):r instanceof $L?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||qL(n,r.key)):ft()}function vH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),lR(n))}function lR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(wn.fromString(e)),r=n.Ac.next();n.yc.set(r,new cH(t)),n.gc=n.gc.insert(t,r),ET(n.remoteStore,new nd(xs(iy(t.path)),r,"TargetPurposeLimboResolution",Ro.ct))}}function rd(n,e,t){return cR.apply(this,arguments)}function cR(){return cR=(0,ve.Z)(function*(n,e,t){const r=st(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=p1.Li(y.targetId,w);a.push(D)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,ve.Z)(function*(y,w){const D=st(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(w,B=>ae.forEach(B.Fi,H=>D.persistence.referenceDelegate.addReference(S,B.targetId,H)).next(()=>ae.forEach(B.Bi,H=>D.persistence.referenceDelegate.removeReference(S,B.targetId,H)))))}catch(S){if(!Ah(S))throw S;Ue("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const B=S.targetId;if(!S.fromCache){const H=D.Ji.get(B),se=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.Ji=D.Ji.insert(B,se)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),cR.apply(this,arguments)}function wH(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,ve.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield wL(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rd(t,r.er)}var i}),dR.apply(this,arguments)}function EH(n,e){const t=st(n),r=t.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let i=nn();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function bH(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,ve.Z)(function*(n,e){const t=st(n),r=yield mT(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&uR(t,e.targetId,i.cc),i}),hR.apply(this,arguments)}function IH(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,ve.Z)(function*(n,e){const t=st(n);return CL(t.localStore,e).then(r=>rd(t,r))}),fR.apply(this,arguments)}function CH(n,e,t,r){return pR.apply(this,arguments)}function pR(){return pR=(0,ve.Z)(function*(n,e,t,r){const i=st(n),a=yield function(l,f){const y=st(l),w=st(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Sn(D,f).next(S=>S?y.localDocuments.getDocuments(D,S):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield my(i.remoteStore):"acknowledged"===t||"rejected"===t?(aR(i,e,r||null),oR(i,e),f=e,st(st(i.localStore).mutationQueue).Cn(f)):ft(),yield rd(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),pR.apply(this,arguments)}function gR(){return gR=(0,ve.Z)(function*(n,e){const t=st(n);if(vR(t),wR(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield WL(t,r.toArray());t.vc=!0,yield j1(t.remoteStore,!0);for(const a of i)ET(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Ey(t,l),py(t.localStore,l,!0))),gw(t.remoteStore,l)}),yield i,yield WL(t,r),function(a){const l=st(a);l.yc.forEach((f,y)=>{gw(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new tr(rt.comparator)}(t),t.vc=!1,yield j1(t.remoteStore,!1)}}),gR.apply(this,arguments)}function WL(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=(0,ve.Z)(function*(n,e,t){const r=st(n),i=[],a=[];for(const l of e){let f;const y=r._c.get(l);if(y&&0!==y.length){f=yield fy(r.localStore,xs(y[0]));for(const w of y){const D=r.wc.get(w),S=yield bH(r,D);S.snapshot&&a.push(S.snapshot)}}else{const w=yield IL(r.localStore,l);f=yield fy(r.localStore,w),yield Q1(r,ZL(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),mR.apply(this,arguments)}function ZL(n){return tF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DH(n){const e=st(n);return st(st(e.localStore).persistence).$i()}function AH(n,e,t,r){return yR.apply(this,arguments)}function yR(){return yR=(0,ve.Z)(function*(n,e,t,r){const i=st(n);if(i.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield CL(i.localStore,iF(a[0])),f=ew.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vi.EMPTY_BYTE_STRING);yield rd(i,l,f);break}case"rejected":yield py(i.localStore,e,!0),Ey(i,e,r);break;default:ft()}}),yR.apply(this,arguments)}function SH(n,e,t){return _R.apply(this,arguments)}function _R(){return _R=(0,ve.Z)(function*(n,e,t){const r=vR(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield IL(r.localStore,i),l=yield fy(r.localStore,a);yield Q1(r,ZL(a),l.targetId,!1,l.resumeToken),ET(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield py(r.localStore,i,!1).then(()=>{gw(r.remoteStore,i),Ey(r,i)}).catch(Dh))}}),_R.apply(this,arguments)}function vR(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gH.bind(null,e),e.dc.nu=sH.bind(null,e.eventManager),e.dc.Pc=oH.bind(null,e.eventManager),e}function wR(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yH.bind(null,e),e}class mw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=fw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vL(this.persistence,new _L,e.initialUser,this.serializer)}createPersistence(e){return new c1(fT.zs,this.serializer)}createSharedClientState(e){return new SL}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ER extends mw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield wR(r.Vc.syncEngine),yield my(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vL(this.persistence,new _L,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new tj(t,this.persistence);return new ej(e.asyncQueue,r)}createPersistence(e){const t=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new h1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ML(),wT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SL}}class KL extends ER{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof b1&&(r.sharedClientState.syncEngine={jr:CH.bind(null,i),zr:AH.bind(null,i),Wr:SH.bind(null,i),$i:DH.bind(null,i),Qr:IH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,ve.Z)(function*(l){yield function TH(n,e){return gR.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ML();if(!b1.D(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new b1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class by{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>GL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wH.bind(null,r.syncEngine),yield j1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iH}createDatastore(e){const t=fw(e.databaseInfo.databaseId),r=new j$(e.databaseInfo);return new z$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>GL(this.syncEngine,f,0),l=xL.D()?new xL:new V$,new W$(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,w){const D=new dH(r,i,a,l,f,y);return w&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=st(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YL(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class IT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RH{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new _i,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new aH(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class PH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(a,l){const f=st(a),y=rw(f.serializer)+"/documents",w={documents:l.map(H=>nw(f.serializer,H))},D=yield f.vo("BatchGetDocuments",y,w,l.length),S=new Map;D.forEach(H=>{const K=function Xj(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=Sl(t,r.found.name),a=Wr(r.found.updateTime),l=r.found.createTime?Wr(r.found.createTime):Dt.min(),f=new Zi({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=Sl(t,r.missing),a=Wr(r.readTime);return dr.newNoDocument(i,a)}(n,e):ft()}(f.serializer,H);S.set(K.key.toString(),K)});const B=[];return l.forEach(H=>{const K=S.get(H.toString());Ct(!!K),B.push(K)}),B}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=rt.fromPath(i);e.mutations.push(new GM(a,e.precondition(a)))}),yield(r=(0,ve.Z)(function*(i,a){const l=st(i),f=rw(l.serializer)+"/documents",y={writes:a.map(w=>iw(l.serializer,w))};yield l.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class NH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new C1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new PH(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!B0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bF(t)}return!1}}class OH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=vk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ve.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_y(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function CT(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(a){r.isEqual(a)||(yield wL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bR.apply(this,arguments)}function IR(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield TR(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>LL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>LL(e.remoteStore,a)),n._onlineComponents=e}),CR.apply(this,arguments)}function QL(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function TR(n){return DR.apply(this,arguments)}function DR(){return DR=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield CT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!QL(t))throw t;ga("Error using user provided cache. Falling back to memory cache: "+t),yield CT(n,new mw)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield CT(n,new mw);return n._offlineComponents}),DR.apply(this,arguments)}function TT(n){return AR.apply(this,arguments)}function AR(){return AR=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield IR(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield IR(n,new by))),n._onlineComponents}),AR.apply(this,arguments)}function JL(n){return TR(n).then(e=>e.persistence)}function DT(n){return TR(n).then(e=>e.localStore)}function XL(n){return TT(n).then(e=>e.remoteStore)}function SR(n){return TT(n).then(e=>e.syncEngine)}function Iy(n){return xR.apply(this,arguments)}function xR(){return xR=(0,ve.Z)(function*(n){const e=yield TT(n),t=e.eventManager;return t.onListen=hH.bind(null,e.syncEngine),t.onUnlisten=fH.bind(null,e.syncEngine),t}),xR.apply(this,arguments)}function t2(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,f,y){const w=new IT({next:S=>{a.enqueueAndForget(()=>q1(i,D));const B=S.docs.has(l);!B&&S.fromCache?y.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&f&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),D=new K1(iy(l.path),w,{includeMetadataChanges:!0,Ku:!0});return z1(i,D)}(yield Iy(n),n.asyncQueue,e,t,r)})),r.promise}function n2(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,f,y){const w=new IT({next:S=>{a.enqueueAndForget(()=>q1(i,D)),S.fromCache&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),D=new K1(l,w,{includeMetadataChanges:!0,Ku:!0});return z1(i,D)}(yield Iy(n),n.asyncQueue,e,t,r)})),r.promise}function r2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const i2=new Map;function MR(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s2(n,e,t,r){if(!0===e&&!0===r)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o2(n){if(!rt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a2(n){if(rt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=AT(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function u2(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class l2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=r2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $B;switch(t.type){case"firstParty":return new qB(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=i2.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),i2.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class xl extends Ki{constructor(e,t,r){super(e,t,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new rt(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function d2(n,e,...t){if(n=(0,en.m9)(n),MR("collection","path",e),n instanceof yw){const r=wn.fromString(e,...t);return a2(r),new xl(n,null,r)}{if(!(n instanceof hr||n instanceof xl))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return a2(r),new xl(n.firestore,null,r)}}function ST(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=vk.A()),MR("doc","path",e),n instanceof yw){const r=wn.fromString(e,...t);return o2(r),new hr(n,null,new rt(r))}{if(!(n instanceof hr||n instanceof xl))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return o2(r),new hr(n.firestore,n instanceof xl?n.converter:null,new rt(r))}}function h2(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof hr||n instanceof xl)&&(e instanceof hr||e instanceof xl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RR(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&W0(n._query,e._query)&&n.converter===e.converter}class zH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new C1(this,"async_queue_retry"),this.Xc=()=>{const t=wT();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=wT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=wT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new _i;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ah(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=H1.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function PR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class GH{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends yw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||f2(this),this._firestoreClient.terminate()}}function Zr(n){return n._firestoreClient||f2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function f2(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bj(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,r2(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new OH(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function p2(n,e,t){const r=new _i;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield CT(n,t),yield IR(n,e),r.resolve()}catch(i){const a=i;if(!QL(a))throw a;ga("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function g2(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(vi.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ml(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class id{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vp{constructor(e){this._methodName=e}}class xT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const n3=/^__.*__$/;class r3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new td(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}class m2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new td(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function y2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class MT{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new MT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return NT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(y2(this.ca)&&n3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fw(e)}ya(e,t,r,i=!1){return new MT({ca:e,methodName:t,ga:r,path:Vr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=fw(n._databaseId);return new i3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RT(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);FR("Data must be an object, but it was:",l,r);const f=w2(r,l);let y,w;if(a.merge)y=new Js(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const D=[];for(const S of a.mergeFields){const B=ww(e,S,t);if(!l.contains(B))throw new Fe(pe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);b2(D,B)||D.push(B)}y=new Js(D),w=l.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,w=l.fieldTransforms;return new r3(new Zi(f),y,w)}class vw extends Vp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vw}}function _2(n,e,t){return new MT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NR extends Vp{_toFieldTransform(e){return new Q0(e.path,new sy)}isEqual(e){return e instanceof NR}}class s3 extends Vp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_2(this,e,!0),r=this.pa.map(a=>Bp(a,t)),i=new xp(r);return new Q0(e.path,i)}isEqual(e){return this===e}}class o3 extends Vp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_2(this,e,!0),r=this.pa.map(a=>Bp(a,t)),i=new Mp(r);return new Q0(e.path,i)}isEqual(e){return this===e}}class a3 extends Vp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new oy(e.serializer,dF(e.serializer,this.Ia));return new Q0(e.path,t)}isEqual(e){return this===e}}function OR(n,e,t,r){const i=n.ya(1,e,t);FR("Data must be an object, but it was:",i,r);const a=[],l=Zi.empty();Sh(r,(y,w)=>{const D=PT(e,y,t);w=(0,en.m9)(w);const S=i.da(D);if(w instanceof vw)a.push(D);else{const B=Bp(w,S);null!=B&&(a.push(D),l.set(D,B))}});const f=new Js(a);return new m2(l,f,i.fieldTransforms)}function kR(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[ww(e,r,t)],y=[i];if(a.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)f.push(ww(e,a[B])),y.push(a[B+1]);const w=[],D=Zi.empty();for(let B=f.length-1;B>=0;--B)if(!b2(w,f[B])){const H=f[B];let K=y[B];K=(0,en.m9)(K);const se=l.da(H);if(K instanceof vw)w.push(H);else{const ce=Bp(K,se);null!=ce&&(w.push(H),D.set(H,ce))}}const S=new Js(w);return new m2(D,S,l.fieldTransforms)}function v2(n,e,t,r=!1){return Bp(t,n.ya(r?4:3,e))}function Bp(n,e){if(E2(n=(0,en.m9)(n)))return FR("Unsupported field value:",e,n),w2(n,e);if(n instanceof Vp)return function(t,r){if(!y2(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Bp(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,en.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Er.fromDate(t);return{timestampValue:ly(r.serializer,i)}}if(t instanceof Er){const i=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ly(r.serializer,i)}}if(t instanceof xT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ml)return{bytesValue:PF(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${AT(t)}`)}(n,e)}function w2(n,e){const t={};return Ok(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sh(n,(r,i)=>{const a=Bp(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function E2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof xT||n instanceof Ml||n instanceof hr||n instanceof Vp)}function FR(n,e,t){if(!E2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=AT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function ww(n,e,t){if((e=(0,en.m9)(e))instanceof id)return e._internalPath;if("string"==typeof e)return PT(n,e);throw NT("Field path arguments must be of type string or ",n,!1,void 0,t)}const u3=new RegExp("[~\\*/\\[\\]]");function PT(n,e,t){if(e.search(u3)>=0)throw NT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw NT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NT(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Fe(pe.INVALID_ARGUMENT,f+n+y)}function b2(n,e){return n.some(t=>t.isEqual(e))}class Ew{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l3 extends Ew{data(){return super.data()}}function OT(n,e){return"string"==typeof e?PT(n,e):e instanceof id?e._internalPath:e._delegate._internalPath}function I2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LR{}class bw extends LR{}function jh(n,e,...t){let r=[];e instanceof LR&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Cy).length,l=i.filter(f=>f instanceof Iw).length;if(a>1||a>0&&l>0)throw new Fe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Iw extends bw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Iw(e,t,r)}_apply(e){const t=this._parse(e);return A2(e._query,t),new Ki(e.firestore,e.converter,$M(e._query,t))}_parse(e){const t=Up(e.firestore);return function(i,a,l,f,y,w,D){let S;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){D2(D,w);const B=[];for(const H of D)B.push(T2(f,i,H));S={arrayValue:{values:B}}}else S=T2(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||D2(D,w),S=v2(l,"where",D,"in"===w||"not-in"===w);return mn.create(y,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cy extends LR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)A2(a,f),a=$M(a,f)}(e._query,t),new Ki(e.firestore,e.converter,$M(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VR extends bw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VR(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new ny(i,a);return function(f,y){if(null===BM(f)){const w=JC(f);null!==w&&S2(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Xc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kT extends bw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new kT(e,t,r)}_apply(e){return new Ki(e.firestore,e.converter,XC(e._query,this._limit,this._limitType))}}class FT extends bw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new FT(e,t,r)}_apply(e){const t=C2(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new Xc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class LT extends bw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new LT(e,t,r)}_apply(e){const t=C2(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new Xc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function C2(n,e,t,r){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof Ew)return function(i,a,l,f,y){if(!f)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const D of Sp(i))if(D.field.isKeyField())w.push(Dp(a,f.key));else{const S=f.data.field(D.field);if(GC(S))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=D.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}w.push(S)}return new Oh(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Up(n.firestore);return function(a,l,f,y,w,D){const S=a.explicitOrderBy;if(w.length>S.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let H=0;H<w.length;H++){const K=w[H];if(S[H].field.isKeyField()){if("string"!=typeof K)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof K}`);if(!jM(a)&&-1!==K.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${K}' contains a slash.`);const se=a.path.child(wn.fromString(K));if(!rt.isDocumentKey(se))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const ce=new rt(se);B.push(Dp(l,ce))}else{const se=v2(f,y,K);B.push(se)}}return new Oh(B,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function T2(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jM(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wn.fromString(t));if(!rt.isDocumentKey(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dp(n,new rt(r))}if(t instanceof hr)return Dp(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AT(t)}.`)}function D2(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A2(n,e){if(e.isInequality()){const r=JC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=BM(n);null!==a&&S2(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function S2(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class UR{convertValue(e,t="none"){switch(Ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sh(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new xT(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($0(e));default:return null}}convertTimestamp(e){const t=xh(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wn.fromString(e);Ct($F(r));const i=new Mh(r.get(1),r.get(3)),a=new rt(r.popFirst(5));return i.isEqual(t)||qr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function VT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _3 extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends Ew{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cw extends sd{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cw(this._firestore,this._userDataWriter,r.key,r,new jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Cw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Cw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:w3(l.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function M2(n,e){return n instanceof sd&&e instanceof sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&RR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hh extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function R2(n,e,t){n=yn(n,hr);const r=yn(n.firestore,fr),i=VT(n.converter,e,t);return Ty(r,[RT(Up(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,br.none())])}function P2(n,e,t,...r){n=yn(n,hr);const i=yn(n.firestore,fr),a=Up(i);let l;return l="string"==typeof(e=(0,en.m9)(e))||e instanceof id?kR(a,"updateDoc",n._key,e,t,r):OR(a,"updateDoc",n._key,e),Ty(i,[l.toMutation(n._key,br.exists(!0))])}function N2(n,...e){var t,r,i;n=(0,en.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||PR(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(PR(e[l])){const S=e[l];e[l]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[l+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[l+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,w,D;if(n instanceof hr)w=yn(n.firestore,fr),D=iy(n._key.path),y={next:S=>{e[l]&&e[l](BR(w,n,S))},error:e[l+1],complete:e[l+2]};else{const S=yn(n,Ki);w=yn(S.firestore,fr),D=S._query;const B=new Hh(w);y={next:H=>{e[l]&&e[l](new $h(w,B,S,H))},error:e[l+1],complete:e[l+2]},I2(n._query)}return function(S,B,H,K){const se=new IT(K),ce=new K1(B,se,H);return S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return z1(yield Iy(S),ce)})),()=>{se.Dc(),S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return q1(yield Iy(S),ce)}))}}(Zr(w),D,f,y)}function Ty(n,e){return function(t,r){const i=new _i;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function pH(n,e,t){return eR.apply(this,arguments)}(yield SR(t),r,i)})),i.promise}(Zr(n),e)}function BR(n,e,t){const r=t.docs.get(e._key),i=new Hh(n);return new sd(n,i,e._key,r,new jp(t.hasPendingWrites,t.fromCache),e.converter)}const V3={maxAttempts:5};class O2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}set(e,t,r){this._verifyNotCommitted();const i=zh(e,this._firestore),a=VT(i.converter,t,r),l=RT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,br.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=zh(e,this._firestore);let l;return l="string"==typeof(t=(0,en.m9)(t))||t instanceof id?kR(this._dataReader,"WriteBatch.update",a._key,t,r,i):OR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zh(e,this._firestore);return this._mutations=this._mutations.concat(new uy(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zh(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class U3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}get(e){const t=zh(e,this._firestore),r=new _3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const a=i[0];if(a.isFoundDocument())return new Ew(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Ew(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=zh(e,this._firestore),a=VT(i.converter,t,r),l=RT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=zh(e,this._firestore);let l;return l="string"==typeof(t=(0,en.m9)(t))||t instanceof id?kR(this._dataReader,"Transaction.update",a._key,t,r,i):OR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zh(e,this._firestore),r=new Hh(this._firestore);return super.get(e).then(i=>new sd(this._firestore,r,t._key,i._document,new jp(!1,!1),t.converter))}}function jR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function F2(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function L2(){if(!function wj(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jm=Ds.SDK_VERSION,(0,Ds._registerComponent)(new yh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new fr(new zB(t.getProvider("auth-internal")),new WB(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(mk,"3.13.0",n),(0,Ds.registerVersion)(mk,"3.13.0","esm2017")}();class Tw{constructor(e){this._delegate=e}static fromBase64String(e){return L2(),new Tw(Ml.fromBase64String(e))}static fromUint8Array(e){return F2(),new Tw(Ml.fromUint8Array(e))}toBase64(){return L2(),this._delegate.toBase64()}toUint8Array(){return F2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $R(n){return function Z3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class K3{enableIndexedDbPersistence(e,t){return function WH(n,e){g2(n=yn(n,fr));const t=Zr(n);if(t._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");ga("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new by;return p2(t,i,new ER(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ZH(n){g2(n=yn(n,fr));const e=Zr(n);if(e._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");ga("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new by;return p2(e,r,new KL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function KH(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!gu.D())return Promise.resolve();const i=r+"main";yield gu.delete(i)}),function(r){return t.apply(this,arguments)})(f1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class V2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ga("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function c2(n,e,t,r={}){var i;const a=(n=yn(n,yw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Pi.MOCK_USER;else{f=(0,en.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pi(w)}n._authCredentials=new HB(new yk(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function QH(n){return function kH(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield JL(n),t=yield XL(n);return e.setNetworkEnabled(!0),function(r){const i=st(r);return i.vu.delete(0),pw(i)}(t)}))}(Zr(n=yn(n,fr)))}(this._delegate)}disableNetwork(){return function JH(n){return function FH(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield JL(n),t=yield XL(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const a=st(i);a.vu.add(0),yield gy(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zr(n=yn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,s2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function YH(n){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function _H(n,e){return sR.apply(this,arguments)}(yield SR(e),t)})),t.promise}(Zr(n=yn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function x3(n,e){return function UH(n,e){const t=new IT(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Iy(n),i=t,st(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Iy(n),i=t,void st(r).ku.delete(i);var r,i}))}}(Zr(n=yn(n,fr)),PR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dy(this,d2(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ma(this,ST(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function HH(n,e){if(n=yn(n,yw),MR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new Xc(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function B3(n,e,t){n=yn(n,fr);const r=Object.assign(Object.assign({},V3),t);return function(i){if(i.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new _i;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const y=yield function e2(n){return TT(n).then(e=>e.datastore)}(i);new NH(i.asyncQueue,y,l,a,f).run()})),f.promise}(Zr(n),i=>e(new U3(n,i)),r)}(this._delegate,t=>e(new U2(this,t)))}batch(){return Zr(this._delegate),new B2(new O2(this._delegate,e=>Ty(this._delegate,e)))}loadBundle(e){return function XH(n,e){const t=Zr(n=yn(n,fr)),r=new GH;return function BH(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?CF().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return YL(y,w);if(y instanceof ArrayBuffer)return YL(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new RH(y,l);var y}(t,fw(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function xH(n,e,t){const r=st(n);var i;(i=(0,ve.Z)(function*(a,l,f){try{const y=yield l.getMetadata();if(yield function(B,H){const K=st(B),se=Wr(H.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",ce=>K.qs.getBundleMetadata(ce,H.id)).then(ce=>!!ce&&ce.createTime.compareTo(se)>=0)}(a.localStore,y))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(B=y).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);f._updateProgress(BL(y));const w=new uH(y,a.localStore,l.serializer);let D=yield l.bc();for(;D;){const B=yield w.zu(D);B&&f._updateProgress(B),D=yield l.bc()}const S=yield w.complete();return yield rd(a,S.Ju,void 0),yield function(B,H){const K=st(B);return K.persistence.runTransaction("Save bundle","readwrite",se=>K.qs.saveBundleMetadata(se,H))}(a.localStore,y),f._completeWith(S.progress),Promise.resolve(S.Hu)}catch(y){return ga("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var B}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function e3(n,e){return function jH(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=st(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield DT(n),e)}))}(Zr(n=yn(n,fr)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class UT extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tw(new Ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ma.forKey(t,this.firestore,null)}}class U2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UT(e)}get(e){const t=Hp(e);return this._delegate.get(t).then(r=>new Dw(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Hp(e);return r?(jR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Hp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}}class B2{constructor(e){this._delegate=e}set(e,t,r){const i=Hp(e);return r?(jR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Hp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Aw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$p.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new $p(e,new UT(e),t),i.set(t,a)),a}}$p.INSTANCES=new WeakMap;class ma{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ma(t,new hr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new ma(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dy(this.firestore,d2(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof hr&&h2(this._delegate,e)}set(e,t){t=jR("DocumentReference.set",t);try{return t?R2(this._delegate,e,t):R2(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?P2(this._delegate,e):P2(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function A3(n){return Ty(yn(n.firestore,fr),[new uy(n._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=j2(e),r=$2(e,i=>new Dw(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return N2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function b3(n){n=yn(n,hr);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return function LH(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const f=yield function(y,w){const D=st(y);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=_y(f,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield DT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new sd(e,r,n._key,i,new jp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function I3(n){n=yn(n,hr);const e=yn(n.firestore,fr);return t2(Zr(e),n._key,{source:"server"}).then(t=>BR(e,n,t))}(this._delegate):function E3(n){n=yn(n,hr);const e=yn(n.firestore,fr);return t2(Zr(e),n._key).then(t=>BR(e,n,t))}(this._delegate),t.then(r=>new Dw(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ma(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function j2(n){for(const e of n)if("object"==typeof e&&!$R(e))return e;return{}}function $2(n,e){var t,r;let i;return i=$R(n[0])?n[0]:$R(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Dw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return M2(this._delegate,e._delegate)}}class Aw extends Dw{data(e){const t=this._delegate.data(e);return function jB(n,e){n||ft()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UT(e)}where(e,t,r){try{return new Rs(this.firestore,jh(this._delegate,function c3(n,e,t){const r=e,i=OT("where",n);return Iw._create(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,jh(this._delegate,function d3(n,e="asc"){const t=e,r=OT("orderBy",n);return VR._create(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,jh(this._delegate,function h3(n){return u2("limit",n),kT._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,jh(this._delegate,function f3(n){return u2("limitToLast",n),kT._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,jh(this._delegate,function p3(...n){return FT._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,jh(this._delegate,function g3(...n){return FT._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,jh(this._delegate,function m3(...n){return LT._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,jh(this._delegate,function y3(...n){return LT._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return RR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function T3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return function VH(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const f=yield mT(i,a,!0),y=new HL(a,f.ir),w=y.sc(f.documents),D=y.applyChanges(w,!1);l.resolve(D.snapshot)}catch(f){const y=_y(f,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield DT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate):"server"===e?.source?function D3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return n2(t,n._query,{source:"server"}).then(i=>new $h(e,r,n,i))}(this._delegate):function C3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return I2(n._query),n2(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate),t.then(r=>new HR(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=j2(e),r=$2(e,i=>new HR(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return N2(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}class Q3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Aw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Aw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Q3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Aw(this._firestore,r))})}isEqual(e){return M2(this._delegate,e._delegate)}}class Dy extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ma(this.firestore,e):null}doc(e){try{return new ma(this.firestore,void 0===e?ST(this._delegate):ST(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function S3(n,e){const t=yn(n.firestore,fr),r=ST(n),i=VT(n.converter,e);return Ty(t,[RT(Up(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ma(this.firestore,t))}isEqual(e){return h2(this._delegate,e._delegate)}withConverter(e){return new Dy(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function Hp(n){return yn(n,hr)}class zR{constructor(...e){this._delegate=new id(...e)}static documentId(){return new zR(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof id&&this._delegate._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $3(){return new NR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zp(e)}static delete(){const e=function j3(){return new vw("deleteField")}();return e._methodName="FieldValue.delete",new zp(e)}static arrayUnion(...e){const t=function H3(...n){return new s3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zp(t)}static arrayRemove(...e){const t=function z3(...n){return new o3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zp(t)}static increment(e){const t=function G3(n){return new a3("increment",n)}(e);return t._methodName="FieldValue.increment",new zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const J3={Firestore:V2,GeoPoint:xT,Timestamp:Er,Blob:Tw,Transaction:U2,WriteBatch:B2,DocumentReference:ma,DocumentSnapshot:Dw,Query:Rs,QueryDocumentSnapshot:Aw,QuerySnapshot:HR,CollectionReference:Dy,FieldPath:zR,FieldValue:zp,setLogLevel:function Y3(n){!function BB(n){Th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function H2(n,e){return function t4(n,e=xU.z){return new xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function GR(n,e){return H2(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function BT(n,e){return GR(n,e).pipe(Bf(void 0),Vx(),(0,pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const y=i.find(D=>D.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function z2(n,e,t){return BT(n,t).pipe(sh((r,i)=>function r4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function i4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function MU(n,e=Ff.y){return n=n??RU,(0,gi.e)((t,r)=>{let i,a=!0;t.subscribe((0,Zn.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}(),(0,pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function G2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function e4(n){(function X3(n,e){n.INTERNAL.registerComponent(new yh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},J3)))})(n,(e,t)=>new V2(e,t,new K3)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(PU.Z);class q2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bf(void 0),Vx(),qs(([r,i])=>i.length>0||!r),(0,pt.U)(([r,i])=>i),gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=G2(e);return z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return GR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(gn.iC)}add(e){return this.ref.add(e)}doc(e){return new W2(this.ref.doc(e),this.afs)}}class W2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=Z2(r,t);return new q2(i,a,this.afs)}snapshotChanges(){return function n4(n,e){return H2(n,e).pipe(Bf(void 0),Vx(),(0,pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(gn.iC)}}class s4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BT(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qs(t=>t.length>0),gn.iC):BT(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=G2(e);return z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return GR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(gn.iC)}}const o4=new d.OlP("angularfire2.enableFirestorePersistence"),a4=new d.OlP("angularfire2.firestore.persistenceSettings"),u4=new d.OlP("angularfire2.firestore.settings"),l4=new d.OlP("angularfire2.firestore.use-emulator");function Z2(n,e=(t=>t)){return{query:e(n),ref:n}}let c4=(()=>{class n{constructor(t,r,i,a,l,f,y,w,D,S,B,H,K,se,ce,Be,Qe){this.schedulers=y;const We=(0,Do.on)(t,f,r),Xe=D;S&&WS(We,f,B,K,se,ce,H,Be),[this.firestore,this.persistenceEnabled$]=(0,Do.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const Ut=f.runOutsideAngular(()=>We.firestore());if(a&&Ut.settings(a),Xe&&Ut.useEmulator(...Xe),i&&!Ns(l)){const Bt=()=>{try{return(0,In.D)(Ut.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(_n){return typeof console<"u"&&console.warn(_n),It(!1)}};return[Ut,f.runOutsideAngular(Bt)]}return[Ut,It(!1)]},[a,Xe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=Z2(i,r),f=this.schedulers.ngZone.run(()=>a);return new q2(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new s4(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new W2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Do.Dh),d.LFG(Do.xv,8),d.LFG(o4,8),d.LFG(u4,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(a4,8),d.LFG(l4,8),d.LFG(Zc,8),d.LFG(jS,8),d.LFG($S,8),d.LFG(HS,8),d.LFG(zS,8),d.LFG(GS,8),d.LFG(qS,8),d.LFG(Mm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d4=(()=>{class n{constructor(t){this.firestore=t}getVideos(){return this.firestore.collection("videos").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(c4))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h4(n,e){if(1&n&&(d.TgZ(0,"div",10)(1,"video",11),d._UZ(2,"source",12),d.qZA(),d.TgZ(3,"p",13),d._uU(4),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Q6J("src",t.url,d.LSH),d.xp6(2),d.hij(" ",t.nombre," ")}}let f4=(()=>{class n{constructor(t,r){this.storage=t,this._videosService=r,this.videos=[],this.titulos=["Ensayo, 1","Cecedit","Ensayo, 2","Ensayo, 3","Parque corinto","Casa de la cultura","Padilla","Parque corinto v2","Nucleo corinto","Ensayo 4","Ensayo 5","Ensayo 6","Nucleo","Casa de la cultura v2","Happy birthday","Algun lugar"]}ngOnInit(){this.getVideos()}getVideos(){this._videosService.getVideos().subscribe(t=>{this.videos=[],t.forEach(r=>{this.videos.push({id:r.payload.doc.id,...r.payload.doc.data()})}),console.log(this.videos)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zm),d.Y36(d4))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-videos"]],decls:15,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"video-container"],[1,"video"],["width","320","height","240","class","gallery-video",4,"ngFor","ngForOf"],["width","320","height","240",1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[2,"position","relative","bottom","12px","margin","0"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),d._uU(5,"INICIO"),d.qZA(),d.TgZ(6,"a",4),d._uU(7,"IMAGENES"),d.qZA(),d.TgZ(8,"a",5),d._uU(9,"VIDEOS"),d.qZA(),d.TgZ(10,"a",6),d._uU(11,"MUSICA"),d.qZA()()(),d.TgZ(12,"div",7)(13,"div",8),d.YNc(14,h4,5,2,"div",9),d.qZA()()()()),2&t&&(d.xp6(14),d.Q6J("ngForOf",r.videos))},dependencies:[Ps,cu],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#d80bdf;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:30px;box-shadow:0 1px 5px #00000036}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();function p4(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"p",10),d._uU(2),d.qZA(),d.TgZ(3,"audio",11),d._UZ(4,"source",12),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.title),d.xp6(2),d.Q6J("src",t.url,d.LSH)}}let g4=(()=>{class n{constructor(t){this.storage=t,this.musica=[],this.titulos=["Aguanile","Arrepientete","Asi soy yo","Bam bam bidi bim bam bam","Batman y el hombre Ara\xf1a","Caderona","Con la punta del pie","Donde estabas tu","Welcome to party","La negra tiene tumbao","Llora Corazon","Payaso","Cancion 13","Lupita","Paloma","Yo soy el rey","Cancion 17","Sangre son colora","Sangre son colora (editado)","boogalo 1","Cancion 21","Cancion 22","Cancion 23","Todo tiene su final (editado)","Cancion 25","Cancion 26","Cancion 27","Omele","Boogalo 2","Aguazate","Aqui no ha pasado nada","Saraguey santoja","Arranca en fa","Arroyando","Asi soy yo (edit)","Askarakatiski","Ballandel","Bam bam (edit)","Bomba caranbomba","Boogalo 3","Boogalo 4","Boogalo 5","Boogalo 6","Cancion 45","Boogalo 7","Boogalo 8","Boogalo 9","Boogalo 10","Boogalo 11","Boogalo 12","Boogalo 13","Cancion 53","Cachondea","Cancion 54","Camina como chencha","Cancion 56","Carmen","Cancion 57","Cancion 58","Cancion 59","Cancion 60","Cancion 61","Ran kan kan","Echo chi echo no","El malo","Cancion 65","Federico boogalo","Fuego pal 23","Hagan silencio","Indestructible","Lancion 70","cancion 71","La bamba","Cancion 73","La luz del cielo","La pelota","Cancion 76","Mambo rock","Merecumbe","Boogalo 14","Boogalo 15","Mondongo","Oh mayi","Pal 23","Cancion 85","Pruebalo","Quimbara (edit)","Quimbara","Cancion 89","Cancion 90","Cancion 91","Cancion 92","Cancion 93","Fuma el barco","Sonido bestial","Cancion 96","Cancion 97","Cancion 98","Cancion 99","El yoyo","Tremendo rumbon","Tres pata","Tres pata v2","Cancion 104","Cancion 105"]}ngOnInit(){this.getMusica()}subirArchivo(t){const r=t.target.files[0],i=hC(this.storage,`videos/${r.name}`);XN(i,r).then(()=>{this.getMusica()}).catch(a=>console.log(a))}getMusica(){var t=this;return(0,ve.Z)(function*(){const r=hC(t.storage,"musica");try{const i=yield JN(r);t.musica=yield Promise.all(i.items.map(function(){var a=(0,ve.Z)(function*(l,f){const y=yield QN(l);return{title:t.titulos[f]||`Canci\xf3n ${f+1}`,url:y}});return function(l,f){return a.apply(this,arguments)}}()))}catch(i){console.log(i)}})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zm))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-musica"]],decls:14,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"musica-container"],["class","musica",4,"ngFor","ngForOf"],[1,"musica"],[2,"margin-bottom","10px"],["controls",""],["type","audio/mp3",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),d._uU(5,"INICIO"),d.qZA(),d.TgZ(6,"a",4),d._uU(7,"IMAGENES"),d.qZA(),d.TgZ(8,"a",5),d._uU(9,"VIDEOS"),d.qZA(),d.TgZ(10,"a",6),d._uU(11,"MUSICA"),d.qZA()()(),d.TgZ(12,"div",7),d.YNc(13,p4,5,2,"div",8),d.qZA()()()),2&t&&(d.xp6(13),d.Q6J("ngForOf",r.musica))},dependencies:[Ps,cu],styles:[".contenedor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.musica-container[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex-wrap:wrap;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),K2=(()=>{class n{constructor(t){this.toastr=t}mensaje(t){return"auth/invalid-email"===t?"Por favor, introduce un correo electr\xf3nico v\xe1lido.":""}errorFirebase(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Eh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner"],[1,"visually-hidden"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"span",1),d._uU(2,"Loading..."),d.qZA()())},styles:['@charset "UTF-8";.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}']}),n})();function m4(n,e){1&n&&(d.TgZ(0,"span",19),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es requerido"),d.qZA())}function y4(n,e){1&n&&(d.TgZ(0,"span",19),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es invalido"),d.qZA())}function _4(n,e){1&n&&(d.TgZ(0,"span",19),d._uU(1,"La "),d.TgZ(2,"strong"),d._uU(3,"contrase\xf1a "),d.qZA(),d._uU(4,"debe contener mas de 6 caracteres"),d.qZA())}function v4(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",3)(1,"form",4),d.NdJ("ngSubmit",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.login())}),d.TgZ(2,"div")(3,"h2",5),d._uU(4,"Asi Somos Asi Bailamos"),d.qZA()(),d.TgZ(5,"h2",6),d._uU(6,"Iniciar sesi\xf3n"),d.qZA(),d.TgZ(7,"div",7)(8,"label",8),d._uU(9,"Correo electr\xf3nico"),d.qZA(),d._UZ(10,"input",9),d.YNc(11,m4,5,0,"span",10),d.YNc(12,y4,5,0,"span",10),d.qZA(),d.TgZ(13,"div",7)(14,"label",11),d._uU(15,"Contrase\xf1a"),d.qZA(),d._UZ(16,"input",12),d.YNc(17,_4,5,0,"span",10),d.qZA(),d.TgZ(18,"div",13)(19,"a",14),d._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),d.qZA(),d.TgZ(21,"a",15),d._uU(22,"Registrarse"),d.qZA()(),d.TgZ(23,"button",16),d._uU(24,"Iniciar sesi\xf3n"),d.qZA(),d.TgZ(25,"div",17)(26,"a",18),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.loginAsGuest())}),d._uU(27,"Iniciar sesi\xf3n como invitado"),d.qZA()()()()}if(2&n){const t=d.oxw();let r,i,a;d.xp6(1),d.Q6J("formGroup",t.loginUsuario),d.xp6(10),d.Q6J("ngIf",(null==(r=t.loginUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.loginUsuario.get("email"))?null:r.touched)),d.xp6(1),d.Q6J("ngIf",(null==(i=t.loginUsuario.get("email"))?null:i.hasError("email"))&&(null==(i=t.loginUsuario.get("email"))?null:i.touched)),d.xp6(5),d.Q6J("ngIf",(null==(a=t.loginUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.loginUsuario.get("password"))?null:a.touched))}}function w4(n,e){1&n&&(d.TgZ(0,"div",20)(1,"h2",5),d._uU(2,"Asi Somos Asi Bailamos"),d.qZA(),d.TgZ(3,"span",21),d._uU(4,"Iniciando sesion..."),d.qZA(),d._UZ(5,"app-spinner"),d.qZA())}let E4=(()=>{class n{constructor(t,r,i,a,l){this.toastr=t,this.fb=r,this.firebaseError=i,this.afAuth=a,this.router=l,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Rr.required,Rr.email]],password:["",Rr.required]})}ngOnInit(){}login(){const t=this.loginUsuario.value.email,r=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.router.navigate(["/main"]),console.log(i),this.loading=!1}).catch(i=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(i.code),this.message=this.firebaseError.mensaje(i.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInAnonymously().then(()=>{this.loading=!1,this.router.navigate(["/main"])}).catch(t=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n an\xf3nimamente:",t)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Eh),d.Y36(Ef),d.Y36(K2),d.Y36(Zc),d.Y36($n))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center"],["class","container-login",4,"ngIf"],["style","\n      display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;\n    ",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["href","#","routerLink","/recuperar",1,"forgot-password"],["href","#","routerLink","/registrar",1,"register-link"],["type","submit",1,"submit-button"],[2,"text-align","center","margin-top","14px"],[1,"register-link",3,"click"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.YNc(1,v4,28,4,"div",1),d.YNc(2,w4,6,0,"div",2),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngIf",!r.loading),d.xp6(1),d.Q6J("ngIf",r.loading))},dependencies:[jn,cu,nl,Ka,Xo,fi,il,Wd,WR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:#d80bdf;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#8a2be2;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#d80bdf;text-align:center;text-shadow:2px 2px #000}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function b4(n,e){1&n&&(d.TgZ(0,"span",20),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"nombre de usuario"),d.qZA(),d._uU(4," es requerido"),d.qZA())}function I4(n,e){1&n&&(d.TgZ(0,"span",20),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es requerido"),d.qZA())}function C4(n,e){1&n&&(d.TgZ(0,"span",20),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es inv\xe1lido"),d.qZA())}function T4(n,e){1&n&&(d.TgZ(0,"span",20),d._uU(1,"La "),d.TgZ(2,"strong"),d._uU(3,"contrase\xf1a "),d.qZA(),d._uU(4,"debe contener m\xe1s de 6 caracteres"),d.qZA())}function D4(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"form",3,4),d.NdJ("ngSubmit",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.registrar())}),d.TgZ(3,"h2",5),d._uU(4,"Asi Somos Asi Bailamos"),d.qZA(),d.TgZ(5,"h2",6),d._uU(6,"REGISTRARSE"),d.qZA(),d.TgZ(7,"div",7)(8,"label",8),d._uU(9,"Nombre de Usuario"),d.qZA(),d._UZ(10,"input",9),d.YNc(11,b4,5,0,"span",10),d.qZA(),d.TgZ(12,"div",7)(13,"label",11),d._uU(14,"Correo electr\xf3nico"),d.qZA(),d._UZ(15,"input",12),d.YNc(16,I4,5,0,"span",10),d.YNc(17,C4,5,0,"span",10),d.qZA(),d.TgZ(18,"div",7)(19,"label",13),d._uU(20,"Contrase\xf1a"),d.qZA(),d._UZ(21,"input",14),d.YNc(22,T4,5,0,"span",10),d.qZA(),d.TgZ(23,"div",7)(24,"label",15),d._uU(25,"Repetir Contrase\xf1a"),d.qZA(),d._UZ(26,"input",16),d.qZA(),d.TgZ(27,"div",17)(28,"button",18),d._uU(29," Volver "),d.qZA(),d.TgZ(30,"button",19),d._uU(31,"Registrar"),d.qZA()()()()}if(2&n){const t=d.oxw();let r,i,a,l;d.xp6(1),d.Q6J("formGroup",t.registrarUsuario),d.xp6(10),d.Q6J("ngIf",(null==(r=t.registrarUsuario.get("username"))?null:r.hasError("required"))&&(null==(r=t.registrarUsuario.get("username"))?null:r.touched)),d.xp6(5),d.Q6J("ngIf",(null==(i=t.registrarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.registrarUsuario.get("email"))?null:i.touched)),d.xp6(1),d.Q6J("ngIf",(null==(a=t.registrarUsuario.get("email"))?null:a.hasError("email"))&&(null==(a=t.registrarUsuario.get("email"))?null:a.touched)),d.xp6(5),d.Q6J("ngIf",(null==(l=t.registrarUsuario.get("password"))?null:l.hasError("required"))&&(null==(l=t.registrarUsuario.get("password"))?null:l.touched)),d.xp6(8),d.Q6J("disabled",t.registrarUsuario.invalid)}}function A4(n,e){1&n&&(d.TgZ(0,"div",21)(1,"h2",5),d._uU(2,"Asi Somos Asi Bailamos"),d.qZA(),d.TgZ(3,"span",22),d._uU(4,"Registrando..."),d.qZA(),d._UZ(5,"app-spinner"),d.qZA())}let S4=(()=>{class n{constructor(t,r,i,a,l){this.fb=t,this.afAuth=r,this.router=i,this.firebaseError=a,this.toastr=l,this.loading=!1,this.registrarUsuario=this.fb.group({username:["",Rr.required],email:["",[Rr.required,Rr.email]],password:["",[Rr.required,Rr.minLength(6)]],repetirPassword:["",Rr.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.username,r=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password;i===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(r,i).then(l=>l.user?.updateProfile({displayName:t})).then(l=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(l=>{this.loading=!1,console.log(l),this.firebaseError.errorFirebase(l.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ef),d.Y36(Zc),d.Y36($n),d.Y36(K2),d.Y36(Eh))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:2,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Nombre de Usuario","formControlName","username"],["class","text-danger errorLabel",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["for","repetirPassword"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(d.YNc(0,D4,32,6,"div",0),d.YNc(1,A4,6,0,"div",1)),2&t&&(d.Q6J("ngIf",!r.loading),d.xp6(1),d.Q6J("ngIf",r.loading))},dependencies:[jn,ap,nl,Ka,Xo,fi,il,Wd,WR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:#d80bdf;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#8a2be2}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#d80bdf;text-align:center;text-shadow:2px 2px #000}"]}),n})();function x4(n,e){1&n&&(d.TgZ(0,"span",12),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es requerido"),d.qZA())}function M4(n,e){1&n&&(d.TgZ(0,"span",12),d._uU(1,"El "),d.TgZ(2,"strong"),d._uU(3,"correo "),d.qZA(),d._uU(4,"es invalido"),d.qZA())}function R4(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.recuperar())}),d.TgZ(2,"h2",4),d._uU(3,"Asi Somos Asi Bailamos"),d.qZA(),d.TgZ(4,"h2",5),d._uU(5,"RECUPERAR CUENTA"),d.qZA(),d.TgZ(6,"div",6),d._UZ(7,"input",7),d.YNc(8,x4,5,0,"span",8),d.YNc(9,M4,5,0,"span",8),d.qZA(),d.TgZ(10,"div",9)(11,"button",10),d._uU(12," Volver "),d.qZA(),d.TgZ(13,"button",11),d._uU(14,"Aceptar"),d.qZA()()()()}if(2&n){const t=d.oxw();let r,i;d.xp6(1),d.Q6J("formGroup",t.recuperarUsuario),d.xp6(7),d.Q6J("ngIf",(null==(r=t.recuperarUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.recuperarUsuario.get("email"))?null:r.touched)),d.xp6(1),d.Q6J("ngIf",(null==(i=t.recuperarUsuario.get("email"))?null:i.hasError("email"))&&(null==(i=t.recuperarUsuario.get("email"))?null:i.touched)),d.xp6(4),d.Q6J("disabled",t.recuperarUsuario.invalid)}}function P4(n,e){1&n&&(d.TgZ(0,"div",13)(1,"h2",4),d._uU(2,"Asi Somos Asi Bailamos"),d.qZA(),d.TgZ(3,"span",14),d._uU(4,"Registrando..."),d.qZA(),d._UZ(5,"app-spinner"),d.qZA())}let N4=(()=>{class n{constructor(t,r,i,a){this.fb=t,this.afAuth=r,this.router=i,this.toastr=a,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Rr.required,Rr.email]]})}ngOnInit(){}recuperar(){const t=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(r=>{this.loading=!1,this.firebaseError(r.code)})}firebaseError(t){switch(t){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ef),d.Y36(Zc),d.Y36($n),d.Y36(Eh))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;\n    height: 90vh;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(d.TgZ(0,"div"),d.YNc(1,R4,15,4,"div",0),d.YNc(2,P4,6,0,"div",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngIf",!r.loading),d.xp6(1),d.Q6J("ngIf",r.loading))},dependencies:[jn,ap,nl,Ka,Xo,fi,il,Wd,WR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;background-color:#d80bdf;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#8a2be2}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#d80bdf;text-align:center;text-shadow:2px 2px #000}"]}),n})(),O4=(()=>{class n{constructor(t){this.afAuth=t}isLoggedIn(){return this.afAuth.authState.pipe((0,pt.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ay=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn().pipe((0,pt.U)(i=>!!i||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(O4),d.LFG($n))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k4=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:E4},{path:"registrar",component:S4,canActivate:[Ay]},{path:"recuperar",component:N4,canActivate:[Ay]},{path:"main",component:ix,canActivate:[Ay]},{path:"galeria",component:SU,canActivate:[Ay]},{path:"videos",component:f4,canActivate:[Ay]},{path:"musica",component:g4,canActivate:[Ay]},{path:"**",redirectTo:"/",pathMatch:"full"}];let F4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[pI.forRoot(k4),pI]}),n})(),L4=(()=>{class n{constructor(){this.title="asi-somos-asi-bailamos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[ev]}),n})();const ZR_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};let V4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[L4]}),n.\u0275inj=d.cJS({imports:[Ha,F4,sD,Hw,JD,Do.hO.initializeApp(ZR_firebase),wI(()=>pS(ZR_firebase)),_U(()=>vU()),Pm,Kv.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,d.G48)(),ic().bootstrapModule(V4).catch(n=>console.error(n))},9751:(wt,Oe,V)=>{V.d(Oe,{y:()=>_e});var d=V(2961),j=V(727),k=V(8822),re=V(9635),le=V(2416),me=V(576),fe=V(2806);let _e=(()=>{class J{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const De=new J;return De.source=this,De.operator=Ne,De}subscribe(Ne,De,it){const Ee=function G(J){return J&&J instanceof d.Lv||function q(J){return J&&(0,me.m)(J.next)&&(0,me.m)(J.error)&&(0,me.m)(J.complete)}(J)&&(0,j.Nn)(J)}(Ne)?Ne:new d.Hp(Ne,De,it);return(0,fe.x)(()=>{const{operator:ye,source:_t}=this;Ee.add(ye?ye.call(Ee,_t):_t?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(De){Ne.error(De)}}forEach(Ne,De){return new(De=we(De))((it,Ee)=>{const ye=new d.Hp({next:_t=>{try{Ne(_t)}catch(gt){Ee(gt),ye.unsubscribe()}},error:Ee,complete:it});this.subscribe(ye)})}_subscribe(Ne){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Ne)}[k.L](){return this}pipe(...Ne){return(0,re.U)(Ne)(this)}toPromise(Ne){return new(Ne=we(Ne))((De,it)=>{let Ee;this.subscribe(ye=>Ee=ye,ye=>it(ye),()=>De(Ee))})}}return J.create=$e=>new J($e),J})();function we(J){var $e;return null!==($e=J??le.v.Promise)&&void 0!==$e?$e:Promise}},7579:(wt,Oe,V)=>{V.d(Oe,{x:()=>fe});var d=V(9751),j=V(727);const re=(0,V(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=V(8737),me=V(2806);let fe=(()=>{class we extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new _e(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new re}next(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:$e,observers:Ne}=this;return J||$e?j.Lc:(this.currentObservers=null,Ne.push(G),new j.w0(()=>{this.currentObservers=null,(0,le.P)(Ne,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:$e,isStopped:Ne}=this;J?G.error($e):Ne&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return we.create=(q,G)=>new _e(q,G),we})();class _e extends fe{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,q)}error(q){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==J?J:j.Lc}}},2961:(wt,Oe,V)=>{V.d(Oe,{Hp:()=>it,Lv:()=>J});var d=V(576),j=V(727),k=V(2416),re=V(7849);function le(){}const me=we("C",void 0,void 0);function we(xe,Ce,Se){return{kind:xe,value:Ce,error:Se}}var q=V(3410),G=V(2806);class J extends j.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,j.Nn)(Ce)&&Ce.add(this)):this.destination=gt}static create(Ce,Se,ze){return new it(Ce,Se,ze)}next(Ce){this.isStopped?_t(function _e(xe){return we("N",xe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?_t(function fe(xe){return we("E",void 0,xe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?_t(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ne(xe,Ce){return $e.call(xe,Ce)}class De{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ce)}catch(ze){Ee(ze)}}error(Ce){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ce)}catch(ze){Ee(ze)}else Ee(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Se){Ee(Se)}}}class it extends J{constructor(Ce,Se,ze){let Ge;if(super(),(0,d.m)(Ce)||!Ce)Ge={next:Ce??void 0,error:Se??void 0,complete:ze??void 0};else{let ue;this&&k.v.useDeprecatedNextContext?(ue=Object.create(Ce),ue.unsubscribe=()=>this.unsubscribe(),Ge={next:Ce.next&&Ne(Ce.next,ue),error:Ce.error&&Ne(Ce.error,ue),complete:Ce.complete&&Ne(Ce.complete,ue)}):Ge=Ce}this.destination=new De(Ge)}}function Ee(xe){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,re.h)(xe)}function _t(xe,Ce){const{onStoppedNotification:Se}=k.v;Se&&q.z.setTimeout(()=>Se(xe,Ce))}const gt={closed:!0,next:le,error:function ye(xe){throw xe},complete:le}},727:(wt,Oe,V)=>{V.d(Oe,{Lc:()=>me,w0:()=>le,Nn:()=>fe});var d=V(576);const k=(0,V(3888).d)(we=>function(G){we(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,$e)=>`${$e+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var re=V(8737);class le{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ne of G)Ne.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,d.m)(J))try{J()}catch(Ne){q=Ne instanceof k?Ne.errors:[Ne]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ne of $e)try{_e(Ne)}catch(De){q=q??[],De instanceof k?q=[...q,...De.errors]:q.push(De)}}if(q)throw new k(q)}}add(q){var G;if(q&&q!==this)if(this.closed)_e(q);else{if(q instanceof le){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,re.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,re.P)(G,q),q instanceof le&&q._removeParent(this)}}le.EMPTY=(()=>{const we=new le;return we.closed=!0,we})();const me=le.EMPTY;function fe(we){return we instanceof le||we&&"closed"in we&&(0,d.m)(we.remove)&&(0,d.m)(we.add)&&(0,d.m)(we.unsubscribe)}function _e(we){(0,d.m)(we)?we():we.unsubscribe()}},2416:(wt,Oe,V)=>{V.d(Oe,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Oe,V)=>{V.d(Oe,{E:()=>j});const j=new(V(9751).y)(le=>le.complete())},8996:(wt,Oe,V)=>{V.d(Oe,{D:()=>Ce});var d=V(8421),j=V(5363),k=V(9468),me=V(9751),_e=V(2202),we=V(576),q=V(9672);function J(Se,ze){if(!Se)throw new Error("Iterable cannot be null");return new me.y(Ge=>{(0,q.f)(Ge,ze,()=>{const ue=Se[Symbol.asyncIterator]();(0,q.f)(Ge,ze,()=>{ue.next().then(Ke=>{Ke.done?Ge.complete():Ge.next(Ke.value)})},0,!0)})})}var $e=V(3670),Ne=V(8239),De=V(1144),it=V(6495),Ee=V(2206),ye=V(4532),_t=V(3260);function Ce(Se,ze){return ze?function xe(Se,ze){if(null!=Se){if((0,$e.c)(Se))return function re(Se,ze){return(0,d.Xf)(Se).pipe((0,k.R)(ze),(0,j.Q)(ze))}(Se,ze);if((0,De.z)(Se))return function fe(Se,ze){return new me.y(Ge=>{let ue=0;return ze.schedule(function(){ue===Se.length?Ge.complete():(Ge.next(Se[ue++]),Ge.closed||this.schedule())})})}(Se,ze);if((0,Ne.t)(Se))return function le(Se,ze){return(0,d.Xf)(Se).pipe((0,k.R)(ze),(0,j.Q)(ze))}(Se,ze);if((0,Ee.D)(Se))return J(Se,ze);if((0,it.T)(Se))return function G(Se,ze){return new me.y(Ge=>{let ue;return(0,q.f)(Ge,ze,()=>{ue=Se[_e.h](),(0,q.f)(Ge,ze,()=>{let Ke,At;try{({value:Ke,done:At}=ue.next())}catch(mt){return void Ge.error(mt)}At?Ge.complete():Ge.next(Ke)},0,!0)}),()=>(0,we.m)(ue?.return)&&ue.return()})}(Se,ze);if((0,_t.L)(Se))return function gt(Se,ze){return J((0,_t.Q)(Se),ze)}(Se,ze)}throw(0,ye.z)(Se)}(Se,ze):(0,d.Xf)(Se)}},8421:(wt,Oe,V)=>{V.d(Oe,{Xf:()=>$e});var d=V(7582),j=V(1144),k=V(8239),re=V(9751),le=V(3670),me=V(2206),fe=V(4532),_e=V(6495),we=V(3260),q=V(576),G=V(7849),J=V(8822);function $e(xe){if(xe instanceof re.y)return xe;if(null!=xe){if((0,le.c)(xe))return function Ne(xe){return new re.y(Ce=>{const Se=xe[J.L]();if((0,q.m)(Se.subscribe))return Se.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,j.z)(xe))return function De(xe){return new re.y(Ce=>{for(let Se=0;Se<xe.length&&!Ce.closed;Se++)Ce.next(xe[Se]);Ce.complete()})}(xe);if((0,k.t)(xe))return function it(xe){return new re.y(Ce=>{xe.then(Se=>{Ce.closed||(Ce.next(Se),Ce.complete())},Se=>Ce.error(Se)).then(null,G.h)})}(xe);if((0,me.D)(xe))return ye(xe);if((0,_e.T)(xe))return function Ee(xe){return new re.y(Ce=>{for(const Se of xe)if(Ce.next(Se),Ce.closed)return;Ce.complete()})}(xe);if((0,we.L)(xe))return function _t(xe){return ye((0,we.Q)(xe))}(xe)}throw(0,fe.z)(xe)}function ye(xe){return new re.y(Ce=>{(function gt(xe,Ce){var Se,ze,Ge,ue;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Se=(0,d.KL)(xe);!(ze=yield Se.next()).done;)if(Ce.next(ze.value),Ce.closed)return}catch(Ke){Ge={error:Ke}}finally{try{ze&&!ze.done&&(ue=Se.return)&&(yield ue.call(Se))}finally{if(Ge)throw Ge.error}}Ce.complete()})})(xe,Ce).catch(Se=>Ce.error(Se))})}},6451:(wt,Oe,V)=>{V.d(Oe,{T:()=>me});var d=V(8189),j=V(8421),k=V(515),re=V(7669),le=V(8996);function me(...fe){const _e=(0,re.yG)(fe),we=(0,re._6)(fe,1/0),q=fe;return q.length?1===q.length?(0,j.Xf)(q[0]):(0,d.J)(we)((0,le.D)(q,_e)):k.E}},5403:(wt,Oe,V)=>{V.d(Oe,{x:()=>j});var d=V(2961);function j(re,le,me,fe,_e){return new k(re,le,me,fe,_e)}class k extends d.Lv{constructor(le,me,fe,_e,we,q){super(le),this.onFinalize=we,this.shouldUnsubscribe=q,this._next=me?function(G){try{me(G)}catch(J){le.error(J)}}:super._next,this._error=_e?function(G){try{_e(G)}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(wt,Oe,V)=>{V.d(Oe,{U:()=>k});var d=V(4482),j=V(5403);function k(re,le){return(0,d.e)((me,fe)=>{let _e=0;me.subscribe((0,j.x)(fe,we=>{fe.next(re.call(le,we,_e++))}))})}},8189:(wt,Oe,V)=>{V.d(Oe,{J:()=>k});var d=V(5577),j=V(4671);function k(re=1/0){return(0,d.z)(j.y,re)}},5577:(wt,Oe,V)=>{V.d(Oe,{z:()=>_e});var d=V(4004),j=V(8421),k=V(4482),re=V(9672),le=V(5403),fe=V(576);function _e(we,q,G=1/0){return(0,fe.m)(q)?_e((J,$e)=>(0,d.U)((Ne,De)=>q(J,Ne,$e,De))((0,j.Xf)(we(J,$e))),G):("number"==typeof q&&(G=q),(0,k.e)((J,$e)=>function me(we,q,G,J,$e,Ne,De,it){const Ee=[];let ye=0,_t=0,gt=!1;const xe=()=>{gt&&!Ee.length&&!ye&&q.complete()},Ce=ze=>ye<J?Se(ze):Ee.push(ze),Se=ze=>{Ne&&q.next(ze),ye++;let Ge=!1;(0,j.Xf)(G(ze,_t++)).subscribe((0,le.x)(q,ue=>{$e?.(ue),Ne?Ce(ue):q.next(ue)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ye--;Ee.length&&ye<J;){const ue=Ee.shift();De?(0,re.f)(q,De,()=>Se(ue)):Se(ue)}xe()}catch(ue){q.error(ue)}}))};return we.subscribe((0,le.x)(q,Ce,()=>{gt=!0,xe()})),()=>{it?.()}}(J,$e,we,G)))}},5363:(wt,Oe,V)=>{V.d(Oe,{Q:()=>re});var d=V(9672),j=V(4482),k=V(5403);function re(le,me=0){return(0,j.e)((fe,_e)=>{fe.subscribe((0,k.x)(_e,we=>(0,d.f)(_e,le,()=>_e.next(we),me),()=>(0,d.f)(_e,le,()=>_e.complete(),me),we=>(0,d.f)(_e,le,()=>_e.error(we),me)))})}},3099:(wt,Oe,V)=>{V.d(Oe,{B:()=>le});var d=V(8421),j=V(7579),k=V(2961),re=V(4482);function le(fe={}){const{connector:_e=(()=>new j.x),resetOnError:we=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=fe;return J=>{let $e,Ne,De,it=0,Ee=!1,ye=!1;const _t=()=>{Ne?.unsubscribe(),Ne=void 0},gt=()=>{_t(),$e=De=void 0,Ee=ye=!1},xe=()=>{const Ce=$e;gt(),Ce?.unsubscribe()};return(0,re.e)((Ce,Se)=>{it++,!ye&&!Ee&&_t();const ze=De=De??_e();Se.add(()=>{it--,0===it&&!ye&&!Ee&&(Ne=me(xe,G))}),ze.subscribe(Se),!$e&&it>0&&($e=new k.Hp({next:Ge=>ze.next(Ge),error:Ge=>{ye=!0,_t(),Ne=me(gt,we,Ge),ze.error(Ge)},complete:()=>{Ee=!0,_t(),Ne=me(gt,q),ze.complete()}}),(0,d.Xf)(Ce).subscribe($e))})(J)}}function me(fe,_e,...we){if(!0===_e)return void fe();if(!1===_e)return;const q=new k.Hp({next:()=>{q.unsubscribe(),fe()}});return _e(...we).subscribe(q)}},9468:(wt,Oe,V)=>{V.d(Oe,{R:()=>j});var d=V(4482);function j(k,re=0){return(0,d.e)((le,me)=>{me.add(k.schedule(()=>le.subscribe(me),re))})}},8505:(wt,Oe,V)=>{V.d(Oe,{b:()=>le});var d=V(576),j=V(4482),k=V(5403),re=V(4671);function le(me,fe,_e){const we=(0,d.m)(me)||fe||_e?{next:me,error:fe,complete:_e}:me;return we?(0,j.e)((q,G)=>{var J;null===(J=we.subscribe)||void 0===J||J.call(we);let $e=!0;q.subscribe((0,k.x)(G,Ne=>{var De;null===(De=we.next)||void 0===De||De.call(we,Ne),G.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=we.complete)||void 0===Ne||Ne.call(we),G.complete()},Ne=>{var De;$e=!1,null===(De=we.error)||void 0===De||De.call(we,Ne),G.error(Ne)},()=>{var Ne,De;$e&&(null===(Ne=we.unsubscribe)||void 0===Ne||Ne.call(we)),null===(De=we.finalize)||void 0===De||De.call(we)}))}):re.y}},4408:(wt,Oe,V)=>{V.d(Oe,{o:()=>le});var d=V(727);class j extends d.w0{constructor(fe,_e){super()}schedule(fe,_e=0){return this}}const k={setInterval(me,fe,..._e){const{delegate:we}=k;return we?.setInterval?we.setInterval(me,fe,..._e):setInterval(me,fe,..._e)},clearInterval(me){const{delegate:fe}=k;return(fe?.clearInterval||clearInterval)(me)},delegate:void 0};var re=V(8737);class le extends j{constructor(fe,_e){super(fe,_e),this.scheduler=fe,this.work=_e,this.pending=!1}schedule(fe,_e=0){var we;if(this.closed)return this;this.state=fe;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,_e)),this.pending=!0,this.delay=_e,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(G,this.id,_e),this}requestAsyncId(fe,_e,we=0){return k.setInterval(fe.flush.bind(fe,this),we)}recycleAsyncId(fe,_e,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return _e;null!=_e&&k.clearInterval(_e)}execute(fe,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(fe,_e);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,_e){let q,we=!1;try{this.work(fe)}catch(G){we=!0,q=G||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:fe,scheduler:_e}=this,{actions:we}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(we,this),null!=fe&&(this.id=this.recycleAsyncId(_e,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Oe,V)=>{V.d(Oe,{v:()=>k});var d=V(6063);class j{constructor(le,me=j.now){this.schedulerActionCtor=le,this.now=me}schedule(le,me=0,fe){return new this.schedulerActionCtor(this,le).schedule(fe,me)}}j.now=d.l.now;class k extends j{constructor(le,me=j.now){super(le,me),this.actions=[],this._active=!1}flush(le){const{actions:me}=this;if(this._active)return void me.push(le);let fe;this._active=!0;do{if(fe=le.execute(le.state,le.delay))break}while(le=me.shift());if(this._active=!1,fe){for(;le=me.shift();)le.unsubscribe();throw fe}}}},4986:(wt,Oe,V)=>{V.d(Oe,{z:()=>k});var d=V(4408);const k=new(V(7565).v)(d.o)},6063:(wt,Oe,V)=>{V.d(Oe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(wt,Oe,V)=>{V.d(Oe,{z:()=>d});const d={setTimeout(j,k,...re){const{delegate:le}=d;return le?.setTimeout?le.setTimeout(j,k,...re):setTimeout(j,k,...re)},clearTimeout(j){const{delegate:k}=d;return(k?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(wt,Oe,V)=>{V.d(Oe,{h:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Oe,V)=>{V.d(Oe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,Oe,V)=>{V.d(Oe,{_6:()=>me,jO:()=>re,yG:()=>le});var d=V(576);function k(fe){return fe[fe.length-1]}function re(fe){return(0,d.m)(k(fe))?fe.pop():void 0}function le(fe){return function j(fe){return fe&&(0,d.m)(fe.schedule)}(k(fe))?fe.pop():void 0}function me(fe,_e){return"number"==typeof k(fe)?fe.pop():_e}},8737:(wt,Oe,V)=>{function d(j,k){if(j){const re=j.indexOf(k);0<=re&&j.splice(re,1)}}V.d(Oe,{P:()=>d})},3888:(wt,Oe,V)=>{function d(j){const re=j(le=>{Error.call(le),le.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}V.d(Oe,{d:()=>d})},2806:(wt,Oe,V)=>{V.d(Oe,{O:()=>re,x:()=>k});var d=V(2416);let j=null;function k(le){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!j;if(me&&(j={errorThrown:!1,error:null}),le(),me){const{errorThrown:fe,error:_e}=j;if(j=null,fe)throw _e}}else le()}function re(le){d.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=le)}},9672:(wt,Oe,V)=>{function d(j,k,re,le=0,me=!1){const fe=k.schedule(function(){re(),me?j.add(this.schedule(null,le)):this.unsubscribe()},le);if(j.add(fe),!me)return fe}V.d(Oe,{f:()=>d})},4671:(wt,Oe,V)=>{function d(j){return j}V.d(Oe,{y:()=>d})},1144:(wt,Oe,V)=>{V.d(Oe,{z:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(wt,Oe,V)=>{V.d(Oe,{D:()=>j});var d=V(576);function j(k){return Symbol.asyncIterator&&(0,d.m)(k?.[Symbol.asyncIterator])}},576:(wt,Oe,V)=>{function d(j){return"function"==typeof j}V.d(Oe,{m:()=>d})},3670:(wt,Oe,V)=>{V.d(Oe,{c:()=>k});var d=V(8822),j=V(576);function k(re){return(0,j.m)(re[d.L])}},6495:(wt,Oe,V)=>{V.d(Oe,{T:()=>k});var d=V(2202),j=V(576);function k(re){return(0,j.m)(re?.[d.h])}},8239:(wt,Oe,V)=>{V.d(Oe,{t:()=>j});var d=V(576);function j(k){return(0,d.m)(k?.then)}},3260:(wt,Oe,V)=>{V.d(Oe,{L:()=>re,Q:()=>k});var d=V(7582),j=V(576);function k(le){return(0,d.FC)(this,arguments,function*(){const fe=le.getReader();try{for(;;){const{value:_e,done:we}=yield(0,d.qq)(fe.read());if(we)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(_e)}}finally{fe.releaseLock()}})}function re(le){return(0,j.m)(le?.getReader)}},4482:(wt,Oe,V)=>{V.d(Oe,{A:()=>j,e:()=>k});var d=V(576);function j(re){return(0,d.m)(re?.lift)}function k(re){return le=>{if(j(le))return le.lift(function(me){try{return re(me,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(wt,Oe,V)=>{V.d(Oe,{U:()=>k,z:()=>j});var d=V(4671);function j(...re){return k(re)}function k(re){return 0===re.length?d.y:1===re.length?re[0]:function(me){return re.reduce((fe,_e)=>_e(fe),me)}}},7849:(wt,Oe,V)=>{V.d(Oe,{h:()=>k});var d=V(2416),j=V(3410);function k(re){j.z.setTimeout(()=>{const{onUnhandledError:le}=d.v;if(!le)throw re;le(re)})}},4532:(wt,Oe,V)=>{function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>d})},4650:(wt,Oe,V)=>{V.d(Oe,{$8M:()=>xd,$Z:()=>IE,AFp:()=>jI,AaK:()=>_e,AsE:()=>Yf,BQk:()=>hl,CHM:()=>Gl,CRH:()=>Am,CZH:()=>Nm,CqO:()=>Vc,D6c:()=>uC,EJc:()=>JS,EiD:()=>Zy,EpF:()=>z_,F4k:()=>G_,FYo:()=>DD,FiY:()=>vs,G48:()=>gN,GfV:()=>Eg,Gpc:()=>G,JOm:()=>fi,JVY:()=>zy,KtG:()=>Du,L6k:()=>XT,LAX:()=>Fw,LFG:()=>or,LSH:()=>Ky,Lbi:()=>KS,Lck:()=>aS,MMx:()=>gn,NdJ:()=>q_,OlP:()=>pn,Oqu:()=>Rb,PXZ:()=>lN,Q6J:()=>B_,QGY:()=>Qg,QP$:()=>be,QbO:()=>YS,Qsj:()=>AD,R0b:()=>Ao,RDi:()=>KT,Rgc:()=>up,SBq:()=>Cf,Sil:()=>ex,Suo:()=>kv,TTD:()=>Fl,TgZ:()=>$_,Tol:()=>nm,Udp:()=>ch,VKq:()=>yh,X6Q:()=>pN,XFs:()=>ct,Xpm:()=>Rn,Xts:()=>Kw,Y36:()=>su,YKP:()=>_I,YNc:()=>ob,Yjl:()=>F,Yz7:()=>Me,Z0I:()=>Rt,ZZ4:()=>Vm,_Bn:()=>yI,_UZ:()=>H_,_Vd:()=>If,_c5:()=>xx,_uU:()=>_A,aQg:()=>r0,c2e:()=>QS,cJS:()=>Tt,cg1:()=>tp,d8E:()=>rv,dDg:()=>sx,dqk:()=>tn,eBb:()=>kw,eFA:()=>lx,ekj:()=>tm,eoX:()=>ox,f3M:()=>cc,g9A:()=>HI,h0i:()=>du,hGG:()=>s0,hij:()=>tv,iGM:()=>pp,ifc:()=>bt,ip1:()=>BI,jDz:()=>pl,kL8:()=>am,lG2:()=>$,lqb:()=>xc,lri:()=>Fm,mCW:()=>gg,n5z:()=>ja,oAB:()=>_r,oJD:()=>aD,oxw:()=>cb,pB0:()=>Ac,q3G:()=>Or,q4F:()=>eu,qLn:()=>pi,qOj:()=>Zs,qZA:()=>Yg,qzn:()=>Zd,rWj:()=>KI,sBO:()=>mN,sIi:()=>Hf,s_b:()=>Cm,soG:()=>Wv,tb:()=>zI,tp0:()=>qo,uIk:()=>F_,vHH:()=>De,vpe:()=>ha,wAp:()=>Lt,xp6:()=>nu,ynx:()=>dl,z2F:()=>Jv,z3N:()=>ia,zSh:()=>Qy,zs3:()=>Rc});var d=V(7579),j=V(727),k=V(9751),re=V(6451),le=V(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function we(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=me({__forward_ref__:me});function G(s){return s.__forward_ref__=G,s.toString=function(){return _e(this())},s}function J(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===G}class De extends Error{constructor(o,u){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new De(-201,!1)}function ie(s,o){null==s&&function ee(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Me(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Tt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xt(s){return rn(s,An)||rn(s,gr)}function Rt(s){return null!==Xt(s)}function rn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qn(s){return s&&(s.hasOwnProperty(Ln)||s.hasOwnProperty(wi))?s[Ln]:null}const An=me({\u0275prov:me}),Ln=me({\u0275inj:me}),gr=me({ngInjectableDef:me}),wi=me({ngInjectorDef:me});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let mr;function zn(s){const o=mr;return mr=s,o}function Fi(s,o,u){const c=Xt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ct.Optional?null:void 0!==o?o:void Ce(_e(s))}function Pn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},St=[],Gn=me({\u0275cmp:me}),qt=me({\u0275dir:me}),Ji=me({\u0275pipe:me}),sn=me({\u0275mod:me}),Vn=me({\u0275fac:me}),vn=me({__NG_ELEMENT_ID__:me});let Xn=0;function Rn(s){return Pn(()=>{const u=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+Xn++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return h.inputs=z(s.inputs,c),h.outputs=z(s.outputs),_&&_.forEach(I=>I(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(er).filter(Ei):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y).filter(Ei):null,h})}function er(s){return O(s)||R(s)}function Ei(s){return null!==s}function _r(s){return Pn(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return nr;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,o&&(o[h]=g)}return u}const $=Rn;function F(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[Gn]||null}function R(s){return s[qt]||null}function Y(s){return s[Ji]||null}function be(s){const o=O(s)||R(s)||Y(s);return null!==o&&o.standalone}function Ze(s,o){const u=s[sn]||null;if(!u&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return u}function Ir(s){return Array.isArray(s)&&"object"==typeof s[1]}function Hr(s){return Array.isArray(s)&&!0===s[1]}function Ea(s){return 0!=(8&s.flags)}function ps(s){return 2==(2&s.flags)}function ba(s){return 1==(1&s.flags)}function bi(s){return null!==s.template}function Ia(s){return 0!=(256&s[2])}function ro(s,o){return s.hasOwnProperty(Vn)?s[Vn]:null}class Xi{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Fl(){return wu}function wu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ta),Ll}function Ll(){const s=Vl(this),o=s?.current;if(o){const u=s.previous;if(u===nr)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Ta(s,o,u,c){const h=Vl(s)||function gd(s,o){return s[pd]=o}(s,{previous:nr,current:null}),g=h.current||(h.current={}),_=h.previous,I=this.declaredInputs[u],C=_[I];g[I]=new Xi(C&&C.currentValue,o,_===nr),s[c]=o}Fl.ngInherit=!0;const pd="__ngSimpleChanges__";function Vl(s){return s[pd]||null}function bn(s){for(;Array.isArray(s);)s=s[0];return s}function io(s,o){return bn(o[s])}function ii(s,o){return bn(o[s.index])}function jl(s,o){return s.data[o]}function Sr(s,o){const u=o[s];return Ir(u)?u:u[0]}function bu(s){return 64==(64&s[2])}function Ii(s,o){return null==o?null:s[o]}function Cr(s){s[18]=0}function ko(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Pt={lFrame:Pa(null),bindingsEnabled:!0};function Cu(){return Pt.bindingsEnabled}function Re(){return Pt.lFrame.lView}function Jt(){return Pt.lFrame.tView}function Gl(s){return Pt.lFrame.contextLView=s,s[8]}function Du(s){return Pt.lFrame.contextLView=null,s}function Wn(){let s=Aa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Aa(){return Pt.lFrame.currentTNode}function Ci(s,o){const u=Pt.lFrame;u.currentTNode=s,u.isParent=o}function Sa(){return Pt.lFrame.isParent}function Au(){Pt.lFrame.isParent=!1}function so(){return Pt.lFrame.bindingIndex++}function ai(s){const o=Pt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function wd(s,o){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ma(o)}function Ma(s){Pt.lFrame.currentDirectiveIndex=s}function Wl(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Fo(){return Pt.lFrame.currentQueryIndex}function Jr(s){Pt.lFrame.currentQueryIndex=s}function xu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Zl(s,o,u){if(u&ct.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&ct.Host||(h=xu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=Pt.lFrame=Ra();return c.currentTNode=o,c.lView=s,!0}function oo(s){const o=Ra(),u=s[1];Pt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Ra(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?Pa(s):o}function Pa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Kl(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ed=Kl;function ks(){const s=Kl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cn(){return Pt.lFrame.selectedIndex}function ao(s){Pt.lFrame.selectedIndex=s}function Dn(){const s=Pt.lFrame;return jl(s.tView,s.selectedIndex)}function Oa(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:P}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),I&&((s.contentHooks||(s.contentHooks=[])).push(u,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,I)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(u,P)}}function uo(s,o,u){Yl(s,o,3,u)}function Pu(s,o,u,c){(3&s[2])===u&&Yl(s,o,u,c)}function Nu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Yl(s,o,u,c){const g=c??-1,_=o.length-1;let I=0;for(let C=void 0!==c?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=c&&I>=c)break}else o[C]<0&&(s[18]+=65536),(I<g||-1==g)&&(Xh(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Xh(s,o,u,c){const h=u[c]<0,g=u[c+1],I=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class Lo{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Jl(s,o,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const g=u[c++],_=u[c++],I=u[c++];s.setAttribute(o,_,I,g)}else{const g=h,_=u[++c];Ad(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),c++}}return c}function ku(s){return 3===s||4===s||6===s}function Ad(s){return 64===s.charCodeAt(0)}function Uo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||tf(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function tf(s,o,u,c,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const I=s[g++];if("number"==typeof I){if(I===o){_=-1;break}if(I>o){_=g-1;break}}}for(;g<s.length;){const I=s[g];if("number"==typeof I)break;if(I===u){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function Xl(s){return-1!==s}function ka(s){return 32767&s}function ts(s,o){let u=function nf(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Fs=!0;function ui(s){const o=Fs;return Fs=s,o}let Fa=0;const Bi={};function Bo(s,o){const u=co(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,La(c.data,s),La(o,null),La(c.blueprint,null));const h=Va(s,o),g=s.injectorIndex;if(Xl(h)){const _=ka(h),I=ts(h,o),C=I[1].data;for(let A=0;A<8;A++)o[g+A]=I[_+A]|C[_+A]}return o[g+8]=h,g}function La(s,o){s.push(0,0,0,0,0,0,0,0,o)}function co(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Va(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){if(c=rc(h),null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Vs(s,o,u){!function Lu(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(vn)&&(c=u[vn]),null==c&&(c=u[vn]=Fa++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function tc(s,o,u){if(u&ct.Optional||void 0!==s)return s;Ce()}function rf(s,o,u,c){if(u&ct.Optional&&void 0===c&&(c=null),0==(u&(ct.Self|ct.Host))){const h=s[9],g=zn(void 0);try{return h?h.get(o,c,u&ct.Optional):Fi(o,c,u&ct.Optional)}finally{zn(g)}}return tc(c,0,u)}function jo(s,o,u,c=ct.Default,h){if(null!==s){if(1024&o[2]){const _=function nc(s,o,u,c,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const I=Ba(g,_,u,c|ct.Self,Bi);if(I!==Bi)return I;let C=g.parent;if(!C){const A=_[21];if(A){const P=A.get(u,Bi,c);if(P!==Bi)return P}C=rc(_),_=_[15]}g=C}return h}(s,o,u,c,Bi);if(_!==Bi)return _}const g=Ba(s,o,u,c,Bi);if(g!==Bi)return g}return rf(o,u,c,h)}function Ba(s,o,u,c,h){const g=function Jp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(vn)?s[vn]:void 0;return"number"==typeof o?o>=0?255&o:rr:o}(u);if("function"==typeof g){if(!Zl(o,s,c))return c&ct.Host?tc(h,0,c):rf(o,u,c,h);try{const _=g(c);if(null!=_||c&ct.Optional)return _;Ce()}finally{Ed()}}else if("number"==typeof g){let _=null,I=co(s,o),C=-1,A=c&ct.Host?o[16][6]:null;for((-1===I||c&ct.SkipSelf)&&(C=-1===I?Va(s,o):o[I+8],-1!==C&&Bs(c,!1)?(_=o[1],I=ka(C),o=ts(C,o)):I=-1);-1!==I;){const P=o[1];if(sf(g,I,P.data)){const U=Sd(I,o,u,_,c,A);if(U!==Bi)return U}C=o[I+8],-1!==C&&Bs(c,o[1].data[I+8]===A)&&sf(g,I,o)?(_=P,I=ka(C),o=ts(C,o)):I=-1}}return h}function Sd(s,o,u,c,h,g){const _=o[1],I=_.data[s+8],P=$o(I,_,u,null==c?ps(I)&&Fs:c!=_&&0!=(3&I.type),h&ct.Host&&g===I);return null!==P?Us(o,_,P,I):Bi}function $o(s,o,u,c,h){const g=s.providerIndexes,_=o.data,I=1048575&g,C=s.directiveStart,P=g>>20,Z=h?I+P:s.directiveEnd;for(let te=c?I:I+P;te<Z;te++){const Te=_[te];if(te<C&&u===Te||te>=C&&Te.type===u)return te}if(h){const te=_[C];if(te&&bi(te)&&te.type===u)return C}return null}function Us(s,o,u,c){let h=s[u];const g=o.data;if(function Cd(s){return s instanceof Lo}(h)){const _=h;_.resolving&&function _t(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(g[u]));const I=ui(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?zn(_.injectImpl):null;Zl(s,c,ct.Default);try{h=s[u]=_.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Na(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const _=wu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==C&&zn(C),ui(I),_.resolving=!1,Ed()}}return h}function sf(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Bs(s,o){return!(s&ct.Self||s&ct.Host&&o)}class Ho{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return jo(this._tNode,this._lView,o,c,u)}}function rr(){return new Ho(Wn(),Re())}function ja(s){return Pn(()=>{const o=s.prototype.constructor,u=o[Vn]||$a(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Vn]||$a(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function $a(s){return $e(s)?()=>{const o=$a(J(s));return o&&o()}:ro(s)}function rc(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function xd(s){return function Ua(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(ku(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(Wn(),s)}const On="__parameters__";function Ti(s,o,u){return Pn(()=>{const c=function Vu(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const _=new h(...g);return I.annotation=_,I;function I(C,A,P){const U=C.hasOwnProperty(On)?C[On]:Object.defineProperty(C,On,{value:[]})[On];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(_),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Me({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),Tr(c,o)):o!==s&&o.push(c)}return o}function ji(s,o){s.forEach(u=>Array.isArray(u)?ji(u,o):o(u))}function sc(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function za(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function li(s,o,u){let c=ho(s,o);return c>=0?s[1|c]=u:(c=~c,function tg(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function zu(s,o){const u=ho(s,o);if(u>=0)return s[1|u]}function ho(s,o){return function ac(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const g=c+(h-c>>1),_=s[g<<u];if(o===_)return g<<u;_>o?h=g:c=g+1}return~(h<<u)}(s,o,1)}const ci={},qa="__NG_DI_FLAG__",di="ngTempTokenPath",Ld=/\n/gm,_s="__source";let Zn;function pt(s){const o=Zn;return Zn=s,o}function Wa(s,o=ct.Default){if(void 0===Zn)throw new De(-203,!1);return null===Zn?Fi(s,void 0,o):Zn.get(s,o&ct.Optional?null:void 0,o)}function or(s,o=ct.Default){return(function Jn(){return mr}()||Wa)(J(s),o)}function cc(s,o=ct.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),or(s,o)}function qu(s){const o=[];for(let u=0;u<s.length;u++){const c=J(s[u]);if(Array.isArray(c)){if(0===c.length)throw new De(900,!1);let h,g=ct.Default;for(let _=0;_<c.length;_++){const I=c[_],C=fo(I);"number"==typeof C?-1===C?h=I.token:g|=C:h=I}o.push(or(h,g))}else o.push(or(c))}return o}function js(s,o){return s[qa]=o,s.prototype[qa]=o,s}function fo(s){return s[qa]}const vs=js(Ti("Optional"),8),qo=js(Ti("SkipSelf"),4);var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();const x=new Map;let L=0;const Pr="__ngContext__";function dn(s,o){Ir(o)?(s[Pr]=o[20],function X(s){x.set(s[20],s)}(o)):s[Pr]=o}function jd(s,o){return undefined(s,o)}function Hd(s){const o=s[3];return Hr(o)?o[3]:o}function Cc(s){return p(s[13])}function v(s){return p(s[4])}function p(s){for(;null!==s&&!Hr(s);)s=s[4];return s}function b(s,o,u,c,h){if(null!=c){let g,_=!1;Hr(c)?g=c:Ir(c)&&(_=!0,c=c[0]);const I=bn(c);0===s&&null!==u?null==h?Xa(o,u,I):mo(o,u,I,h||null,!0):1===s&&null!==u?mo(o,u,I,h||null,!0):2===s?function dg(s,o,u){const c=tl(s,o);c&&function qd(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,I,_):3===s&&o.destroyNode(I),null!=g&&function GT(s,o,u,c,h){const g=u[7];g!==bn(u)&&b(o,s,c,g,h);for(let I=10;I<u.length;I++){const C=u[I];nl(C[1],C,s,o,c,g)}}(o,s,g,u,h)}}function de(s,o,u){return s.createElement(o,u)}function Xu(s,o){const u=s[9],c=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,ko(h,-1)),u.splice(c,1)}function mf(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&Xu(h,c),o>0&&(s[u-1][4]=c[4]);const g=za(s,10+o);!function He(s,o){nl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function el(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&nl(s,o,u,3,null,null),function an(s){let o=s[13];if(!o)return zd(s[1],s);for(;o;){let u=null;if(Ir(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Ir(o)&&zd(o[1],o),o=o[3];null===o&&(o=s),Ir(o)&&zd(o[1],o),u=o&&o[4]}o=u}}(o)}}function zd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Tc(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof Lo)){const g=u[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const I=h[g[_]],C=g[_+1];try{C.call(I)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function yf(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],I="function"==typeof _?_(o):bn(o[_]),C=c[h=u[g+2]],A=u[g+3];"boolean"==typeof A?I.removeEventListener(u[g],C,A):A>=0?c[h=A]():c[h=-A].unsubscribe(),g+=2}else{const _=c[h=u[g+1]];u[g].call(_)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Hr(o[3])){u!==o[3]&&Xu(u,o);const c=o[19];null!==c&&c.detachView(s)}!function Ye(s){x.delete(s[20])}(o)}}function _f(s,o,u){return function lg(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return ii(c,u)}(s,o.parent,u)}function mo(s,o,u,c,h){s.insertBefore(o,u,c,h)}function Xa(s,o,u){s.appendChild(o,u)}function Gd(s,o,u,c,h){null!==c?mo(s,o,u,c,h):Xa(s,o,u)}function tl(s,o){return s.parentNode(o)}let vf,il,pg,$T=function Ny(s,o,u){return 40&s.type?ii(s,u):null};function Oy(s,o,u,c){const h=_f(s,c,o),g=o[11],I=function Rw(s,o,u){return $T(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)Gd(g,h,u[C],I,!1);else Gd(g,h,u,I,!1)}function cg(s,o){if(null!==o){const u=o.type;if(3&u)return ii(o,s);if(4&u)return Fy(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return cg(s,c);{const h=s[o.index];return Hr(h)?Fy(-1,h):bn(h)}}if(32&u)return jd(o,s)()||bn(s[o.index]);{const c=ky(s,o);return null!==c?Array.isArray(c)?c[0]:cg(Hd(s[16]),c):cg(s,o.next)}}return null}function ky(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Fy(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return cg(c,h)}return o[7]}function hg(s,o,u,c,h,g,_){for(;null!=u;){const I=c[u.index],C=u.type;if(_&&0===o&&(I&&dn(bn(I),c),u.flags|=4),64!=(64&u.flags))if(8&C)hg(s,o,u.child,c,h,g,!1),b(o,s,h,I,g);else if(32&C){const A=jd(u,c);let P;for(;P=A();)b(o,s,h,P,g);b(o,s,h,I,g)}else 16&C?Ly(s,o,c,u,h,g):b(o,s,h,I,g);u=_?u.projectionNext:u.next}}function nl(s,o,u,c,h,g){hg(u,c,s.firstChild,o,h,g,!1)}function Ly(s,o,u,c,h,g){const _=u[16],C=_[6].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)b(o,s,h,C[A],g);else hg(s,o,C,_[3],h,g,!0)}function Vy(s,o,u){s.setAttribute(o,"style",u)}function Uy(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function rl(s){return function By(){if(void 0===vf&&(vf=null,tn.trustedTypes))try{vf=tn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return vf}()?.createHTML(s)||s}function KT(s){il=s}function $y(s){return function wf(){if(void 0===pg&&(pg=null,tn.trustedTypes))try{pg=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return pg}()?.createHTML(s)||s}class Dc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ow extends Dc{getTypeName(){return"HTML"}}class YT extends Dc{getTypeName(){return"Style"}}class Hy extends Dc{getTypeName(){return"Script"}}class QT extends Dc{getTypeName(){return"URL"}}class JT extends Dc{getTypeName(){return"ResourceURL"}}function ia(s){return s instanceof Dc?s.changingThisBreaksApplicationSecurity:s}function Zd(s,o){const u=function JR(s){return s instanceof Dc&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function zy(s){return new Ow(s)}function XT(s){return new YT(s)}function kw(s){return new Hy(s)}function Fw(s){return new QT(s)}function Ac(s){return new JT(s)}class Vw{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(rl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class eD{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=rl(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=rl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const tD=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gg(s){return(s=String(s)).match(tD)?s:"unsafe:"+s}function yo(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Kd(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Bw=yo("area,br,col,hr,img,wbr"),Gy=yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jw=yo("rp,rt"),qy=Kd(Bw,Kd(Gy,yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kd(jw,yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kd(jw,Gy)),mg=yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iD=Kd(mg,yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$w=yo("script,style,template");class sD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!qy.hasOwnProperty(u))return this.sanitizedSomething=!0,!$w.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),_=g.name,I=_.toLowerCase();if(!iD.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=g.value;mg[I]&&(C=gg(C)),this.buf.push(" ",_,'="',oD(C),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();qy.hasOwnProperty(u)&&!Bw.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(oD(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Hw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zw=/([^\#-~ |!])/g;function oD(s){return s.replace(/&/g,"&amp;").replace(Hw,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(zw,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wy;function Zy(s,o){let u=null;try{Wy=Wy||function Lw(s){const o=new eD(s);return function Uw(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch{return!1}}()?new Vw(o):o}(s);let c=o?String(o):"";u=Wy.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=u.innerHTML,u=Wy.getInertBodyElement(c)}while(c!==g);return rl((new sD).sanitizeChildren(Ef(u)||u))}finally{if(u){const c=Ef(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ef(s){return"content"in s&&function eP(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function aD(s){const o=Yd();return o?$y(o.sanitize(Or.HTML,s)||""):Zd(s,"HTML")?$y(ia(s)):Zy(function fg(){return void 0!==il?il:typeof document<"u"?document:void 0}(),Ee(s))}function Ky(s){const o=Yd();return o?o.sanitize(Or.URL,s)||"":Zd(s,"URL")?ia(s):gg(Ee(s))}function Yd(){const s=Re();return s&&s[12]}const Kw=new pn("ENVIRONMENT_INITIALIZER"),lD=new pn("INJECTOR",-1),cD=new pn("INJECTOR_DEF_TYPES");class dD{get(o,u=ci){if(u===ci){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return u}}function nP(...s){return{\u0275providers:Yy(0,s)}}function Yy(s,...o){const u=[],c=new Set;let h;return ji(o,g=>{const _=g;yg(_,u,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&Qd(h,u),u}function Qd(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];ji(h,g=>{o.push(g)})}}function yg(s,o,u,c){if(!(s=J(s)))return!1;let h=null,g=Qn(s);const _=!g&&O(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(g=Qn(C),!g)return!1;h=C}const I=c.has(h);if(_){if(I)return!1;if(c.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of C)yg(A,o,u,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let A;c.add(h);try{ji(g.imports,P=>{yg(P,o,u,c)&&(A||(A=[]),A.push(P))})}finally{}void 0!==A&&Qd(A,o)}if(!I){const A=ro(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:St},{provide:cD,useValue:h,multi:!0},{provide:Kw,useValue:()=>or(h),multi:!0})}const C=g.providers;null==C||I||ji(C,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}const rP=me({provide:String,useValue:me});function _g(s){return null!==s&&"object"==typeof s&&rP in s}function Sc(s){return"function"==typeof s}const Qy=new pn("Set Injector scope."),vg={},fD={};let Jy;function wg(){return void 0===Jy&&(Jy=new dD),Jy}class xc{}class pD extends xc{constructor(o,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e_(o,_=>this.processProvider(_)),this.records.set(lD,Jd(void 0,this)),h.has("environment")&&this.records.set(xc,Jd(void 0,this));const g=this.records.get(Qy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cD.multi,St,ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=pt(this),c=zn(void 0);try{return o()}finally{pt(u),zn(c)}}get(o,u=ci,c=ct.Default){this.assertNotDestroyed();const h=pt(this),g=zn(void 0);try{if(!(c&ct.SkipSelf)){let I=this.records.get(o);if(void 0===I){const C=function vD(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&Xt(o);I=C&&this.injectableDefInScope(C)?Jd(Xy(o),vg):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&ct.Self?wg():this.parent).get(o,u=c&ct.Optional&&u===ci?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[di]=_[di]||[]).unshift(_e(o)),h)throw _;return function Mr(s,o,u,c){const h=s[di];throw o[_s]&&h.unshift(o[_s]),s.message=function ig(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let I=o[_];g.push(_+":"+("string"==typeof I?JSON.stringify(I):_e(I)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(Ld,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[di]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{zn(g),pt(h)}}resolveInjectorInitializers(){const o=pt(this),u=zn(void 0);try{const c=this.get(Kw.multi,St,ct.Self);for(const h of c)h()}finally{pt(o),zn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(_e(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let u=Sc(o=J(o))?o:J(o&&o.provide);const c=function mD(s){return _g(s)?Jd(void 0,s.useValue):Jd(Xw(s),vg)}(o);if(Sc(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Jd(void 0,vg,!0),h.factory=()=>qu(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===vg&&(u.value=fD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _D(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=J(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Xy(s){const o=Xt(s),u=null!==o?o.factory:ro(s);if(null!==u)return u;if(s instanceof pn)throw new De(204,!1);if(s instanceof Function)return function gD(s){const o=s.length;if(o>0)throw function Hu(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new De(204,!1);const u=function Mn(s){const o=s&&(s[An]||s[gr]);if(o){const u=function hn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new De(204,!1)}function Xw(s,o,u){let c;if(Sc(s)){const h=J(s);return ro(h)||Xy(h)}if(_g(s))c=()=>J(s.useValue);else if(function Jw(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...qu(s.deps||[]));else if(function Qw(s){return!(!s||!s.useExisting)}(s))c=()=>or(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function yD(s){return!!s.deps}(s))return ro(h)||Xy(h);c=()=>new h(...qu(s.deps))}return c}function Jd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function wD(s){return!!s.\u0275providers}function e_(s,o){for(const u of s)Array.isArray(u)?e_(u,o):wD(u)?e_(u.\u0275providers,o):o(u)}class eE{}class ID{resolveComponentFactory(o){throw function bD(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let If=(()=>{class s{}return s.NULL=new ID,s})();function CD(){return Xd(Wn(),Re())}function Xd(s,o){return new Cf(ii(s,o))}let Cf=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=CD,s})();function TD(s){return s instanceof Cf?s.nativeElement:s}class DD{}let AD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function SD(){const s=Re(),u=Sr(Wn().index,s);return(Ir(u)?u:s)[11]}(),s})(),xD=(()=>{class s{}return s.\u0275prov=Me({token:s,providedIn:"root",factory:()=>null}),s})();class Eg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const eu=new Eg("14.3.0"),bg={};function Df(s){return s.ngOriginalError}class pi{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Df(o);for(;u&&Df(u);)u=Df(u);return u||null}}function oa(s){return s instanceof Function?s():s}function s_(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}u=h+1}}const oE="ng-template";function aE(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==s_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function uE(s){return 4===s.type&&s.value!==oE}function o_(s,o,u){return o===(4!==s.type||u?s.value:oE)}function Ig(s,o,u){let c=4;const h=s.attrs||[],g=function tu(s){for(let o=0;o<s.length;o++)if(ku(s[o]))return o;return s.length}(h);let _=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!o_(s,C,u)||""===C&&1===o.length){if(ss(c))return!1;_=!0}}else{const A=8&c?C:o[++I];if(8&c&&null!==s.attrs){if(!aE(s.attrs,A,u)){if(ss(c))return!1;_=!0}continue}const U=Cg(8&c?"class":C,h,uE(s),u);if(-1===U){if(ss(c))return!1;_=!0;continue}if(""!==A){let Z;Z=U>g?"":h[U+1].toLowerCase();const te=8&c?Z:null;if(te&&-1!==s_(te,A,0)||2&c&&A!==Z){if(ss(c))return!1;_=!0}}}}else{if(!_&&!ss(c)&&!ss(C))return!1;if(_&&ss(C))continue;_=!1,c=C|1&c}}return ss(c)||_}function ss(s){return 0==(1&s)}function Cg(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let I=o[++h];for(;"string"==typeof I;)I=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function l_(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function a_(s,o,u=!1){for(let c=0;c<o.length;c++)if(Ig(s,o[c],u))return!0;return!1}function lE(s,o){return s?":not("+o.trim()+")":o}function Af(s){let o=s[0],u=1,c=2,h="",g=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const I=s[++u];h+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!ss(_)&&(o+=lE(g,h),h=""),c=_,g=g||!ss(c);u++}return""!==h&&(o+=lE(g,h)),o}const Wt={};function nu(s){c_(Jt(),Re(),cn()+s,!1)}function c_(s,o,u,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&uo(o,g,u)}else{const g=s.preOrderHooks;null!==g&&Pu(o,g,0,u)}ao(u)}function hE(s,o=null,u=null,c){const h=Ag(s,o,u,c);return h.resolveInjectorInitializers(),h}function Ag(s,o=null,u=null,c,h=new Set){const g=[u||St,nP(s)];return c=c||("object"==typeof s?void 0:_e(s)),new pD(g,o||wg(),c||null,h)}let Rc=(()=>{class s{static create(u,c){if(Array.isArray(u))return hE({name:""},c,u,"");{const h=u.name??"";return hE({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=ci,s.NULL=new dD,s.\u0275prov=Me({token:s,providedIn:"any",factory:()=>or(lD)}),s.__NG_ELEMENT_ID__=-1,s})();function su(s,o=ct.Default){const u=Re();return null===u?or(s,o):jo(Wn(),u,J(s),o)}function IE(){throw new Error("invalid")}function Mg(s,o){return s<<17|o<<2}function _o(s){return s>>17&32767}function w_(s){return 2|s}function zs(s){return(131068&s)>>2}function Mf(s,o){return-131069&s|o<<2}function E_(s){return 1|s}function bs(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const _=s.data[g];Jr(h),_.contentQueries(2,o[g],g)}}}function Og(s,o,u,c,h,g,_,I,C,A,P){const U=o.blueprint.slice();return U[0]=h,U[2]=76|c,(null!==P||s&&1024&s[2])&&(U[2]|=1024),Cr(U),U[3]=U[15]=s,U[8]=u,U[10]=_||s&&s[10],U[11]=I||s&&s[11],U[12]=C||s&&s[12]||null,U[9]=A||s&&s[9]||null,U[6]=g,U[20]=function W(){return L++}(),U[21]=P,U[16]=2==o.type?s[16]:U,U}function Pc(s,o,u,c,h){let g=s.data[o];if(null===g)g=function S_(s,o,u,c,h){const g=Aa(),_=Sa(),C=s.data[o]=function BE(s,o,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,u,c,h),function xa(){return Pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const _=function Os(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Ci(g,!0),g}function Nc(s,o,u,c){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function rh(s,o,u){oo(o);try{const c=s.viewQuery;null!==c&&kr(1,c,u);const h=s.template;null!==h&&LE(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bs(s,o),s.staticViewQueries&&kr(2,s.viewQuery,u);const g=s.components;null!==g&&function WD(s,o){for(let u=0;u<o.length;u++)Vf(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ks()}}function kg(s,o,u,c){const h=o[2];if(128!=(128&h)){oo(o);try{Cr(o),function oi(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&LE(s,o,u,2,c);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&uo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Pu(o,A,0,null),Nu(o,0)}if(function WE(s){for(let o=Cc(s);null!==o;o=v(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(512&h[2])&&ko(g,1),h[2]|=512}}}(o),function P_(s){for(let o=Cc(s);null!==o;o=v(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];bu(c)&&kg(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&bs(s,o),_){const A=s.contentCheckHooks;null!==A&&uo(o,A)}else{const A=s.contentHooks;null!==A&&Pu(o,A,1),Nu(o,1)}!function FE(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)ao(~h);else{const g=h,_=u[++c],I=u[++c];wd(_,g),I(2,o[g])}}}finally{ao(-1)}}(s,o);const I=s.components;null!==I&&function nh(s,o){for(let u=0;u<o.length;u++)tA(s,o[u])}(o,I);const C=s.viewQuery;if(null!==C&&kr(2,C,c),_){const A=s.viewCheckHooks;null!==A&&uo(o,A)}else{const A=s.viewHooks;null!==A&&Pu(o,A,2),Nu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ko(o[3],-1))}finally{ks()}}}function LE(s,o,u,c,h){const g=cn(),_=2&c;try{ao(-1),_&&o.length>22&&c_(s,o,22,!1),u(c,h)}finally{ao(g)}}function Fg(s,o,u){if(Ea(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}function x_(s,o,u){!Cu()||(function JD(s,o,u,c){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Bo(u,o),dn(c,o);const _=u.initialInputs;for(let I=h;I<g;I++){const C=s.data[I],A=bi(C);A&&Ff(o,u,C);const P=Us(o,s,I,u);dn(P,o),null!==_&&eA(0,I-h,P,C,0,_),A&&(Sr(u.index,o)[8]=P)}}(s,o,u,ii(u,o)),128==(128&u.flags)&&function IP(s,o,u){const c=u.directiveStart,h=u.directiveEnd,g=u.index,_=function Su(){return Pt.lFrame.currentDirectiveIndex}();try{ao(g);for(let I=c;I<h;I++){const C=s.data[I],A=o[I];Ma(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&XD(C,A)}}finally{ao(-1),Ma(_)}}(s,o,u))}function Lg(s,o,u=ii){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],I=-1===_?u(o,s):s[_];s[h++]=I}}}function VE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=M_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function M_(s,o,u,c,h,g,_,I,C,A){const P=22+c,U=P+h,Z=function ZD(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Wt);return u}(P,U),te="function"==typeof A?A():A;return Z[1]={type:s,blueprint:Z,template:u,queries:null,viewQuery:I,declTNode:o,data:Z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function Of(s,o,u,c){const h=Bf(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&qs(s).push(c,h.length-1))}function jE(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function R_(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,_=[];let I=null,C=null;for(let A=o.directiveStart;A<c;A++){const P=h[A],U=P.inputs,Z=null===g||uE(o)?null:GE(U,g);_.push(Z),I=jE(U,A,I),C=jE(P.outputs,A,C)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=16),I.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=I,o.outputs=C}function Is(s,o,u,c,h,g,_,I){const C=ii(o,u);let P,A=o.inputs;!I&&null!=A&&(P=A[c])?(Hg(s,u,P,c,h),ps(o)&&$E(u,o.index)):3&o.type&&(c=function KD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,g.setProperty(C,c,h))}function $E(s,o){const u=Sr(o,s);16&u[2]||(u[2]|=32)}function Vg(s,o,u,c){let h=!1;if(Cu()){const g=function CP(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];a_(u,_.selectors,!1)&&(h||(h=[]),Vs(Bo(u,o),s,_.type),bi(_)?(It(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===c?null:{"":-1};if(null!==g){h=!0,zE(u,s.data.length,g.length);for(let P=0;P<g.length;P++){const U=g[P];U.providersResolver&&U.providersResolver(U)}let I=!1,C=!1,A=Nc(s,o,g.length,null);for(let P=0;P<g.length;P++){const U=g[P];u.mergedAttrs=Uo(u.mergedAttrs,U.hostAttrs),kf(s,u,o,A,U),wo(A,U,_),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const Z=U.type.prototype;!I&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),I=!0),!C&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),A++}R_(s,u)}_&&function Ai(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new De(-301,!1);c.push(o[h],g)}}}(u,c,_)}return u.mergedAttrs=Uo(u.mergedAttrs,u.attrs),h}function Ug(s,o,u,c,h,g){const _=g.hostBindings;if(_){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const C=~o.index;(function HE(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(I)!=C&&I.push(C),I.push(c,h,_)}}function XD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function It(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function wo(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;bi(o)&&(u[""]=s)}}function zE(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function kf(s,o,u,c,h){s.data[c]=h;const g=h.factory||(h.factory=ro(h.type)),_=new Lo(g,bi(h),su);s.blueprint[c]=_,u[c]=_,Ug(s,o,0,c,Nc(s,u,h.hostVars,Wt),h)}function Ff(s,o,u){const c=ii(o,s),h=VE(u),g=s[10],_=Uf(s,Og(s,h,null,u.onPush?32:16,c,o,g,g.createRenderer(c,u),null,null,null));s[o.index]=_}function ua(s,o,u,c,h,g){const _=ii(s,o);!function Bg(s,o,u,c,h,g,_){if(null==g)s.removeAttribute(o,h,u);else{const I=null==_?Ee(g):_(g,c||"",h);s.setAttribute(o,h,I,u)}}(o[11],_,g,s.value,u,c,h)}function eA(s,o,u,c,h,g){const _=g[o];if(null!==_){const I=c.setInput;for(let C=0;C<_.length;){const A=_[C++],P=_[C++],U=_[C++];null!==I?c.setInput(u,U,A,P):u[P]=U}}}function GE(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function qE(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function tA(s,o){const u=Sr(o,s);if(bu(u)){const c=u[1];48&u[2]?kg(c,u,c.template,u[8]):u[5]>0&&Lf(u)}}function Lf(s){for(let c=Cc(s);null!==c;c=v(c))for(let h=10;h<c.length;h++){const g=c[h];if(bu(g))if(512&g[2]){const _=g[1];kg(_,g,_.template,g[8])}else g[5]>0&&Lf(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=Sr(u[c],s);bu(h)&&h[5]>0&&Lf(h)}}function Vf(s,o){const u=Sr(o,s),c=u[1];(function Oc(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),rh(c,u,u[8])}function Uf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function gi(s){for(;s;){s[2]|=32;const o=Hd(s);if(Ia(s)&&!o)return s;s=o}return null}function ih(s,o,u,c=!0){const h=o[10];h.begin&&h.begin();try{kg(s,o,s.template,u)}catch(_){throw c&&jf(o,_),_}finally{h.end&&h.end()}}function kr(s,o,u){Jr(0),o(s,u)}function Bf(s){return s[7]||(s[7]=[])}function qs(s){return s.cleanup||(s.cleanup=[])}function jf(s,o){const u=s[9],c=u?u.get(pi,null):null;c&&c.handleError(o)}function Hg(s,o,u,c,h){for(let g=0;g<u.length;){const _=u[g++],I=u[g++],C=o[_],A=s.data[_];null!==A.setInput?A.setInput(C,h,c,I):C[I]=h}}function ou(s,o,u){const c=io(o,s);!function N(s,o,u){s.setValue(o,u)}(s[11],c,u)}function Ws(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const I=o[_];"number"==typeof I?g=I:1==g?h=we(h,I):2==g&&(c=we(c,I+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function la(s,o,u,c,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(bn(g)),Hr(g))for(let I=10;I<g.length;I++){const C=g[I],A=C[1].firstChild;null!==A&&la(C[1],C,A,c)}const _=u.type;if(8&_)la(s,o,u.child,c);else if(32&_){const I=jd(u,o);let C;for(;C=I();)c.push(C)}else if(16&_){const I=ky(o,u);if(Array.isArray(I))c.push(...I);else{const C=Hd(o[16]);la(C[1],C,I,c,!0)}}u=h?u.projectionNext:u.next}return c}class Fr{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return la(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Hr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(mf(o,c),za(u,c))}this._attachedToViewContainer=!1}el(this._lView[1],this._lView)}onDestroy(o){Of(this._lView[1],this._lView,null,o)}markForCheck(){gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ih(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vt(s,o){nl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class ol extends Fr{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ih(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class N_ extends If{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=O(o);return new $f(u,this.ngModule)}}function sh(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class ZE{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){const h=this.injector.get(o,bg,c);return h!==bg||u===bg?h:this.parentInjector.get(o,u,c)}}class $f extends eE{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function cE(s){return s.map(Af).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return sh(this.componentDef.inputs)}get outputs(){return sh(this.componentDef.outputs)}create(o,u,c,h){let g=(h=h||this.ngModule)instanceof xc?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new ZE(o,g):o,I=_.get(DD,null);if(null===I)throw new De(407,!1);const C=_.get(xD,null),A=I.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=c?function UE(s,o,u){return s.selectRootElement(o,u===bt.ShadowDom)}(A,c,this.componentDef.encapsulation):de(A,P,function O_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),Z=this.componentDef.onPush?288:272,te=M_(0,null,null,1,0,null,null,null,null,null),Te=Og(null,te,null,Z,null,null,I,A,C,_,null);let je,Je;oo(Te);try{const ot=function iA(s,o,u,c,h,g){const _=u[1];u[22]=s;const C=Pc(_,22,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(Ws(C,A,!0),null!==s&&(Jl(h,s,A),null!==C.classes&&Uy(h,s,C.classes),null!==C.styles&&Vy(h,s,C.styles)));const P=c.createRenderer(s,o),U=Og(u,VE(o),null,o.onPush?32:16,u[22],C,c,P,g||null,null,null);return _.firstCreatePass&&(Vs(Bo(C,u),_,o.type),It(_,C),zE(C,u.length,1)),Uf(u,U),u[22]=U}(U,this.componentDef,Te,I,A);if(U)if(c)Jl(A,U,["ng-version",eu.full]);else{const{attrs:Mt,classes:ke}=function ND(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&u.push(g);else{if(!ss(h))break;h=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Mt&&Jl(A,U,Mt),ke&&ke.length>0&&Uy(A,U,ke.join(" "))}if(Je=jl(te,22),void 0!==u){const Mt=Je.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Vt=u[ke];Mt.push(null!=Vt?Array.from(Vt):null)}}je=function oh(s,o,u,c){const h=u[1],g=function QD(s,o,u){const c=Wn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),kf(s,c,o,Nc(s,o,1,null),u),R_(s,c));const h=Us(o,s,c.directiveStart,c);dn(h,o);const g=ii(c,o);return g&&dn(g,o),h}(h,u,o);if(s[8]=u[8]=g,null!==c)for(const I of c)I(g,o);if(o.contentQueries){const I=Wn();o.contentQueries(1,g,I.directiveStart)}const _=Wn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ao(_.index),Ug(u[1],_,0,_.directiveStart,_.directiveEnd,o),XD(o,g)),g}(ot,this.componentDef,Te,[sA]),rh(te,Te,null)}finally{ks()}return new un(this.componentType,je,Xd(Je,Te),Te,Je)}}class un extends class ED{}{constructor(o,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new ol(h),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const g=this._rootLView;Hg(g[1],g,h,o,u),$E(g,this._tNode.index)}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function sA(){const s=Wn();Oa(Re()[1],s)}function Zs(s){let o=function YE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(bi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);h=o.\u0275dir}if(h){if(u){c.push(h);const _=s;_.inputs=Gg(s.inputs),_.declaredInputs=Gg(s.declaredInputs),_.outputs=Gg(s.outputs);const I=h.hostBindings;I&&mi(s,I);const C=h.viewQuery,A=h.contentQueries;if(C&&JE(s,C),A&&TP(s,A),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),bi(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const I=g[_];I&&I.ngInherit&&I(s),I===Zs&&(u=!1)}}o=Object.getPrototypeOf(o)}!function QE(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Uo(h.hostAttrs,u=Uo(u,h.hostAttrs))}}(c)}function Gg(s){return s===nr?{}:s===St?[]:s}function JE(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function TP(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,g)=>{o(c,h,g),u(c,h,g)}:o}function mi(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}let qg=null;function ul(){if(!qg){const s=tn.Symbol;if(s&&s.iterator)qg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(qg=c)}}}return qg}function Hf(s){return!!Wg(s)&&(Array.isArray(s)||!(s instanceof Map)&&ul()in s)}function Wg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ot(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function F_(s,o,u,c){const h=Re();return Ot(h,so(),o)&&(Jt(),ua(Dn(),h,s,o,u,c)),F_}function ah(s,o,u,c,h,g){const I=function bo(s,o,u,c){const h=Ot(s,o,u);return Ot(s,o+1,c)||h}(s,function zr(){return Pt.lFrame.bindingIndex}(),u,h);return ai(2),I?o+Ee(u)+c+Ee(h)+g:Wt}function ob(s,o,u,c,h,g,_,I){const C=Re(),A=Jt(),P=s+22,U=A.firstCreatePass?function cA(s,o,u,c,h,g,_,I,C){const A=o.consts,P=Pc(o,s,4,_||null,Ii(A,I));Vg(o,u,P,Ii(A,C)),Oa(o,P);const U=P.tViews=M_(2,P,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,P),U.queries=o.queries.embeddedTView(P)),P}(P,A,C,o,u,c,h,g,_):A.data[P];Ci(U,!1);const Z=C[11].createComment("");Oy(A,C,Z,U),dn(Z,C),Uf(C,C[P]=qE(Z,C,Z,U)),ba(U)&&x_(A,C,U),null!=_&&Lg(C,U,I)}function B_(s,o,u){const c=Re();return Ot(c,so(),o)&&Is(Jt(),Dn(),c,s,o,c[11],u,!1),B_}function lu(s,o,u,c,h){const _=h?"class":"style";Hg(s,u,o.inputs[_],_,c)}function $_(s,o,u,c){const h=Re(),g=Jt(),_=22+s,I=h[11],C=h[_]=de(I,o,function Id(){return Pt.lFrame.currentNamespace}()),A=g.firstCreatePass?function j_(s,o,u,c,h,g,_){const I=o.consts,A=Pc(o,s,2,h,Ii(I,g));return Vg(o,u,A,Ii(I,_)),null!==A.attrs&&Ws(A,A.attrs,!1),null!==A.mergedAttrs&&Ws(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,g,h,0,o,u,c):g.data[_];Ci(A,!0);const P=A.mergedAttrs;null!==P&&Jl(I,C,P);const U=A.classes;null!==U&&Uy(I,C,U);const Z=A.styles;return null!==Z&&Vy(I,C,Z),64!=(64&A.flags)&&Oy(g,h,C,A),0===function zl(){return Pt.lFrame.elementDepthCount}()&&dn(C,h),function yd(){Pt.lFrame.elementDepthCount++}(),ba(A)&&(x_(g,h,A),Fg(g,A,h)),null!==c&&Lg(h,A),$_}function Yg(){let s=Wn();Sa()?Au():(s=s.parent,Ci(s,!1));const o=s;!function Qh(){Pt.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(Oa(u,s),Ea(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Dd(s){return 0!=(16&s.flags)}(o)&&lu(u,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ef(s){return 0!=(32&s.flags)}(o)&&lu(u,o,Re(),o.stylesWithoutHost,!1),Yg}function H_(s,o,u,c){return $_(s,o,u,c),Yg(),H_}function dl(s,o,u){const c=Re(),h=Jt(),g=s+22,_=h.firstCreatePass?function dA(s,o,u,c,h){const g=o.consts,_=Ii(g,c),I=Pc(o,s,8,"ng-container",_);return null!==_&&Ws(I,_,!0),Vg(o,u,I,Ii(g,h)),null!==o.queries&&o.queries.elementStart(o,I),I}(g,h,c,o,u):h.data[g];Ci(_,!0);const I=c[g]=c[11].createComment("");return Oy(h,c,I,_),dn(I,c),ba(_)&&(x_(h,c,_),Fg(h,_,c)),null!=u&&Lg(c,_),dl}function hl(){let s=Wn();const o=Jt();return Sa()?Au():(s=s.parent,Ci(s,!1)),o.firstCreatePass&&(Oa(o,s),Ea(s)&&o.queries.elementEnd(s)),hl}function z_(){return Re()}function Qg(s){return!!s&&"function"==typeof s.then}function G_(s){return!!s&&"function"==typeof s.subscribe}const Vc=G_;function q_(s,o,u,c){const h=Re(),g=Jt(),_=Wn();return function lb(s,o,u,c,h,g,_,I){const C=ba(c),P=s.firstCreatePass&&qs(s),U=o[8],Z=Bf(o);let te=!0;if(3&c.type||I){const Je=ii(c,o),ot=I?I(Je):Je,Mt=Z.length,ke=I?Cn=>I(bn(Cn[c.index])):c.index;let Vt=null;if(!I&&C&&(Vt=function ub(s,o,u,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===u&&h[g+1]===c){const I=o[7],C=h[g+2];return I.length>C?I[C]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,c.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=g,Vt.__ngLastListenerFn__=g,te=!1;else{g=lh(c,o,U,g,!1);const Cn=u.listen(ot,h,g);Z.push(g,Cn),P&&P.push(h,ke,Mt,Mt+1)}}else g=lh(c,o,U,g,!1);const Te=c.outputs;let je;if(te&&null!==Te&&(je=Te[h])){const Je=je.length;if(Je)for(let ot=0;ot<Je;ot+=2){const Yn=o[je[ot]][je[ot+1]].subscribe(g),vl=Z.length;Z.push(g,Yn),P&&P.push(h,c.index,vl,-(vl+1))}}}(g,h,h[11],_,s,o,0,c),q_}function Jg(s,o,u,c){try{return!1!==u(c)}catch(h){return jf(s,h),!1}}function lh(s,o,u,c,h){return function g(_){if(_===Function)return c;gi(2&s.flags?Sr(s.index,o):o);let C=Jg(o,0,c,_),A=g.__ngNextListenerFn__;for(;A;)C=Jg(o,0,A,_)&&C,A=A.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function cb(s=1){return function bd(s){return(Pt.lFrame.contextLView=function Yp(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function mb(s,o,u,c,h){const g=s[u+1],_=null===o;let I=c?_o(g):zs(g),C=!1;for(;0!==I&&(!1===C||_);){const P=s[I+1];gA(s[I],o)&&(C=!0,s[I+1]=c?E_(P):w_(P)),I=c?_o(P):zs(P)}C&&(s[u+1]=c?w_(g):E_(g))}function gA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ho(s,o)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yb(s){return s.substring(Gr.key,Gr.keyEnd)}function Y_(s,o){const u=Gr.textEnd;return u===o?-1:(o=Gr.keyEnd=function vb(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Gr.key=o,u),Co(s,o,u))}function Co(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function ch(s,o,u){return To(s,o,u,!1),ch}function tm(s,o){return To(s,o,null,!0),tm}function nm(s){!function zi(s,o,u,c){const h=Jt(),g=ai(2);h.firstUpdatePass&&Cb(h,null,g,c);const _=Re();if(u!==Wt&&Ot(_,g,u)){const I=h.data[cn()];if(yA(I,c)&&!Ib(h,g)){let C=c?I.classesWithoutHost:I.stylesWithoutHost;null!==C&&(u=we(C,u||"")),lu(h,I,_,u,c)}else!function ev(s,o,u,c,h,g,_,I){h===Wt&&(h=St);let C=0,A=0,P=0<h.length?h[0]:null,U=0<g.length?g[0]:null;for(;null!==P||null!==U;){const Z=C<h.length?h[C+1]:void 0,te=A<g.length?g[A+1]:void 0;let je,Te=null;P===U?(C+=2,A+=2,Z!==te&&(Te=U,je=te)):null===U||null!==P&&P<U?(C+=2,Te=P):(A+=2,Te=U,je=te),null!==Te&&Sb(s,o,u,c,Te,je,_,I),P=C<h.length?h[C]:null,U=A<g.length?g[A]:null}}(h,I,_,_[11],_[g+1],_[g+1]=function Zf(s,o,u){if(null==u||""===u)return St;const c=[],h=ia(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,u),c,g)}}(li,Ys,s,!0)}function Ys(s,o){for(let u=function mA(s){return function da(s){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=s.length}(s),Y_(s,Co(s,0,Gr.textEnd))}(o);u>=0;u=Y_(o,u))li(s,yb(o),!0)}function To(s,o,u,c){const h=Re(),g=Jt(),_=ai(2);g.firstUpdatePass&&Cb(g,s,_,c),o!==Wt&&Ot(h,_,o)&&Sb(g,g.data[cn()],h,h[11],s,h[_+1]=function Mb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(ia(s)))),s}(o,u),c,_)}function Ib(s,o){return o>=s.expandoStartIndex}function Cb(s,o,u,c){const h=s.data;if(null===h[u+1]){const g=h[cn()],_=Ib(s,u);yA(g,c)&&null===o&&!_&&(o=!1),o=function X_(s,o,u,c){const h=Wl(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Wf(u=rm(null,s,o,u,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=rm(h,s,o,u,c),null===g){let C=function Tb(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==zs(c))return s[_o(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=rm(null,s,o,C[1],c),C=Wf(C,o.attrs,c),function Db(s,o,u,c){s[_o(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function Ab(s,o,u){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Wf(c,s[g].hostAttrs,u);return Wf(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,c),function fA(s,o,u,c,h,g){let _=g?o.classBindings:o.styleBindings,I=_o(_),C=zs(_);s[c]=u;let P,A=!1;if(Array.isArray(u)){const U=u;P=U[1],(null===P||ho(U,P)>0)&&(A=!0)}else P=u;if(h)if(0!==C){const Z=_o(s[I+1]);s[c+1]=Mg(Z,I),0!==Z&&(s[Z+1]=Mf(s[Z+1],c)),s[I+1]=function v_(s,o){return 131071&s|o<<17}(s[I+1],c)}else s[c+1]=Mg(I,0),0!==I&&(s[I+1]=Mf(s[I+1],c)),I=c;else s[c+1]=Mg(C,0),0===I?I=c:s[C+1]=Mf(s[C+1],c),C=c;A&&(s[c+1]=w_(s[c+1])),mb(s,P,c,!0),mb(s,P,c,!1),function pA(s,o,u,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ho(g,o)>=0&&(u[c+1]=E_(u[c+1]))}(o,P,s,c,g),_=Mg(I,C),g?o.classBindings=_:o.styleBindings=_}(h,g,o,u,_,c)}}function rm(s,o,u,c,h){let g=null;const _=u.directiveEnd;let I=u.directiveStylingLast;for(-1===I?I=u.directiveStart:I++;I<_&&(g=o[I],c=Wf(c,g.hostAttrs,h),g!==s);)I++;return null!==s&&(u.directiveStylingLast=I),c}function Wf(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),li(s,_,!!u||o[++g]))}return void 0===s?null:s}function Sb(s,o,u,c,h,g,_,I){if(!(3&o.type))return;const C=s.data,A=C[I+1];dh(function Rf(s){return 1==(1&s)}(A)?xb(C,o,u,h,zs(A),_):void 0)||(dh(g)||function TE(s){return 2==(2&s)}(A)&&(g=xb(C,null,u,h,I,_)),function QR(s,o,u,c,h){if(o)h?s.addClass(u,c):s.removeClass(u,c);else{let g=-1===c.indexOf("-")?void 0:fi.DashCase;null==h?s.removeStyle(u,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=fi.Important),s.setStyle(u,c,h,g))}}(c,_,io(cn(),u),h,g))}function xb(s,o,u,c,h,g){const _=null===o;let I;for(;h>0;){const C=s[h],A=Array.isArray(C),P=A?C[1]:C,U=null===P;let Z=u[h+1];Z===Wt&&(Z=U?St:void 0);let te=U?zu(Z,c):P===c?Z:void 0;if(A&&!dh(te)&&(te=zu(C,c)),dh(te)&&(I=te,_))return I;const Te=s[h+1];h=_?_o(Te):zs(Te)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(I=zu(C,c))}return I}function dh(s){return void 0!==s}function yA(s,o){return 0!=(s.flags&(o?16:32))}function _A(s,o=""){const u=Re(),c=Jt(),h=s+22,g=c.firstCreatePass?Pc(c,h,1,o,null):c.data[h],_=u[h]=function M(s,o){return s.createText(o)}(u[11],o);Oy(c,u,_,g),Ci(g,!1)}function Rb(s){return tv("",s,""),Rb}function tv(s,o,u){const c=Re(),h=function ll(s,o,u,c){return Ot(s,so(),u)?o+Ee(u)+c:Wt}(c,s,o,u);return h!==Wt&&ou(c,cn(),h),tv}function Yf(s,o,u,c,h){const g=Re(),_=ah(g,s,o,u,c,h);return _!==Wt&&ou(g,cn(),_),Yf}function rv(s,o,u){const c=Re();if(Ot(c,so(),o)){const g=Jt(),_=Dn();Is(g,_,c,s,o,function Si(s,o,u){return(null===s||bi(s))&&(u=function Oo(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(Wl(g.data),_,c),u,!0)}return rv}const jc=void 0;var NA=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PA(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let $c={};function tp(s){const o=function kA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=np(o);if(u)return u;const c=o.split("-")[0];if(u=np(c),u)return u;if("en"===c)return NA;throw new De(701,!1)}function am(s){return tp(s)[Lt.PluralCase]}function np(s){return s in $c||($c[s]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[s]),$c[s]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Hc="en-US";let iv=Hc;function dv(s,o,u,c,h){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)dv(s[g],o,u,c,h);else{const g=Jt(),_=Re();let I=Sc(s)?s:J(s.provide),C=Xw(s);const A=Wn(),P=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(Sc(s)||!s.multi){const te=new Lo(C,h,su),Te=fv(I,o,h?P:P+Z,U);-1===Te?(Vs(Bo(A,_),g,I),hv(g,s,o.length),o.push(I),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(te),_.push(te)):(u[Te]=te,_[Te]=te)}else{const te=fv(I,o,P+Z,U),Te=fv(I,o,P,P+Z),je=te>=0&&u[te],Je=Te>=0&&u[Te];if(h&&!Je||!h&&!je){Vs(Bo(A,_),g,I);const ot=function LP(s,o,u,c,h){const g=new Lo(s,u,su);return g.multi=[],g.index=o,g.componentProviders=0,gI(g,h,c&&!u),g}(h?mI:oS,u.length,h,c,C);!h&&Je&&(u[Te].providerFactory=ot),hv(g,s,o.length,0),o.push(I),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(ot),_.push(ot)}else hv(g,s,te>-1?te:Te,gI(u[h?Te:te],C,!h&&c));!h&&c&&Je&&u[Te].componentProviders++}}}function hv(s,o,u,c){const h=Sc(o),g=function hD(s){return!!s.useClass}(o);if(h||g){const C=(g?J(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=A.indexOf(u);-1===P?A.push(u,[c,C]):A[P+1].push(c,C)}else A.push(u,C)}}}function gI(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function fv(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function oS(s,o,u,c){return pv(this.multi,[])}function mI(s,o,u,c){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=Us(u,u[1],this.providerFactory.index,c);g=I.slice(0,_),pv(h,g);for(let C=_;C<I.length;C++)g.push(I[C])}else g=[],pv(h,g);return g}function pv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function yI(s,o=[]){return u=>{u.providersResolver=(c,h)=>function pI(s,o,u){const c=Jt();if(c.firstCreatePass){const h=bi(s);dv(u,c.data,c.blueprint,h,!0),dv(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class du{}class _I{}function aS(s,o){return new gv(s,o??null)}class gv extends du{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N_(this);const c=Ze(o);this._bootstrapComponents=oa(c.bootstrap),this._r3Injector=Ag(o,u,[{provide:du,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _m extends _I{constructor(o){super(),this.moduleType=o}create(o){return new gv(this.moduleType,o)}}class mv extends du{constructor(o,u,c){super(),this.componentFactoryResolver=new N_(this),this.instance=null;const h=new pD([...o,{provide:du,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],u||wg(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function gn(s,o,u=null){return new mv(s,o,u).injector}let Do=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Yy(0,u.type),h=c.length>0?gn([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Me({token:s,providedIn:"environment",factory:()=>new s(or(xc))}),s})();function pl(s){s.getStandaloneInjector=o=>o.get(Do).getOrCreateStandaloneInjector(s)}function yh(s,o,u,c){return function bI(s,o,u,c,h,g){const _=o+u;return Ot(s,_,h)?function Cs(s,o,u){return s[o]=u}(s,_+1,g?c.call(g,h):c(h)):function Wc(s,o){const u=s[o];return u===Wt?void 0:u}(s,_+1)}(Re(),function si(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,u,c)}function Iv(s){return o=>{setTimeout(s,void 0,o)}}const ha=class bv extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let h=o,g=u||(()=>null),_=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(g=Iv(g),h&&(h=Iv(h)),_&&(_=Iv(_)));const I=super.subscribe({next:h,error:g,complete:_});return o instanceof j.w0&&o.add(I),I}};function DI(){return this._results[ul()]()}class Cv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ul(),c=Cv.prototype;c[u]||(c[u]=DI)}get changes(){return this._changes||(this._changes=new ha)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=Tr(o);(this._changesDetected=!function $u(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let up=(()=>{class s{}return s.__NG_ELEMENT_ID__=Im,s})();const lp=up,AI=class extends lp{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tViews,h=Og(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),rh(c,h,o),new Fr(h)}};function Im(){return cp(Wn(),Re())}function cp(s,o){return 4&s.type?new AI(o,s,Xd(s,o)):null}let Cm=(()=>{class s{}return s.__NG_ELEMENT_ID__=vS,s})();function vS(){return Dv(Wn(),Re())}const wS=Cm,SI=class extends wS{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Xd(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const o=Va(this._hostTNode,this._hostLView);if(Xl(o)){const u=ts(o,this._hostLView),c=ka(o);return new Ho(u[1].data[c+8],u)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Tv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const _=o.createEmbeddedView(u||{},g);return this.insert(_,h),_}createComponent(o,u,c,h,g){const _=o&&!function Di(s){return"function"==typeof s}(o);let I;if(_)I=u;else{const U=u||{};I=U.index,c=U.injector,h=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const C=_?o:new $f(O(o)),A=c||this.parentInjector;if(!g&&null==C.ngModule){const Z=(_?A:this.parentInjector).get(xc,null);Z&&(g=Z)}const P=C.create(A,h,void 0,g);return this.insert(P.hostView,I),P}insert(o,u){const c=o._lView,h=c[1];if(function Da(s){return Hr(s[3])}(c)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const U=c[3],Z=new SI(U,U[6],U[3]);Z.detach(Z.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;!function $i(s,o,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=o),c<g-10?(o[4]=u[h],sc(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function ra(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const I=o[19];null!==I&&I.insertView(s),o[2]|=64}(h,c,_,g);const I=Fy(g,_),C=c[11],A=tl(C,_[7]);return null!==A&&function nt(s,o,u,c,h,g){c[0]=h,c[6]=o,nl(s,c,u,1,h,g)}(h,_[6],C,c,A,I),o.attachToViewContainerRef(),sc(dp(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Tv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=mf(this._lContainer,u);c&&(za(dp(this._lContainer),u),el(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=mf(this._lContainer,u);return c&&null!=za(dp(this._lContainer),u)?new Fr(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function Tv(s){return s[8]}function dp(s){return s[8]||(s[8]=[])}function Dv(s,o){let u;const c=o[s.index];if(Hr(c))u=c;else{let h;if(8&s.type)h=bn(c);else{const g=o[11];h=g.createComment("");const _=ii(s,o);mo(g,tl(g,_),h,function YR(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=u=qE(c,o,h,s),Uf(o,u)}return new SI(u,s,o)}class Sv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class hp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const _=u.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new hp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Vv(o,u).matches&&this.queries[u].setDirty()}}class Dm{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class xv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new xv(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class fp{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new fp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,u,Mv(u,g)),this.matchTNodeWithReadOption(o,u,$o(u,o,g,!1,!1))}else c===up?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,$o(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Cf||h===Cm||h===up&&4&u.type)this.addMatch(u.index,-2);else{const g=$o(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Mv(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Pv(s,o,u,c){return-1===u?function Rv(s,o){return 11&s.type?Xd(s,o):4&s.type?cp(s,o):null}(o,s):-2===u?function ES(s,o,u){return u===Cf?Xd(o,s):u===up?cp(o,s):u===Cm?Dv(o,s):void 0}(s,o,c):Us(s,s[1],u,o)}function MI(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,_=u.matches,I=[];for(let C=0;C<_.length;C+=2){const A=_[C];I.push(A<0?null:Pv(o,g[A],_[C+1],u.metadata.read))}h.matches=I}return h.matches}function Nv(s,o,u,c){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const _=MI(s,o,h,u);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)c.push(_[I/2]);else{const A=g[I+1],P=o[-C];for(let U=10;U<P.length;U++){const Z=P[U];Z[17]===Z[3]&&Nv(Z[1],Z,A,c)}if(null!==P[9]){const U=P[9];for(let Z=0;Z<U.length;Z++){const te=U[Z];Nv(te[1],te,A,c)}}}}}return c}function pp(s){const o=Re(),u=Jt(),c=Fo();Jr(c+1);const h=Vv(u,c);if(s.dirty&&function $l(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Nv(u,o,c,[]):MI(u,o,h,c);s.reset(g,TD),s.notifyOnChanges()}return!0}return!1}function kv(s,o,u,c){const h=Jt();if(h.firstCreatePass){const g=Wn();(function Lv(s,o,u){null===s.queries&&(s.queries=new xv),s.queries.track(new fp(o,u))})(h,new Dm(o,u,c),g.index),function bS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function Sm(s,o,u){const c=new Cv(4==(4&u));Of(s,o,c,c.destroy),null===o[19]&&(o[19]=new hp),o[19].queries.push(new Sv(c))}(h,Re(),u)}function Am(){return function Fv(s,o){return s[19].queries[o].queryList}(Re(),Fo())}function Vv(s,o){return s.queries.getByIndex(o)}function Pm(...s){}const BI=new pn("Application Initializer");let Nm=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Pm,this.reject=Pm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Qg(g))u.push(g);else if(Vc(g)){const _=new Promise((I,C)=>{g.subscribe({complete:I,error:C})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(or(BI,8))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const jI=new pn("AppId",{providedIn:"root",factory:function $I(){return`${qv()}${qv()}${qv()}`}});function qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HI=new pn("Platform Initializer"),KS=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zI=new pn("appBootstrapListener"),YS=new pn("AnimationModuleType");let QS=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Wv=new pn("LocaleId",{providedIn:"root",factory:()=>cc(Wv,ct.Optional|ct.SkipSelf)||function XP(){return typeof $localize<"u"&&$localize.locale||Hc}()}),JS=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GI{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ex=(()=>{class s{compileModuleSync(u){return new _m(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=oa(Ze(u).declarations).reduce((_,I)=>{const C=O(I);return C&&_.push(new $f(C)),_},[]);return new GI(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rx=(()=>Promise.resolve(0))();function Kv(s){typeof Zone>"u"?rx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ao{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function nN(){let s=tn.requestAnimationFrame,o=tn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iN(s){const o=()=>{!function ix(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Om(s),s.isCheckStableRunning=!0,ZI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Om(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,_,I)=>{try{return km(s),u.invokeTask(h,g,_,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Yv(s)}},onInvoke:(u,c,h,g,_,I,C)=>{try{return km(s),u.invoke(h,g,_,I,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Yv(s)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Om(s),ZI(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new De(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,rN,Pm,Pm);try{return g.runTask(_,u,c)}finally{g.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const rN={};function ZI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Om(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function km(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Yv(s){s._nesting--,ZI(s)}class sN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}const Fm=new pn(""),KI=new pn("");let Qv,sx=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qv||(function oN(s){Qv=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),Kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(or(Ao),or(ox),or(KI))},s.\u0275prov=Me({token:s,factory:s.\u0275fac}),s})(),ox=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Qv?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Kc=null;const ax=new pn("AllowMultipleToken"),YI=new pn("PlatformDestroyListeners");class lN{constructor(o,u){this.name=o,this.token=u}}function lx(s,o,u=[]){const c=`Platform: ${o}`,h=new pn(c);return(g=[])=>{let _=QI();if(!_||_.injector.get(ax,!1)){const I=[...u,...g,{provide:h,useValue:!0}];s?s(I):function cN(s){if(Kc&&!Kc.get(ax,!1))throw new De(400,!1);Kc=s;const o=s.get(dx);(function ux(s){const o=s.get(HI,null);o&&o.forEach(u=>u())})(s)}(function cx(s=[],o){return Rc.create({name:o,providers:[{provide:Qy,useValue:"platform"},{provide:YI,useValue:new Set([()=>Kc=null])},...s]})}(I,c))}return function hN(s){const o=QI();if(!o)throw new De(401,!1);return o}()}}function QI(){return Kc?.get(dx)??null}let dx=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function fx(s,o){let u;return u="noop"===s?new sN:("zone.js"===s?void 0:s)||new Ao(o),u}(c?.ngZone,function hx(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Ao,useValue:h}];return h.run(()=>{const _=Rc.create({providers:g,parent:this.injector,name:u.moduleType.name}),I=u.create(_),C=I.injector.get(pi,null);if(!C)throw new De(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:P=>{C.handleError(P)}});I.onDestroy(()=>{Xv(this._modules,I),A.unsubscribe()})}),function px(s,o,u){try{const c=u();return Qg(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,h,()=>{const A=I.injector.get(Nm);return A.runInitializers(),A.donePromise.then(()=>(function Hb(s){ie(s,"Expected localeId to be defined"),"string"==typeof s&&(iv=s.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Wv,Hc)||Hc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(u,c=[]){const h=gx({},c);return function aN(s,o,u){const c=new _m(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(Jv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(YI,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(or(Rc))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function gx(s,o){return Array.isArray(o)?o.reduce(gx,s):{...s,...o}}let Jv=(()=>{class s{constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new k.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),Kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),A.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof eE;if(!this._injector.get(Nm).done)throw!h&&be(u),new De(405,false);let _;_=h?u:this._injector.get(If).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const I=function uN(s){return s.isBoundToModule}(_)?void 0:this._injector.get(du),A=_.create(Rc.NULL,[],c||_.selector,I),P=A.location.nativeElement,U=A.injector.get(Fm,null);return U?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),Xv(this.components,A),U?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Xv(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(zI,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Xv(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(or(Ao),or(xc),or(pi))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Xv(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let yx=!0,_x=!1;function pN(){return _x=!0,yx}function gN(){if(_x)throw new Error("Cannot enable prod mode after platform setup.");yx=!1}let mN=(()=>{class s{}return s.__NG_ELEMENT_ID__=yN,s})();function yN(s){return function _N(s,o,u){if(ps(s)&&!u){const c=Sr(s.index,o);return new Fr(c,c)}return 47&s.type?new Fr(o[16],o):null}(Wn(),Re(),16==(16&s))}class nC{constructor(){}supports(o){return Hf(o)}create(o){return new ur(o)}}const Cx=(s,o)=>o;class ur{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Cx}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const _=!c||u&&u.currentIndex<rC(c,h,g)?u:c,I=rC(_,h,g),C=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{g||(g=[]);const A=I-h,P=C-h;if(A!=P){for(let Z=0;Z<A;Z++){const te=Z<g.length?g[Z]:g[Z]=0,Te=te+Z;P<=Te&&Te<A&&(g[Z]=te+1)}g[_.previousIndex]=P-A}}I!==C&&o(_,I,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Hf(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],_=this._trackByFn(I,g),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,g,_,I)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,I),c=!0),u=u._next}else h=0,function uA(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ul()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,I=>{_=this._trackByFn(h,I),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,I,_,h)),Object.is(u.item,I)||this._addIdentityChange(u,I)):(u=this._mismatch(u,I,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new Hn(u,c),g,h),o}_verifyReinsertion(o,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Lm),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Hn{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Lm{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new n0,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rC(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class iC{constructor(){}supports(o){return o instanceof Map||Wg(o)}create(){return new Tx}}class Tx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Wg(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const c=new Dx(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class Dx{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new Vm([new nC])}let Vm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||sC()),deps:[[s,new qo,new vs]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new De(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:sC}),s})();function oC(){return new r0([new iC])}let r0=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||oC()),deps:[[s,new qo,new vs]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new De(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:oC}),s})();const xx=lx(null,"core",[]);let s0=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(or(Jv))},s.\u0275mod=_r({type:s}),s.\u0275inj=Tt({}),s})();function uC(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(wt,Oe,V)=>{V.d(Oe,{Z:()=>De});var d=V(2090),j=V(4859),k=V(6881),re=V(1877);class le{constructor(Ee,ye){this._delegate=Ee,this.firebase=ye,(0,k._addComponent)(Ee,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ee,ye=k._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Ee);return!gt.isInitialized()&&"EXPLICIT"===(null===(_t=gt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:ye})}_removeServiceInstance(Ee,ye=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(ye)}_addComponent(Ee){(0,k._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,k._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function we(){const it=function _e(it){const Ee={},ye={__esModule:!0,initializeApp:function xe(Ge,ue={}){const Ke=k.initializeApp(Ge,ue);if((0,d.r3)(Ee,Ke.name))return Ee[Ke.name];const At=new it(Ke,ye);return Ee[Ke.name]=At,At},app:gt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ge){const ue=Ge.name,Ke=ue.replace("-compat","");if(k._registerComponent(Ge)&&"PUBLIC"===Ge.type){const At=(mt=gt())=>{if("function"!=typeof mt[Ke])throw fe.create("invalid-app-argument",{appName:ue});return mt[Ke]()};void 0!==Ge.serviceProps&&(0,d.ZB)(At,Ge.serviceProps),ye[Ke]=At,it.prototype[Ke]=function(...mt){return this._getService.bind(this,ue).apply(this,Ge.multipleInstances?mt:[])}}return"PUBLIC"===Ge.type?ye[Ke]:null},removeApp:function _t(Ge){delete Ee[Ge]},useAsService:function ze(Ge,ue){return"serverAuth"===ue?null:ue},modularAPIs:k}};function gt(Ge){if(!(0,d.r3)(Ee,Ge=Ge||k._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Ge});return Ee[Ge]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ce(){return Object.keys(Ee).map(Ge=>Ee[Ge])}}),gt.App=it,ye}(le);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ee(ye){(0,d.ZB)(it,ye)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),it}(),G=new re.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=q;!function Ne(it){(0,k.registerVersion)("@firebase/app-compat","0.2.13",it)}()},6881:(wt,Oe,V)=>{V.r(Oe),V.d(Oe,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Ji,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>ht,_addOrOverwriteComponent:()=>bt,_apps:()=>Sn,_clearComponents:()=>nr,_components:()=>Gt,_getProvider:()=>Yr,_registerComponent:()=>tn,_removeServiceInstance:()=>yr,deleteApp:()=>Xn,getApp:()=>Vn,getApps:()=>vn,initializeApp:()=>sn,onLog:()=>er,registerVersion:()=>Qr,setLogLevel:()=>Ei});var d=V(5861),j=V(4859),k=V(1877),re=V(2090);let me,fe;const q=new WeakMap,G=new WeakMap,J=new WeakMap,$e=new WeakMap,Ne=new WeakMap;let Ee={get(oe,ne,Le){if(oe instanceof IDBTransaction){if("done"===ne)return G.get(oe);if("objectStoreNames"===ne)return oe.objectStoreNames||J.get(oe);if("store"===ne)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return xe(oe[ne])},set:(oe,ne,Le)=>(oe[ne]=Le,!0),has:(oe,ne)=>oe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in oe};function gt(oe){return"function"==typeof oe?function _t(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ne){return oe.apply(Ce(this),ne),xe(q.get(this))}:function(...ne){return xe(oe.apply(Ce(this),ne))}:function(ne,...Le){const Ve=oe.call(Ce(this),ne,...Le);return J.set(Ve,ne.sort?ne.sort():[ne]),xe(Ve)}}(oe):(oe instanceof IDBTransaction&&function it(oe){if(G.has(oe))return;const ne=new Promise((Le,Ve)=>{const xt=()=>{oe.removeEventListener("complete",$t),oe.removeEventListener("error",fn),oe.removeEventListener("abort",fn)},$t=()=>{Le(),xt()},fn=()=>{Ve(oe.error||new DOMException("AbortError","AbortError")),xt()};oe.addEventListener("complete",$t),oe.addEventListener("error",fn),oe.addEventListener("abort",fn)});G.set(oe,ne)}(oe),((oe,ne)=>ne.some(Le=>oe instanceof Le))(oe,function _e(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ee):oe)}function xe(oe){if(oe instanceof IDBRequest)return function De(oe){const ne=new Promise((Le,Ve)=>{const xt=()=>{oe.removeEventListener("success",$t),oe.removeEventListener("error",fn)},$t=()=>{Le(xe(oe.result)),xt()},fn=()=>{Ve(oe.error),xt()};oe.addEventListener("success",$t),oe.addEventListener("error",fn)});return ne.then(Le=>{Le instanceof IDBCursor&&q.set(Le,oe)}).catch(()=>{}),Ne.set(ne,oe),ne}(oe);if($e.has(oe))return $e.get(oe);const ne=gt(oe);return ne!==oe&&($e.set(oe,ne),Ne.set(ne,oe)),ne}const Ce=oe=>Ne.get(oe),Ge=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ke=new Map;function At(oe,ne){if(!(oe instanceof IDBDatabase)||ne in oe||"string"!=typeof ne)return;if(Ke.get(ne))return Ke.get(ne);const Le=ne.replace(/FromIndex$/,""),Ve=ne!==Le,xt=ue.includes(Le);if(!(Le in(Ve?IDBIndex:IDBObjectStore).prototype)||!xt&&!Ge.includes(Le))return;const $t=function(){var fn=(0,d.Z)(function*(Un,...Qt){const $r=this.transaction(Un,xt?"readwrite":"readonly");let Li=$r.store;return Ve&&(Li=Li.index(Qt.shift())),(yield Promise.all([Li[Le](...Qt),xt&&$r.done]))[0]});return function(Qt){return fn.apply(this,arguments)}}();return Ke.set(ne,$t),$t}!function ye(oe){Ee=oe(Ee)}(oe=>({...oe,get:(ne,Le,Ve)=>At(ne,Le)||oe.get(ne,Le,Ve),has:(ne,Le)=>!!At(ne,Le)||oe.has(ne,Le)}));class mt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function zt(oe){return"VERSION"===oe.getComponent()?.type}(Le)){const Ve=Le.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(Le=>Le).join(" ")}}const dt="@firebase/app",pr=new k.Yd("@firebase/app"),Kr="[DEFAULT]",Pn={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,Gt=new Map;function ht(oe,ne){try{oe.container.addComponent(ne)}catch(Le){pr.debug(`Component ${ne.name} failed to register with FirebaseApp ${oe.name}`,Le)}}function bt(oe,ne){oe.container.addOrOverwriteComponent(ne)}function tn(oe){const ne=oe.name;if(Gt.has(ne))return pr.debug(`There were multiple attempts to register component ${ne}.`),!1;Gt.set(ne,oe);for(const Le of Sn.values())ht(Le,oe);return!0}function Yr(oe,ne){const Le=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),oe.container.getProvider(ne)}function yr(oe,ne,Le=Kr){Yr(oe,ne).clearInstance(Le)}function nr(){Gt.clear()}const Gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(ne,Le,Ve){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Ji="9.23.0";function sn(oe,ne={}){let Le=oe;"object"!=typeof ne&&(ne={name:ne});const Ve=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},ne),xt=Ve.name;if("string"!=typeof xt||!xt)throw Gn.create("bad-app-name",{appName:String(xt)});if(Le||(Le=(0,re.aH)()),!Le)throw Gn.create("no-options");const $t=Sn.get(xt);if($t){if((0,re.vZ)(Le,$t.options)&&(0,re.vZ)(Ve,$t.config))return $t;throw Gn.create("duplicate-app",{appName:xt})}const fn=new j.H0(xt);for(const Qt of Gt.values())fn.addComponent(Qt);const Un=new qt(Le,Ve,fn);return Sn.set(xt,Un),Un}function Vn(oe=Kr){const ne=Sn.get(oe);if(!ne&&oe===Kr&&(0,re.aH)())return sn();if(!ne)throw Gn.create("no-app",{appName:oe});return ne}function vn(){return Array.from(Sn.values())}function Xn(oe){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(oe){const ne=oe.name;Sn.has(ne)&&(Sn.delete(ne),yield Promise.all(oe.container.getProviders().map(Le=>Le.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function Qr(oe,ne,Le){var Ve;let xt=null!==(Ve=Pn[oe])&&void 0!==Ve?Ve:oe;Le&&(xt+=`-${Le}`);const $t=xt.match(/\s|\//),fn=ne.match(/\s|\//);if($t||fn){const Un=[`Unable to register library "${xt}" with version "${ne}":`];return $t&&Un.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),$t&&fn&&Un.push("and"),fn&&Un.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void pr.warn(Un.join(" "))}tn(new j.wA(`${xt}-version`,()=>({library:xt,version:ne}),"VERSION"))}function er(oe,ne){if(null!==oe&&"function"!=typeof oe)throw Gn.create("invalid-log-argument");(0,k.Am)(oe,ne)}function Ei(oe){(0,k.Ub)(oe)}const z="firebase-heartbeat-store";let $=null;function F(){return $||($=function Se(oe,ne,{blocked:Le,upgrade:Ve,blocking:xt,terminated:$t}={}){const fn=indexedDB.open(oe,ne),Un=xe(fn);return Ve&&fn.addEventListener("upgradeneeded",Qt=>{Ve(xe(fn.result),Qt.oldVersion,Qt.newVersion,xe(fn.transaction),Qt)}),Le&&fn.addEventListener("blocked",Qt=>Le(Qt.oldVersion,Qt.newVersion,Qt)),Un.then(Qt=>{$t&&Qt.addEventListener("close",()=>$t()),xt&&Qt.addEventListener("versionchange",$r=>xt($r.oldVersion,$r.newVersion,$r))}).catch(()=>{}),Un}("firebase-heartbeat-database",1,{upgrade:(oe,ne)=>{0===ne&&oe.createObjectStore(z)}}).catch(oe=>{throw Gn.create("idb-open",{originalErrorMessage:oe.message})})),$}function R(){return(R=(0,d.Z)(function*(oe){try{return yield(yield F()).transaction(z).objectStore(z).get(Ze(oe))}catch(ne){if(ne instanceof re.ZR)pr.warn(ne.message);else{const Le=Gn.create("idb-get",{originalErrorMessage:ne?.message});pr.warn(Le.message)}}})).apply(this,arguments)}function Y(oe,ne){return be.apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(oe,ne){try{const Ve=(yield F()).transaction(z,"readwrite");yield Ve.objectStore(z).put(ne,Ze(oe)),yield Ve.done}catch(Le){if(Le instanceof re.ZR)pr.warn(Le.message);else{const Ve=Gn.create("idb-set",{originalErrorMessage:Le?.message});pr.warn(Ve.message)}}})).apply(this,arguments)}function Ze(oe){return`${oe.name}!${oe.options.appId}`}class tt{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new kt(Le),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var ne=this;return(0,d.Z)(function*(){const Ve=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=ut();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==xt&&!ne._heartbeatsCache.heartbeats.some($t=>$t.date===xt))return ne._heartbeatsCache.heartbeats.push({date:xt,agent:Ve}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter($t=>{const fn=new Date($t.date).valueOf();return Date.now()-fn<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,d.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Le=ut(),{heartbeatsToSend:Ve,unsentEntries:xt}=function Yt(oe,ne=1024){const Le=[];let Ve=oe.slice();for(const xt of oe){const $t=Le.find(fn=>fn.agent===xt.agent);if($t){if($t.dates.push(xt.date),on(Le)>ne){$t.dates.pop();break}}else if(Le.push({agent:xt.agent,dates:[xt.date]}),on(Le)>ne){Le.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ve}}(ne._heartbeatsCache.heartbeats),$t=(0,re.L)(JSON.stringify({version:2,heartbeats:Ve}));return ne._heartbeatsCache.lastSentHeartbeatDate=Le,xt.length>0?(ne._heartbeatsCache.heartbeats=xt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),$t})()}}function ut(){return(new Date).toISOString().substring(0,10)}class kt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,d.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function O(oe){return R.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Le=this;return(0,d.Z)(function*(){var Ve;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return Y(Le.app,{lastSentHeartbeatDate:null!==(Ve=ne.lastSentHeartbeatDate)&&void 0!==Ve?Ve:$t.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Le=this;return(0,d.Z)(function*(){var Ve;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return Y(Le.app,{lastSentHeartbeatDate:null!==(Ve=ne.lastSentHeartbeatDate)&&void 0!==Ve?Ve:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...ne.heartbeats]})}})()}}function on(oe){return(0,re.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function jr(oe){tn(new j.wA("platform-logger",ne=>new mt(ne),"PRIVATE")),tn(new j.wA("heartbeat",ne=>new tt(ne),"PRIVATE")),Qr(dt,"0.9.13",oe),Qr(dt,"0.9.13","esm2017"),Qr("fire-js","")}("")},4859:(wt,Oe,V)=>{V.d(Oe,{H0:()=>_e,wA:()=>k});var d=V(5861),j=V(2090);class k{constructor(q,G,J){this.name=q,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class le{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const J=new j.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:G});$e&&J.resolve($e)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const J=this.normalizeInstanceIdentifier(q?.identifier),$e=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ne){if($e)return null;throw Ne}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function fe(we){return"EAGER"===we.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(G);try{const Ne=this.getOrInitializeService({instanceIdentifier:$e});J.resolve(Ne)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,d.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,J=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Ne,De]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ne)&&De.resolve($e);return $e}onInit(q,G){var J;const $e=this.normalizeInstanceIdentifier(G),Ne=null!==(J=this.onInitCallbacks.get($e))&&void 0!==J?J:new Set;Ne.add(q),this.onInitCallbacks.set($e,Ne);const De=this.instances.get($e);return De&&q(De,$e),()=>{Ne.delete(q)}}invokeOnInitCallbacks(q,G){const J=this.onInitCallbacks.get(G);if(J)for(const $e of J)try{$e(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let J=this.instances.get(q);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(we=q,we===re?void 0:we),options:G}),this.instances.set(q,J),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(J,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,J)}catch{}var we;return J||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new le(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Oe,V)=>{V.d(Oe,{Am:()=>we,Ub:()=>_e,Yd:()=>fe,in:()=>j});const d=[];var j=(()=>{return(q=j||(j={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",j;var q})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},re=j.INFO,le={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},me=(q,G,...J)=>{if(G<q.logLevel)return;const $e=(new Date).toISOString(),Ne=le[G];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ne](`[${$e}]  ${q.name}:`,...J)};class fe{constructor(G){this.name=G,this._logLevel=re,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function _e(q){d.forEach(G=>{G.setLogLevel(q)})}function we(q,G){for(const J of d){let $e=null;G&&G.level&&($e=k[G.level]),J.userLogHandler=null===q?null:(Ne,De,...it)=>{const Ee=it.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");De>=($e??Ne.logLevel)&&q({level:j[De].toLowerCase(),message:Ee,args:it,type:Ne.name})}}}},259:(wt,Oe,V)=>{V.d(Oe,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=V(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(wt,Oe,V)=>{V.d(Oe,{Z:()=>d.Z});var d=V(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(wt,Oe,V)=>{V.r(Oe);var d=V(5861),j=V(3942),k=V(1389),re=V(2090),fe=(V(6881),V(1877),V(4859));function _e(){return window}function G(){return(G=(0,d.Z)(function*(F,O,R){var Y;const{BuildInfo:be}=_e();(0,k.as)(O.sessionId,"AuthEvent did not contain a session ID");const Ze=yield ye(O.sessionId),yt={};return(0,k.at)()?yt.ibi=be.packageName:(0,k.au)()?yt.apn=be.packageName:(0,k.av)(F,"operation-not-supported-in-this-environment"),be.displayName&&(yt.appDisplayName=be.displayName),yt.sessionId=Ze,(0,k.aw)(F,R,O.type,void 0,null!==(Y=O.eventId)&&void 0!==Y?Y:void 0,yt)})).apply(this,arguments)}function $e(){return($e=(0,d.Z)(function*(F){const{BuildInfo:O}=_e(),R={};(0,k.at)()?R.iosBundleId=O.packageName:(0,k.au)()?R.androidPackageName=O.packageName:(0,k.av)(F,"operation-not-supported-in-this-environment"),yield(0,k.ax)(F,R)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(F,O,R){const{cordova:Y}=_e();let be=()=>{};try{yield new Promise((Ze,yt)=>{let Ie=null;function tt(){var kt;Ze();const on=null===(kt=Y.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof on&&on(),"function"==typeof R?.close&&R.close()}function ut(){Ie||(Ie=window.setTimeout(()=>{yt((0,k.az)(F,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===document?.visibilityState&&ut()}O.addPassiveListener(tt),document.addEventListener("resume",ut,!1),(0,k.au)()&&document.addEventListener("visibilitychange",Yt,!1),be=()=>{O.removePassiveListener(tt),document.removeEventListener("resume",ut,!1),document.removeEventListener("visibilitychange",Yt,!1),Ie&&window.clearTimeout(Ie)}})}finally{be()}})).apply(this,arguments)}function ye(F){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(F){const O=gt(F),R=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(R)).map(be=>be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(F){if((0,k.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const O=new ArrayBuffer(F.length),R=new Uint8Array(O);for(let Y=0;Y<F.length;Y++)R[Y]=F.charCodeAt(Y);return R}class Ce extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(O)),super.onEvent(O)}initialized(){var O=this;return(0,d.Z)(function*(){yield O.initPromise})()}}function Ge(F){return ue.apply(this,arguments)}function ue(){return(ue=(0,d.Z)(function*(F){const O=yield mt()._get(zt(F));return O&&(yield mt()._remove(zt(F))),O})).apply(this,arguments)}function At(){const F=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<20;R++){const Y=Math.floor(Math.random()*O.length);F.push(O.charAt(Y))}return F.join("")}function mt(){return(0,k.aC)(k.b)}function zt(F){return(0,k.aD)("authEvent",F.config.apiKey,F.name)}function pr(F){if(!F?.includes("?"))return{};const[O,...R]=F.split("?");return(0,re.zd)(R.join("?"))}function ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function lt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Xt(F=(0,re.z$)()){return!("file:"!==lt()&&"ionic:"!==lt()&&"capacitor:"!==lt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const F=self.localStorage,O=k.aL();if(F)return F.setItem(O,"1"),F.removeItem(O),!function hn(F=(0,re.z$)()){return function rn(){return(0,re.w1)()&&11===document?.documentMode}()||function Mn(F=(0,re.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,re.hl)()}catch{return An()&&(0,re.hl)()}return!1}function An(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function Tt(){return"http:"===lt()||"https:"===lt()}()||(0,re.ru)()||Xt())&&!function Rt(){return(0,re.b$)()||(0,re.UG)()}()&&Qn()&&!An()}function gr(){return Xt()&&typeof document<"u"}function ct(){return(ct=(0,d.Z)(function*(){return!!gr()&&new Promise(F=>{const O=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),F(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=k.aA,Fi="persistence";function Pn(F){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(F){yield F._initializationPromise;const O=ht(),R=k.aD(Fi,F.config.apiKey,F.name);O&&O.setItem(R,F._getPersistence())})).apply(this,arguments)}function ht(){var F;try{return(null===(F=function mr(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const bt=k.aA;class tn{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(class Qi{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var R=this;return(0,d.Z)(function*(){const Y=O._key();let be=R.eventManagers.get(Y);return be||(be=new Ce(O),R.eventManagers.set(Y,be),R.attachCallbackListeners(O,be)),be})()}_openPopup(O){(0,k.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,R,Y,be){var Ze=this;return(0,d.Z)(function*(){!function Ee(F){var O,R,Y,be,Ze,yt,Ie,tt,ut,Yt;const kt=_e();(0,k.aA)("function"==typeof(null===(O=kt?.universalLinks)||void 0===O?void 0:O.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(R=kt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(Ze=null===(be=null===(Y=kt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===be?void 0:be.browsertab)||void 0===Ze?void 0:Ze.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(tt=null===(Ie=null===(yt=kt?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===tt?void 0:tt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(Yt=null===(ut=kt?.cordova)||void 0===ut?void 0:ut.InAppBrowser)||void 0===Yt?void 0:Yt.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const yt=yield Ze._initialize(O);yield yt.initialized(),yt.resetRedirect(),(0,k.aG)(),yield Ze._originValidation(O);const Ie=function Se(F,O,R=null){return{type:O,eventId:R,urlResponse:null,sessionId:At(),postBody:null,tenantId:F.tenantId,error:(0,k.az)(F,"no-auth-event")}}(O,Y,be);yield function ze(F,O){return mt()._set(zt(F),O)}(O,Ie);const tt=yield function q(F,O,R){return G.apply(this,arguments)}(O,Ie,R),ut=yield function Ne(F){const{cordova:O}=_e();return new Promise(R=>{O.plugins.browsertab.isAvailable(Y=>{let be=null;Y?O.plugins.browsertab.openUrl(F):be=O.InAppBrowser.open(F,(0,k.ay)()?"_blank":"_system","location=yes"),R(be)})})}(tt);return function De(F,O,R){return it.apply(this,arguments)}(O,yt,ut)})()}_isIframeWebStorageSupported(O,R){throw new Error("Method not implemented.")}_originValidation(O){const R=O._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function J(F){return $e.apply(this,arguments)}(O)),this.originValidationPromises[R]}attachCallbackListeners(O,R){const{universalLinks:Y,handleOpenURL:be,BuildInfo:Ze}=_e(),yt=setTimeout((0,d.Z)(function*(){yield Ge(O),R.onEvent(ee())}),500),Ie=function(){var Yt=(0,d.Z)(function*(kt){clearTimeout(yt);const on=yield Ge(O);let jr=null;on&&kt?.url&&(jr=function Ke(F,O){var R,Y;const be=function Yi(F){const O=pr(F),R=O.link?decodeURIComponent(O.link):void 0,Y=pr(R).link,be=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return pr(be).link||be||Y||R||F}(O);if(be.includes("/__/auth/callback")){const Ze=pr(be),yt=Ze.firebaseError?function dt(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Ze.firebaseError)):null,Ie=null===(Y=null===(R=yt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===Y?void 0:Y[1],tt=Ie?(0,k.az)(Ie):null;return tt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:be,postBody:null}}return null}(on,kt.url)),R.onEvent(jr||ee())});return function(on){return Yt.apply(this,arguments)}}();typeof Y<"u"&&"function"==typeof Y.subscribe&&Y.subscribe(null,Ie);const tt=be,ut=`${Ze.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var Yt=(0,d.Z)(function*(kt){if(kt.toLowerCase().startsWith(ut)&&Ie({url:kt}),"function"==typeof tt)try{tt(kt)}catch(on){console.error(on)}});return function(kt){return Yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,R,Y,be){var Ze=this;return(0,d.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openPopup(O,R,Y,be)})()}_openRedirect(O,R,Y,be){var Ze=this;return(0,d.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openRedirect(O,R,Y,be)})()}_isIframeWebStorageSupported(O,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,R)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return gr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,d.Z)(function*(){if(O.underlyingResolver)return;const R=yield function wi(){return ct.apply(this,arguments)}();O.underlyingResolver=R?O.cordovaResolver:O.browserResolver})()}}function Yr(F){return F.unwrap()}function nr(F){return Gn(F)}function Gn(F){const{_tokenResponse:O}=F instanceof re.ZR?F.customData:F;if(!O)return null;if(!(F instanceof re.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(F);const R=O.providerId;if(!R||R===k.p.PASSWORD)return null;let Y;switch(R){case k.p.GOOGLE:Y=k.V;break;case k.p.FACEBOOK:Y=k.U;break;case k.p.GITHUB:Y=k.W;break;case k.p.TWITTER:Y=k.Z;break;default:const{oauthIdToken:be,oauthAccessToken:Ze,oauthTokenSecret:yt,pendingToken:Ie,nonce:tt}=O;return Ze||yt||be||Ie?Ie?R.startsWith("saml.")?k.aO._create(R,Ie):k.L._fromParams({providerId:R,signInMethod:R,pendingToken:Ie,idToken:be,accessToken:Ze}):new k.X(R).credential({idToken:be,accessToken:Ze,rawNonce:tt}):null}return F instanceof re.ZR?Y.credentialFromError(F):Y.credentialFromResult(F)}function qt(F,O){return O.catch(R=>{throw R instanceof re.ZR&&function St(F,O){var R;const Y=null===(R=O.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new Vn(F,k.aq(F,O));else if(Y){const be=Gn(O),Ze=O;be&&(Ze.credential=be,Ze.tenantId=Y.tenantId||void 0,Ze.email=Y.email||void 0,Ze.phoneNumber=Y.phoneNumber||void 0)}}(F,R),R}).then(R=>{const be=R.user;return{operationType:R.operationType,credential:nr(R),additionalUserInfo:k.ao(R),user:vn.getOrCreate(be)}})}function Ji(F,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(F,O){const R=yield O;return{verificationId:R.verificationId,confirm:Y=>qt(F,R.confirm(Y))}})).apply(this,arguments)}class Vn{constructor(O,R){this.resolver=R,this.auth=function yr(F){return F.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return qt(Yr(this.auth),this.resolver.resolveSignIn(O))}}class vn{constructor(O){this._delegate=O,this.multiFactor=k.ar(O)}static getOrCreate(O){return vn.USER_MAP.has(O)||vn.USER_MAP.set(O,new vn(O)),vn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var R=this;return(0,d.Z)(function*(){return qt(R.auth,k.a0(R._delegate,O))})()}linkWithPhoneNumber(O,R){var Y=this;return(0,d.Z)(function*(){return Ji(Y.auth,k.l(Y._delegate,O,R))})()}linkWithPopup(O){var R=this;return(0,d.Z)(function*(){return qt(R.auth,k.d(R._delegate,O,tn))})()}linkWithRedirect(O){var R=this;return(0,d.Z)(function*(){return yield Pn(k.aH(R.auth)),k.g(R._delegate,O,tn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var R=this;return(0,d.Z)(function*(){return qt(R.auth,k.a1(R._delegate,O))})()}reauthenticateWithPhoneNumber(O,R){return Ji(this.auth,k.r(this._delegate,O,R))}reauthenticateWithPopup(O){return qt(this.auth,k.e(this._delegate,O,tn))}reauthenticateWithRedirect(O){var R=this;return(0,d.Z)(function*(){return yield Pn(k.aH(R.auth)),k.h(R._delegate,O,tn)})()}sendEmailVerification(O){return k.ae(this._delegate,O)}unlink(O){var R=this;return(0,d.Z)(function*(){return yield k.an(R._delegate,O),R})()}updateEmail(O){return k.aj(this._delegate,O)}updatePassword(O){return k.ak(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,R){return k.af(this._delegate,O,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vn.USER_MAP=new WeakMap;const Xn=k.aA;let Rn=(()=>{class F{constructor(R,Y){if(this.app=R,Y.isInitialized())return this._delegate=Y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:be}=R.options;Xn(be,"invalid-api-key",{appName:R.name}),Xn(be,"invalid-api-key",{appName:R.name});const Ze=typeof window<"u"?tn:void 0;this._delegate=Y.initialize({options:{persistence:er(be,R.name),popupRedirectResolver:Ze}}),this._delegate._updateErrorMap(k.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,Y){k.I(this._delegate,R,Y)}applyActionCode(R){return k.a5(this._delegate,R)}checkActionCode(R){return k.a6(this._delegate,R)}confirmPasswordReset(R,Y){return k.a4(this._delegate,R,Y)}createUserWithEmailAndPassword(R,Y){var be=this;return(0,d.Z)(function*(){return qt(be._delegate,k.a8(be._delegate,R,Y))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return k.ad(this._delegate,R)}isSignInWithEmailLink(R){return k.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,d.Z)(function*(){Xn(Ln(),R._delegate,"operation-not-supported-in-this-environment");const Y=yield k.j(R._delegate,tn);return Y?qt(R._delegate,Promise.resolve(Y)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Ae(F,O){(0,k.aH)(F)._logFramework(O)}(this._delegate,R)}onAuthStateChanged(R,Y,be){const{next:Ze,error:yt,complete:Ie}=Qr(R,Y,be);return this._delegate.onAuthStateChanged(Ze,yt,Ie)}onIdTokenChanged(R,Y,be){const{next:Ze,error:yt,complete:Ie}=Qr(R,Y,be);return this._delegate.onIdTokenChanged(Ze,yt,Ie)}sendSignInLinkToEmail(R,Y){return k.aa(this._delegate,R,Y)}sendPasswordResetEmail(R,Y){return k.a3(this._delegate,R,Y||void 0)}setPersistence(R){var Y=this;return(0,d.Z)(function*(){let be;switch(function Kr(F,O){zn(Object.values(Jn).includes(O),F,"invalid-persistence-type"),(0,re.b$)()?zn(O!==Jn.SESSION,F,"unsupported-persistence-type"):(0,re.UG)()?zn(O===Jn.NONE,F,"unsupported-persistence-type"):An()?zn(O===Jn.NONE||O===Jn.LOCAL&&(0,re.hl)(),F,"unsupported-persistence-type"):zn(O===Jn.NONE||Qn(),F,"unsupported-persistence-type")}(Y._delegate,R),R){case Jn.SESSION:be=k.a;break;case Jn.LOCAL:be=(yield k.aC(k.i)._isAvailable())?k.i:k.b;break;case Jn.NONE:be=k.N;break;default:return k.av("argument-error",{appName:Y._delegate.name})}return Y._delegate.setPersistence(be)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return qt(this._delegate,k._(this._delegate))}signInWithCredential(R){return qt(this._delegate,k.$(this._delegate,R))}signInWithCustomToken(R){return qt(this._delegate,k.a2(this._delegate,R))}signInWithEmailAndPassword(R,Y){return qt(this._delegate,k.a9(this._delegate,R,Y))}signInWithEmailLink(R,Y){return qt(this._delegate,k.ac(this._delegate,R,Y))}signInWithPhoneNumber(R,Y){return Ji(this._delegate,k.s(this._delegate,R,Y))}signInWithPopup(R){var Y=this;return(0,d.Z)(function*(){return Xn(Ln(),Y._delegate,"operation-not-supported-in-this-environment"),qt(Y._delegate,k.c(Y._delegate,R,tn))})()}signInWithRedirect(R){var Y=this;return(0,d.Z)(function*(){return Xn(Ln(),Y._delegate,"operation-not-supported-in-this-environment"),yield Pn(Y._delegate),k.f(Y._delegate,R,tn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return k.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Jn,F})();function Qr(F,O,R){let Y=F;"function"!=typeof F&&({next:Y,error:O,complete:R}=F);const be=Y;return{next:yt=>be(yt&&vn.getOrCreate(yt)),error:O,complete:R}}function er(F,O){const R=function Gt(F,O){const R=ht();if(!R)return[];const Y=k.aD(Fi,F,O);switch(R.getItem(Y)){case Jn.NONE:return[k.N];case Jn.LOCAL:return[k.i,k.a];case Jn.SESSION:return[k.a];default:return[]}}(F,O);if(typeof self<"u"&&!R.includes(k.i)&&R.push(k.i),typeof window<"u")for(const Y of[k.b,k.a])R.includes(Y)||R.push(Y);return R.includes(k.N)||R.push(k.N),R}class Ei{constructor(){this.providerId="phone",this._delegate=new k.P(Yr(j.Z.auth()))}static credential(O,R){return k.P.credential(O,R)}verifyPhoneNumber(O,R){return this._delegate.verifyPhoneNumber(O,R)}unwrap(){return this._delegate}}Ei.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Ei.PROVIDER_ID=k.P.PROVIDER_ID;const _r=k.aA;class Br{constructor(O,R,Y=j.Z.app()){var be;_r(null===(be=Y.options)||void 0===be?void 0:be.apiKey,"invalid-api-key",{appName:Y.name}),this._delegate=new k.R(O,R,Y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(F){F.INTERNAL.registerComponent(new fe.wA("auth-compat",O=>{const R=O.getProvider("app-compat").getImmediate(),Y=O.getProvider("auth");return new Rn(R,Y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.Q,FacebookAuthProvider:k.U,GithubAuthProvider:k.W,GoogleAuthProvider:k.V,OAuthProvider:k.X,SAMLAuthProvider:k.Y,PhoneAuthProvider:Ei,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Br,TwitterAuthProvider:k.Z,Auth:Rn,AuthCredential:k.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(wt,Oe,V)=>{function d(k,re,le,me,fe,_e,we){try{var q=k[_e](we),G=q.value}catch(J){return void le(J)}q.done?re(G):Promise.resolve(G).then(me,fe)}function j(k){return function(){var re=this,le=arguments;return new Promise(function(me,fe){var _e=k.apply(re,le);function we(G){d(_e,me,fe,we,q,"next",G)}function q(G){d(_e,me,fe,we,q,"throw",G)}we(void 0)})}}V.d(Oe,{Z:()=>j})},7582:(wt,Oe,V)=>{function re(ie,ee){var Ae={};for(var he in ie)Object.prototype.hasOwnProperty.call(ie,he)&&ee.indexOf(he)<0&&(Ae[he]=ie[he]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(he=Object.getOwnPropertySymbols(ie);Pe<he.length;Pe++)ee.indexOf(he[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,he[Pe])&&(Ae[he[Pe]]=ie[he[Pe]])}return Ae}function J(ie,ee,Ae,he){return new(Ae||(Ae=Promise))(function(Me,lt){function Tt(rn){try{Rt(he.next(rn))}catch(Mn){lt(Mn)}}function Xt(rn){try{Rt(he.throw(rn))}catch(Mn){lt(Mn)}}function Rt(rn){rn.done?Me(rn.value):function Pe(Me){return Me instanceof Ae?Me:new Ae(function(lt){lt(Me)})}(rn.value).then(Tt,Xt)}Rt((he=he.apply(ie,ee||[])).next())})}function xe(ie){return this instanceof xe?(this.v=ie,this):new xe(ie)}function Ce(ie,ee,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,he=Ae.apply(ie,ee||[]),Me=[];return Pe={},lt("next"),lt("throw"),lt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function lt(hn){he[hn]&&(Pe[hn]=function(Qn){return new Promise(function(An,Ln){Me.push([hn,Qn,An,Ln])>1||Tt(hn,Qn)})})}function Tt(hn,Qn){try{!function Xt(hn){hn.value instanceof xe?Promise.resolve(hn.value.v).then(Rt,rn):Mn(Me[0][2],hn)}(he[hn](Qn))}catch(An){Mn(Me[0][3],An)}}function Rt(hn){Tt("next",hn)}function rn(hn){Tt("throw",hn)}function Mn(hn,Qn){hn(Qn),Me.shift(),Me.length&&Tt(Me[0][0],Me[0][1])}}function ze(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ee=ie[Symbol.asyncIterator];return ee?ee.call(ie):(ie=function it(ie){var ee="function"==typeof Symbol&&Symbol.iterator,Ae=ee&&ie[ee],he=0;if(Ae)return Ae.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&he>=ie.length&&(ie=void 0),{value:ie&&ie[he++],done:!ie}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),Ae={},he("next"),he("throw"),he("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function he(Me){Ae[Me]=ie[Me]&&function(lt){return new Promise(function(Tt,Xt){!function Pe(Me,lt,Tt,Xt){Promise.resolve(Xt).then(function(Rt){Me({value:Rt,done:Tt})},lt)}(Tt,Xt,(lt=ie[Me](lt)).done,lt.value)})}}}V.d(Oe,{FC:()=>Ce,KL:()=>ze,_T:()=>re,mG:()=>J,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=5519)}]);