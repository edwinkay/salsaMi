"use strict";(self.webpackChunkasi_somos_asi_bailamos=self.webpackChunkasi_somos_asi_bailamos||[]).push([[179],{2011:(wt,Oe,V)=>{V.d(Oe,{Dh:()=>ve,GT:()=>_e,cc:()=>Pe,hO:()=>Ge,on:()=>z,pX:()=>de,xv:()=>De});var i=V(4650),B=V(9260),R=V(4976);wt=V.hmd(wt);const oe=["ngOnDestroy"],de=(ye,yt,pt,Ae={})=>new Proxy(ye,{get:(be,Se)=>pt.runOutsideAngular(()=>{var $e;if(ye[Se])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(Se,ye[Se]),ye[Se];if(oe.indexOf(Se)>-1)return()=>{};const ze=yt.toPromise().then(le=>{const Ye=le&&le[Se];return"function"==typeof Ye?Ye.bind(le):Ye&&Ye.then?Ye.then(At=>pt.run(()=>At)):pt.run(()=>Ye)});return new Proxy(()=>{},{get:(le,Ye)=>ze[Ye],apply:(le,Ye,At)=>ze.then(gt=>{var qt;const lt=gt&&gt(...At);return!(null===(qt=Ae?.spy)||void 0===qt)&&qt.apply&&Ae.spy.apply(Se,At,lt),lt})})})}),_e=(ye,yt)=>{yt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ae=>{Object.defineProperty(ye.prototype,Ae,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ae))})})};class pe{constructor(yt){return yt}}const ve=new i.OlP("angularfire2.app.options"),De=new i.OlP("angularfire2.app.name");function z(ye,yt,pt){const be="object"==typeof pt&&pt||{};be.name=be.name||"string"==typeof pt&&pt||"[DEFAULT]";const $e=B.Z.apps.filter(ze=>ze&&ze.name===be.name)[0]||yt.runOutsideAngular(()=>B.Z.initializeApp(ye,be));try{JSON.stringify(ye)!==JSON.stringify($e.options)&&$("error",`${$e.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe($e)}const $=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)},Q={provide:pe,useFactory:z,deps:[ve,i.R0b,[new i.FiY,De]]};let Ge=(()=>{class ye{constructor(pt){B.Z.registerVersion("angularfire",R.q4.full,"core"),B.Z.registerVersion("angularfire",R.q4.full,"app-compat"),B.Z.registerVersion("angular",i.q4F.full,pt.toString())}static initializeApp(pt,Ae){return{ngModule:ye,providers:[{provide:ve,useValue:pt},{provide:De,useValue:Ae}]}}}return ye.\u0275fac=function(pt){return new(pt||ye)(i.LFG(i.Lbi))},ye.\u0275mod=i.oAB({type:ye}),ye.\u0275inj=i.cJS({providers:[Q]}),ye})();function Pe(ye,yt,pt,Ae,be){const[,Se,$e]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ye)||[];if(Se)return function xe(ye,yt){try{return ye.toString()===yt.toString()}catch{return ye===yt}}(be,$e)||(Ce("error",`${yt} was already initialized on the ${pt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:be,was:$e})),Se;{const ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ye,ze,be]),ze}}const rt=!!wt.hot,Ce=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Oe,V)=>{V.d(Oe,{q4:()=>oc,iC:()=>$i,fc:()=>Cf,HU:()=>su,vb:()=>Wd,JM:()=>aa,u3:()=>ca});var i=V(4650),B=V(259),R=V(5861),oe=V(6881),de=V(2090),_e=V(4859),pe=V(1877);let De,z;const Ge=new WeakMap,Pe=new WeakMap,xe=new WeakMap,rt=new WeakMap,Ce=new WeakMap;let pt={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Pe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xe.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return $e(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Se(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(ze(this),T),$e(Ge.get(this))}:function(...T){return $e(C.apply(ze(this),T))}:function(T,...S){const U=C.call(ze(this),T,...S);return xe.set(U,T.sort?T.sort():[T]),$e(U)}}(C):(C instanceof IDBTransaction&&function yt(C){if(Pe.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",ee),C.removeEventListener("error",me),C.removeEventListener("abort",me)},ee=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",ee),C.addEventListener("error",me),C.addEventListener("abort",me)});Pe.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function $(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,pt):C)}function $e(C){if(C instanceof IDBRequest)return function ye(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",ee),C.removeEventListener("error",me)},ee=()=>{S($e(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",ee),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&Ge.set(S,C)}).catch(()=>{}),Ce.set(T,C),T}(C);if(rt.has(C))return rt.get(C);const T=Se(C);return T!==C&&(rt.set(C,T),Ce.set(T,C)),T}const ze=C=>Ce.get(C),At=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],qt=new Map;function lt(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(qt.get(T))return qt.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=gt.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!At.includes(S))return;const ee=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Vt=et.store;return U&&(Vt=Vt.index(Ke.shift())),(yield Promise.all([Vt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return qt.set(T,ee),ee}!function Ae(C){pt=C(pt)}(C=>({...C,get:(T,S,U)=>lt(T,S)||C.get(T,S,U),has:(T,S)=>!!lt(T,S)||C.has(T,S)}));const oo="@firebase/installations",so="w:0.6.4",ae="FIS_v2",ct=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function kt(C){return{token:C.token,requestStatus:2,expiresIn:mi(C.expiresIn),creationTime:Date.now()}}function on(C,T){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(C,T){const U=(yield T.json()).error;return ct.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function gn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Qn(C,{refreshToken:T}){const S=gn(C);return S.append("Authorization",function Tr(C){return`${ae} ${C}`}(T)),S}function Sn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function mi(C){return Number(C.replace("s","000"))}function ut(C,T){return _i.apply(this,arguments)}function _i(){return(_i=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:S}){const U=tn(C),K=gn(C),ee=T.getImmediate({optional:!0});if(ee){const et=yield ee.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:ae,appId:C.appId,sdkVersion:so})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok){const et=yield Ke.json();return{fid:et.fid||S,registrationStatus:2,refreshToken:et.refreshToken,authToken:kt(et.authToken)}}throw yield on("Create Installation",Ke)})).apply(this,arguments)}function Xn(C){return new Promise(T=>{setTimeout(T,C)})}const Br=/^[cdef][\w-]{21}$/;function On(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Mn(C){return function $n(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Br.test(S)?S:""}catch{return""}}function $t(C){return`${C.appName}!${C.appId}`}const dt=new Map;function bt(C,T){const S=$t(C);yi(S,T),function ri(C,T){const S=function zn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=C=>{yi(C.data.key,C.data.fid)}),St}();S&&S.postMessage({key:C,fid:T}),function zt(){0===dt.size&&St&&(St.close(),St=null)}()}(S,T)}function yi(C,T){const S=dt.get(C);if(S)for(const U of S)U(T)}let St=null;const jn="firebase-installations-store";let En=null;function ei(){return En||(En=function le(C,T,{blocked:S,upgrade:U,blocking:K,terminated:ee}={}){const me=indexedDB.open(C,T),Qe=$e(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U($e(me.result),Ke.oldVersion,Ke.newVersion,$e(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(jn)}})),En}function Pn(C,T){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield ei()).transaction(jn,"readwrite"),ee=K.objectStore(jn),me=yield ee.get(S);return yield ee.put(T,S),yield K.done,(!me||me.fid!==T.fid)&&bt(C,T.fid),T})).apply(this,arguments)}function ti(C){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(C){const T=$t(C),U=(yield ei()).transaction(jn,"readwrite");yield U.objectStore(jn).delete(T),yield U.done})).apply(this,arguments)}function vi(C,T){return ji.apply(this,arguments)}function ji(){return(ji=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield ei()).transaction(jn,"readwrite"),ee=K.objectStore(jn),me=yield ee.get(S),Qe=T(me);return void 0===Qe?yield ee.delete(S):yield ee.put(Qe,S),yield K.done,Qe&&(!me||me.fid!==Qe.fid)&&bt(C,Qe.fid),Qe})).apply(this,arguments)}function G(C){return H.apply(this,arguments)}function H(){return(H=(0,R.Z)(function*(C){let T;const S=yield vi(C.appConfig,U=>{const K=L(U),ee=O(C,K);return T=ee.registrationPromise,ee.installationEntry});return""===S.fid?{installationEntry:yield T}:{installationEntry:S,registrationPromise:T}})).apply(this,arguments)}function L(C){return Ee(C||{fid:On(),registrationStatus:0})}function O(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ct.create("app-offline"))};const S={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(C,T){return W.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:we(C)}:{installationEntry:T}}function W(){return(W=(0,R.Z)(function*(C,T){try{const S=yield ut(C,T);return Pn(C.appConfig,S)}catch(S){throw xt(S)&&409===S.customData.serverCode?yield ti(C.appConfig):yield Pn(C.appConfig,{fid:T.fid,registrationStatus:0}),S}})).apply(this,arguments)}function we(C){return We.apply(this,arguments)}function We(){return(We=(0,R.Z)(function*(C){let T=yield mt(C.appConfig);for(;1===T.registrationStatus;)yield Xn(100),T=yield mt(C.appConfig);if(0===T.registrationStatus){const{installationEntry:S,registrationPromise:U}=yield G(C);return U||S}return T})).apply(this,arguments)}function mt(C){return vi(C,T=>{if(!T)throw ct.create("installation-not-found");return Ee(T)})}function Ee(C){return function tt(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function at(C,T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},S){const U=Ut(C,S),K=Qn(C,S),ee=T.getImmediate({optional:!0});if(ee){const et=yield ee.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:so,appId:C.appId}})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok)return kt(yield Ke.json());throw yield on("Generate Auth Token",Ke)})).apply(this,arguments)}function Ut(C,{fid:T}){return`${tn(C)}/${T}/authTokens:generate`}function an(C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,R.Z)(function*(C,T=!1){let S;const U=yield vi(C.appConfig,ee=>{if(!Bt(ee))throw ct.create("not-registered");const me=ee.authToken;if(!T&&mn(me))return ee;if(1===me.requestStatus)return S=ce(C,T),ee;{if(!navigator.onLine)throw ct.create("app-offline");const Qe=Xt(ee);return S=Ue(C,Qe),Qe}});return S?yield S:U.authToken})).apply(this,arguments)}function ce(C,T){return re.apply(this,arguments)}function re(){return(re=(0,R.Z)(function*(C,T){let S=yield Le(C.appConfig);for(;1===S.authToken.requestStatus;)yield Xn(100),S=yield Le(C.appConfig);const U=S.authToken;return 0===U.requestStatus?an(C,T):U})).apply(this,arguments)}function Le(C){return vi(C,T=>{if(!Bt(T))throw ct.create("not-registered");return function Hi(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ue(C,T){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,R.Z)(function*(C,T){try{const S=yield at(C,T),U=Object.assign(Object.assign({},T),{authToken:S});return yield Pn(C.appConfig,U),S}catch(S){if(!xt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Pn(C.appConfig,U)}else yield ti(C.appConfig);throw S}})).apply(this,arguments)}function Bt(C){return void 0!==C&&2===C.registrationStatus}function mn(C){return 2===C.requestStatus&&!function Bn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Xt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function lr(){return(lr=(0,R.Z)(function*(C){const T=C,{installationEntry:S,registrationPromise:U}=yield G(T);return U?U.catch(console.error):an(T).catch(console.error),S.fid})).apply(this,arguments)}function Ia(){return(Ia=(0,R.Z)(function*(C,T=!1){const S=C;return yield Kt(S),(yield an(S,T)).token})).apply(this,arguments)}function Kt(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.Z)(function*(C){const{registrationPromise:T}=yield G(C);T&&(yield T)})).apply(this,arguments)}function Ti(C){return ct.create("missing-app-config-values",{valueName:C})}const Gi="installations",bo=C=>{const T=C.getProvider("app").getImmediate(),S=function yd(C){if(!C||!C.options)throw Ti("App Configuration");if(!C.name)throw Ti("App Name");const T=["projectId","apiKey","appId"];for(const S of T)if(!C.options[S])throw Ti(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ma=C=>{const T=C.getProvider("app").getImmediate(),S=(0,oe._getProvider)(T,Gi).getImmediate();return{getId:()=>function Hr(C){return lr.apply(this,arguments)}(S),getToken:K=>function xa(C){return Ia.apply(this,arguments)}(S,K)}};(function Ir(){(0,oe._registerComponent)(new _e.wA(Gi,bo,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("installations-internal",Ma,"PRIVATE"))})(),(0,oe.registerVersion)(oo,"0.6.4"),(0,oe.registerVersion)(oo,"0.6.4","esm2017");const ka="@firebase/remote-config",kn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qu{constructor(T,S,U,K){this.client=T,this.storage=S,this.storageCache=U,this.logger=K}isCachedDataFresh(T,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-S,K=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(T.cacheMaxAgeMillis,U))return K;T.eTag=K&&K.eTag;const ee=yield S.client.fetch(T),me=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&me.push(S.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(me),ee})()}}function Sc(C=navigator){return C.languages&&C.languages[0]||C.language}class $u{constructor(T,S,U,K,ee,me){this.firebaseInstallations=T,this.sdkVersion=S,this.namespace=U,this.projectId=K,this.apiKey=ee,this.appId=me}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ke={sdk_version:S.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:S.appId,language_code:Sc()},et={method:"POST",headers:Qe,body:JSON.stringify(Ke)},Vt=fetch(me,et),Ft=new Promise((ir,Ri)=>{T.signal.addEventListener(()=>{const la=new Error("The operation was aborted.");la.name="AbortError",Ri(la)})});let Oi;try{yield Promise.race([Vt,Ft]),Oi=yield Vt}catch(ir){let Ri="fetch-client-network";throw"AbortError"===ir?.name&&(Ri="fetch-timeout"),kn.create(Ri,{originalErrorMessage:ir?.message})}let fn=Oi.status;const fo=Oi.headers.get("ETag")||void 0;let ua,po;if(200===Oi.status){let ir;try{ir=yield Oi.json()}catch(Ri){throw kn.create("fetch-client-parse",{originalErrorMessage:Ri?.message})}ua=ir.entries,po=ir.state}if("INSTANCE_STATE_UNSPECIFIED"===po?fn=500:"NO_CHANGE"===po?fn=304:("NO_TEMPLATE"===po||"EMPTY_CONFIG"===po)&&(ua={}),304!==fn&&200!==fn)throw kn.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:fo,config:ua}})()}}class zu{constructor(T,S){this.client=T,this.storage=S}fetch(T){var S=this;return(0,R.Z)(function*(){const U=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:S,backoffCount:U}){var K=this;return(0,R.Z)(function*(){yield function Pa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),ee=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(ee),U(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,S);try{const ee=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Td(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const me={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(me),K.attemptFetch(T,me)}})()}}class Ku{constructor(T,S,U,K,ee){this.app=T,this._client=S,this._storageCache=U,this._storage=K,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kn(C,T){const S=C.target.error||void 0;return kn.create(T,{originalErrorMessage:S&&S?.message})}const To="app_namespace_store";class rf{constructor(T,S,U,K=function F_(){return new Promise((C,T)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=U=>{T(Kn(U,"storage-open"))},S.onsuccess=U=>{C(U.target.result)},S.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(S){T(kn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=T,this.appName=S,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,ee)=>{const Qe=U.transaction([To],"readonly").objectStore(To),Ke=S.createCompositeKey(T);try{const et=Qe.get(Ke);et.onerror=Vt=>{ee(Kn(Vt,"storage-get"))},et.onsuccess=Vt=>{const Ft=Vt.target.result;K(Ft?Ft.value:void 0)}}catch(et){ee(kn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,S){var U=this;return(0,R.Z)(function*(){const K=yield U.openDbPromise;return new Promise((ee,me)=>{const Ke=K.transaction([To],"readwrite").objectStore(To),et=U.createCompositeKey(T);try{const Vt=Ke.put({compositeKey:et,value:S});Vt.onerror=Ft=>{me(Kn(Ft,"storage-set"))},Vt.onsuccess=()=>{ee()}}catch(Vt){me(kn.create("storage-set",{originalErrorMessage:Vt?.message}))}})})()}delete(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,ee)=>{const Qe=U.transaction([To],"readwrite").objectStore(To),Ke=S.createCompositeKey(T);try{const et=Qe.delete(Ke);et.onerror=Vt=>{ee(Kn(Vt,"storage-delete"))},et.onsuccess=()=>{K()}}catch(et){ee(kn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const S=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),ee=yield S;ee&&(T.lastFetchStatus=ee);const me=yield U;me&&(T.lastSuccessfulFetchTimestampMillis=me);const Qe=yield K;Qe&&(T.activeConfig=Qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function dr(){return Id.apply(this,arguments)}function Id(){return(Id=(0,R.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let Gr,ki;!function Hs(){(0,oe._registerComponent)(new _e.wA("remote-config",function C(T,{instanceIdentifier:S}){const U=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!(0,de.hl)())throw kn.create("indexed-db-unavailable");const{projectId:ee,apiKey:me,appId:Qe}=U.options;if(!ee)throw kn.create("registration-project-id");if(!me)throw kn.create("registration-api-key");if(!Qe)throw kn.create("registration-app-id");const Ke=new rf(Qe,U.name,S=S||"firebase"),et=new xn(Ke),Vt=new pe.Yd(ka);Vt.logLevel=pe.in.ERROR;const Ft=new $u(K,oe.SDK_VERSION,S,ee,me,Qe),Oi=new zu(Ft,Ke),fn=new qu(Oi,Ke,et,Vt),fo=new Ku(U,fn,et,Ke,Vt);return function bd(C){const T=(0,de.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ka,"0.4.4"),(0,oe.registerVersion)(ka,"0.4.4","esm2017")}();const Oa=new WeakMap,Ar=new WeakMap,xi=new WeakMap,Gs=new WeakMap,Pt=new WeakMap;let Xu={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Ar.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xi.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return qr(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Pc(C){return"function"==typeof C?function sf(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kc(){return ki||(ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Oc(this),T),qr(Oa.get(this))}:function(...T){return qr(C.apply(Oc(this),T))}:function(T,...S){const U=C.call(Oc(this),T,...S);return xi.set(U,T.sort?T.sort():[T]),qr(U)}}(C):(C instanceof IDBTransaction&&function Qu(C){if(Ar.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",ee),C.removeEventListener("error",me),C.removeEventListener("abort",me)},ee=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",ee),C.addEventListener("error",me),C.addEventListener("abort",me)});Ar.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function Yu(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Xu):C)}function qr(C){if(C instanceof IDBRequest)return function Nc(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",ee),C.removeEventListener("error",me)},ee=()=>{S(qr(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",ee),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&Oa.set(S,C)}).catch(()=>{}),Pt.set(T,C),T}(C);if(Gs.has(C))return Gs.get(C);const T=Pc(C);return T!==C&&(Gs.set(C,T),Pt.set(T,C)),T}const Oc=C=>Pt.get(C);function ke(C,T,{blocked:S,upgrade:U,blocking:K,terminated:ee}={}){const me=indexedDB.open(C,T),Qe=qr(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U(qr(me.result),Ke.oldVersion,Ke.newVersion,qr(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}function en(C,{blocked:T}={}){const S=indexedDB.deleteDatabase(C);return T&&S.addEventListener("blocked",()=>T()),qr(S).then(()=>{})}const el=["get","getKey","getAll","getAllKeys","count"],Rc=["put","add","delete","clear"],Jn=new Map;function Ra(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Jn.get(T))return Jn.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=Rc.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!el.includes(S))return;const ee=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Vt=et.store;return U&&(Vt=Vt.index(Ke.shift())),(yield Promise.all([Vt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return Jn.set(T,ee),ee}!function Ad(C){Xu=C(Xu)}(C=>({...C,get:(T,S,U)=>Ra(T,S)||C.get(T,S,U),has:(T,S)=>!!Ra(T,S)||C.has(T,S)}));const qo="/firebase-messaging-sw.js",Sr="/firebase-cloud-messaging-push-scope",Fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sd="google.c.a.c_id",Rn="google.c.a.c_l",L_="google.c.a.ts",tl="google.c.a.e";var qi=(()=>{return(C=qi||(qi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",qi;var C})();function fr(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _s(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(S),K=new Uint8Array(U.length);for(let ee=0;ee<U.length;++ee)K[ee]=U.charCodeAt(ee);return K}const pr="fcm_token_details_db",Md="fcm_token_object_Store";function kd(C){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(pr))return null;let T=null;return(yield ke(pr,5,{upgrade:(U=(0,R.Z)(function*(K,ee,me,Qe){var Ke;if(ee<2||!K.objectStoreNames.contains(Md))return;const et=Qe.objectStore(Md),Vt=yield et.index("fcmSenderId").get(C);if(yield et.clear(),Vt)if(2===ee){const Ft=Vt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;T={token:Ft.fcmToken,createTime:null!==(Ke=Ft.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:fr(Ft.vapidKey)}}}else if(3===ee){const Ft=Vt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:fr(Ft.auth),p256dh:fr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:fr(Ft.vapidKey)}}}else if(4===ee){const Ft=Vt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:fr(Ft.auth),p256dh:fr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:fr(Ft.vapidKey)}}}}),function(ee,me,Qe,Ke){return U.apply(this,arguments)})})).close(),yield en(pr),yield en("fcm_vapid_details_db"),yield en("undefined"),Ua(T)?T:null;var U}),Lc.apply(this,arguments)}function Ua(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const tr="firebase-messaging-store";let Uc=null;function il(){return Uc||(Uc=ke("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(tr)}})),Uc}function ys(C){return Va.apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(C){const T=Pd(C),U=yield(yield il()).transaction(tr).objectStore(tr).get(T);if(U)return U;{const K=yield kd(C.appConfig.senderId);if(K)return yield Za(C,K),K}})).apply(this,arguments)}function Za(C,T){return rl.apply(this,arguments)}function rl(){return(rl=(0,R.Z)(function*(C,T){const S=Pd(C),K=(yield il()).transaction(tr,"readwrite");return yield K.objectStore(tr).put(T,S),yield K.done,T})).apply(this,arguments)}function Nd(C){return $o.apply(this,arguments)}function $o(){return($o=(0,R.Z)(function*(C){const T=Pd(C),U=(yield il()).transaction(tr,"readwrite");yield U.objectStore(tr).delete(T),yield U.done})).apply(this,arguments)}function Pd({appConfig:C}){return C.appId}const hn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vs(C,T){return An.apply(this,arguments)}function An(){return(An=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Ds(T),K={method:"POST",headers:S,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(Od(C.appConfig),K)).json()}catch(me){throw hn.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(ee.error)throw hn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw hn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function cg(C,T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Ds(T.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(`${Od(C.appConfig)}/${T.token}`,K)).json()}catch(me){throw hn.create("token-update-failed",{errorInfo:me?.toString()})}if(ee.error)throw hn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw hn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function af(C,T){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,R.Z)(function*(C,T){const U={method:"DELETE",headers:yield ja(C)};try{const ee=yield(yield fetch(`${Od(C.appConfig)}/${T}`,U)).json();if(ee.error)throw hn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(K){throw hn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Od({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ja(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,R.Z)(function*({appConfig:C,installations:T}){const S=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Ds({p256dh:C,auth:T,endpoint:S,vapidKey:U}){const K={web:{endpoint:S,auth:T,p256dh:C}};return U!==Fa&&(K.web.applicationPubKey=U),K}const jc=6048e5;function Bc(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,R.Z)(function*(C){const T=yield Fd(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:fr(T.getKey("auth")),p256dh:fr(T.getKey("p256dh"))},U=yield ys(C.firebaseDependencies);if(U){if(uf(U.subscriptionOptions,S))return Date.now()>=U.createTime+jc?$s(C,{token:U.token,createTime:Date.now(),subscriptionOptions:S}):U.token;try{yield af(C.firebaseDependencies,U.token)}catch(K){console.warn(K)}return zs(C.firebaseDependencies,S)}return zs(C.firebaseDependencies,S)})).apply(this,arguments)}function cf(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,R.Z)(function*(C){const T=yield ys(C.firebaseDependencies);T&&(yield af(C.firebaseDependencies,T.token),yield Nd(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function $s(C,T){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,R.Z)(function*(C,T){try{const S=yield cg(C.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:S,createTime:Date.now()});return yield Za(C.firebaseDependencies,U),S}catch(S){throw yield cf(C),S}})).apply(this,arguments)}function zs(C,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,R.Z)(function*(C,T){const U={token:yield vs(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Za(C,U),U.token})).apply(this,arguments)}function Fd(C,T){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,R.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_s(T)})})).apply(this,arguments)}function uf(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function sl(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Hc(C,T){if(!T.notification)return;C.notification={};const S=T.notification.title;S&&(C.notification.title=S);const U=T.notification.body;U&&(C.notification.body=U);const K=T.notification.image;K&&(C.notification.image=K);const ee=T.notification.icon;ee&&(C.notification.icon=ee)}(T,C),function al(C,T){!T.data||(C.data=T.data)}(T,C),function Gc(C,T){var S,U,K,ee,me;if(!(T.fcmOptions||null!==(S=T.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Qe=null!==(K=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==K?K:null===(ee=T.notification)||void 0===ee?void 0:ee.click_action;Qe&&(C.fcmOptions.link=Qe);const Ke=null===(me=T.fcmOptions)||void 0===me?void 0:me.analytics_label;Ke&&(C.fcmOptions.analyticsLabel=Ke)}(T,C),T}function Ud(C){return"object"==typeof C&&!!C&&Sd in C}function Ks(C,T){const S=[];for(let U=0;U<C.length;U++)S.push(C.charAt(U)),U<T.length&&S.push(T.charAt(U));return S.join("")}function cl(C){return hn.create("missing-app-config-values",{valueName:C})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ha{constructor(T,S,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function lf(C){if(!C||!C.options)throw cl("App Configuration Object");if(!C.name)throw cl("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const U of T)if(!S[U])throw cl(U);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:S,analyticsProvider:U}}_delete(){return Promise.resolve()}}function df(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(qo,{scope:Sr}),C.swRegistration.update().catch(()=>{})}catch(T){throw hn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function zo(C,T){return gr.apply(this,arguments)}function gr(){return(gr=(0,R.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield df(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function ul(C,T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Fa)})).apply(this,arguments)}function Ga(){return(Ga=(0,R.Z)(function*(C,T){if(!navigator)throw hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hn.create("permission-blocked");return yield ul(C,T?.vapidKey),yield zo(C,T?.serviceWorkerRegistration),Bc(C)})).apply(this,arguments)}function $r(C,T,S){return $c.apply(this,arguments)}function $c(){return($c=(0,R.Z)(function*(C,T,S){const U=Js(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:S[Sd],message_name:S[Rn],message_time:S[L_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Js(C){switch(C){case qi.NOTIFICATION_CLICKED:return"notification_open";case qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ws(){return(ws=(0,R.Z)(function*(C,T){const S=T.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===qi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(sl(S)):C.onMessageHandler.next(sl(S)));const U=S.data;Ud(U)&&"1"===U[tl]&&(yield $r(C,S.messageType,U))})).apply(this,arguments)}const $a="@firebase/messaging",za=C=>{const T=new Ha(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function qa(C,T){return ws.apply(this,arguments)}(T,S)),T},ll=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:U=>function qc(C,T){return Ga.apply(this,arguments)}(T,U)}};function Ws(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,R.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hf(){(0,oe._registerComponent)(new _e.wA("messaging",za,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("messaging-internal",ll,"PRIVATE")),(0,oe.registerVersion)($a,"0.12.4"),(0,oe.registerVersion)($a,"0.12.4","esm2017")}();const Ja="analytics",Wa="firebase_id",Zd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xo="https://www.googletagmanager.com/gtag/js",Fn=new pe.Yd("@firebase/analytics"),si=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zc(C){if(!C.startsWith(xo)){const T=si.create("invalid-gtag-resource",{gtagURL:C});return Fn.warn(T.message),""}return C}function Mr(C){return Promise.all(C.map(T=>T.catch(S=>S)))}function jd(C,T){const S=function fl(C,T){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,T)),S}("firebase-js-sdk-policy",{createScriptURL:zc}),U=document.createElement("script"),K=`${xo}?l=${C}&id=${T}`;U.src=S?S?.createScriptURL(K):K,U.async=!0,document.head.appendChild(U)}function Bd(C,T,S,U,K,ee){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,R.Z)(function*(C,T,S,U,K,ee){const me=U[K];try{if(me)yield T[me];else{const Ke=(yield Mr(S)).find(et=>et.measurementId===K);Ke&&(yield T[Ke.appId])}}catch(Qe){Fn.error(Qe)}C("config",K,ee)})).apply(this,arguments)}function U_(C,T,S,U,K){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(C,T,S,U,K){try{let ee=[];if(K&&K.send_to){let me=K.send_to;Array.isArray(me)||(me=[me]);const Qe=yield Mr(S);for(const Ke of me){const et=Qe.find(Ft=>Ft.measurementId===Ke),Vt=et&&T[et.appId];if(!Vt){ee=[];break}ee.push(Vt)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),C("event",U,K||{})}catch(ee){Fn.error(ee)}})).apply(this,arguments)}function pf(C){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(xo)&&S.src.includes(C))return S;return null}const ai=new class V_{constructor(T={},S=1e3){this.throttleMetadata=T,this.intervalMillis=S}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,S){this.throttleMetadata[T]=S}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Wc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function kr(C){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,R.Z)(function*(C){var T;const{appId:S,apiKey:U}=C,K={method:"GET",headers:Wc(U)},ee=Zd.replace("{app-id}",S),me=yield fetch(ee,K);if(200!==me.status&&304!==me.status){let Qe="";try{const Ke=yield me.json();null!==(T=Ke.error)&&void 0!==T&&T.message&&(Qe=Ke.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Qe})}return me.json()})).apply(this,arguments)}function Yc(C){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,R.Z)(function*(C,T=ai,S){const{appId:U,apiKey:K,measurementId:ee}=C.options;if(!U)throw si.create("no-app-id");if(!K){if(ee)return{measurementId:ee,appId:U};throw si.create("no-api-key")}const me=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Gd;return setTimeout((0,R.Z)(function*(){Qe.abort()}),void 0!==S?S:6e4),zr({appId:U,apiKey:K,measurementId:ee},me,Qe,T)})).apply(this,arguments)}function zr(C,T,S){return pl.apply(this,arguments)}function pl(){return(pl=(0,R.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:S},U,K=ai){var ee;const{appId:me,measurementId:Qe}=C;try{yield Qa(U,T)}catch(Ke){if(Qe)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:me,measurementId:Qe};throw Ke}try{const Ke=yield kr(C);return K.deleteThrottleMetadata(me),Ke}catch(Ke){const et=Ke;if(!Qc(et)){if(K.deleteThrottleMetadata(me),Qe)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:me,measurementId:Qe};throw Ke}const Vt=503===Number(null===(ee=et?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,de.$s)(S,K.intervalMillis,30):(0,de.$s)(S,K.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Vt,backoffCount:S+1};return K.setThrottleMetadata(me,Ft),Fn.debug(`Calling attemptFetch again in ${Vt} millis`),zr(C,Ft,U,K)}})).apply(this,arguments)}function Qa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),ee=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(ee),U(si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Qc(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Gd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let qd,Xa;function mf(){return(mf=(0,R.Z)(function*(C,T,S,U,K){if(K&&K.global)C("event",S,U);else{const ee=yield T;C("event",S,Object.assign(Object.assign({},U),{send_to:ee}))}})).apply(this,arguments)}function ea(C){Xa=C}function _l(C){qd=C}function yn(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,R.Z)(function*(){if(!(0,de.hl)())return Fn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return Fn.warn(si.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _r(){return(_r=(0,R.Z)(function*(C,T,S,U,K,ee,me){var Qe;const Ke=Yc(C);Ke.then(fn=>{S[fn.measurementId]=fn.appId,C.options.measurementId&&fn.measurementId!==C.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Fn.error(fn)),T.push(Ke);const et=yn().then(fn=>{if(fn)return U.getId()}),[Vt,Ft]=yield Promise.all([Ke,et]);pf(ee)||jd(ee,Vt.measurementId),Xa&&(K("consent","default",Xa),ea(void 0)),K("js",new Date);const Oi=null!==(Qe=me?.config)&&void 0!==Qe?Qe:{};return Oi.origin="firebase",Oi.update=!0,null!=Ft&&(Oi[Wa]=Ft),K("config",Vt.measurementId,Oi),qd&&(K("set",qd),_l(void 0)),Vt.measurementId})).apply(this,arguments)}class ec{constructor(T){this.app=T}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},yl=[];const Kd={};let Gn,ht,Io="dataLayer",tc=!1;function vl(C,T,S){!function nc(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((U,K)=>`(${K+1}) ${U}`).join(" "),S=si.create("invalid-analytics-context",{errorInfo:T});Fn.warn(S.message)}}();const U=C.options.appId;if(!U)throw si.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw si.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[U])throw si.create("already-exists",{id:U});if(!tc){!function vn(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Io);const{wrappedGtag:ee,gtagCore:me}=function dg(C,T,S,U,K){let ee=function(...me){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ee=window[K]),window[K]=function lg(C,T,S,U){function ee(){return(ee=(0,R.Z)(function*(me,...Qe){try{if("event"===me){const[Ke,et]=Qe;yield U_(C,T,S,Ke,et)}else if("config"===me){const[Ke,et]=Qe;yield Bd(C,T,S,U,Ke,et)}else if("consent"===me){const[Ke]=Qe;C("consent","update",Ke)}else if("get"===me){const[Ke,et,Vt]=Qe;C("get",Ke,et,Vt)}else if("set"===me){const[Ke]=Qe;C("set",Ke)}else C(me,...Qe)}catch(Ke){Fn.error(Ke)}})).apply(this,arguments)}return function K(me){return ee.apply(this,arguments)}}(ee,C,T,S),{gtagCore:ee,wrappedGtag:window[K]}}(yr,yl,Kd,Io,"gtag");ht=ee,Gn=me,tc=!0}return yr[U]=function pg(C,T,S,U,K,ee,me){return _r.apply(this,arguments)}(C,yl,Kd,T,Gn,Io,S),new ec(C)}function bs(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,R.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Di="@firebase/analytics";!function wl(){(0,oe._registerComponent)(new _e.wA(Ja,(T,{options:S})=>vl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new _e.wA("analytics-internal",function C(T){try{const S=T.getProvider(Ja).getImmediate();return{logEvent:(U,K,ee)=>function vr(C,T,S,U){C=(0,de.m9)(C),function hg(C,T,S,U,K){return mf.apply(this,arguments)}(ht,yr[C.app.options.appId],T,S,U).catch(K=>Fn.error(K))}(S,U,K,ee)}}catch(S){throw si.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(Di,"0.10.0"),(0,oe.registerVersion)(Di,"0.10.0","esm2017")}();var Pi=V(4408),nu=V(7565);const El=new class yf extends nu.v{}(class na extends Pi.o{constructor(T,S){super(T,S),this.scheduler=T,this.work=S}schedule(T,S=0){return S>0?super.schedule(T,S):(this.delay=S,this.state=T,this.scheduler.flush(this),this)}execute(T,S){return S>0||this.closed?super.execute(T,S):this._execute(T,S)}requestAsyncId(T,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,S,U):(T.flush(this),0)}});var vf=V(4986),rc=V(9751),iu=V(8505),Xo=V(5363),Ts=V(9468);const oc=new i.GfV("7.6.1"),ru="__angularfire_symbol__analyticsIsSupportedValue",ia="__angularfire_symbol__analyticsIsSupported",Tl="__angularfire_symbol__remoteConfigIsSupportedValue",ra="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",oa="__angularfire_symbol__messagingIsSupported";function aa(C,T,S){if(T){if(1===T.length)return T[0];const ee=T.filter(me=>me.app===S);if(1===ee.length)return ee[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[ia]||(globalThis[ia]=bs().then(C=>globalThis[ru]=C).catch(()=>globalThis[ru]=!1)),globalThis[oa]||(globalThis[oa]=Ws().then(C=>globalThis[xl]=C).catch(()=>globalThis[xl]=!1)),globalThis[ra]||(globalThis[ra]=dr().then(C=>globalThis[Tl]=C).catch(()=>globalThis[Tl]=!1));const Wd=(C,T)=>{const S=T?[T]:(0,B.C6)(),U=[];return S.forEach(K=>{K.container.getProvider(C).instances.forEach(me=>{U.includes(me)||U.push(me)})}),U};function es(){}class Il{constructor(T,S=El){this.zone=T,this.delegate=S}now(){return this.delegate.now()}schedule(T,S,U){const K=this.zone;return this.delegate.schedule(function(me){K.runGuarded(()=>{T.apply(this,[me])})},S,U)}}class Df{constructor(T){this.zone=T,this.task=null}call(T,S){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),S.pipe((0,iu.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Il(Zone.current)),this.insideAngular=S.run(()=>new Il(Zone.current,vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(i.LFG(i.R0b))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Wn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ko(C){return Wn().ngZone.runOutsideAngular(()=>C())}function ho(C){return Wn().ngZone.run(()=>C())}function Cf(C){return C.pipe((0,Xo.Q)(Wn().outsideAngular))}function $i(C){return Wn(),function Yn(C){return function(S){return(S=S.lift(new Df(C.ngZone))).pipe((0,Ts.R)(C.outsideAngular),(0,Xo.Q)(C.insideAngular))}}(Wn())(C)}const Al=(C,T)=>function(){const U=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ho(()=>C.apply(void 0,U))},ca=(C,T)=>function(){let S;const U=arguments;for(let ee=0;ee<arguments.length;ee++)"function"==typeof U[ee]&&(T&&(S||(S=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)))),U[ee]=Al(U[ee],S));const K=ko(()=>C.apply(this,U));if(!T){if(K instanceof rc.y){const ee=Wn();return K.pipe((0,Ts.R)(ee.outsideAngular),(0,Xo.Q)(ee.insideAngular))}return ho(()=>K)}return K instanceof rc.y?K.pipe($i):K instanceof Promise?ho(()=>new Promise((ee,me)=>K.then(Qe=>ho(()=>ee(Qe)),Qe=>ho(()=>me(Qe))))):"function"==typeof K&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),K.apply(this,arguments)}:ho(()=>K)}},1389:(wt,Oe,V)=>{V.d(Oe,{$:()=>qo,A:()=>$,D:()=>Pe,I:()=>_n,J:()=>bo,L:()=>co,N:()=>vi,P:()=>pg,Q:()=>rf,R:()=>mr,U:()=>ms,V:()=>dr,W:()=>Id,X:()=>Ju,Y:()=>Yu,Z:()=>kc,_:()=>Pt,a:()=>Wo,a0:()=>Fa,a1:()=>Sd,a2:()=>hr,a3:()=>Md,a4:()=>Lc,a5:()=>nl,a6:()=>tr,a7:()=>il,a8:()=>Va,a9:()=>rl,aA:()=>le,aB:()=>ia,aC:()=>ti,aD:()=>ji,aE:()=>iu,aF:()=>Jd,aG:()=>nr,aH:()=>Hn,aL:()=>Yo,aO:()=>Gr,aa:()=>Nd,ab:()=>Pd,ac:()=>ag,ad:()=>cg,ae:()=>af,af:()=>Od,ai:()=>jc,aj:()=>ol,ak:()=>cf,an:()=>sf,ao:()=>Hc,aq:()=>Ko,ar:()=>$a,as:()=>At,at:()=>Ee,au:()=>we,av:()=>Ae,aw:()=>Ft,ax:()=>oa,ay:()=>tt,az:()=>be,b:()=>Vd,c:()=>ht,d:()=>vl,e:()=>ci,f:()=>Di,g:()=>yf,h:()=>Pi,i:()=>gf,j:()=>vf,k:()=>po,l:()=>$d,m:()=>la,p:()=>ve,r:()=>eu,s:()=>_f,u:()=>yn});var i=V(5861),B=V(2090),R=V(6881),oe=V(7582),de=V(1877),_e=V(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new de.Yd("@firebase/auth");function pt(D,...p){ye.logLevel<=de.in.ERROR&&ye.error(`Auth (${R.SDK_VERSION}): ${D}`,...p)}function Ae(D,...p){throw ze(D,...p)}function be(D,...p){return ze(D,...p)}function Se(D,p,_){const w=Object.assign(Object.assign({},xe()),{[p]:_});return new B.LL("auth","Firebase",w).create(p,{appName:D.name})}function $e(D,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ae(D,"argument-error"),Se(D,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(D,...p){if("string"!=typeof D){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=D.name),D._errorFactory.create(_,...w)}return rt.create(D,...p)}function le(D,p,..._){if(!D)throw ze(p,..._)}function Ye(D){const p="INTERNAL ASSERTION FAILED: "+D;throw pt(p),new Error(p)}function At(D,p){D||Ye(p)}function gt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function qt(){return"http:"===lt()||"https:"===lt()}function lt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ur{constructor(p,_){this.shortDelay=p,this.longDelay=_,At(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function oo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function so(D,p){At(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class ae{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new ur(3e4,6e4);function fe(D,p){return D.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:D.tenantId}):p}function Ne(D,p,_,w){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(D,p,_,w,M={}){return ct(D,M,(0,i.Z)(function*(){let P={},Y={};w&&("GET"===p?Y=w:P={body:JSON.stringify(w)});const he=(0,B.xO)(Object.assign({key:D.config.apiKey},Y)).slice(1),qe=yield D._getAdditionalHeaders();return qe["Content-Type"]="application/json",D.languageCode&&(qe["X-Firebase-Locale"]=D.languageCode),ae.fetch()(on(D,D.config.apiHost,_,he),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function ct(D,p,_){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.Z)(function*(D,p,_){D._canInitEmulator=!1;const w=Object.assign(Object.assign({},ne),p);try{const M=new Nn(D),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw gn(D,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const he=P.ok?Y.errorMessage:Y.error.message,[qe,nt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw gn(D,"credential-already-in-use",Y);if("EMAIL_EXISTS"===qe)throw gn(D,"email-already-in-use",Y);if("USER_DISABLED"===qe)throw gn(D,"user-disabled",Y);const vt=w[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Se(D,vt,nt);Ae(D,vt)}}catch(M){if(M instanceof B.ZR)throw M;Ae(D,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function tn(D,p,_,w){return kt.apply(this,arguments)}function kt(){return(kt=(0,i.Z)(function*(D,p,_,w,M={}){const P=yield Ne(D,p,_,w,M);return"mfaPendingCredential"in P&&Ae(D,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function on(D,p,_,w){const M=`${p}${_}?${w}`;return D.config.emulator?so(D.config,M):`${D.config.apiScheme}://${M}`}class Nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(D,p,_){const w={appName:D.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=be(D,p,w);return M.customData._tokenResponse=_,M}function Sn(){return(Sn=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(D,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tr(D,p){return ut.apply(this,arguments)}function ut(){return(ut=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _i(D){if(D)try{const p=new Date(Number(D));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Br(){return(Br=(0,i.Z)(function*(D,p=!1){const _=(0,B.m9)(D),w=yield _.getIdToken(p),M=On(w);le(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,Y=P?.sign_in_provider;return{claims:M,token:w,authTime:_i(Yi(M.auth_time)),issuedAtTime:_i(Yi(M.iat)),expirationTime:_i(Yi(M.exp)),signInProvider:Y||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Yi(D){return 1e3*Number(D)}function On(D){const[p,_,w]=D.split(".");if(void 0===p||void 0===_||void 0===w)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(_);return M?JSON.parse(M):(pt("Failed to decode base64 JWT payload"),null)}catch(M){return pt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function $t(D,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)(function*(D,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&bt(w)&&D.auth.currentUser===D&&(yield D.auth.signOut()),w}})).apply(this,arguments)}function bt({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class nn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,i.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Qi{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(D){return ri.apply(this,arguments)}function ri(){return(ri=(0,i.Z)(function*(D){var p;const _=D.auth,w=yield D.getIdToken(),M=yield $t(D,Tr(_,{idToken:w}));le(M?.users.length,_,"internal-error");const P=M.users[0];D._notifyReloadListener(P);const Y=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?ao(P.providerUserInfo):[],he=zt(D.providerData,Y),vt=!!D.isAnonymous&&!(D.email&&P.passwordHash||he?.length),cn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:he,metadata:new Qi(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(D,cn)})).apply(this,arguments)}function zn(){return(zn=(0,i.Z)(function*(D){const p=(0,B.m9)(D);yield yi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zt(D,p){return[...D.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function ao(D){return D.map(p=>{var{providerId:_}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function jn(){return(jn=(0,i.Z)(function*(D,p){const _=yield ct(D,{},(0,i.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:P}=D.config,Y=on(D,M,"/v1/token",`key=${P}`),he=yield D._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Y,{method:"POST",headers:he,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class En{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mn(D){const p=On(D);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,i.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,i.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:Y}=yield function sn(D,p){return jn.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(M,P,Number(Y))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:M,expirationTime:P}=_,Y=new En;return w&&(le("string"==typeof w,"internal-error",{appName:p}),Y.refreshToken=w),M&&(le("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),P&&(le("number"==typeof P,"internal-error",{appName:p}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new En,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function ei(D,p){le("string"==typeof D||typeof D>"u","internal-error",{appName:p})}class Pn{constructor(p){var{uid:_,auth:w,stsTokenManager:M}=p,P=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Qi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,i.Z)(function*(){const w=yield $t(_,_.stsTokenManager.getToken(_.auth,p));return le(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function $n(D){return Br.apply(this,arguments)}(this,p)}reload(){return function St(D){return zn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Pn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,i.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield yi(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,i.Z)(function*(){const _=yield p.getIdToken();return yield $t(p,function Qn(D,p){return Sn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,M,P,Y,he,qe,nt,vt;const cn=null!==(w=_.displayName)&&void 0!==w?w:void 0,Kr=null!==(M=_.email)&&void 0!==M?M:void 0,da=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,cu=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,bf=null!==(he=_.tenantId)&&void 0!==he?he:void 0,uu=null!==(qe=_._redirectEventId)&&void 0!==qe?qe:void 0,th=null!==(nt=_.createdAt)&&void 0!==nt?nt:void 0,Tf=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Ol,emailVerified:xf,isAnonymous:vg,providerData:xs,stsTokenManager:sc}=_;le(Ol&&sc,p,"internal-error");const go=En.fromJSON(this.name,sc);le("string"==typeof Ol,p,"internal-error"),ei(cn,p.name),ei(Kr,p.name),le("boolean"==typeof xf,p,"internal-error"),le("boolean"==typeof vg,p,"internal-error"),ei(da,p.name),ei(cu,p.name),ei(bf,p.name),ei(uu,p.name),ei(th,p.name),ei(Tf,p.name);const nh=new Pn({uid:Ol,auth:p,email:Kr,emailVerified:xf,displayName:cn,isAnonymous:vg,photoURL:cu,phoneNumber:da,tenantId:bf,stsTokenManager:go,createdAt:th,lastLoginAt:Tf});return xs&&Array.isArray(xs)&&(nh.providerData=xs.map(Z_=>Object.assign({},Z_))),uu&&(nh._redirectEventId=uu),nh}static _fromIdTokenResponse(p,_,w=!1){return(0,i.Z)(function*(){const M=new En;M.updateFromServerResponse(_);const P=new Pn({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield yi(P),P})()}}const Xi=new Map;function ti(D){At(D instanceof Function,"Expected a class definition");let p=Xi.get(D);return p?(At(p instanceof D,"Instance stored in cache mismatched with class"),p):(p=new D,Xi.set(D,p),p)}const vi=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,i.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,i.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,i.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return D.type="NONE",D})();function ji(D,p,_){return`firebase:${D}:${p}:${_}`}class G{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:M,name:P}=this.auth;this.fullUserKey=ji(this.userKey,M.apiKey,P),this.fullPersistenceKey=ji("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Pn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,i.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,i.Z)(function*(){if(!_.length)return new G(ti(vi),p,w);const M=(yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=M[0]||ti(vi);const Y=ji(w,p.config.apiKey,p.name);let he=null;for(const nt of _)try{const vt=yield nt._get(Y);if(vt){const cn=Pn._fromJSON(p,vt);nt!==P&&(he=cn),P=nt;break}}catch{}const qe=M.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&qe.length?(P=qe[0],he&&(yield P._set(Y,he.toJSON())),yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(vt!==P)try{yield vt._remove(Y)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new G(P,p,w)):new G(P,p,w)})()}}function H(D){const p=D.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(W(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(L(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(We(p))return"Blackberry";if(mt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(we(p))return"Android";{const w=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function L(D=(0,B.z$)()){return/firefox\//i.test(D)}function O(D=(0,B.z$)()){const p=D.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(D=(0,B.z$)()){return/crios\//i.test(D)}function W(D=(0,B.z$)()){return/iemobile/i.test(D)}function we(D=(0,B.z$)()){return/android/i.test(D)}function We(D=(0,B.z$)()){return/blackberry/i.test(D)}function mt(D=(0,B.z$)()){return/webos/i.test(D)}function Ee(D=(0,B.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function tt(D=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Ut(D=(0,B.z$)()){return Ee(D)||we(D)||mt(D)||We(D)||/windows phone/i.test(D)||W(D)}function Bi(D,p=[]){let _;switch(D){case"Browser":_=H((0,B.z$)());break;case"Worker":_=`${H((0,B.z$)())}-${D}`;break;default:_=D}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${w}`}function re(){return(re=(0,i.Z)(function*(D){return(yield Ne(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(D,p){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,i.Z)(function*(D,p){return Ne(D,"GET","/v2/recaptchaConfig",fe(D,p))})).apply(this,arguments)}function Mt(D){return void 0!==D&&void 0!==D.getResponse}function Bt(D){return void 0!==D&&void 0!==D.enterprise}class mn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Xt(D){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",D),w.onload=p,w.onerror=M=>{const P=be("internal-error");P.customData=M,_(P)},w.type="text/javascript",w.charset="UTF-8",function Bn(){var D,p;return null!==(p=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==p?p:document}().appendChild(w)})}function Hi(D){return`__${D}${Math.floor(1e6*Math.random())}`}class Ia{constructor(p){this.type="recaptcha-enterprise",this.auth=Hn(p)}verify(p="verify",_=!1){var w=this;return(0,i.Z)(function*(){function P(){return P=(0,i.Z)(function*(he){if(!_){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var qe=(0,i.Z)(function*(nt,vt){Le(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cn=>{if(void 0!==cn.recaptchaKey){const Kr=new mn(cn);return null==he.tenantId?he._agentRecaptchaConfig=Kr:he._tenantRecaptchaConfigs[he.tenantId]=Kr,nt(Kr.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(cn=>{vt(cn)})});return function(nt,vt){return qe.apply(this,arguments)}}())}),P.apply(this,arguments)}function Y(he,qe,nt){const vt=window.grecaptcha;Bt(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(he,{action:p}).then(cn=>{qe(cn)}).catch(()=>{qe("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,qe)=>{(function M(he){return P.apply(this,arguments)})(w.auth).then(nt=>{if(!_&&Bt(window.grecaptcha))Y(nt,he,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));Xt("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Y(nt,he,qe)}).catch(vt=>{qe(vt)})}}).catch(nt=>{qe(nt)})})})()}}function Kt(D,p,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,i.Z)(function*(D,p,_,w=!1){const M=new Ia(D);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const Y=Object.assign({},p);return Object.assign(Y,w?{captchaResp:P}:{captchaResponse:P}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class _d{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=P=>new Promise((Y,he)=>{try{Y(p(P))}catch(qe){he(qe)}});w.onAbort=_,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,i.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const M of _.queue)yield M(p),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const P of w)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class hs{constructor(p,_,w,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new er(this),this.idTokenSubscription=new er(this),this.beforeStateQueue=new _d(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=ti(_)),this._initializationPromise=this.queue((0,i.Z)(function*(){var M,P;if(!w._deleted&&(w.persistenceManager=yield G.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,i.Z)(function*(){var w;const M=yield _.assertedPersistence.getCurrentUser();let P=M,Y=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,qe=P?._redirectEventId,nt=yield _.tryRedirectSignIn(p);(!he||he===qe)&&nt?.user&&(P=nt.user,Y=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(P)}catch(he){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var _=this;return(0,i.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,i.Z)(function*(){try{yield yi(p)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gi(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,i.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&le(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,i.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,i.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,i.Z)(function*(){yield _.assertedPersistence.setPersistence(ti(p))}))}initializeRecaptchaConfig(){var p=this;return(0,i.Z)(function*(){const _=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new mn(_);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Ia(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,i.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,i.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&ti(p)||_._popupRedirectResolver;le(w,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[ti(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,i.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,i.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,i.Z)(function*(){if(p===_.currentUser)return _.queue((0,i.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof _?p.addObserver(_,w,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,i.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(w["X-Firebase-Client"]=M);const P=yield p._getAppCheckToken();return P&&(w["X-Firebase-AppCheck"]=P),w})()}_getAppCheckToken(){var p=this;return(0,i.Z)(function*(){var _;const w=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function yt(D,...p){ye.logLevel<=de.in.WARN&&ye.warn(`Auth (${R.SDK_VERSION}): ${D}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Hn(D){return(0,B.m9)(D)}class er{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _n(D,p,_){const w=Hn(D);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=yd(p),{host:Y,port:he}=function Ti(D){const p=yd(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const P=M[1];return{host:P,port:Gi(w.substr(P.length+1))}}{const[P,Y]=w.split(":");return{host:P,port:Gi(Y)}}}(p);w.config.emulator={url:`${P}//${Y}${null===he?"":`:${he}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Y,port:he,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Sa(){function D(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function yd(D){const p=D.indexOf(":");return p<0?"":D.substr(0,p+1)}function Gi(D){if(!D)return null;const p=Number(D);return isNaN(p)?null:p}class bo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ye("not implemented")}_getIdTokenResponse(p){return Ye("not implemented")}_linkToIdToken(p,_){return Ye("not implemented")}_getReauthenticationResolver(p){return Ye("not implemented")}}function Ma(D,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:resetPassword",fe(D,p))})).apply(this,arguments)}function ka(D,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vd(D,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",fe(D,p))})).apply(this,arguments)}function ef(D,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPassword",fe(D,p))})).apply(this,arguments)}function Bu(D,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendOobCode",fe(D,p))})).apply(this,arguments)}function rg(D,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,i.Z)(function*(D,p){return Bu(D,p)})).apply(this,arguments)}function Cd(D,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,i.Z)(function*(D,p){return Bu(D,p)})).apply(this,arguments)}function tf(D,p){return wd.apply(this,arguments)}function wd(){return(wd=(0,i.Z)(function*(D,p){return Bu(D,p)})).apply(this,arguments)}function Ed(D,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,i.Z)(function*(D,p){return Bu(D,p)})).apply(this,arguments)}function Ic(){return(Ic=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}function Ac(){return(Ac=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}class Gu extends bo{constructor(p,_,w,M=null){super("password",w),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Gu(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Gu(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,i.Z)(function*(){var w;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const P=yield Kt(p,M,"signInWithPassword");return ef(p,P)}return ef(p,M).catch(function(){var P=(0,i.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const he=yield Kt(p,M,"signInWithPassword");return ef(p,he)}return Promise.reject(Y)});return function(Y){return P.apply(this,arguments)}}());case"emailLink":return function og(D,p){return Ic.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,i.Z)(function*(){switch(w.signInMethod){case"password":return ka(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function nf(D,p){return Ac.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ps(D,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithIdp",fe(D,p))})).apply(this,arguments)}class co extends bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new co(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=_,P=(0,oe._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const Y=new co(w,M);return Y.idToken=P.idToken||void 0,Y.accessToken=P.accessToken||void 0,Y.secret=P.secret,Y.nonce=P.nonce,Y.pendingToken=P.pendingToken||null,Y}_getIdTokenResponse(p){return ps(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,ps(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ps(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,B.xO)(_)}return p}}function qu(D,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendVerificationCode",fe(D,p))})).apply(this,arguments)}function Pa(){return(Pa=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p))})).apply(this,arguments)}function zu(){return(zu=(0,i.Z)(function*(D,p){const _=yield tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p));if(_.temporaryProof)throw gn(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const xd={USER_NOT_FOUND:"user-not-found"};function Ku(){return(Ku=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,Object.assign(Object.assign({},p),{operation:"REAUTH"})),xd)})).apply(this,arguments)}class Kn extends bo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Kn({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Kn({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function $u(D,p){return Pa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Td(D,p){return zu.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Mc(D,p){return Ku.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:P}=p;return w||_||M||P?new Kn({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:P}):null}}class Go{constructor(p){var _,w,M,P,Y,he;const qe=(0,B.zd)((0,B.pd)(p)),nt=null!==(_=qe.apiKey)&&void 0!==_?_:null,vt=null!==(w=qe.oobCode)&&void 0!==w?w:null,cn=function To(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=qe.mode)&&void 0!==M?M:null);le(nt&&vt&&cn,"argument-error"),this.apiKey=nt,this.operation=cn,this.code=vt,this.continueUrl=null!==(P=qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(he=qe.tenantId)&&void 0!==he?he:null}static parseLink(p){const _=function sg(D){const p=(0,B.zd)((0,B.pd)(D)).link,_=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(D)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||p||D}(p);try{return new Go(_)}catch{return null}}}let rf=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,w){return Gu._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=Go.parseLink(w);return le(M,"argument-error"),Gu._fromEmailAndCode(_,M.code,M.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class xn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Hs extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ju extends Hs{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return le("providerId"in _&&"signInMethod"in _,"argument-error"),co._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ju.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ju.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:P,nonce:Y,providerId:he}=p;if(!w&&!M&&!_&&!P||!he)return null;try{return new Ju(he)._credential({idToken:_,accessToken:w,nonce:Y,pendingToken:P})}catch{return null}}}let ms=(()=>{class D extends Hs{constructor(){super("facebook.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),dr=(()=>{class D extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return D.credential(w,M)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Id=(()=>{class D extends Hs{constructor(){super("github.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Gr extends bo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return ps(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,ps(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ps(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:P}=_;return w&&M&&P&&w===M?new Gr(w,P):null}static _create(p,_){return new Gr(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yu extends xn{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Yu.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Yu.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Gr.fromJSON(p);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Gr._create(w,_)}catch{return null}}}let kc=(()=>{class D extends Hs{constructor(){super("twitter.com")}static credential(_,w){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return D.credential(w,M)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Oa(D,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signUp",fe(D,p))})).apply(this,arguments)}class xi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,M=!1){return(0,i.Z)(function*(){const P=yield Pn._fromIdTokenResponse(p,w,M),Y=Gs(w);return new xi({user:P,providerId:Y,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Gs(w);return new xi({user:p,providerId:M,_tokenResponse:w,operationType:_})})()}}function Gs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Pt(D){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.Z)(function*(D){var p;const _=Hn(D);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new xi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Oa(_,{returnSecureToken:!0}),M=yield xi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Qu extends B.ZR{constructor(p,_,w,M){var P;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,M){return new Qu(p,_,w,M)}}function Xu(D,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Qu._fromErrorAndOperation(D,P,p,w):P})}function Ad(D){return new Set(D.map(({providerId:p})=>p).filter(p=>!!p))}function sf(D,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D);yield ke(!0,_,p);const{providerUserInfo:w}=yield Zn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Ad(w||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function qr(D,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,i.Z)(function*(D,p,_=!1){const w=yield $t(D,p._linkToIdToken(D.auth,yield D.getIdToken()),_);return xi._forOperation(D,"link",w)})).apply(this,arguments)}function ke(D,p,_){return en.apply(this,arguments)}function en(){return(en=(0,i.Z)(function*(D,p,_){yield yi(p);const M=!1===D?"provider-already-linked":"no-such-provider";le(Ad(p.providerData).has(_)===D,p.auth,M)})).apply(this,arguments)}function el(D,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,i.Z)(function*(D,p,_=!1){const{auth:w}=D,M="reauthenticate";try{const P=yield $t(D,Xu(w,M,p,D),_);le(P.idToken,w,"internal-error");const Y=On(P.idToken);le(Y,w,"internal-error");const{sub:he}=Y;return le(D.uid===he,w,"user-mismatch"),xi._forOperation(D,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ae(w,"user-mismatch"),P}})).apply(this,arguments)}function Jn(D,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,i.Z)(function*(D,p,_=!1){const w="signIn",M=yield Xu(D,w,p),P=yield xi._fromIdTokenResponse(D,w,M);return _||(yield D._updateCurrentUser(P.user)),P})).apply(this,arguments)}function qo(D,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,i.Z)(function*(D,p){return Jn(Hn(D),p)})).apply(this,arguments)}function Fa(D,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D);return yield ke(!1,_,p.providerId),qr(_,p)})).apply(this,arguments)}function Sd(D,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,i.Z)(function*(D,p){return el((0,B.m9)(D),p)})).apply(this,arguments)}function L_(D,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithCustomToken",fe(D,p))})).apply(this,arguments)}function hr(D,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.Z)(function*(D,p){const _=Hn(D),w=yield L_(_,{token:p,returnSecureToken:!0}),M=yield xi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class fr{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?_s._fromServerResponse(p,_):"totpInfo"in _?pr._fromServerResponse(p,_):Ae(p,"internal-error")}}class _s extends fr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new _s(_)}}class pr extends fr{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new pr(_)}}function La(D,p,_){var w;le((null===(w=_.url)||void 0===w?void 0:w.length)>0,D,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,D,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Md(D,p,_){return kd.apply(this,arguments)}function kd(){return kd=(0,i.Z)(function*(D,p,_){var w;const M=Hn(D),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield Kt(M,P,"getOobCode",!0);_&&La(M,Y,_),yield Cd(M,Y)}else _&&La(M,P,_),yield Cd(M,P).catch(function(){var Y=(0,i.Z)(function*(he){if("auth/missing-recaptcha-token"!==he.code)return Promise.reject(he);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield Kt(M,P,"getOobCode",!0);_&&La(M,qe,_),yield Cd(M,qe)}});return function(he){return Y.apply(this,arguments)}}())}),kd.apply(this,arguments)}function Lc(D,p,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,i.Z)(function*(D,p,_){yield Ma((0,B.m9)(D),{oobCode:p,newPassword:_})})).apply(this,arguments)}function nl(D,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,i.Z)(function*(D,p){yield vd((0,B.m9)(D),{oobCode:p})})).apply(this,arguments)}function tr(D,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D),w=yield Ma(_,{oobCode:p}),M=w.requestType;switch(le(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,_,"internal-error");default:le(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=fr._fromServerResponse(Hn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function il(D,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,i.Z)(function*(D,p){const{data:_}=yield tr((0,B.m9)(D),p);return _.email})).apply(this,arguments)}function Va(D,p,_){return Za.apply(this,arguments)}function Za(){return Za=(0,i.Z)(function*(D,p,_){var w;const M=Hn(D),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const nt=yield Kt(M,P,"signUpPassword");Y=Oa(M,nt)}else Y=Oa(M,P).catch(function(){var nt=(0,i.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cn=yield Kt(M,P,"signUpPassword");return Oa(M,cn)}return Promise.reject(vt)});return function(vt){return nt.apply(this,arguments)}}());const he=yield Y.catch(nt=>Promise.reject(nt)),qe=yield xi._fromIdTokenResponse(M,"signIn",he);return yield M._updateCurrentUser(qe.user),qe}),Za.apply(this,arguments)}function rl(D,p,_){return qo((0,B.m9)(D),rf.credential(p,_))}function Nd(D,p,_){return $o.apply(this,arguments)}function $o(){return $o=(0,i.Z)(function*(D,p,_){var w;const M=Hn(D),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Y(he,qe){le(qe.handleCodeInApp,M,"argument-error"),qe&&La(M,he,qe)}if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const he=yield Kt(M,P,"getOobCode",!0);Y(he,_),yield tf(M,he)}else Y(P,_),yield tf(M,P).catch(function(){var he=(0,i.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Kt(M,P,"getOobCode",!0);Y(nt,_),yield tf(M,nt)}});return function(qe){return he.apply(this,arguments)}}())}),$o.apply(this,arguments)}function Pd(D,p){return"EMAIL_SIGNIN"===Go.parseLink(p)?.operation}function ag(D,p,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D),M=rf.credentialWithLink(p,_||gt());return le(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),qo(w,M)})).apply(this,arguments)}function vs(D,p){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:createAuthUri",fe(D,p))})).apply(this,arguments)}function cg(D,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,i.Z)(function*(D,p){const w={identifier:p,continueUri:qt()?gt():"http://localhost"},{signinMethods:M}=yield vs((0,B.m9)(D),w);return M||[]})).apply(this,arguments)}function af(D,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,i.Z)(function*(D,p){const _=(0,B.m9)(D),M={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};p&&La(_.auth,M,p);const{email:P}=yield rg(_.auth,M);P!==D.email&&(yield D.reload())})).apply(this,arguments)}function Od(D,p,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:p};_&&La(w.auth,P,_);const{email:Y}=yield Ed(w.auth,P);Y!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ba(D,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jc(D,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,i.Z)(function*(D,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,B.m9)(D),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Y=yield $t(w,Ba(w.auth,P));w.displayName=Y.displayName||null,w.photoURL=Y.photoUrl||null;const he=w.providerData.find(({providerId:qe})=>"password"===qe);he&&(he.displayName=w.displayName,he.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Y)})).apply(this,arguments)}function ol(D,p){return uo((0,B.m9)(D),p,null)}function cf(D,p){return uo((0,B.m9)(D),null,p)}function uo(D,p,_){return $s.apply(this,arguments)}function $s(){return($s=(0,i.Z)(function*(D,p,_){const{auth:w}=D,P={idToken:yield D.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const Y=yield $t(D,ka(w,P));yield D._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class zs{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class Cs extends zs{constructor(p,_,w,M){super(p,_,w),this.username=M}}class Fd extends zs{constructor(p,_){super(p,"facebook.com",_)}}class Ld extends Cs{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class uf extends zs{constructor(p,_){super(p,"google.com",_)}}class sl extends Cs{constructor(p,_,w){super(p,"twitter.com",_,w)}}function Hc(D){const{user:p,_tokenResponse:_}=D;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Rd(D){var p,_;if(!D)return null;const{providerId:w}=D,M=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},P=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!w&&D?.idToken){const Y=null===(_=null===(p=On(D.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new zs(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!w)return null;switch(w){case"facebook.com":return new Fd(P,M);case"github.com":return new Ld(P,M);case"google.com":return new uf(P,M);case"twitter.com":return new sl(P,M,D.screenName||null);case"custom":case"anonymous":return new zs(P,null);default:return new zs(P,w,M)}}(_)}class gr{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new gr("enroll",p,_)}static _fromMfaPendingCredential(p){return new gr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return gr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return gr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ul{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=Hn(p),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(he=>fr._fromServerResponse(w,he));le(M.mfaPendingCredential,w,"internal-error");const Y=gr._fromMfaPendingCredential(M.mfaPendingCredential);return new ul(Y,P,function(){var he=(0,i.Z)(function*(qe){const nt=yield qe._process(w,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(_.operationType){case"signIn":const cn=yield xi._fromIdTokenResponse(w,_.operationType,vt);return yield w._updateCurrentUser(cn.user),cn;case"reauthenticate":return le(_.user,w,"internal-error"),xi._forOperation(_.user,_.operationType,vt);default:Ae(w,"internal-error")}});return function(qe){return he.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,i.Z)(function*(){return _.signInResolver(p)})()}}function Ko(D,p){var _;const w=(0,B.m9)(D),M=p;return le(p.customData.operationType,w,"argument-error"),le(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),ul._fromError(w,M)}function qc(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:start",fe(D,p))}class qa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>fr._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new qa(p)}getSession(){var p=this;return(0,i.Z)(function*(){return gr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,i.Z)(function*(){const M=p,P=yield w.getSession(),Y=yield $t(w.user,M._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(Y),w.user.reload()})()}unenroll(p){var _=this;return(0,i.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const P=yield $t(_.user,function Js(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(D,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==w),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const ws=new WeakMap;function $a(D){const p=(0,B.m9)(D);return ws.has(p)||ws.set(p,qa._fromUser(p)),ws.get(p)}const Jo="__sak";class za{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vd=(()=>{class D extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ll(){const D=(0,B.z$)();return O(D)||Ee(D)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),P=this.localCache[w];M!==P&&_(w,P,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((he,qe,nt)=>{this.notifyListeners(he,nt)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(M);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const P=()=>{const he=this.storage.getItem(M);!w&&this.localCache[M]===he||this.notifyListeners(M,he)},Y=this.storage.getItem(M);!function Qt(){return(0,B.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,P=this;return(0,i.Z)(function*(){yield M().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,i.Z)(function*(){const P=yield w().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,M=this;return(0,i.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return D.type="LOCAL",D})(),Wo=(()=>{class D extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return D.type="SESSION",D})();let ff=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const M=new D(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,i.Z)(function*(){const M=_,{eventId:P,eventType:Y,data:he}=M.data,qe=w.handlersMap[Y];if(!qe?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const nt=Array.from(qe).map(function(){var cn=(0,i.Z)(function*(Kr){return Kr(M.origin,he)});return function(Kr){return cn.apply(this,arguments)}}()),vt=yield function ug(D){return Promise.all(D.map(function(){var p=(0,i.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:vt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Yo(D="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return D+_}class Qs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var M=this;return(0,i.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,he;return new Promise((qe,nt)=>{const vt=Yo("",20);P.port1.start();const cn=setTimeout(()=>{nt(new Error("unsupported_event"))},w);he={messageChannel:P,onMessage(Kr){const da=Kr;if(da.data.eventId===vt)switch(da.data.status){case"ack":clearTimeout(cn),Y=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),qe(da.data.response);break;default:clearTimeout(cn),clearTimeout(Y),nt(new Error("invalid_response"))}}},M.handlers.add(he),P.port1.addEventListener("message",he.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:_},[P.port2])}).finally(()=>{he&&M.removeMessageHandler(he)})})()}}function oi(){return window}function Wa(){return typeof oi().WorkerGlobalScope<"u"&&"function"==typeof oi().importScripts}function hl(){return(hl=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",si="firebaseLocalStorage",zc="fbase_key";class Mr{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function fl(D,p){return D.transaction([si],p?"readwrite":"readonly").objectStore(si)}function vn(){const D=indexedDB.open(Fn,1);return new Promise((p,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const w=D.result;try{w.createObjectStore(si,{keyPath:zc})}catch(M){_(M)}}),D.addEventListener("success",(0,i.Z)(function*(){const w=D.result;w.objectStoreNames.contains(si)?p(w):(w.close(),yield function jd(){const D=indexedDB.deleteDatabase(Fn);return new Mr(D).toPromise()}(),p(yield vn()))}))})}function Bd(D,p,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,i.Z)(function*(D,p,_){const w=fl(D,!0).put({[zc]:p,value:_});return new Mr(w).toPromise()})).apply(this,arguments)}function Kc(){return(Kc=(0,i.Z)(function*(D,p){const _=fl(D,!1).get(p),w=yield new Mr(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function lg(D,p){const _=fl(D,!0).delete(p);return new Mr(_).toPromise()}const gf=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,i.Z)(function*(){return _.db||(_.db=yield vn()),_.db})()}_withRetries(_){var w=this;return(0,i.Z)(function*(){let M=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(M++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,i.Z)(function*(){return Wa()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,i.Z)(function*(){_.receiver=ff._getInstance(function xo(){return Wa()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,i.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,i.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,i.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function dl(){return hl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qs(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=P[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,i.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Zd(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const _=yield vn();return yield Bd(_,Jo,"1"),yield lg(_,Jo),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,i.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,i.Z)(function*(){return M._withPendingWrite((0,i.Z)(function*(){return yield M._withRetries(P=>Bd(P,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,i.Z)(function*(){const M=yield w._withRetries(P=>function U_(D,p){return Kc.apply(this,arguments)}(P,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,i.Z)(function*(){return w._withPendingWrite((0,i.Z)(function*(){return yield w._withRetries(M=>lg(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,i.Z)(function*(){const w=yield _._withRetries(Y=>{const he=fl(Y,!1).getAll();return new Mr(he).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:Y,value:he}of w)P.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(he)&&(_.notifyListeners(Y,he),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!P.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function V_(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:start",fe(D,p))}const Yc=1e12;class Ii{constructor(p){this.auth=p,this.counter=Yc,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new zr(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||Yc;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Yc))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,i.Z)(function*(){var w;return null===(w=_._widgets.get(p||Yc))||void 0===w||w.execute(),""})()}}class zr{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;le(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pl(D){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<D;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=Hi("rcb"),Qc=new ur(3e4,6e4);class qd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=oi().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return le(function hg(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Mt(oi().grecaptcha)?Promise.resolve(oi().grecaptcha):new Promise((w,M)=>{const P=oi().setTimeout(()=>{M(be(p,"network-request-failed"))},Qc.get());oi()[Qa]=()=>{oi().clearTimeout(P),delete oi()[Qa];const he=oi().grecaptcha;if(!he||!Mt(he))return void M(be(p,"internal-error"));const qe=he.render;he.render=(nt,vt)=>{const cn=qe(nt,vt);return this.counter++,cn},this.hostLanguage=_,w(he)},Xt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Qa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=oi().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mf{load(p){return(0,i.Z)(function*(){return new Ii(p)})()}clearedOneInstance(){}}const fg="recaptcha",gl={theme:"light",type:"image"};class mr{constructor(p,_=Object.assign({},gl),w){this.parameters=_,this.type=fg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;le(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mf:new qd,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const Y=he=>{!he||(p.tokenChangeListeners.delete(Y),P(he))};p.tokenChangeListeners.add(Y),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=oi()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){le(qt()&&!Wa(),p.auth,"internal-error"),yield function Xc(){let D=null;return new Promise(p=>{"complete"!==document.readyState?(D=()=>p(),window.addEventListener("load",D)):p()}).catch(p=>{throw D&&window.removeEventListener("load",D),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ce(D){return re.apply(this,arguments)}(p.auth);le(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Es{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Kn._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function _f(D,p,_){return ml.apply(this,arguments)}function ml(){return(ml=(0,i.Z)(function*(D,p,_){const w=Hn(D),M=yield ea(w,p,(0,B.m9)(_));return new Es(M,P=>qo(w,P))})).apply(this,arguments)}function $d(D,p,_){return zd.apply(this,arguments)}function zd(){return(zd=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D);yield ke(!1,w,"phone");const M=yield ea(w.auth,p,(0,B.m9)(_));return new Es(M,P=>Fa(w,P))})).apply(this,arguments)}function eu(D,p,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D),M=yield ea(w.auth,p,(0,B.m9)(_));return new Es(M,P=>Sd(w,P))})).apply(this,arguments)}function ea(D,p,_){return _l.apply(this,arguments)}function _l(){return(_l=(0,i.Z)(function*(D,p,_){var w;const M=yield _.verify();try{let P;if(le("string"==typeof M,D,"argument-error"),le(_.type===fg,D,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Y=P.session;if("phoneNumber"in P)return le("enroll"===Y.type,D,"internal-error"),(yield qc(D,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{le("signin"===Y.type,D,"internal-error");const he=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return le(he,D,"missing-multi-factor-info"),(yield V_(D,{mfaPendingCredential:Y.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield qu(D,{phoneNumber:P.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}})).apply(this,arguments)}function yn(D,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(D,p){yield qr((0,B.m9)(D),p)})).apply(this,arguments)}let pg=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=Hn(_)}verifyPhoneNumber(_,w){return ea(this.auth,_,(0,B.m9)(w))}static credential(_,w){return Kn._fromVerification(_,w)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?Kn._fromTokenResponse(w,M):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _r(D,p){return p?ti(p):(le(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ec extends bo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ps(p,this._buildIdpRequest())}_linkToIdToken(p,_){return ps(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return ps(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function yr(D){return Jn(D.auth,new ec(D),D.bypassAuthState)}function yl(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),el(_,new ec(D),D.bypassAuthState)}function Kd(D){return Io.apply(this,arguments)}function Io(){return(Io=(0,i.Z)(function*(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),qr(_,new ec(D),D.bypassAuthState)})).apply(this,arguments)}class Ao{constructor(p,_,w,M,P=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,i.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,i.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:P,tenantId:Y,error:he,type:qe}=p;if(he)return void _.reject(he);const nt={auth:_.auth,requestUri:w,sessionId:M,tenantId:Y||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(qe)(nt))}catch(vt){_.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return yr;case"linkViaPopup":case"linkViaRedirect":return Kd;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:Ae(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gn=new ur(2e3,1e4);function ht(D,p,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,i.Z)(function*(D,p,_){const w=Hn(D);$e(D,p,xn);const M=_r(w,_);return new Qo(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function ci(D,p,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D);$e(w.auth,p,xn);const M=_r(w.auth,_);return new Qo(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function vl(D,p,_){return tu.apply(this,arguments)}function tu(){return(tu=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D);$e(w.auth,p,xn);const M=_r(w.auth,_);return new Qo(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Qo=(()=>{class D extends Ao{constructor(_,w,M,P,Y){super(_,w,P,Y),this.provider=M,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,i.Z)(function*(){const w=yield _.execute();return le(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,i.Z)(function*(){At(1===_.filter.length,"Popup operations only handle one event");const w=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Gn.get())};_()}}return D.currentPopupAction=null,D})();const Ni=new Map;class gg extends Ao{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,i.Z)(function*(){let w=Ni.get(_.auth._key());if(!w){try{const P=(yield function Dl(D,p){return So.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(P)}catch(M){w=()=>Promise.reject(M)}Ni.set(_.auth._key(),w)}return _.bypassAuthState||Ni.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,i.Z)(function*(D,p){const _=ic(p),w=vr(D);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function Cl(D,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,i.Z)(function*(D,p){return vr(D)._set(ic(p),"true")})).apply(this,arguments)}function nr(){Ni.clear()}function Jd(D,p){Ni.set(D._key(),p)}function vr(D){return ti(D._redirectPersistence)}function ic(D){return ji("pendingRedirect",D.config.apiKey,D.name)}function Di(D,p,_){return function Mo(D,p,_){return wl.apply(this,arguments)}(D,p,_)}function wl(){return(wl=(0,i.Z)(function*(D,p,_){const w=Hn(D);$e(D,p,xn),yield w._initializationPromise;const M=_r(w,_);return yield Cl(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Pi(D,p,_){return function na(D,p,_){return nu.apply(this,arguments)}(D,p,_)}function nu(){return(nu=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D);$e(w.auth,p,xn),yield w.auth._initializationPromise;const M=_r(w.auth,_);yield Cl(M,w.auth);const P=yield Ts(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function yf(D,p,_){return function El(D,p,_){return bl.apply(this,arguments)}(D,p,_)}function bl(){return(bl=(0,i.Z)(function*(D,p,_){const w=(0,B.m9)(D);$e(w.auth,p,xn),yield w.auth._initializationPromise;const M=_r(w.auth,_);yield ke(!1,w,p.providerId),yield Cl(M,w.auth);const P=yield Ts(w);return M._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function vf(D,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,i.Z)(function*(D,p){return yield Hn(D)._initializationPromise,iu(D,p,!1)})).apply(this,arguments)}function iu(D,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,i.Z)(function*(D,p,_=!1){const w=Hn(D),M=_r(w,p),Y=yield new gg(w,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield w._persistUserIfCurrent(Y.user),yield w._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Ts(D){return oc.apply(this,arguments)}function oc(){return(oc=(0,i.Z)(function*(D){const p=Yo(`${D.uid}:::`);return D._redirectEventId=p,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),p})).apply(this,arguments)}class ia{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(D);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!ra(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(be(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tl(p))}saveEventToCache(p){this.cachedEventUids.add(Tl(p)),this.lastProcessedEventTime=Date.now()}}function Tl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(p=>p).join("-")}function ra({type:D,error:p}){return"unknown"===D&&"auth/no-auth-event"===p?.code}function oa(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,i.Z)(function*(D,p={}){return Ne(D,"GET","/v1/projects",p)})).apply(this,arguments)}const ou=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mg=/^https?/;function aa(){return(aa=(0,i.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:p}=yield oa(D);for(const _ of p)try{if(Wd(_))return}catch{}Ae(D,"unauthorized-domain")})).apply(this,arguments)}function Wd(D){const p=gt(),{protocol:_,hostname:w}=new URL(p);if(D.startsWith("chrome-extension://")){const Y=new URL(D);return""===Y.hostname&&""===w?"chrome-extension:"===_&&D.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===w}if(!mg.test(_))return!1;if(ou.test(D))return w===D;const M=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const es=new ur(3e4,6e4);function Il(){const D=oi().___jsl;if(D?.H)for(const p of Object.keys(D.H))if(D.H[p].r=D.H[p].r||[],D.H[p].L=D.H[p].L||[],D.H[p].r=[...D.H[p].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let su=null;function Wn(D){return su=su||function Df(D){return new Promise((p,_)=>{var w,M,P;function Y(){Il(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Il(),_(be(D,"network-request-failed"))},timeout:es.get()})}if(null!==(M=null===(w=oi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(P=oi().gapi)||void 0===P||!P.load){const he=Hi("iframefcb");return oi()[he]=()=>{gapi.load?Y():_(be(D,"network-request-failed"))},Xt(`https://apis.google.com/js/api.js?onload=${he}`).catch(qe=>_(qe))}Y()}}).catch(p=>{throw su=null,p})}(D),su}const ko=new ur(5e3,15e3),yg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$i=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yn(D){const p=D.config;le(p.authDomain,D,"auth-domain-config-required");const _=p.emulator?so(p,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:D.name,v:R.SDK_VERSION},M=$i.get(D.config.apiHost);M&&(w.eid=M);const P=D._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function ca(){return ca=(0,i.Z)(function*(D){const p=yield Wn(D),_=oi().gapi;return le(_,D,"internal-error"),p.open({where:document.body,url:Yn(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yg,dontclear:!0},w=>new Promise(function(){var M=(0,i.Z)(function*(P,Y){yield w.restyle({setHideOnLeave:!1});const he=be(D,"network-request-failed"),qe=oi().setTimeout(()=>{Y(he)},ko.get());function nt(){oi().clearTimeout(qe),P(w)}w.ping(nt).then(nt,()=>{Y(he)})});return function(P,Y){return M.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ee{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vt=encodeURIComponent("fac");function Ft(D,p,_,w,M,P){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,i.Z)(function*(D,p,_,w,M,P){le(D.config.authDomain,D,"auth-domain-config-required"),le(D.config.apiKey,D,"invalid-api-key");const Y={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:w,v:R.SDK_VERSION,eventId:M};if(p instanceof xn){p.setDefaultLanguage(D.languageCode),Y.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,cn]of Object.entries(P||{}))Y[vt]=cn}if(p instanceof Hs){const vt=p.getScopes().filter(cn=>""!==cn);vt.length>0&&(Y.scopes=vt.join(","))}D.tenantId&&(Y.tid=D.tenantId);const he=Y;for(const vt of Object.keys(he))void 0===he[vt]&&delete he[vt];const qe=yield D._getAppCheckToken(),nt=qe?`#${Vt}=${encodeURIComponent(qe)}`:"";return`${fn(D)}?${(0,B.xO)(he).slice(1)}${nt}`})).apply(this,arguments)}function fn({config:D}){return D.emulator?so(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}const fo="webStorageSupport",po=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wo,this._completeRedirectFn=iu,this._overrideRedirectResult=Jd}_openPopup(p,_,w,M){var P=this;return(0,i.Z)(function*(){var Y;At(null===(Y=P.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const he=yield Ft(p,_,w,gt(),M);return function me(D,p,_,w=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-w)/2,0).toString();let he="";const qe=Object.assign(Object.assign({},C),{width:w.toString(),height:M.toString(),top:P,left:Y}),nt=(0,B.z$)().toLowerCase();_&&(he=N(nt)?"_blank":_),L(nt)&&(p=p||"http://localhost",qe.scrollbars="yes");const vt=Object.entries(qe).reduce((Kr,[da,cu])=>`${Kr}${da}=${cu},`,"");if(function at(D=(0,B.z$)()){var p;return Ee(D)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==he)return function Qe(D,p){const _=document.createElement("a");_.href=D,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",he),new ee(null);const cn=window.open(p||"",he,vt);le(cn,D,"popup-blocked");try{cn.focus()}catch{}return new ee(cn)}(p,he,Yo())})()}_openRedirect(p,_,w,M){var P=this;return(0,i.Z)(function*(){return yield P._originValidation(p),function Ja(D){oi().location.href=D}(yield Ft(p,_,w,gt(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(At(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,i.Z)(function*(){const w=yield function Al(D){return ca.apply(this,arguments)}(p),M=new ia(p);return w.register("authEvent",P=>(le(P?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(fo,{type:fo},M=>{var P;const Y=null===(P=M?.[0])||void 0===P?void 0:P[fo];void 0!==Y&&_(!!Y),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function _g(D){return aa.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ut()||O()||Ee()}};class Ri extends class ir{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ri(p)}_finalizeEnroll(p,_,w){return function Ga(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:finalize",fe(D,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ai(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:finalize",fe(D,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let la=(()=>{class D{constructor(){}static assertion(_){return Ri._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var kl="@firebase/auth";class Qd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,i.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function au(D){(0,R._registerComponent)(new _e.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:Y,authDomain:he}=w.options;le(Y&&!Y.includes(":"),"invalid-api-key",{appName:w.name});const qe={apiKey:Y,authDomain:he,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bi(D)},nt=new hs(w,M,P,qe);return function Bs(D,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ti);p?.errorMap&&D._updateErrorMap(p.errorMap),D._initializeWithPersistence(w,p?.popupRedirectResolver)}(nt,_),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.wA("auth-internal",p=>{const _=Hn(p.getProvider("auth").getImmediate());return new Qd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(kl,"0.23.2",function Xd(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(kl,"0.23.2","esm2017")}("Browser")},2090:(wt,Oe,V)=>{V.d(Oe,{$s:()=>ti,BH:()=>Se,G6:()=>so,L:()=>De,LL:()=>Me,P0:()=>pt,Pz:()=>be,Sg:()=>$e,UG:()=>Ye,US:()=>_e,ZB:()=>Q,ZR:()=>Ne,aH:()=>Ae,b$:()=>qt,eu:()=>ne,hl:()=>ae,jU:()=>At,m9:()=>ji,ne:()=>$t,pd:()=>On,r3:()=>Zn,ru:()=>gt,tV:()=>z,uI:()=>le,vZ:()=>_i,w1:()=>oo,xO:()=>Br,xb:()=>Tr,z$:()=>ze,zI:()=>Ie,zd:()=>Yi});const oe=function(G){const H=[];let L=0;for(let O=0;O<G.length;O++){let N=G.charCodeAt(O);N<128?H[L++]=N:N<2048?(H[L++]=N>>6|192,H[L++]=63&N|128):55296==(64512&N)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++O)),H[L++]=N>>18|240,H[L++]=N>>12&63|128,H[L++]=N>>6&63|128,H[L++]=63&N|128):(H[L++]=N>>12|224,H[L++]=N>>6&63|128,H[L++]=63&N|128)}return H},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let N=0;N<G.length;N+=3){const W=G[N],we=N+1<G.length,We=we?G[N+1]:0,mt=N+2<G.length,Ee=mt?G[N+2]:0;let Qt=(15&We)<<2|Ee>>6,Ut=63&Ee;mt||(Ut=64,we||(Qt=64)),O.push(L[W>>2],L[(3&W)<<4|We>>4],L[Qt],L[Ut])}return O.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(oe(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let L=0,O=0;for(;L<G.length;){const N=G[L++];if(N<128)H[O++]=String.fromCharCode(N);else if(N>191&&N<224){const W=G[L++];H[O++]=String.fromCharCode((31&N)<<6|63&W)}else if(N>239&&N<365){const mt=((7&N)<<18|(63&G[L++])<<12|(63&G[L++])<<6|63&G[L++])-65536;H[O++]=String.fromCharCode(55296+(mt>>10)),H[O++]=String.fromCharCode(56320+(1023&mt))}else{const W=G[L++],we=G[L++];H[O++]=String.fromCharCode((15&N)<<12|(63&W)<<6|63&we)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const L=H?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let N=0;N<G.length;){const W=L[G.charAt(N++)],We=N<G.length?L[G.charAt(N)]:0;++N;const Ee=N<G.length?L[G.charAt(N)]:64;++N;const at=N<G.length?L[G.charAt(N)]:64;if(++N,null==W||null==We||null==Ee||null==at)throw new pe;O.push(W<<2|We>>4),64!==Ee&&(O.push(We<<4&240|Ee>>2),64!==at&&O.push(Ee<<6&192|at))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(G){return function(G){const H=oe(G);return _e.encodeByteArray(H,!0)}(G).replace(/\./g,"")},z=function(G){try{return _e.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Q(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const L in H)!H.hasOwnProperty(L)||!Ge(L)||(G[L]=Q(G[L],H[L]));return G}function Ge(G){return"__proto__"!==G}const ye=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&z(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},pt=G=>{const H=(G=>{var H,L;return null===(L=null===(H=ye())||void 0===H?void 0:H.emulatorHosts)||void 0===L?void 0:L[G]})(G);if(!H)return;const L=H.lastIndexOf(":");if(L<=0||L+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const O=parseInt(H.substring(L+1),10);return"["===H[0]?[H.substring(1,L-1),O]:[H.substring(0,L),O]},Ae=()=>{var G;return null===(G=ye())||void 0===G?void 0:G.config},be=G=>{var H;return null===(H=ye())||void 0===H?void 0:H[`_${G}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,L)=>{this.resolve=H,this.reject=L})}wrapCallback(H){return(L,O)=>{L?this.reject(L):this.resolve(O),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(L):H(L,O))}}}function $e(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=H||"demo-project",N=G.iat||0,W=G.sub||G.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:N,exp:N+3600,auth_time:N,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},G);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(we)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ye(){var G;const H=null===(G=ye())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function gt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oo(){const G=ze();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function so(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((G,H)=>{try{let L=!0;const O="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(O);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(O),G(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var W;H((null===(W=N.error)||void 0===W?void 0:W.message)||"")}}catch(L){H(L)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(H,L,O){super(L),this.code=H,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(H,L,O){this.service=H,this.serviceName=L,this.errors=O}create(H,...L){const O=L[0]||{},N=`${this.service}/${H}`,W=this.errors[H],we=W?function ct(G,H){return G.replace(xt,(L,O)=>{const N=H[O];return null!=N?String(N):`<${O}?>`})}(W,O):"Error";return new Ne(N,`${this.serviceName}: ${we} (${N}).`,O)}}const xt=/\{\$([^}]+)}/g;function Zn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Tr(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function _i(G,H){if(G===H)return!0;const L=Object.keys(G),O=Object.keys(H);for(const N of L){if(!O.includes(N))return!1;const W=G[N],we=H[N];if(Xn(W)&&Xn(we)){if(!_i(W,we))return!1}else if(W!==we)return!1}for(const N of O)if(!L.includes(N))return!1;return!0}function Xn(G){return null!==G&&"object"==typeof G}function Br(G){const H=[];for(const[L,O]of Object.entries(G))Array.isArray(O)?O.forEach(N=>{H.push(encodeURIComponent(L)+"="+encodeURIComponent(N))}):H.push(encodeURIComponent(L)+"="+encodeURIComponent(O));return H.length?"&"+H.join("&"):""}function Yi(G){const H={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[N,W]=O.split("=");H[decodeURIComponent(N)]=decodeURIComponent(W)}}),H}function On(G){const H=G.indexOf("?");if(!H)return"";const L=G.indexOf("#",H);return G.substring(H,L>0?L:void 0)}function $t(G,H){const L=new dt(G,H);return L.subscribe.bind(L)}class dt{constructor(H,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{H(this)}).catch(O=>{this.error(O)})}next(H){this.forEachObserver(L=>{L.next(H)})}error(H){this.forEachObserver(L=>{L.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,L,O){let N;if(void 0===H&&void 0===L&&void 0===O)throw new Error("Missing Observer.");N=function nn(G,H){if("object"!=typeof G||null===G)return!1;for(const L of H)if(L in G&&"function"==typeof G[L])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:L,complete:O},void 0===N.next&&(N.next=Qi),void 0===N.error&&(N.error=Qi),void 0===N.complete&&(N.complete=Qi);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),W}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,H)}sendOne(H,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{L(this.observers[H])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qi(){}function ti(G,H=1e3,L=2){const O=H*Math.pow(L,G),N=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+N)}function ji(G){return G&&G._delegate?G._delegate:G}},2849:(wt,Oe,V)=>{var i=V(4650);let B=null;function R(){return B}const pe=new i.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function De(){return(0,i.LFG)($)}()},providedIn:"platform"}),n})();const z=new i.OlP("Location Initialized");let $=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){Q()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){Q()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Ge(){return new $((0,i.LFG)(pe))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(yt)},providedIn:"root"}),n})();const ye=new i.OlP("appBaseHref");let yt=(()=>{class n extends Ce{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,a){const l=this.prepareExternalUrl(o+rt(a));this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,a){const l=this.prepareExternalUrl(o+rt(a));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pt=(()=>{class n extends Ce{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Pe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,a){let l=this.prepareExternalUrl(o+rt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,a){let l=this.prepareExternalUrl(o+rt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=xe($e(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+rt(r))}normalize(e){return n.stripTrailingSlash(function Se(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Pe,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(i.LFG(Ce))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function be(){return new Ae((0,i.LFG)(Ce))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}let Kt=(()=>{class n{constructor(e,r,o,a){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hn{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,a,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Hn(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),fs(f,o)}});for(let o=0,a=r.length;o<a;o++){const f=r.get(o).context;f.index=o,f.count=a,f.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{fs(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fs(n,t){n.context.$implicit=t.item}let _n=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ti("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ti("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yd{constructor(){this.$implicit=null,this.ngIf=null}}function Ti(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}let vd=(()=>{class n{constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,a]=e.split("."),l=-1===o.indexOf("-")?void 0:i.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,a?`${r}${a}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,o,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),xd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function Go(n){return"server"===n}let Hs=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new Ju((0,i.LFG)(pe),window)}),n})();class Ju{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function dr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const a=o.shadowRoot;if(a){const l=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sl extends class uf extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){B||(B=n)}(new sl)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function al(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==e?null:function Ud(n){Gc=Gc||document.createElement("a"),Gc.setAttribute("href",n);const t=Gc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ia(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Gc,Hc=null;const Ks=new i.OlP("TRANSITION_ID"),cl=[{provide:i.ip1,useFactory:function lf(n,t,e){return()=>{e.get(i.CZH).donePromise.then(()=>{const r=R(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<o.length;a++)r.remove(o[a])})}},deps:[Ks,pe,i.zs3],multi:!0}];let df=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const lo=new i.OlP("EventManagerPlugins");let zo=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let a=0;a<o.length;a++){const l=o[a];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(lo),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class gr{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=R().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let ul=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ko=(()=>{class n extends ul{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,o.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qc))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){R().remove(n)}const Ga={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$r=/%COMP%/g;function za(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?za(n,o,e):(o=o.replace($r,n),e.push(o))}return e}function ll(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ws=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ka(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ug(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case i.ifc.ShadowDom:return new ff(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=za(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(zo),i.LFG(Ko),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ga[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Wo(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Wo(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const a=Ga[o];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Ga[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,r,o&i.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ll(r)):this.eventManager.addEventListener(t,e,ll(r))}}function Wo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ug extends Ka{constructor(t,e,r,o){super(t),this.component=r;const a=za(o+"-"+r.id,r.styles,[]);e.addStyles(a),this.contentAttr=function $a(n){return"_ngcontent-%COMP%".replace($r,n)}(o+"-"+r.id),this.hostAttr=function Jo(n){return"_nghost-%COMP%".replace($r,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ff extends Ka{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=za(o.id,o.styles,[]);for(let l=0;l<a.length;l++){const f=document.createElement("style");f.textContent=a[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Yo=(()=>{class n extends gr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=["alt","control","meta","shift"],oi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ja={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wa=(()=>{class n extends gr{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,a.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Qs.forEach(v=>{const x=r.indexOf(v);x>-1&&(r.splice(x,1),l+=v+".")}),l+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static matchEventFullKeyCode(e,r){let o=oi[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(o=e.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Qs.forEach(l=>{l!==o&&(0,Ja[l])(e)&&(a+=l+".")}),a+=o,a===r)}static eventCallback(e,r,o){return a=>{n.matchEventFullKeyCode(a,e)&&o.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const fl=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function Xs(){sl.makeCurrent()},multi:!0},{provide:pe,useFactory:function zc(){return(0,i.RDi)(document),document},deps:[]}]),jd=new i.OlP(""),vn=[{provide:i.rWj,useClass:class Ha{addToWindow(t){i.dqk.getAngularTestability=(r,o=!0)=>{const a=t.findTestabilityInTree(r,o);if(null==a)throw new Error("Could not find testability for element.");return a},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let a=o.length,l=!1;const f=function(m){l=l||m,a--,0==a&&r(l)};o.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],Bd=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function si(){return new i.qLn},deps:[]},{provide:lo,useClass:Yo,multi:!0,deps:[pe,i.R0b,i.Lbi]},{provide:lo,useClass:Wa,multi:!0,deps:[pe]},{provide:Ws,useClass:Ws,deps:[zo,Ko,i.AFp]},{provide:i.FYo,useExisting:Ws},{provide:ul,useExisting:Ko},{provide:Ko,useClass:Ko,deps:[pe]},{provide:zo,useClass:zo,deps:[lo,i.R0b]},{provide:class Wu{},useClass:df,deps:[]},[]];let Ya=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:i.AFp,useValue:e.appId},{provide:Ks,useExisting:i.AFp},cl]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(jd,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...Bd,...vn],imports:[xd,i.hGG]}),n})(),pf=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function dg(){return new pf((0,i.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):i.LFG(ea),r},providedIn:"root"}),n})(),ea=(()=>{class n extends eu{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Xa(n){return new ea(n.get(pe))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();var yn=V(8996),Ai=V(9751);const{isArray:pg}=Array,{getPrototypeOf:_r,prototype:ec,keys:yr}=Object;function yl(n){if(1===n.length){const t=n[0];if(pg(t))return{args:t,keys:null};if(function Kd(n){return n&&"object"==typeof n&&_r(n)===ec}(t)){const e=yr(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Io=V(8421),Ao=V(7669),Gn=V(5403),ht=V(4004);const{isArray:tc}=Array;function nc(n){return(0,ht.U)(t=>function ci(n,t){return tc(t)?n(...t):n(t)}(n,t))}function vl(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}let Qo=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),bs=(()=>{class n extends Qo{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Ni=new i.OlP("NgValueAccessor"),So={provide:Ni,useExisting:(0,i.Gpc)(()=>nr),multi:!0},ta=new i.OlP("CompositionEventMode");let nr=(()=>{class n extends Qo{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(ta,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[i._Bn([So]),i.qOj]}),n})();function vr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ic(n){return null!=n&&"number"==typeof n.length}const Di=new i.OlP("NgValidators"),Mo=new i.OlP("NgAsyncValidators"),wl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pi{static min(t){return function na(n){return t=>{if(vr(t.value)||vr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function nu(n){return t=>{if(vr(t.value)||vr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return yf(t)}static requiredTrue(t){return function El(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bl(n){return vr(n.value)||wl.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function vf(n){return t=>vr(t.value)||!ic(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return rc(t)}static pattern(t){return function iu(n){if(!n)return Xo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(vr(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return xl(t)}static composeAsync(t){return sa(t)}}function yf(n){return vr(n.value)?{required:!0}:null}function rc(n){return t=>ic(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Xo(n){return null}function Ts(n){return null!=n}function oc(n){return(0,i.QGY)(n)?(0,yn.D)(n):n}function ru(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ia(n,t){return t.map(e=>e(n))}function ra(n){return n.map(t=>function Tl(n){return!n.validate}(t)?t:e=>t.validate(e))}function xl(n){if(!n)return null;const t=n.filter(Ts);return 0==t.length?null:function(e){return ru(ia(e,t))}}function oa(n){return null!=n?xl(ra(n)):null}function sa(n){if(!n)return null;const t=n.filter(Ts);return 0==t.length?null:function(e){return function tu(...n){const t=(0,Ao.jO)(n),{args:e,keys:r}=yl(n),o=new Ai.y(a=>{const{length:l}=e;if(!l)return void a.complete();const f=new Array(l);let m=l,v=l;for(let x=0;x<l;x++){let I=!1;(0,Io.Xf)(e[x]).subscribe((0,Gn.x)(a,F=>{I||(I=!0,v--),f[x]=F},()=>m--,void 0,()=>{(!m||!I)&&(v||a.next(r?vl(r,f):f),a.complete())}))}});return t?o.pipe(nc(t)):o}(ia(e,t).map(oc)).pipe((0,ht.U)(ru))}}function ou(n){return null!=n?sa(ra(n)):null}function mg(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function _g(n){return n._rawValidators}function aa(n){return n._rawAsyncValidators}function Wd(n){return n?Array.isArray(n)?n:[n]:[]}function es(n,t){return Array.isArray(n)?n.includes(t):n===t}function Il(n,t){const e=Wd(t);return Wd(n).forEach(o=>{es(e,o)||e.push(o)}),e}function Df(n,t){return Wd(t).filter(e=>!es(n,e))}class su{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oa(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ou(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Wn extends su{get formDirective(){return null}get path(){return null}}class ko extends su{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ho{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $i=(()=>{class n extends ho{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ko,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),Yn=(()=>{class n extends ho{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Wn,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const po="VALID",ir="INVALID",Ri="PENDING",la="DISABLED";function wf(n){return(kl(n)?n.validators:n)||null}function Yd(n){return Array.isArray(n)?oa(n):n||null}function Sl(n,t){return(kl(t)?t.asyncValidators:n)||null}function Ml(n){return Array.isArray(n)?ou(n):n||null}function kl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Nl(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[e])throw new i.vHH(1001,"")}function Qd(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new i.vHH(1002,"")})}class Xd{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Yd(this._rawValidators),this._composedAsyncValidatorFn=Ml(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===po}get invalid(){return this.status===ir}get pending(){return this.status==Ri}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Yd(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ml(t)}addValidators(t){this.setValidators(Il(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Il(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Df(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Df(t,this._rawAsyncValidators))}hasValidator(t){return es(this._rawValidators,t)}hasAsyncValidator(t){return es(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ri,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=la,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=po,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===po||this.status===Ri)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ri,this._hasOwnPendingAsyncValidator=!0;const e=oc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ri)?Ri:this._anyControlsHaveStatus(ir)?ir:po}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class au extends Xd{constructor(t,e,r){super(wf(e),Sl(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Qd(this,0,t),Object.keys(t).forEach(r=>{Nl(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,a)=>{r=e(r,o,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Ef extends au{}function Pl(n,t){return[...t.path,n]}function D(n,t){M(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Y(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qe(n,t)})}(n,t),function nt(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function he(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qe(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function w(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function p(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),P(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function M(n,t){const e=_g(n);null!==t.validator?n.setValidators(mg(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=aa(n);null!==t.asyncValidator?n.setAsyncValidators(mg(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_(t._rawValidators,o),_(t._rawAsyncValidators,o)}function P(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=_g(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==t.validator);a.length!==o.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const o=aa(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==t.asyncValidator);a.length!==o.length&&(e=!0,n.setAsyncValidators(a))}}}const r=()=>{};return _(t._rawValidators,r),_(t._rawAsyncValidators,r),e}function qe(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vt(n,t){M(n,t)}function uu(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Tf(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ol(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(a=>{a.constructor===nr?e=a:function th(n){return Object.getPrototypeOf(n.constructor)===bs}(a)?r=a:o=a}),o||r||e||null}const xs={provide:Wn,useExisting:(0,i.Gpc)(()=>go)},sc=(()=>Promise.resolve())();let go=(()=>{class n extends Wn{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.vpe,this.form=new au({},oa(e),ou(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sc.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),D(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sc.then(()=>{const r=this._findContainer(e.path),o=new au({});vt(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){sc.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Tf(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Di,10),i.Y36(Mo,10))},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([xs]),i.qOj]}),n})();function nh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Z_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lu=class extends Xd{constructor(t=null,e,r){super(wf(e),Sl(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Z_(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Z_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},G_={provide:ko,useExisting:(0,i.Gpc)(()=>No)},Cg=(()=>Promise.resolve())();let No=(()=>{class n extends ko{constructor(e,r,o,a,l){super(),this._changeDetectorRef=l,this.control=new lu,this._registered=!1,this.update=new i.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ol(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Cg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,i.D6c)(r);Cg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Pl(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Wn,9),i.Y36(Di,10),i.Y36(Mo,10),i.Y36(Ni,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([G_]),i.qOj,i.TTD]}),n})(),Nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const X1={provide:Ni,useExisting:(0,i.Gpc)(()=>wg),multi:!0};let wg=(()=>{class n extends bs{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([X1]),i.qOj]}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const K_=new i.OlP("NgModelWithFormControlWarning"),iT={provide:Wn,useExisting:(0,i.Gpc)(()=>hu)};let hu=(()=>{class n extends Wn{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return D(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){p(e.control||null,e,!1),function xf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Tf(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(p(r||null,e),(n=>n instanceof lu)(o)&&(D(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);vt(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function cn(n,t){return P(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&P(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Di,10),i.Y36(Mo,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([iT]),i.qOj,i.TTD]}),n})();const VD={provide:ko,useExisting:(0,i.Gpc)(()=>ih)};let ih=(()=>{class n extends ko{constructor(e,r,o,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ol(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),uu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Pl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(i.Y36(Wn,13),i.Y36(Di,10),i.Y36(Mo,10),i.Y36(Ni,10),i.Y36(K_,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([VD]),i.qOj,i.TTD]}),n})();const Rl={provide:Ni,useExisting:(0,i.Gpc)(()=>Tg),multi:!0};function ZD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Tg=(()=>{class n extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=ZD(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function oT(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([Rl]),i.qOj]}),n})(),jD=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ZD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Tg,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const sT={provide:Ni,useExisting:(0,i.Gpc)(()=>W_),multi:!0};function ha(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let W_=(()=>{class n extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const o=e.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const o=[],a=r.selectedOptions;if(void 0!==a){const l=a;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);o.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);o.push(v)}}}this.value=o,e(o)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function rh(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([sT]),i.qOj]}),n})(),BD=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ha(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ha(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(W_,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Fl=(()=>{class n{constructor(){this._validator=Xo}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const cT={provide:Di,useExisting:(0,i.Gpc)(()=>rr),multi:!0};let rr=(()=>{class n extends Fl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.D6c,this.createValidator=e=>yf}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[i._Bn([cT]),i.qOj]}),n})();const ck={provide:Di,useExisting:(0,i.Gpc)(()=>WD),multi:!0};let WD=(()=>{class n extends Fl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function HD(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>rc(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i._Bn([ck]),i.qOj]}),n})(),YD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[q_]}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[YD]}),n})(),QD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:K_,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[YD]}),n})();class XD extends Xd{constructor(t,e,r){super(wf(e),Sl(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Qd(this,0,t),t.forEach((r,o)=>{Nl(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function ey(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Sf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let a={};return ey(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new au(o,a)}record(e,r=null){const o=this._reduceControls(e);return new Ef(o,r)}control(e,r,o){let a={};return this.useNonNullable?(ey(r)?a=r:(a.validators=r,a.asyncValidators=o),new lu(e,{...a,nonNullable:!0})):new lu(e,r,o)}array(e,r,o){const a=e.map(l=>this._createControl(l));return new XD(a,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof lu||e instanceof Xd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:QD}),n})();class eC{}const fa="*";function pT(n,t){return{type:7,name:n,definitions:t,options:{}}}function tC(n,t=null){return{type:4,styles:t,timings:n}}function nC(n,t=null){return{type:2,steps:n,options:t}}function Mf(n){return{type:6,styles:n,offset:null}}function iC(n,t,e){return{type:0,name:n,styles:t,options:e}}function sh(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ny(n){Promise.resolve().then(n)}class ah{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ny(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Ag{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const a=this.players.length;0==a?ny(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Sg(n){return new i.vHH(3e3,!1)}function RT(){return typeof window<"u"&&typeof window.document<"u"}function Ng(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ac(n){switch(n.length){case 0:return new ah;case 1:return n[0];default:return new Ag(n)}}function Pg(n,t,e,r,o=new Map,a=new Map){const l=[],f=[];let m=-1,v=null;if(r.forEach(x=>{const I=x.get("offset"),F=I==m,j=F&&v||new Map;x.forEach((q,te)=>{let se=te,Ve=q;if("offset"!==te)switch(se=t.normalizePropertyName(se,l),Ve){case"!":Ve=o.get(te);break;case fa:Ve=a.get(te);break;default:Ve=t.normalizeStyleValue(te,se,Ve,l)}j.set(se,Ve)}),F||f.push(j),v=j,m=I}),l.length)throw function AT(n){return new i.vHH(3502,!1)}();return f}function Pf(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&ay(e,"start",n)));break;case"done":n.onDone(()=>r(e&&ay(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&ay(e,"destroy",n)))}}function ay(n,t,e){const a=Of(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(a._data=l),a}function Of(n,t,e,r,o="",a=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:a,disabled:!!l}}function Dr(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function dC(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let cy=(n,t)=>!1,hC=(n,t,e)=>[],fC=null;function uy(n){const t=n.parentNode||n.host;return t===fC?null:t}(Ng()||typeof Element<"u")&&(RT()?(fC=(()=>document.documentElement)(),cy=(n,t)=>{for(;t;){if(t===n)return!0;t=uy(t)}return!1}):cy=(n,t)=>n.contains(t),hC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let ts=null,pa=!1;const UT=cy,ly=hC;let dy=(()=>{class n{validateStyleProperty(e){return function LT(n){ts||(ts=function _k(){return typeof document<"u"?document.body:null}()||{},pa=!!ts.style&&"WebkitAppearance"in ts.style);let t=!0;return ts.style&&!function FT(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ts.style,!t&&pa&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ts.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return UT(e,r)}getParentElement(e){return uy(e)}query(e,r,o){return ly(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,a,l,f=[],m){return new ah(o,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),pC=(()=>{class n{}return n.NOOP=new dy,n})();const hy="ng-enter",Og="ng-leave",mo="ng-trigger",Rg=".ng-trigger",fy="ng-animating",py=".ng-animating";function cc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gy(parseFloat(t[1]),t[2])}function gy(n,t){return"s"===t?1e3*n:n}function Fg(n,t,e){return n.hasOwnProperty("duration")?n:function yC(n,t,e){let o,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(Sg()),{duration:0,delay:0,easing:""};o=gy(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=gy(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else o=n;if(!e){let f=!1,m=t.length;o<0&&(t.push(function sC(){return new i.vHH(3100,!1)}()),f=!0),a<0&&(t.push(function aC(){return new i.vHH(3101,!1)}()),f=!0),f&&t.splice(m,0,Sg())}return{duration:o,delay:a,easing:l}}(n,t,e)}function Rf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function vC(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function uc(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function my(n,t,e){return e?t+":"+e+";":""}function _y(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=my(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=my(0,Zl(e),n.style[e]));n.setAttribute("style",t)}function ga(n,t,e){n.style&&(t.forEach((r,o)=>{const a=Ug(o);e&&!e.has(o)&&e.set(o,n.style[a]),n.style[a]=r}),Ng()&&_y(n))}function Vl(n,t){n.style&&(t.forEach((e,r)=>{const o=Ug(r);n.style[o]=""}),Ng()&&_y(n))}function lh(n){return Array.isArray(n)?1==n.length?n[0]:nC(n):n}const Lg=new RegExp("{{\\s*(.+?)\\s*}}","g");function DC(n){let t=[];if("string"==typeof n){let e;for(;e=Lg.exec(n);)t.push(e[1]);Lg.lastIndex=0}return t}function Ff(n,t,e){const r=n.toString(),o=r.replace(Lg,(a,l)=>{let f=t[l];return null==f&&(e.push(function yT(n){return new i.vHH(3003,!1)}()),f=""),f.toString()});return o==r?n:o}function yy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CC=/-+([a-z0-9])/g;function Ug(n){return n.replace(CC,(...t)=>t[1].toUpperCase())}function Zl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function iy(n){return new i.vHH(3004,!1)}()}}function wC(n,t){return window.getComputedStyle(n)[t]}function HT(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bC(n,t,e){if(":"==n[0]){const m=function Vg(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function xT(n){return new i.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function TT(n){return new i.vHH(3015,!1)}()),t;const o=r[1],a=r[2],l=r[3];t.push(TC(o,l));"<"==a[0]&&!("*"==o&&"*"==l)&&t.push(TC(l,o))}(r,e,t)):e.push(n),e}const Zg=new Set(["true","1"]),Lf=new Set(["false","0"]);function TC(n,t){const e=Zg.has(n)||Lf.has(n),r=Zg.has(t)||Lf.has(t);return(o,a)=>{let l="*"==n||n==o,f="*"==t||t==a;return!l&&e&&"boolean"==typeof o&&(l=o?Zg.has(n):Lf.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?Zg.has(t):Lf.has(t)),l&&f}}const GT=new RegExp("s*:selfs*,?","g");function wy(n,t,e,r){return new AC(n).build(t,e,r)}class AC{constructor(t){this._driver=t}build(t,e,r){const o=new MC(e);return this._resetContextStyleTimingState(o),Jr(this,lh(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const a=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function vT(){return new i.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,a.push(this.visitState(m,e))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,e);r+=m.queryCount,o+=m.depCount,l.push(m)}else e.errors.push(function ry(){return new i.vHH(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:l,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=o||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{DC(m).forEach(v=>{l.hasOwnProperty(v)||a.add(v)})})}),a.size&&(yy(a.values()),e.errors.push(function kg(n,t){return new i.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Jr(this,lh(t.animation),e);return{type:1,matchers:HT(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:dc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Jr(this,r,e)),options:dc(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const a=t.steps.map(l=>{e.currentTime=r;const f=Jr(this,l,e);return o=Math.max(o,e.currentTime),f});return e.currentTime=o,{type:3,steps:a,options:dc(t.options)}}visitAnimate(t,e){const r=function Dk(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return by(Fg(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=by(0,0,"");return a.dynamic=!0,a.strValue=e,a}const o=Fg(e,t);return by(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,a=t.styles?t.styles:Mf({});if(5==a.type)o=this.visitKeyframes(a,e);else{let l=t.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=Mf(v)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,e);m.isEmptyStep=f,o=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of o)"string"==typeof f?f===fa?r.push(f):e.errors.push(new i.vHH(3002,!1)):r.push(vC(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let m of f.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),x=v.get(m);let I=!0;x&&(a!=o&&a>=x.startTime&&o<=x.endTime&&(e.errors.push(function oy(n,t,e,r,o){return new i.vHH(3010,!1)}()),I=!1),a=x.startTime),I&&v.set(m,{startTime:a,endTime:o}),e.options&&function ZT(n,t,e){const r=t.params||{},o=DC(n);o.length&&o.forEach(a=>{r.hasOwnProperty(a)||e.push(function Ll(n){return new i.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function CT(){return new i.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,m=!1,v=0;const x=t.steps.map(Ve=>{const Be=this._makeStyleAst(Ve,e);let je=null!=Be.offset?Be.offset:function Ey(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Be.styles),Je=0;return null!=je&&(a++,Je=Be.offset=je),m=m||Je<0||Je>1,f=f||Je<v,v=Je,l.push(Je),Be});m&&e.errors.push(function wT(){return new i.vHH(3012,!1)}()),f&&e.errors.push(function cC(){return new i.vHH(3200,!1)}());const I=t.steps.length;let F=0;a>0&&a<I?e.errors.push(function ch(){return new i.vHH(3202,!1)}()):0==a&&(F=1/(I-1));const j=I-1,q=e.currentTime,te=e.currentAnimateTimings,se=te.duration;return x.forEach((Ve,Be)=>{const je=F>0?Be==j?1:F*Be:l[Be],Je=je*se;e.currentTime=q+te.delay+Je,te.duration=Je,this._validateStyleAst(Ve,e),Ve.offset=je,r.styles.push(Ve)}),r}visitReference(t,e){return{type:8,animation:Jr(this,lh(t.animation),e),options:dc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[a,l]=function qT(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(GT,"")),n=n.replace(/@\*/g,Rg).replace(/@\w+/g,e=>Rg+"-"+e.slice(1)).replace(/:animating/g,py),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+a:a,Dr(e.collectedStyles,e.currentQuerySelector,new Map);const f=Jr(this,lh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:f,originalSelector:t.selector,options:dc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ET(){return new i.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fg(t.timings,e.errors,!0);return{type:12,animation:Jr(this,lh(t.animation),e),timings:r,options:null}}}class MC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dc(n){return n?(n=Rf(n)).params&&(n.params=function SC(n){return n?Rf(n):null}(n.params)):n={},n}function by(n,t,e){return{duration:n,delay:t,easing:e}}function kC(n,t,e,r,o,a,l=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:a,totalTime:o+a,easing:l,subTimeline:f}}class hc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const jg=new RegExp(":enter","g"),OC=new RegExp(":leave","g");function Ty(n,t,e,r,o,a=new Map,l=new Map,f,m,v=[]){return(new xy).buildKeyframes(n,t,e,r,o,a,l,f,m,v)}class xy{buildKeyframes(t,e,r,o,a,l,f,m,v,x=[]){v=v||new hc;const I=new Uf(t,e,v,o,a,x,[]);I.options=m;const F=m.delay?cc(m.delay):0;I.currentTimeline.delayNextStep(F),I.currentTimeline.setStyles([l],null,I.errors,m),Jr(this,r,I);const j=I.timelines.filter(q=>q.containsAnimation());if(j.length&&f.size){let q;for(let te=j.length-1;te>=0;te--){const se=j[te];if(se.element===e){q=se;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,I.errors,m)}return j.length?j.map(q=>q.buildKeyframes()):[kC(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),a=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);a!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const o of t){const a=o?.delay;if(a){const l="number"==typeof a?a:cc(Ff(a,o?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let a=e.currentTimeline.currentTime;const l=null!=r.duration?cc(r.duration):null,f=null!=r.delay?cc(r.delay):null;return 0!==l&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,l,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Jr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const a=t.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ns);const l=cc(a.delay);o.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Jr(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?cc(t.options.delay):0;t.steps.forEach(l=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),Jr(this,l,f),o=Math.max(o,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Fg(e.params?Ff(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(a):r.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,a=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(o+a),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},a=o.delay?cc(o.delay):0;a&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ns);let l=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((v,x)=>{e.currentQueryIndex=x;const I=e.createSubContext(t.options,v);a&&I.delayNextStep(a),v===e.element&&(m=I.currentTimeline),Jr(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,a=t.timings,l=Math.abs(a.duration),f=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const x=e.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;Jr(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-I+(o.startTime-r.currentTimeline.startTime)}}const ns={};class Uf{constructor(t,e,r,o,a,l,f,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ns,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Vf(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=cc(r.duration)),null!=r.delay&&(o.delay=cc(r.delay));const a=r.params;if(a){let l=o.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!l.hasOwnProperty(f))&&(l[f]=Ff(a[f],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,a=new Uf(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=ns,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},a=new Iy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,a,l){let f=[];if(o&&f.push(this.element),t.length>0){t=(t=t.replace(jg,"."+this._enterClassName)).replace(OC,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&l.push(function bT(n){return new i.vHH(3014,!1)}()),f}}class Vf{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||fa),this._currentKeyframe.set(e,fa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&this._previousKeyframe.set("easing",e);const a=o&&o.params||{},l=function RC(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let a of r)e.set(a,fa)}else uc(o,e)}),e}(t,this._globalTimelineStyles);for(let[f,m]of l){const v=Ff(m,a,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??fa),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,m)=>{const v=uc(f,new Map,this._backFill);v.forEach((x,I)=>{"!"===x?t.add(I):x===fa&&e.add(I)}),r||v.set("offset",m/this.duration),o.push(v)});const a=t.size?yy(t.values()):[],l=e.size?yy(e.values()):[];if(r){const f=o[0],m=new Map(f);f.set("offset",0),m.set("offset",1),o=[f,m]}return kC(this.element,o,a,l,this.duration,this.startTime,this.easing,!1)}}class Iy extends Vf{constructor(t,e,r,o,a,l,f=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],l=r+e,f=e/l,m=uc(t[0]);m.set("offset",0),a.push(m);const v=uc(t[0]);v.set("offset",$T(f)),a.push(v);const x=t.length-1;for(let I=1;I<=x;I++){let F=uc(t[I]);const j=F.get("offset");F.set("offset",$T((e+j*r)/l)),a.push(F)}r=l,e=0,o="",t=a}return kC(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function $T(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dh{}const Sy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class My extends dh{normalizePropertyName(t,e){return Ug(t)}normalizeStyleValue(t,e,r,o){let a="";const l=r.toString().trim();if(Sy.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(function Mg(n,t){return new i.vHH(3005,!1)}())}return l+a}}function Bg(n,t,e,r,o,a,l,f,m,v,x,I,F){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:I,errors:F}}const FC={};class LC{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function zT(n,t,e,r,o){return n.some(a=>a(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,a,l,f,m,v,x){const I=[],F=this.ast.options&&this.ast.options.params||FC,q=this.buildStyles(r,f&&f.params||FC,I),te=m&&m.params||FC,se=this.buildStyles(o,te,I),Ve=new Set,Be=new Map,je=new Map,Je="void"===o,Nt={params:KT(te,F),delay:this.ast.options?.delay},Rt=x?[]:Ty(t,e,this.ast.animation,a,l,q,se,Nt,v,I);let pn=0;if(Rt.forEach(wo=>{pn=Math.max(wo.duration+wo.delay,pn)}),I.length)return Bg(e,this._triggerName,r,o,Je,q,se,[],[],Be,je,pn,I);Rt.forEach(wo=>{const md=wo.element,y6=Dr(Be,md,new Set);wo.preStyleProps.forEach(ng=>y6.add(ng));const OD=Dr(je,md,new Set);wo.postStyleProps.forEach(ng=>OD.add(ng)),md!==e&&Ve.add(md)});const Si=yy(Ve.values());return Bg(e,this._triggerName,r,o,Je,q,se,Rt,Si,Be,je,pn)}}function KT(n,t){const e=Rf(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class UC{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=Rf(this.defaultParams);return Object.keys(t).forEach(a=>{const l=t[a];null!==l&&(o[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=Ff(l,o,e));const m=this.normalizer.normalizePropertyName(f,e);l=this.normalizer.normalizeStyleValue(f,m,l,e),r.set(m,l)})}),r}}class JT{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new UC(o.style,o.options&&o.options.params||{},r))}),ky(this.states,"true","1"),ky(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new LC(t,o,this.states))}),this.fallbackTransition=function Ek(n,t,e){return new LC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(l=>l.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function ky(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const VC=new hc;class WT{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],a=wy(this._driver,e,r,[]);if(r.length)throw function lC(n){return new i.vHH(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,r){const o=t.element,a=Pg(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],a=this._animations.get(t);let l;const f=new Map;if(a?(l=Ty(this._driver,e,a,hy,Og,new Map,new Map,r,VC,o),l.forEach(x=>{const I=Dr(f,x.element,new Map);x.postStyleProps.forEach(F=>I.set(F,null))})):(o.push(function fk(){return new i.vHH(3300,!1)}()),l=[]),o.length)throw function ST(n){return new i.vHH(3504,!1)}();f.forEach((x,I)=>{x.forEach((F,j)=>{x.set(j,this._driver.computeStyle(I,j,fa))})});const v=ac(l.map(x=>{const I=f.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function kf(n){return new i.vHH(3301,!1)}();return e}listen(t,e,r,o){const a=Of(e,"","","");return Pf(this._getPlayer(t),r,a,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const a=this._getPlayer(t);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Hg="ng-animate-queued",ZC="ng-animate-disabled",Ak=[],YT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},As="__ng_removed";class jC{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Ny(n){return n??null}(r?t.value:t),r){const a=Rf(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const is="void",Zf=new jC(is);class QT{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Po(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function MT(n,t){return new i.vHH(3302,!1)}();if(null==r||0==r.length)throw function uh(n){return new i.vHH(3303,!1)}();if(!function fu(n){return"start"==n||"done"==n}(r))throw function Nf(n,t){return new i.vHH(3400,!1)}();const a=Dr(this._elementListeners,t,[]),l={name:e,phase:r,callback:o};a.push(l);const f=Dr(this._engine.statesByElement,t,new Map);return f.has(e)||(Po(t,mo),Po(t,mo+"-"+e),f.set(e,Zf)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(l);m>=0&&a.splice(m,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function kT(n){return new i.vHH(3401,!1)}();return e}trigger(t,e,r,o=!0){const a=this._getTrigger(e),l=new jf(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Po(t,mo),Po(t,mo+"-"+e),this._engine.statesByElement.set(t,f=new Map));let m=f.get(e);const v=new jC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(e,v),m||(m=Zf),v.value!==is&&m.value===v.value){if(!function Oy(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const a=e[o];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(m.params,v.params)){const te=[],se=a.matchStyles(m.value,m.params,te),Ve=a.matchStyles(v.value,v.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Vl(t,se),ga(t,Ve)})}return}const F=Dr(this._engine.playersByElement,t,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let j=a.matchTransition(m.value,v.value,t,v.params),q=!1;if(!j){if(!o)return;j=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:m,toState:v,player:l,isFallbackTransition:q}),q||(Po(t,Hg),l.onStart(()=>{hh(t,Hg)})),l.onDone(()=>{let te=this.players.indexOf(l);te>=0&&this.players.splice(te,1);const se=this._engine.playersByElement.get(t);if(se){let Ve=se.indexOf(l);Ve>=0&&se.splice(Ve,1)}}),this.players.push(l),F.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Rg,!0);r.forEach(o=>{if(o[As])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const a=this._engine.statesByElement.get(t),l=new Map;if(a){const f=[];if(a.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const x=this.trigger(t,v,is,o);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&ac(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(a=>{const l=a.name;if(o.has(l))return;o.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||Zf,x=new jC(is),I=new jf(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:m,fromState:v,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(t):[];if(a&&a.length)o=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const a=t[As];(!a||a===YT)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Po(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=Of(a,r.triggerName,r.fromState.value,r.toState.value);m._data=t,Pf(r.player,f.phase,m,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const a=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class BC{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new QT(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(e);for(;f;){const m=o.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,t),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&e.add(a)}return e}trigger(t,e,r,o){if(Gg(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!Gg(e))return;const a=e[As];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Po(t,ZC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hh(t,ZC))}removeNode(t,e,r,o){if(Gg(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,a){this.collectedLeaveElements.push(e),e[As]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,r,o,a){return Gg(e)?this._fetchNamespace(t).listen(e,r,o,a):()=>{}}_buildInstruction(t,e,r,o,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Rg,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,py,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ac(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[As];if(e&&e.setForRemoval){if(t[As]=YT,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ZC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Po(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ac(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function pk(n){return new i.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new hc,o=[],a=new Map,l=[],f=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Et=>{x.add(Et);const jt=this.driver.query(Et,".ng-animate-queued",!0);for(let Gt=0;Gt<jt.length;Gt++)x.add(jt[Gt])});const I=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=qC(F,this.collectedEnterElements),q=new Map;let te=0;j.forEach((Et,jt)=>{const Gt=hy+te++;q.set(jt,Gt),Et.forEach(In=>Po(In,Gt))});const se=[],Ve=new Set,Be=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const jt=this.collectedLeaveElements[Et],Gt=jt[As];Gt&&Gt.setForRemoval&&(se.push(jt),Ve.add(jt),Gt.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(In=>Ve.add(In)):Be.add(jt))}const je=new Map,Je=qC(F,Array.from(Ve));Je.forEach((Et,jt)=>{const Gt=Og+te++;je.set(jt,Gt),Et.forEach(In=>Po(In,Gt))}),t.push(()=>{j.forEach((Et,jt)=>{const Gt=q.get(jt);Et.forEach(In=>hh(In,Gt))}),Je.forEach((Et,jt)=>{const Gt=je.get(jt);Et.forEach(In=>hh(In,Gt))}),se.forEach(Et=>{this.processLeaveNode(Et)})});const Nt=[],Rt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Gt=>{const In=Gt.player,jr=Gt.element;if(Nt.push(In),this.collectedEnterElements.length){const Eo=jr[As];if(Eo&&Eo.setForMove){if(Eo.previousTriggersValues&&Eo.previousTriggersValues.has(Gt.triggerName)){const ig=Eo.previousTriggersValues.get(Gt.triggerName),Ta=this.statesByElement.get(Gt.element);if(Ta&&Ta.has(Gt.triggerName)){const W1=Ta.get(Gt.triggerName);W1.value=ig,Ta.set(Gt.triggerName,W1)}}return void In.destroy()}}const Zu=!I||!this.driver.containsElement(I,jr),js=je.get(jr),Xh=q.get(jr),Mi=this._buildInstruction(Gt,r,Xh,js,Zu);if(Mi.errors&&Mi.errors.length)return void Rt.push(Mi);if(Zu)return In.onStart(()=>Vl(jr,Mi.fromStyles)),In.onDestroy(()=>ga(jr,Mi.toStyles)),void o.push(In);if(Gt.isFallbackTransition)return In.onStart(()=>Vl(jr,Mi.fromStyles)),In.onDestroy(()=>ga(jr,Mi.toStyles)),void o.push(In);const C6=[];Mi.timelines.forEach(Eo=>{Eo.stretchStartingKeyframe=!0,this.disabledNodes.has(Eo.element)||C6.push(Eo)}),Mi.timelines=C6,r.append(jr,Mi.timelines),l.push({instruction:Mi,player:In,element:jr}),Mi.queriedElements.forEach(Eo=>Dr(f,Eo,[]).push(In)),Mi.preStyleProps.forEach((Eo,ig)=>{if(Eo.size){let Ta=m.get(ig);Ta||m.set(ig,Ta=new Set),Eo.forEach((W1,rk)=>Ta.add(rk))}}),Mi.postStyleProps.forEach((Eo,ig)=>{let Ta=v.get(ig);Ta||v.set(ig,Ta=new Set),Eo.forEach((W1,rk)=>Ta.add(rk))})});if(Rt.length){const Et=[];Rt.forEach(jt=>{Et.push(function PT(n,t){return new i.vHH(3505,!1)}())}),Nt.forEach(jt=>jt.destroy()),this.reportError(Et)}const pn=new Map,Si=new Map;l.forEach(Et=>{const jt=Et.element;r.has(jt)&&(Si.set(jt,jt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,pn))}),o.forEach(Et=>{const jt=Et.element;this._getPreviousPlayers(jt,!1,Et.namespaceId,Et.triggerName,null).forEach(In=>{Dr(pn,jt,[]).push(In),In.destroy()})});const wo=se.filter(Et=>Bl(Et,m,v)),md=new Map;GC(md,this.driver,Be,v,fa).forEach(Et=>{Bl(Et,m,v)&&wo.push(Et)});const OD=new Map;j.forEach((Et,jt)=>{GC(OD,this.driver,new Set(Et),m,"!")}),wo.forEach(Et=>{const jt=md.get(Et),Gt=OD.get(Et);md.set(Et,new Map([...Array.from(jt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const ng=[],v6=[],D6={};l.forEach(Et=>{const{element:jt,player:Gt,instruction:In}=Et;if(r.has(jt)){if(x.has(jt))return Gt.onDestroy(()=>ga(jt,In.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(In.totalTime),void o.push(Gt);let jr=D6;if(Si.size>1){let js=jt;const Xh=[];for(;js=js.parentNode;){const Mi=Si.get(js);if(Mi){jr=Mi;break}Xh.push(js)}Xh.forEach(Mi=>Si.set(Mi,jr))}const Zu=this._buildAnimation(Gt.namespaceId,In,pn,a,OD,md);if(Gt.setRealPlayer(Zu),jr===D6)ng.push(Gt);else{const js=this.playersByElement.get(jr);js&&js.length&&(Gt.parentPlayer=ac(js)),o.push(Gt)}}else Vl(jt,In.fromStyles),Gt.onDestroy(()=>ga(jt,In.toStyles)),v6.push(Gt),x.has(jt)&&o.push(Gt)}),v6.forEach(Et=>{const jt=a.get(Et.element);if(jt&&jt.length){const Gt=ac(jt);Et.setRealPlayer(Gt)}}),o.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<se.length;Et++){const jt=se[Et],Gt=jt[As];if(hh(jt,Og),Gt&&Gt.hasAnimation)continue;let In=[];if(f.size){let Zu=f.get(jt);Zu&&Zu.length&&In.push(...Zu);let js=this.driver.query(jt,py,!0);for(let Xh=0;Xh<js.length;Xh++){let Mi=f.get(js[Xh]);Mi&&Mi.length&&In.push(...Mi)}}const jr=In.filter(Zu=>!Zu.destroyed);jr.length?XT(this,jt,jr):this.processLeaveNode(jt)}return se.length=0,ng.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const jt=this.players.indexOf(Et);this.players.splice(jt,1)}),Et.play()}),ng}elementContainsData(t,e){let r=!1;const o=e[As];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,a){let l=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(l=f)}else{const f=this.playersByElement.get(t);if(f){const m=!a||a==is;f.forEach(v=>{v.queued||!m&&v.triggerName!=o||l.push(v)})}}return(r||o)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||o&&o!=f.triggerName))),l}_beforeAnimationBuild(t,e,r){const a=e.element,l=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,x=v!==a,I=Dr(r,v,[]);this._getPreviousPlayers(v,x,l,f,e.toState).forEach(j=>{const q=j.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),j.destroy(),I.push(j)})}Vl(a,e.fromStyles)}_buildAnimation(t,e,r,o,a,l){const f=e.triggerName,m=e.element,v=[],x=new Set,I=new Set,F=e.timelines.map(q=>{const te=q.element;x.add(te);const se=te[As];if(se&&se.removedBeforeQueried)return new ah(q.duration,q.delay);const Ve=te!==m,Be=function qg(n){const t=[];return jl(n,t),t}((r.get(te)||Ak).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===te),je=a.get(te),Je=l.get(te),Nt=Pg(0,this._normalizer,0,q.keyframes,je,Je),Rt=this._buildPlayer(q,Nt,Be);if(q.subTimeline&&o&&I.add(te),Ve){const pn=new jf(t,f,te);pn.setRealPlayer(Rt),v.push(pn)}return Rt});v.forEach(q=>{Dr(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function HC(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,q.element,q))}),x.forEach(q=>Po(q,fy));const j=ac(F);return j.onDestroy(()=>{x.forEach(q=>hh(q,fy)),ga(m,e.toStyles)}),I.forEach(q=>{Dr(o,q,[]).push(j)}),j}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ah(t.duration,t.delay)}}class jf{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ah,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>Pf(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Gg(n){return n&&1===n.nodeType}function Py(n,t){const e=n.style.display;return n.style.display=t??"none",e}function GC(n,t,e,r,o){const a=[];e.forEach(m=>a.push(Py(m)));const l=[];r.forEach((m,v)=>{const x=new Map;m.forEach(I=>{const F=t.computeStyle(v,I,o);x.set(I,F),(!F||0==F.length)&&(v[As]=Sk,l.push(v))}),n.set(v,x)});let f=0;return e.forEach(m=>Py(m,a[f++])),l}function qC(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const o=new Set(t),a=new Map;function l(f){if(!f)return 1;let m=a.get(f);if(m)return m;const v=f.parentNode;return m=e.has(v)?v:o.has(v)?1:l(v),a.set(f,m),m}return t.forEach(f=>{const m=l(f);1!==m&&e.get(m).push(f)}),e}function Po(n,t){n.classList?.add(t)}function hh(n,t){n.classList?.remove(t)}function XT(n,t,e){ac(e).onDone(()=>n.processLeaveNode(t))}function jl(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Ag?jl(r.players,t):t.push(r)}}function Bl(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(a=>o.add(a)):t.set(n,r),e.delete(n),!0}class fh{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new BC(t,e,r),this._timelineEngine=new WT(t,e,r),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(t,e,r,o,a){const l=t+"-"+o;let f=this._triggerCache[l];if(!f){const m=[],x=wy(this._driver,a,m,[]);if(m.length)throw function uC(n,t){return new i.vHH(3404,!1)}();f=function wk(n,t,e){return new JT(n,t,e)}(o,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(e,o,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[a,l]=dC(r);this._timelineEngine.command(a,e,l,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,a){if("@"==r.charAt(0)){const[l,f]=dC(r);return this._timelineEngine.listen(l,e,f,a)}return this._transitionEngine.listen(t,e,r,o,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $C=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ga(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ga(this._element,this._initialStyles),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vl(this._element,this._endStyles),this._endStyles=null),ga(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zg(n){let t=null;return n.forEach((e,r)=>{(function Ry(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class Kg{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:wC(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zC{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return UT(t,e)}getParentElement(t){return uy(t)}query(t,e,r){return ly(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,a,l=[]){const m={duration:r,delay:o,fill:0==o?"both":"forwards"};a&&(m.easing=a);const v=new Map,x=l.filter(j=>j instanceof Kg);(function jT(n,t){return 0===n||0===t})(r,o)&&x.forEach(j=>{j.currentSnapshot.forEach((q,te)=>v.set(te,q))});let I=function VT(n){return n.length?n[0]instanceof Map?n:n.map(t=>vC(t)):[]}(e).map(j=>uc(j));I=function vy(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((a,l)=>{r.has(l)||o.push(l),r.set(l,a)}),o.length)for(let a=1;a<t.length;a++){let l=t[a];o.forEach(f=>l.set(f,wC(n,f)))}}return t}(t,I,v);const F=function $g(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=zg(t[0]),t.length>1&&(r=zg(t[t.length-1]))):t instanceof Map&&(e=zg(t)),e||r?new $C(n,e,r):null}(t,I);return new Kg(t,I,m,F)}}let Fy=(()=>{class n extends eC{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?nC(e):e;return KC(this._renderer,null,r,"register",[o]),new ex(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class ex extends class ty{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mk(this._id,t,e||{},this._renderer)}}class Mk{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return KC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KC(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const JC="@.disabled";let WC=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(e,r){const a=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(a);return x||(x=new Ly("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,x)),x}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(l,f,e,x.name,x)};return r.data.animation.forEach(m),new tx(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.FYo),i.LFG(fh),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ly{constructor(t,e,r,o){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==JC?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tx extends Ly{constructor(t,e,r,o,a){super(e,r,o,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==JC?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function Oo(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function YC(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,o,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let nx=(()=>{class n extends fh{constructor(e,r,o,a){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe),i.LFG(pC),i.LFG(dh),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Jg=[{provide:eC,useClass:Fy},{provide:dh,useFactory:function kk(){return new My}},{provide:fh,useClass:nx},{provide:i.FYo,useFactory:function ix(n,t,e){return new WC(n,t,e)},deps:[Ws,fh,i.R0b]}],Wg=[{provide:pC,useFactory:()=>new zC},{provide:i.QbO,useValue:"BrowserAnimations"},...Jg],QC=[{provide:pC,useClass:dy},{provide:i.QbO,useValue:"NoopAnimations"},...Jg];let rx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?QC:Wg}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:Wg,imports:[Ya]}),n})();function Ct(...n){const t=(0,Ao.yG)(n);return(0,yn.D)(n,t)}var Pr=V(7579);class Ss extends Pr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Hf=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Gf=V(4671),ma=V(9672);function Yg(...n){const t=(0,Ao.yG)(n),e=(0,Ao.jO)(n),{args:r,keys:o}=yl(n);if(0===r.length)return(0,yn.D)([],t);const a=new Ai.y(function sx(n,t,e=Gf.y){return r=>{ew(t,()=>{const{length:o}=n,a=new Array(o);let l=o,f=o;for(let m=0;m<o;m++)ew(t,()=>{const v=(0,yn.D)(n[m],t);let x=!1;v.subscribe((0,Gn.x)(r,I=>{a[m]=I,x||(x=!0,f--),f||r.next(e(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,o?l=>vl(o,l):Gf.y));return e?a.pipe(nc(e)):a}function ew(n,t,e){n?(0,ma.f)(e,n,t):t()}var Qg=V(8189);function Uy(...n){return function tw(){return(0,Qg.J)(1)}()((0,yn.D)(n,(0,Ao.yG)(n)))}function nw(n){return new Ai.y(t=>{(0,Io.Xf)(n()).subscribe(t)})}var ax=V(9635),qf=V(576);function $f(n,t){const e=(0,qf.m)(n)?n:()=>n,r=o=>o.error(e());return new Ai.y(t?o=>t.schedule(r,0,o):r)}var Hl=V(515),zf=V(727),or=V(4482);function ph(){return(0,or.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Gn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,a=e;e=null,o&&(!a||o===a)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class cx extends Ai.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,or.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new zf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Gn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=zf.w0.EMPTY)}return t}refCount(){return ph()(this)}}function Ci(n,t){return(0,or.e)((e,r)=>{let o=null,a=0,l=!1;const f=()=>l&&!o&&r.complete();e.subscribe((0,Gn.x)(r,m=>{o?.unsubscribe();let v=0;const x=a++;(0,Io.Xf)(n(m,x)).subscribe(o=(0,Gn.x)(r,I=>r.next(t?t(m,I,x,v++):I),()=>{o=null,f()}))},()=>{l=!0,f()}))})}function Xg(n){return n<=0?()=>Hl.E:(0,or.e)((t,e)=>{let r=0;t.subscribe((0,Gn.x)(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function Kf(...n){const t=(0,Ao.yG)(n);return(0,or.e)((e,r)=>{(t?Uy(n,e,t):Uy(n,e)).subscribe(r)})}function rs(n,t){return(0,or.e)((e,r)=>{let o=0;e.subscribe((0,Gn.x)(r,a=>n.call(t,a,o++)&&r.next(a)))})}var Or=V(5577);function Jf(n){return(0,or.e)((t,e)=>{let r=!1;t.subscribe((0,Gn.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function em(n=fc){return(0,or.e)((t,e)=>{let r=!1;t.subscribe((0,Gn.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function fc(){return new Hf}function os(n,t){const e=arguments.length>=2;return r=>r.pipe(n?rs((o,a)=>n(o,a,r)):Gf.y,Xg(1),e?Jf(t):em(()=>new Hf))}function _a(n,t){return(0,qf.m)(t)?(0,Or.z)(n,t,1):(0,Or.z)(n,1)}var Li=V(8505);function pu(n){return(0,or.e)((t,e)=>{let a,r=null,o=!1;r=t.subscribe((0,Gn.x)(e,void 0,void 0,l=>{a=(0,Io.Xf)(n(l,pu(n)(t))),r?(r.unsubscribe(),r=null,a.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,a.subscribe(e))})}function Vy(n,t,e,r,o){return(a,l)=>{let f=e,m=t,v=0;a.subscribe((0,Gn.x)(l,x=>{const I=v++;m=f?n(m,x,I):(f=!0,x),r&&l.next(m)},o&&(()=>{f&&l.next(m),l.complete()})))}}function gh(n,t){return(0,or.e)(Vy(n,t,arguments.length>=2,!0))}function Zy(n){return n<=0?()=>Hl.E:(0,or.e)((t,e)=>{let r=[];t.subscribe((0,Gn.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function iw(n,t){const e=arguments.length>=2;return r=>r.pipe(n?rs((o,a)=>n(o,a,r)):Gf.y,Zy(1),e?Jf(t):em(()=>new Hf))}function gu(n){return(0,or.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const un="primary",tm=Symbol("RouteTitle");class lx{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mh(n){return new lx(n)}function dx(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))o[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ss(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!ow(n[o],t[o]))return!1;return!0}function ow(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,a)=>r[a]===o)}return n===t}function nm(n){return Array.prototype.concat.apply([],n)}function sw(n){return n.length>0?n[n.length-1]:null}function Cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function mu(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,yn.D)(Promise.resolve(n)):Ct(n)}const im={exact:function aw(n,t,e){if(!sr(n.segments,t.segments)||!Ro(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!aw(n.children[r],t.children[r],e))return!1;return!0},subset:rm},_u={exact:function Yf(n,t){return ss(n,t)},subset:function px(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ow(n[e],t[e]))},ignored:()=>!0};function fx(n,t,e){return im[e.paths](n.root,t.root,e.matrixParams)&&_u[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rm(n,t,e){return cw(n,t,t.segments,e)}function cw(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!sr(o,e)||t.hasChildren()||!Ro(o,e,r))}if(n.segments.length===e.length){if(!sr(n.segments,e)||!Ro(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!rm(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(sr(n.segments,o)&&Ro(n.segments,o,r)&&n.children[un])&&cw(n.children[un],t,a,r)}}function Ro(n,t,e){return t.every((r,o)=>_u[e](n[o].parameters,r.parameters))}class Ms{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return _h.serialize(this)}}class Lt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Cr(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pc(this)}}class ks{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mh(this.parameters)),this._parameterMap}toString(){return Gy(this)}}function sr(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new yu},providedIn:"root"}),n})();class yu{parse(t){const e=new pw(t);return new Ms(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ya(t.root,!0)}`,r=function lw(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${gc(e)}=${gc(o)}`).join("&"):`${gc(e)}=${gc(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function yh(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _h=new yu;function pc(n){return n.segments.map(t=>Gy(t)).join("/")}function ya(n,t){if(!n.hasChildren())return pc(n);if(t){const e=n.children[un]?ya(n.children[un],!1):"",r=[];return Cr(n.children,(o,a)=>{a!==un&&r.push(`${a}:${ya(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function By(n,t){let e=[];return Cr(n.children,(r,o)=>{o===un&&(e=e.concat(t(r,o)))}),Cr(n.children,(r,o)=>{o!==un&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===un?[ya(n.children[un],!1)]:[`${o}:${ya(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${pc(n)}/${e[0]}`:`${pc(n)}/(${e.join("//")})`}}function ql(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(n){return ql(n).replace(/%3B/gi,";")}function vu(n){return ql(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qf(n){return decodeURIComponent(n)}function Hy(n){return Qf(n.replace(/\+/g,"%20"))}function Gy(n){return`${vu(n.path)}${function uw(n){return Object.keys(n).map(t=>`;${vu(t)}=${vu(n[t])}`).join("")}(n.parameters)}`}const dw=/^[^\/()?;=#]+/;function Xf(n){const t=n.match(dw);return t?t[0]:""}const hw=/^[^=?&#]+/,gx=/^[^&#]+/;class pw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[un]=new Lt(t,e)),r}parseSegment(){const t=Xf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(t),new ks(Qf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xf(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Xf(this.remaining);o&&(r=o,this.capture(r))}t[Qf(e)]=Qf(r)}parseQueryParam(t){const e=function fw(n){const t=n.match(hw);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function mx(n){const t=n.match(gx);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Hy(e),a=Hy(r);if(t.hasOwnProperty(o)){let l=t[o];Array.isArray(l)||(l=[l],t[o]=l),l.push(a)}else t[o]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xf(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=un);const l=this.parseChildren();e[a]=1===Object.keys(l).length?l[un]:new Lt([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new i.vHH(4011,!1)}}function qy(n){return n.segments.length>0?new Lt([],{[un]:n}):n}function ep(n){const t={};for(const r of Object.keys(n.children)){const a=ep(n.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function $y(n){if(1===n.numberOfChildren&&n.children[un]){const t=n.children[un];return new Lt(n.segments.concat(t.segments),t.children)}return n}(new Lt(n.segments,t))}function mc(n){return n instanceof Ms}function _x(n,t,e,r,o){if(0===e.length)return $l(t.root,t.root,t.root,r,o);const a=function Yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new am(!0,0,n);let t=0,e=!1;const r=n.reduce((o,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Cr(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...o,{outlets:f}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===l?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&o.push(f))}),o):[...o,a]},[]);return new am(e,t,r)}(e);return a.toRoot()?$l(t.root,t.root,new Lt([],{}),r,o):function l(m){const v=function gw(n,t,e,r){if(n.isAbsolute)return new zl(t.root,!0,0);if(-1===r)return new zl(e,e===t.root,0);return function mw(n,t,e){let r=n,o=t,a=e;for(;a>o;){if(a-=o,r=r.parent,!r)throw new i.vHH(4005,!1);o=r.segments.length}return new zl(r,!1,o-a)}(e,r+(Du(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,m),x=v.processChildren?vh(v.segmentGroup,v.index,a.commands):cm(v.segmentGroup,v.index,a.commands);return $l(t.root,v.segmentGroup,x,r,o)}(n.snapshot?._lastPathIndex)}function Du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cu(n){return"object"==typeof n&&null!=n&&n.outlets}function $l(n,t,e,r,o){let l,a={};r&&Cr(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=n===t?e:Wy(n,t,e);const f=qy(ep(l));return new Ms(f,a,o)}function Wy(n,t,e){const r={};return Cr(n.children,(o,a)=>{r[a]=o===t?e:Wy(o,t,e)}),new Lt(n.segments,r)}class am{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Du(r[0]))throw new i.vHH(4003,!1);const o=r.find(Cu);if(o&&o!==sw(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zl{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function cm(n,t,e){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return vh(n,t,e);const r=function yw(n,t,e){let r=0,o=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return a;const l=n.segments[o],f=e[r];if(Cu(f))break;const m=`${f}`,v=r<e.length-1?e[r+1]:null;if(o>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!ev(m,v,l))return a;r+=2}else{if(!ev(m,{},l))return a;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Lt(n.segments.slice(0,r.pathIndex),{});return a.children[un]=new Lt(n.segments.slice(r.pathIndex),n.children),vh(a,0,o)}return r.match&&0===o.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?Xy(n,t,e):r.match?vh(n,0,o):Xy(n,t,e)}function vh(n,t,e){if(0===e.length)return new Lt(n.segments,{});{const r=function _w(n){return Cu(n[0])?n[0].outlets:{[un]:n}}(e),o={};return Cr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[l]=cm(n.children[l],t,a))}),Cr(n.children,(a,l)=>{void 0===r[l]&&(o[l]=a)}),new Lt(n.segments,o)}}function Xy(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const a=e[o];if(Cu(a)){const m=yx(a.outlets);return new Lt(r,m)}if(0===o&&Du(e[0])){r.push(new ks(n.segments[t].path,vw(e[0]))),o++;continue}const l=Cu(a)?a.outlets[un]:`${a}`,f=o<e.length-1?e[o+1]:null;l&&f&&Du(f)?(r.push(new ks(l,vw(f))),o+=2):(r.push(new ks(l,{})),o++)}return new Lt(r,{})}function yx(n){const t={};return Cr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Xy(new Lt([],{}),0,e))}),t}function vw(n){const t={};return Cr(n,(e,r)=>t[r]=`${e}`),t}function ev(n,t,e){return n==e.path&&ss(t,e.parameters)}class Ns{constructor(t,e){this.id=t,this.url=e}}class um extends Ns{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wu extends Ns{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tp extends Ns{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tv extends Ns{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dw extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cw extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ww extends Ns{constructor(t,e,r,o,a){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ew extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rk extends Ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cx{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tw{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xw{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=iv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return lm(t,this._root).map(e=>e.value)}}function iv(n,t){if(n===t.value)return t;for(const e of t.children){const r=iv(n,e);if(r)return r}return null}function lm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=lm(n,e);if(r.length)return r.unshift(t),r}return[]}class va{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ps(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Iw extends nv{constructor(t,e){super(t),this.snapshot=e,as(this,t)}toString(){return this.snapshot.toString()}}function Aw(n,t){const e=function Sw(n,t){const l=new Dh([],{},{},"",{},un,t,null,n.root,-1,{});return new dm("",new va(l,[]))}(n,t),r=new Ss([new ks("",{})]),o=new Ss({}),a=new Ss({}),l=new Ss({}),f=new Ss(""),m=new _c(r,o,l,f,a,un,t,e.root);return m.snapshot=e.root,new Iw(new va(m,[]),e)}class _c{constructor(t,e,r,o,a,l,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,ht.U)(v=>v[tm]))??Ct(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>mh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>mh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rv(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],a=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function Fk(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Dh{constructor(t,e,r,o,a,l,f,m,v,x,I,F){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.[tm],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._correctedLastPathIndex=F??x,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dm extends nv{constructor(t,e){super(e),this.url=t,as(this,e)}toString(){return Mw(this._root)}}function as(n,t){t.value._routerState=n,t.children.forEach(e=>as(n,e))}function Mw(n){const t=n.children.length>0?` { ${n.children.map(Mw).join(", ")} } `:"";return`${n.value}${t}`}function hm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ss(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ss(t.params,e.params)||n.params.next(e.params),function rw(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ss(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ss(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cs(n,t){const e=ss(n.params,t.params)&&function om(n,t){return sr(n,t)&&n.every((e,r)=>ss(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cs(n.parent,t.parent))}function Wr(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function kw(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Wr(n,r,o);return Wr(n,r)})}(n,t,e);return new va(r,o)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(f=>Wr(n,f)),l}}const r=function Nw(n){return new _c(new Ss(n.url),new Ss(n.params),new Ss(n.queryParams),new Ss(n.fragment),new Ss(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(a=>Wr(n,a));return new va(r,o)}}const ov="ngNavigationCancelingError";function Pw(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=mc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Ow(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function Ow(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[ov]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Rw(n){return fm(n)&&mc(n.url)}function fm(n){return n&&n[ov]}class np{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ip,this.attachRef=null}}let ip=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new np,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rp=!1;let sv=(()=>{class n{constructor(e,r,o,a,l){this.parentContexts=e,this.location=r,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=o||un,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,rp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,rp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,rp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new i.vHH(4013,rp);this._activatedRoute=e;const o=this.location,l=e._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Fw(e,f,o.injector);if(r&&function Lw(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=o.createComponent(v,o.length,m)}else this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ip),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Fw{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===_c?this.route:t===ip?this.childContexts:this.parent.get(t,e)}}let Ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},dependencies:[sv],encapsulation:2}),n})();function Uw(n,t){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pm(n){const t=n.children&&n.children.map(pm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==un&&(e.component=Ch),e}function Fo(n){return n.outlet||un}function cv(n,t){const e=n.filter(r=>Fo(r)===t);return e.push(...n.filter(r=>Fo(r)!==t)),e}function wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xx{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),hm(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Ps(e);t.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,o[l],r),delete o[l]}),Cr(o,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){const o=t.value,a=e?e.value:null;if(o===a)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,a=Ps(t);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,a=Ps(t);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Ps(e);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],r),this.forwardEvent(new Tw(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Cx(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,a=e?e.value:null;if(hm(o),o===a)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),hm(f.route.value),this.activateChildRoutes(t,null,l.children)}else{const f=wh(o.snapshot),m=f?.get(i._Vd)??null;l.attachRef=null,l.route=o,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class Hw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gm{constructor(t,e){this.component=t,this.route=e}}function Ix(n,t,e){const r=n._root;return sp(r,t?t._root:null,e,[r.value])}function Eh(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,i.Z0I)(n)?t.get(n):n:r}function sp(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ps(t);return n.children.forEach(l=>{(function Sx(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function Mx(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!sr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!sr(n.url,t.url)||!ss(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cs(n,t)||!ss(n.queryParams,t.queryParams);default:return!cs(n,t)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new Hw(r)):(a.data=l.data,a._resolvedData=l._resolvedData),sp(n,t,a.component?f?f.children:null:e,r,o),m&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new gm(f.outlet.component,l))}else l&&ap(t,f,o),o.canActivateChecks.push(new Hw(r)),sp(n,null,a.component?f?f.children:null:e,r,o)})(l,a[l.value.outlet],e,r.concat([l.value]),o),delete a[l.value.outlet]}),Cr(a,(l,f)=>ap(l,e.getContext(f),o)),o}function ap(n,t,e){const r=Ps(n),o=n.value;Cr(r,(a,l)=>{ap(a,o.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new gm(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function cp(n){return"function"==typeof n}function mm(n){return n instanceof Hf||"EmptyError"===n?.name}const up=Symbol("INITIAL_VALUE");function Kl(){return Ci(n=>Yg(n.map(t=>t.pipe(Xg(1),Kf(up)))).pipe((0,ht.U)(t=>{for(const e of t)if(!0!==e){if(e===up)return up;if(!1===e||e instanceof Ms)return e}return!0}),rs(t=>t!==up),Xg(1)))}function Wl(n){return(0,ax.z)((0,Li.b)(t=>{if(mc(t))throw Pw(0,t)}),(0,ht.U)(t=>!0===t))}const lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zx(n,t,e,r,o){const a=_m(n,t,e);return a.matched?function Lk(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?Ct(o.map(l=>{const f=Eh(l,n);return mu(function Fx(n){return n&&cp(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))})).pipe(Kl(),Wl()):Ct(!0)}(r=Uw(t,r),t,e).pipe((0,ht.U)(l=>!0===l?a:{...lp})):Ct(a)}function _m(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...lp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||dx)(e,n,t);if(!o)return{...lp};const a={};Cr(o.posParams,(f,m)=>{a[m]=f.path});const l=o.consumed.length>0?{...a,...o.consumed[o.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function dp(n,t,e,r,o="corrected"){if(e.length>0&&function jx(n,t,e){return e.some(r=>ym(n,t,r)&&Fo(r)!==un)}(n,e,r)){const l=new Lt(t,function Zt(n,t,e,r){const o={};o[un]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Fo(a)!==un){const l=new Lt([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,o[Fo(a)]=l}return o}(n,t,r,new Lt(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function Bx(n,t,e){return e.some(r=>ym(n,t,r))}(n,e,r)){const l=new Lt(n.segments,function Uk(n,t,e,r,o,a){const l={};for(const f of r)if(ym(n,e,f)&&!o[Fo(f)]){const m=new Lt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,l[Fo(f)]=m}return{...o,...l}}(n,t,e,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const a=new Lt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function ym(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Yl(n,t,e,r){return!!(Fo(n)===r||r!==un&&ym(t,e,n))&&("**"===n.path||_m(t,n,e).matched)}function Ww(n,t,e){return 0===t.length&&!n.children[e]}const Ql=!1;class Xl{constructor(t){this.segmentGroup=t||null}}class ui{constructor(t){this.urlTree=t}}function vm(n){return $f(new Xl(n))}function lv(n){return $f(new ui(n))}class Xw{constructor(t,e,r,o,a){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0}apply(){const t=dp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Lt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,un).pipe((0,ht.U)(a=>this.createUrlTree(ep(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pu(a=>{if(a instanceof ui)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Xl?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,un).pipe((0,ht.U)(o=>this.createUrlTree(ep(o),t.queryParams,t.fragment))).pipe(pu(o=>{throw o instanceof Xl?this.noMatchError(o):o}))}noMatchError(t){return new i.vHH(4002,Ql)}createUrlTree(t,e,r){const o=qy(t);return new Ms(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ht.U)(a=>new Lt([],a))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const a of Object.keys(r.children))"primary"===a?o.unshift(a):o.push(a);return(0,yn.D)(o).pipe(_a(a=>{const l=r.children[a],f=cv(e,a);return this.expandSegmentGroup(t,f,l,a).pipe((0,ht.U)(m=>({segment:m,outlet:a})))}),gh((a,l)=>(a[l.outlet]=l.segment,a),{}),iw())}expandSegment(t,e,r,o,a,l){return(0,yn.D)(r).pipe(_a(f=>this.expandSegmentAgainstRoute(t,e,r,f,o,a,l).pipe(pu(v=>{if(v instanceof Xl)return Ct(null);throw v}))),os(f=>!!f),pu((f,m)=>{if(mm(f))return Ww(e,o,a)?Ct(new Lt([],{})):vm(e);throw f}))}expandSegmentAgainstRoute(t,e,r,o,a,l,f){return Yl(o,e,a,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,a,l):vm(e):vm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,a,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lv(a):this.lineralizeSegments(r,a).pipe((0,Or.z)(l=>{const f=new Lt(l,{});return this.expandSegment(t,f,e,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,a,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=_m(e,o,a);if(!f)return vm(e);const I=this.applyRedirectCommands(m,o.redirectTo,x);return o.redirectTo.startsWith("/")?lv(I):this.lineralizeSegments(o,I).pipe((0,Or.z)(F=>this.expandSegment(t,e,r,F.concat(v),l,!1)))}matchSegmentAgainstRoute(t,e,r,o,a){return"**"===r.path?(t=Uw(r,t),r.loadChildren?(r._loadedRoutes?Ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,ht.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Lt(o,{})))):Ct(new Lt(o,{}))):Zx(e,r,o,t).pipe(Ci(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(t=r._injector??t,r,o).pipe((0,Or.z)(x=>{const I=x.injector??t,F=x.routes,{segmentGroup:j,slicedSegments:q}=dp(e,f,m,F),te=new Lt(j.segments,j.children);if(0===q.length&&te.hasChildren())return this.expandChildren(I,F,te).pipe((0,ht.U)(je=>new Lt(f,je)));if(0===F.length&&0===q.length)return Ct(new Lt(f,{}));const se=Fo(r)===a;return this.expandSegment(I,te,F,q,se?un:a,!0).pipe((0,ht.U)(Be=>new Lt(f.concat(Be.segments),Be.children)))})):vm(e)))}getChildConfig(t,e,r){return e.children?Ct({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ct({routes:e._loadedRoutes,injector:e._loadedInjector}):function Vx(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?Ct(!0):Ct(o.map(l=>{const f=Eh(l,n);return mu(function Nx(n){return n&&cp(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))})).pipe(Kl(),Wl())}(t,e,r).pipe((0,Or.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,Li.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function Hx(n){return $f(Ow(Ql,3))}())):Ct({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ct(r);if(o.numberOfChildren>1||!o.children[un])return $f(new i.vHH(4e3,Ql));o=o.children[un]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const a=this.createSegmentGroup(t,e.root,r,o);return new Ms(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Cr(t,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[a]=e[f]}else r[a]=o}),r}createSegmentGroup(t,e,r,o){const a=this.createSegments(t,e.segments,r,o);let l={};return Cr(e.children,(f,m)=>{l[m]=this.createSegmentGroup(t,f,r,o)}),new Lt(a,l)}createSegments(t,e,r,o){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,o):this.findOrReturn(a,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new i.vHH(4001,Ql);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class Gx{}class fp{constructor(t,e,r,o,a,l,f,m){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=m}recognize(){const t=dp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,un).pipe((0,ht.U)(e=>{if(null===e)return null;const r=new Dh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new va(r,e),a=new dm(this.url,o);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,r=rv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return(0,yn.D)(Object.keys(r.children)).pipe(_a(o=>{const a=r.children[o],l=cv(e,o);return this.processSegmentGroup(t,l,a,o)}),gh((o,a)=>o&&a?(o.push(...a),o):null),function Wf(n,t=!1){return(0,or.e)((e,r)=>{let o=0;e.subscribe((0,Gn.x)(r,a=>{const l=n(a,o++);(l||t)&&r.next(a),!l&&r.complete()}))})}(o=>null!==o),Jf(null),iw(),(0,ht.U)(o=>{if(null===o)return null;const a=pp(o);return function zx(n){n.sort((t,e)=>t.value.outlet===un?-1:e.value.outlet===un?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,r,o,a){return(0,yn.D)(e).pipe(_a(l=>this.processSegmentAgainstRoute(l._injector??t,l,r,o,a)),os(l=>!!l),pu(l=>{if(mm(l))return Ww(r,o,a)?Ct([]):Ct(null);throw l}))}processSegmentAgainstRoute(t,e,r,o,a){if(e.redirectTo||!Yl(e,r,o,a))return Ct(null);let l;if("**"===e.path){const f=o.length>0?sw(o).parameters:{},m=hv(r)+o.length;l=Ct({snapshot:new Dh(o,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bh(e),Fo(e),e.component??e._loadedComponent??null,e,dv(r),m,Th(e),m),consumedSegments:[],remainingSegments:[]})}else l=Zx(r,e,o,t).pipe((0,ht.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:x})=>{if(!f)return null;const I=hv(r)+m.length;return{snapshot:new Dh(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bh(e),Fo(e),e.component??e._loadedComponent??null,e,dv(r),I,Th(e),I),consumedSegments:m,remainingSegments:v}}));return l.pipe(Ci(f=>{if(null===f)return Ct(null);const{snapshot:m,consumedSegments:v,remainingSegments:x}=f;t=e._injector??t;const I=e._loadedInjector??t,F=function Kx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:j,slicedSegments:q}=dp(r,v,x,F.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===q.length&&j.hasChildren())return this.processChildren(I,F,j).pipe((0,ht.U)(se=>null===se?null:[new va(m,se)]));if(0===F.length&&0===q.length)return Ct([new va(m,[])]);const te=Fo(e)===a;return this.processSegment(I,F,j,q,te?un:a).pipe((0,ht.U)(se=>null===se?null:[new va(m,se)]))}))}}function Jx(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pp(n){const t=[],e=new Set;for(const r of n){if(!Jx(r)){t.push(r);continue}const o=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=pp(r.children);t.push(new va(r.value,o))}return t.filter(r=>!e.has(r))}function dv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hv(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function bh(n){return n.data||{}}function Th(n){return n.resolve||{}}function sE(n){return"string"==typeof n.title||null===n.title}function Dm(n){return Ci(t=>{const e=n(t);return e?(0,yn.D)(e).pipe((0,ht.U)(()=>t)):Ct(t)})}let aE=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===un);return r}getResolvedTitleForRoute(e){return e.data[tm]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(cE)},providedIn:"root"}),n})(),cE=(()=>{class n extends aE{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pf))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vk{}class jk extends class Zk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ed=new i.OlP("",{providedIn:"root",factory:()=>({})}),fv=new i.OlP("ROUTES");let Cm=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ct(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=mu(e.loadComponent()).pipe((0,Li.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),gu(()=>{this.componentLoaders.delete(e)})),o=new cx(r,()=>new Pr.x).pipe(ph());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,x=!1;Array.isArray(f)?v=f:(m=f.create(e).injector,v=nm(m.get(fv,[],i.XFs.Self|i.XFs.Optional)));return{routes:v.map(pm),injector:m}}),gu(()=>{this.childrenLoaders.delete(r)})),l=new cx(a,()=>new Pr.x).pipe(ph());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return mu(e()).pipe((0,Or.z)(r=>r instanceof i.YKP||Array.isArray(r)?Ct(r):(0,yn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gp{}class Xx{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function eI(n){throw n}function tI(n,t,e){return t.parse("/")}const nI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hE(){const n=(0,i.f3M)(Gl),t=(0,i.f3M)(ip),e=(0,i.f3M)(Ae),r=(0,i.f3M)(i.zs3),o=(0,i.f3M)(i.Sil),a=(0,i.f3M)(fv,{optional:!0})??[],l=(0,i.f3M)(ed,{optional:!0})??{},f=(0,i.f3M)(cE),m=(0,i.f3M)(aE,{optional:!0}),v=(0,i.f3M)(gp,{optional:!0}),x=(0,i.f3M)(Vk,{optional:!0}),I=new dn(null,n,t,e,r,o,nm(a));return v&&(I.urlHandlingStrategy=v),x&&(I.routeReuseStrategy=x),I.titleStrategy=m??f,function iI(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,I),I}let dn=(()=>{class n{constructor(e,r,o,a,l,f,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr.x,this.errorHandler=eI,this.malformedUriErrorHandler=tI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ct(void 0),this.urlHandlingStrategy=new Xx,this.routeReuseStrategy=new jk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(Cm),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Dx(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new vx(F)),this.ngModule=l.get(i.h0i),this.console=l.get(i.c2e);const I=l.get(i.R0b);this.isNgZoneEnabled=I instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function hx(){return new Ms(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Aw(this.currentUrlTree,this.rootComponentType),this.transitions=new Ss({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(rs(o=>0!==o.id),(0,ht.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ci(o=>{let a=!1,l=!1;return Ct(o).pipe((0,Li.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return pv(f.source)&&(this.browserUrlTree=f.extractedUrl),Ct(f).pipe(Ci(I=>{const F=this.transitions.getValue();return r.next(new um(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),F!==this.transitions.getValue()?Hl.E:Promise.resolve(I)}),function eE(n,t,e,r){return Ci(o=>function Qw(n,t,e,r,o){return new Xw(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ht.U)(a=>({...o,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Li.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},o.urlAfterRedirects=I.urlAfterRedirects}),function Wx(n,t,e,r,o,a){return(0,Or.z)(l=>function $x(n,t,e,r,o,a,l="emptyOnly",f="legacy"){return new fp(n,t,e,r,o,l,f,a).recognize().pipe(Ci(m=>null===m?function qx(n){return new Ai.y(t=>t.error(n))}(new Gx):Ct(m)))}(n,t,e,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,o,a).pipe((0,ht.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Li.b)(I=>{if(o.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(j,I)}this.browserUrlTree=I.urlAfterRedirects}const F=new Dw(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(F)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:q,restoredState:te,extras:se}=f,Ve=new um(F,this.serializeUrl(j),q,te);r.next(Ve);const Be=Aw(j,this.rootComponentType).snapshot;return Ct(o={...f,targetSnapshot:Be,urlAfterRedirects:j,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Hl.E}),(0,Li.b)(f=>{const m=new Cw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,ht.U)(f=>o={...f,guards:Ix(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function qw(n,t){return(0,Or.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:l}}=e;return 0===l.length&&0===a.length?Ct({...e,guardsResult:!0}):function $w(n,t,e,r){return(0,yn.D)(n).pipe((0,Or.z)(o=>function Ux(n,t,e,r,o){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Ct(a.map(f=>{const m=wh(t)??o,v=Eh(f,m);return mu(function Rx(n){return n&&cp(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,r):m.runInContext(()=>v(n,t,e,r))).pipe(os())})).pipe(Kl()):Ct(!0)}(o.component,o.route,e,t,r)),os(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Or.z)(f=>f&&function kx(n){return"boolean"==typeof n}(f)?function zw(n,t,e,r){return(0,yn.D)(t).pipe(_a(o=>Uy(function Jw(n,t){return null!==n&&t&&t(new bw(n)),Ct(!0)}(o.route.parent,r),function Kw(n,t){return null!==n&&t&&t(new zi(n)),Ct(!0)}(o.route,r),function Jl(n,t,e){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(l=>function Ax(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>nw(()=>Ct(l.guards.map(m=>{const v=wh(l.node)??e,x=Eh(m,v);return mu(function Ox(n){return n&&cp(n.canActivateChild)}(x)?x.canActivateChild(r,n):v.runInContext(()=>x(r,n))).pipe(os())})).pipe(Kl())));return Ct(a).pipe(Kl())}(n,o.path,e),function uv(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const o=r.map(a=>nw(()=>{const l=wh(t)??e,f=Eh(a,l);return mu(function Px(n){return n&&cp(n.canActivate)}(f)?f.canActivate(t,n):l.runInContext(()=>f(t,n))).pipe(os())}));return Ct(o).pipe(Kl())}(n,o.route,e))),os(o=>!0!==o,!0))}(r,a,n,t):Ct(f)),(0,ht.U)(f=>({...e,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Li.b)(f=>{if(o.guardsResult=f.guardsResult,mc(f.guardsResult))throw Pw(0,f.guardsResult);const m=new ww(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),rs(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Dm(f=>{if(f.guards.canActivateChecks.length)return Ct(f).pipe((0,Li.b)(m=>{const v=new Ew(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Ci(m=>{let v=!1;return Ct(m).pipe(function Yx(n,t){return(0,Or.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Ct(e);let a=0;return(0,yn.D)(o).pipe(_a(l=>function Qx(n,t,e,r){const o=n.routeConfig,a=n._resolve;return void 0!==o?.title&&!sE(o)&&(a[tm]=o.title),function iE(n,t,e,r){const o=function rE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ct({});const a={};return(0,yn.D)(o).pipe((0,Or.z)(l=>function oE(n,t,e,r){const o=wh(t)??r,a=Eh(n,o);return mu(a.resolve?a.resolve(t,e):o.runInContext(()=>a(t,e)))}(n[l],t,e,r).pipe(os(),(0,Li.b)(f=>{a[l]=f}))),Zy(1),function ux(n){return(0,ht.U)(()=>n)}(a),pu(l=>mm(l)?Hl.E:$f(l)))}(a,n,t,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=rv(n,e).resolve,o&&sE(o)&&(n.data[tm]=o.title),null)))}(l.route,r,n,t)),(0,Li.b)(()=>a++),Zy(1),(0,Or.z)(l=>a===o.length?Ct(e):Hl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Li.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Li.b)(m=>{const v=new Rk(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Dm(f=>{const m=v=>{const x=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Li.b)(I=>{v.component=I}),(0,ht.U)(()=>{})));for(const I of v.children)x.push(...m(I));return x};return Yg(m(f.targetSnapshot.root)).pipe(Jf(),Xg(1))}),Dm(()=>this.afterPreactivation()),(0,ht.U)(f=>{const m=function Os(n,t,e){const r=Wr(n,t._root,e?e._root:void 0);return new Iw(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return o={...f,targetRouterState:m}}),(0,Li.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,ht.U)(r=>(new xx(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Li.b)({next(){a=!0},complete(){a=!0}}),gu(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),pu(f=>{if(l=!0,fm(f)){Rw(f)||(this.navigated=!0,this.restoreHistory(o,!0));const m=new tp(o.id,this.serializeUrl(o.extractedUrl),f.message,f.cancellationCode);if(r.next(m),Rw(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pv(o.source)};this.scheduleNavigation(v,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const m=new tv(o.id,this.serializeUrl(o.extractedUrl),f,o.targetSnapshot??void 0);r.next(m);try{o.resolve(this.errorHandler(f))}catch(v){o.reject(v)}}return Hl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,r,a,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(pm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=o||this.routerState.root,x=m?this.currentUrlTree.fragment:l;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),_x(v,this.currentUrlTree,e,I,x??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=mc(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function rI(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new i.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...nI}:!1===r?{...dE}:r,mc(e))return fx(this.currentUrlTree,e,o);const a=this.parseUrl(e);return fx(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const a=e[o];return null!=a&&(r[o]=a),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((F,j)=>{f=F,m=j});const x=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),I=o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:x,targetPageId:I,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(F=>Promise.reject(F))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const a=new tp(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return hE()},providedIn:"root"}),n})();function pv(n){return"imperative"!==n}let yc=(()=>{class n{constructor(e,r,o,a,l){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Pr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(dn),i.Y36(_c),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),Rs=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Pr.x,this.subscription=e.events.subscribe(a=>{a instanceof wu&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,i.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,i.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,i.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,a,l){return!!(0!==e||r||o||a||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(dn),i.Y36(_c),i.Y36(Ce))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&i.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})();class pE{}let mE=(()=>{class n{constructor(e,r,o,a,l){this.router=e,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(rs(e=>e instanceof wu),_a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,i.MMx)(a.providers,e,`Route: ${a.path}`));const l=a._injector??e,f=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?o.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&o.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,yn.D)(o).pipe((0,Qg.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ct(null);const a=o.pipe((0,Or.z)(l=>null===l?Ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,yn.D)([a,l]).pipe((0,Qg.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(dn),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(pE),i.LFG(Cm))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Em=new i.OlP("");let _E=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new xw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function xh(n,t){return{\u0275kind:n,\u0275providers:t}}function xm(n){return[{provide:fv,multi:!0,useValue:n}]}function yE(){const n=(0,i.f3M)(i.zs3);return t=>{const e=n.get(i.z2F);if(t!==e.components[0])return;const r=n.get(dn),o=n.get(vE);1===n.get(gv)&&r.initialNavigation(),n.get(DE,null,i.XFs.Optional)?.setUpPreloading(),n.get(Em,null,i.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const vE=new i.OlP("",{factory:()=>new Pr.x}),gv=new i.OlP("",{providedIn:"root",factory:()=>1});const DE=new i.OlP("");function CE(n){return xh(0,[{provide:DE,useExisting:mE},{provide:pE,useExisting:n}])}const mv=new i.OlP("ROUTER_FORROOT_GUARD"),lI=[Ae,{provide:Gl,useClass:yu},{provide:dn,useFactory:hE},ip,{provide:_c,useFactory:function Tm(n){return n.routerState.root},deps:[dn]},Cm];function dI(){return new i.PXZ("Router",dn)}let wE=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[lI,[],xm(e),{provide:mv,useFactory:vv,deps:[[dn,new i.FiY,new i.tp0]]},{provide:ed,useValue:r||{}},r?.useHash?{provide:Ce,useClass:pt}:{provide:Ce,useClass:yt},{provide:Em,useFactory:()=>{const n=(0,i.f3M)(dn),t=(0,i.f3M)(Hs),e=(0,i.f3M)(ed);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _E(n,t,e)}},r?.preloadingStrategy?CE(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:dI},r?.initialNavigation?hI(r):[],[{provide:bE,useFactory:yE},{provide:i.tb,multi:!0,useExisting:bE}]]}}static forChild(e){return{ngModule:n,providers:[xm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(mv,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Ch]}),n})();function vv(n){return"guarded"}function hI(n){return["disabled"===n.initialNavigation?xh(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const t=(0,i.f3M)(dn);return()=>{t.setUpLocationChangeListener()}}},{provide:gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xh(2,[{provide:gv,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:t=>{const e=t.get(z,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(a=>{const l=t.get(dn),f=t.get(vE);(function o(a){t.get(dn).events.pipe(rs(f=>f instanceof wu||f instanceof tp||f instanceof tv),(0,ht.U)(f=>f instanceof wu||f instanceof tp&&(0===f.code||1===f.code)&&null),rs(f=>null!==f),Xg(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),l.afterPreactivation=()=>(a(!0),r||f.closed?Ct(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const bE=new i.OlP("");var TE=V(6451),vc=V(5363),xE=V(6063);class fI extends Pr.x{constructor(t=1/0,e=1/0,r=xE.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:a,_windowTime:l}=this;e||(r.push(t),!o&&r.push(a.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,a=o.slice();for(let l=0;l<a.length&&!t.closed;l+=r?1:2)t.next(a[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,a=(o?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!o){const l=e.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var zk=V(3099);function Cv(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=n??1/0,(0,zk.B)({connector:()=>new fI(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Am(n,t){return(0,qf.m)(t)?Ci(()=>n,t):Ci(()=>n)}var wv=V(9468),ln=V(4976),Yr=V(2011),Eu=V(259);class bu{constructor(t){return t}}class Ev{constructor(){return(0,Eu.C6)()}}const Sm=new i.OlP("angularfire2._apps"),gI={provide:bu,useFactory:function IE(n){return n&&1===n.length?n[0]:new bu((0,Eu.Mq)())},deps:[[new i.FiY,Sm]]},mI={provide:Ev,deps:[[new i.FiY,Sm]]};function _I(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new bu(r)}}let yI=(()=>{class n{constructor(e){(0,Eu.KN)("angularfire",ln.q4.full,"core"),(0,Eu.KN)("angularfire",ln.q4.full,"app"),(0,Eu.KN)("angular",i.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.Lbi))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[gI,mI]}),n})();function AE(n,...t){return{ngModule:yI,providers:[{provide:Sm,useFactory:_I(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,...t]}]}}const DI=(0,ln.u3)(Eu.ZF,!0);var X=V(5861),Lo=V(6881),td=V(4859),Ht=V(2090),Dc=V(1877);const bv=new Map,SE={activated:!1,tokenObservers:[]},CI={initialized:!1,enabled:!1};function wi(n){return bv.get(n)||Object.assign({},SE)}function Mm(){return CI}class EI{constructor(t,e,r,o,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,X.Z)(function*(){e.stop();try{e.pending=new Ht.BH,yield function bI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ht.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const wr=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xv(n){if(!wi(n).activated)throw wr.create("use-before-activation",{appName:n.name})}function Tu(n,t){return Av.apply(this,arguments)}function Av(){return(Av=(0,X.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const I=yield o.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(t),headers:r};let l,f;try{l=yield fetch(n,a)}catch(I){throw wr.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw wr.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(I){throw wr.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function OE(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const _p="firebase-app-check-store";let Pm=null;function yp(){return Pm||(Pm=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(wr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_p,{keyPath:"compositeKey"})}}catch(e){t(wr.create("storage-open",{originalErrorMessage:e?.message}))}}),Pm)}function vp(){return(vp=(0,X.Z)(function*(n,t){const r=(yield yp()).transaction(_p,"readwrite"),a=r.objectStore(_p).put({compositeKey:n,value:t});return new Promise((l,f)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var v;f(wr.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Rm=new Dc.Yd("@firebase/app-check");function Fm(n,t){return(0,Ht.hl)()?function TI(n,t){return function kv(n,t){return vp.apply(this,arguments)}(function LE(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Rm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Fv(){return Mm().enabled}function Lv(){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,X.Z)(function*(){const n=Mm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const UE={error:"UNKNOWN_ERROR"};function Vv(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function wp(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,X.Z)(function*(n,t=!1){const e=n.app;xv(e);const r=wi(e);let a,o=r.token;if(o&&!Ih(o)&&(r.token=void 0,o=void 0),!o){const m=yield r.cachedTokenPromise;m&&(Ih(m)?o=m:yield Fm(e,void 0))}if(!t&&o&&Ih(o))return{token:o.token};let f,l=!1;if(Fv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tu(OE(e,yield Lv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield Fm(e,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield wi(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Rm.warn(m.message):Rm.error(m),a=m}return o?a?f=Ih(o)?{token:o.token,internalError:a}:Rr(a):(f={token:o.token},r.token=o,yield Fm(e,o)):f=Rr(a),l&&Gv(e,f),f})).apply(this,arguments)}function Lm(){return(Lm=(0,X.Z)(function*(n){const t=n.app;xv(t);const{provider:e}=wi(t);if(Fv()){const r=yield Lv(),{token:o}=yield Tu(OE(t,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function Um(n,t){const e=wi(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function Hv(n){const{app:t}=n,e=wi(t);let r=e.tokenRefresher;r||(r=function AI(n){const{app:t}=n;return new EI((0,X.Z)(function*(){let r;if(r=wi(t).token?yield wp(n,!0):yield wp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=wi(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Gv(n,t){const e=wi(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Ih(n){return n.expireTimeMillis-Date.now()>0}function Rr(n){return{token:Vv(UE),error:n}}class Ah{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wi(this.app);for(const e of t)Um(this.app,e.next);return Promise.resolve()}}const HE="app-check-internal";!function eN(){(0,Lo._registerComponent)(new td.wA("app-check",n=>function SI(n,t){return new Ah(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(HE).initialize()})),(0,Lo._registerComponent)(new td.wA(HE,n=>function MI(n){return{getToken:t=>wp(n,t),getLimitedUseToken:()=>function jv(n){return Lm.apply(this,arguments)}(n),addTokenListener:t=>function Bv(n,t,e,r){const{app:o}=n,a=wi(o);if(a.tokenObservers=[...a.tokenObservers,{next:e,error:r,type:t}],a.token&&Ih(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),Hv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Hv(n))}(n,"INTERNAL",t),removeTokenListener:t=>Um(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lo.registerVersion)("@firebase/app-check","0.8.0")}();class xp{constructor(){return(0,ln.vb)("app-check")}}typeof window<"u"&&window;var oN=V(9260);const zI=new i.OlP("angularfire2.auth.use-emulator"),KI=new i.OlP("angularfire2.auth.settings"),JI=new i.OlP("angularfire2.auth.tenant-id"),WI=new i.OlP("angularfire2.auth.langugage-code"),YI=new i.OlP("angularfire2.auth.use-device-language"),QI=new i.OlP("angularfire.auth.persistence"),XI=(n,t,e,r,o,a,l,f)=>(0,Yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=o,a&&m.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))m.settings[v]=x;return f&&m.setPersistence(f),m},[e,r,o,a,l,f]);let ar=(()=>{class n{constructor(e,r,o,a,l,f,m,v,x,I,F,j){const q=new Pr.x,te=Ct(void 0).pipe((0,vc.Q)(l.outsideAngular),Ci(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,ht.U)(()=>(0,Yr.on)(e,a,r)),(0,ht.U)(se=>XI(se,a,f,v,x,I,m,F)),Cv({bufferSize:1,refCount:!1}));if(Go(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{te.pipe(os()).subscribe();const Ve=te.pipe(Ci(Je=>Je.getRedirectResult().then(Nt=>Nt,()=>null)),ln.iC,Cv({bufferSize:1,refCount:!1})),Be=te.pipe(Ci(Je=>new Ai.y(Nt=>({unsubscribe:a.runOutsideAngular(()=>Je.onAuthStateChanged(Rt=>Nt.next(Rt),Rt=>Nt.error(Rt),()=>Nt.complete()))})))),je=te.pipe(Ci(Je=>new Ai.y(Nt=>({unsubscribe:a.runOutsideAngular(()=>Je.onIdTokenChanged(Rt=>Nt.next(Rt),Rt=>Nt.error(Rt),()=>Nt.complete()))}))));this.authState=Ve.pipe(Am(Be),(0,wv.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular)),this.user=Ve.pipe(Am(je),(0,wv.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular)),this.idToken=this.user.pipe(Ci(Je=>Je?(0,yn.D)(Je.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Ci(Je=>Je?(0,yn.D)(Je.getIdTokenResult()):Ct(null))),this.credential=(0,TE.T)(Ve,q,this.authState.pipe(rs(Je=>!Je))).pipe((0,ht.U)(Je=>Je?.user?Je:null),(0,wv.R)(l.outsideAngular),(0,vc.Q)(l.insideAngular))}return(0,Yr.pX)(this,te,a,{spy:{apply:(se,Ve,Be)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Be.then(je=>q.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yr.Dh),i.LFG(Yr.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(zI,8),i.LFG(KI,8),i.LFG(JI,8),i.LFG(WI,8),i.LFG(YI,8),i.LFG(QI,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jm=(()=>{class n{constructor(){oN.Z.registerVersion("angularfire",ln.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[ar]}),n})();const eA=["toast-component",""];function KE(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function Bm(n,t){if(1&n&&(i.ynx(0),i._uU(1),i.BQk()),2&n){const e=i.oxw(2);i.xp6(1),i.hij("[",e.duplicatesCount+1,"]")}}function JE(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,Bm,2,1,"ng-container",4),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.titleClass),i.uIk("aria-label",e.title),i.xp6(1),i.hij(" ",e.title," "),i.xp6(1),i.Q6J("ngIf",e.duplicatesCount)}}function WE(n,t){if(1&n&&i._UZ(0,"div",7),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.Q6J("innerHTML",e.message,i.oJD)}}function sN(n,t){if(1&n&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.Tol(e.options.messageClass),i.uIk("aria-label",e.message),i.xp6(1),i.hij(" ",e.message," ")}}function Qv(n,t){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Udp("width",e.width+"%")}}class rA{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class e0{constructor(t,e,r,o,a,l){this.toastId=t,this.config=e,this.message=r,this.title=o,this.toastType=a,this.toastRef=l,this._onTap=new Pr.x,this._onAction=new Pr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const XE=new i.OlP("ToastConfig");class sA{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Pr.x,this._activate=new Pr.x,this._manualClose=new Pr.x,this._resetTimeout=new Pr.x,this._countDuplicate=new Pr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class aA{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,r){return t===e0?this._toastPackage:this._parentInjector.get(t,e,r)}}class lN extends class uN{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let o;return o=r.create(t.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class cA{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let eb=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(e,r,o,a){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=o,this._document=a,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new lN(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new cA(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(eb),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qr=(()=>{class n{constructor(e,r,o,a,l){this.overlay=r,this._injector=o,this.sanitizer=a,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,o={},a=""){return this._preBuildNotification(a,e,r,this.applyConfig(o))}success(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(o))}error(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(o))}info(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(o))}warning(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(o))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",r="",o,a){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const m=l&&f.title===e;if((!l||m)&&f.message===r)return f.toastRef.onDuplicate(o,a),f}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,o,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,o,a)):this._buildNotification(e,r,o,a)}_buildNotification(e,r,o,a){if(!a.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&a.enableHtml&&(v=this.sanitizer.sanitize(i.q3G.HTML,r));const x=new sA(m),I=new e0(this.index,a,v,o,e,x),F=new aA(I,this._injector),j=new rA(a.toastComponent,F),q=m.attach(j,this.toastrConfig.newestOnTop);x.componentInstance=q.instance;const te={toastId:this.index,title:o||"",message:r||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:q};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{te.toastRef.activate()})),this.toasts.push(te),te}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(XE),i.LFG(tb),i.LFG(i.zs3),i.LFG(eu),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,r,o){this.toastrService=e,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qr),i.Y36(e0),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&i.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(i.d8E("@flyInOut",r.state),i.Tol(r.toastClasses),i.Udp("display",r.displayStyle))},attrs:eA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(i.YNc(0,KE,3,0,"button",0),i.YNc(1,JE,3,5,"div",1),i.YNc(2,WE,1,3,"div",2),i.YNc(3,sN,2,4,"div",3),i.YNc(4,Qv,2,2,"div",4)),2&e&&(i.Q6J("ngIf",r.options.closeButton),i.xp6(1),i.Q6J("ngIf",r.title),i.xp6(1),i.Q6J("ngIf",r.message&&r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.message&&!r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.options.progressBar))},dependencies:[_n],encapsulation:2,data:{animation:[pT("flyInOut",[iC("inactive",Mf({opacity:0})),iC("active",Mf({opacity:1})),iC("removed",Mf({opacity:0})),sh("inactive => active",tC("{{ easeTime }}ms {{ easing }}")),sh("active => removed",tC("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let t0=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:XE,useValue:{default:uA,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[xd]]}),n})();function lA(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",10)(1,"div",11)(2,"span",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",13)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",15),i._uU(10,"Registrate"),i.qZA()()()()()}}let Hm=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(dn),i.Y36(Qr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA(),i.TgZ(14,"a",8),i._uU(15,"MUSICA"),i.qZA()()(),i.TgZ(16,"div"),i.YNc(17,lA,11,0,"div",9),i.qZA()),2&e&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(13),i.Q6J("ngIf",r.modal))},dependencies:[_n,Rs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(76,175,80,.3294117647),rgba(33,150,243,.5490196078));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();const n0=function(n){return{"background-image":n,"background-blend-mode":"soft-light","background-size":"cover","background-position":"center"}};let ib=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.imagenesFondo=["https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto1.jpg?alt=media&token=144909e5-fa88-4785-a196-a9e829d644ee","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp30.jpg?alt=media&token=8835ef58-75a7-46ed-8d66-182c8b12a5b9","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp37.jpg?alt=media&token=1b507c45-18ad-44ab-9080-fcb944188969","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp45.jpg?alt=media&token=805448f0-c5f8-4c9d-b163-7de9487ea921","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp46.jpg?alt=media&token=52922013-1f5c-413d-8008-5bb74a93bad0","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp62.jpg?alt=media&token=96809e52-9a26-42fb-a0d1-608b0ec80cc4","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10500411_10201454213716073_6332111602942763551_n_10201454213716073.jpg?alt=media&token=6e7caa54-9319-4551-83bf-53cb96bbf047","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10580144_10201454209915978_1885626682807728120_n_10201454209915978.jpg?alt=media&token=eb7ef51f-afe5-490a-b17d-864642c1136a","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F164789_1372685215984_2451351_n_1372685215984.jpg?alt=media&token=46c640a2-1a32-458f-ab07-a6dbb2370cc4"],this.indiceImagen=0}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e&&e.displayName?e.displayName:"Invitad@"}),this.cambiarImagenFondo(),setInterval(()=>this.cambiarImagenFondo(),15e3)}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}cambiarImagenFondo(){const e=Math.floor(Math.random()*this.imagenesFondo.length);this.backgroundImage=this.imagenesFondo[e]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(dn),i.Y36(Qr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main"]],decls:15,vars:3,consts:[[1,"contenedor",2,"user-select","none"],[1,"box",3,"ngStyle"],[1,"titulo"],[1,"align"],[1,"msj"],[1,"pie"],["href","https://www.facebook.com/profile.php?id=100013672369598",1,"foo"],[1,"fab","fa-facebook-square"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"h1",2),i._uU(4,"Asi somos asi Bailamos Corinto"),i.qZA(),i.TgZ(5,"div")(6,"p",3),i._uU(7," Sum\xe9rgete en el coraz\xf3n de Corinto, Cauca, a trav\xe9s de esta conmovedora recopilaci\xf3n de ensayos, presentaciones, eventos, im\xe1genes y m\xfasica, protagonizados por nuestros queridos j\xf3venes. Cada momento capturado refleja la dedicaci\xf3n, el talento y la pasi\xf3n de nuestros muchachos, quienes con su esfuerzo y creatividad han dejado una huella imborrable en nuestra comunidad. "),i.qZA()(),i.TgZ(8,"div",4),i._uU(9,"Gracias a todos espero lo disfruten tanto como yo!!."),i.qZA(),i.TgZ(10,"aside")(11,"footer",5)(12,"a",6),i._UZ(13,"i",7),i._uU(14," by Edwin 2022"),i.qZA()()()()()),2&e&&(i.xp6(1),i.Q6J("ngStyle",i.VKq(1,n0,"url("+r.backgroundImage+")")))},dependencies:[vd,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:0;overflow:hidden}.log[_ngcontent-%COMP%]{display:flex;justify-content:space-between;animation:moveText .8s ease-in;white-space:nowrap;overflow:hidden}.logout[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.box[_ngcontent-%COMP%]{background-color:#3144c169;display:flex;flex-direction:column;justify-content:space-around;height:90%;width:85%;color:#fff;font-size:20px;padding:20px;border:1px solid white;border-radius:15px;outline:solid #ffffff;background-repeat:no-repeat;background-position:right;background-size:contain;animation:apearText 2s linear}.titulo[_ngcontent-%COMP%]{padding:10px;font-size:30px;text-align:center;background-color:#09ffb340;border-radius:8px;animation:moveText .5s linear}.align[_ngcontent-%COMP%]{padding:12px;text-align:center;border-radius:12px;border:1px solid white;color:#fff;margin-bottom:15px;font-size:17px;animation:moveText 1s linear;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff}.msj[_ngcontent-%COMP%]{color:#fff;margin-bottom:9px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{animation:apearText 2.3s linear;position:relative}.foo[_ngcontent-%COMP%]{color:#fff;text-decoration:none}@media (max-width: 767px){.titulo[_ngcontent-%COMP%]{font-size:22px}.welcome[_ngcontent-%COMP%]{font-size:20px;padding:0;margin:0}.t1[_ngcontent-%COMP%]{animation:moveText 1.2s linear;white-space:nowrap;overflow:hidden}.t2[_ngcontent-%COMP%]{animation:moveText 1.4s linear;white-space:nowrap;overflow:hidden}.t3[_ngcontent-%COMP%]{animation:moveText 1.6s linear;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}.msj[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2.3s linear}}@media (max-width: 433px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.msj[_ngcontent-%COMP%]{font-size:13px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:16px;animation:apearText 2.3s linear}}@media (max-width: 348px){.titulo[_ngcontent-%COMP%]{font-size:16px}.align[_ngcontent-%COMP%]{padding:4px}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})();V(1389);class r0{constructor(){return(0,ln.vb)("auth")}}const d0="firebasestorage.googleapis.com",lb="storageBucket";class ni extends Ht.ZR{constructor(t,e,r=0){super($m(t),`Firebase Storage: ${e} (${$m(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ni.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $m(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ln=(()=>{return(n=Ln||(Ln={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ln;var n})();function $m(n){return"storage/"+n}function h0(){return new ni(Ln.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zm(){return new ni(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fb(){return new ni(Ln.CANCELED,"User canceled the upload/download.")}function pb(){return new ni(Ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ip(n){return new ni(Ln.INVALID_ARGUMENT,n)}function RA(){return new ni(Ln.APP_DELETED,"The Firebase app was deleted.")}function FA(n){return new ni(Ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Km(n,t){return new ni(Ln.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ap(n){throw new ni(Ln.INTERNAL_ERROR,"Internal error: "+n)}class Xr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Xr.makeFromUrl(t,e)}catch{return new Xr(t,"")}if(""===r.path)return r;throw function kN(n){return new ni(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(Je){Je.path_=decodeURIComponent(Je.path)}const I=e.replace(/[.]/g,"\\."),je=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Je){"/"===Je.path.charAt(Je.path.length-1)&&(Je.path_=Je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===d0?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Je=0;Je<je.length;Je++){const Nt=je[Je],Rt=Nt.regex.exec(t);if(Rt){let Si=Rt[Nt.indices.path];Si||(Si=""),r=new Xr(Rt[Nt.indices.bucket],Si),Nt.postModify(r);break}}if(null==r)throw function NA(n){return new ni(Ln.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return r}}class ON{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function c(n){return"string"==typeof n||n instanceof String}function u(n){return d()&&n instanceof Blob}function d(){return typeof Blob<"u"&&!(0,Ht.UG)()}function h(n,t,e,r){if(r<t)throw Ip(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ip(`Invalid value for '${n}'. Expected ${e} or less.`)}function g(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function y(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var E=(()=>{return(n=E||(E={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",E;var n})();function b(n,t){const e=n>=500&&n<600,o=-1!==[408,429].indexOf(n),a=-1!==t.indexOf(n);return e||o||a}class A{constructor(t,e,r,o,a,l,f,m,v,x,I,F=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=I,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,q)=>{this.resolve_=j,this.reject_=q,this.start_()})}start_(){const e=(r,o)=>{const a=this.resolve_,l=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function LN(n){return void 0!==n}(m)?a():a(m)}catch(m){l(m)}else if(null!==f){const m=h0();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(o.canceled?this.appDelete_?RA():fb():zm())};this.canceled_?e(0,new k(!1,null,!0)):this.backoffId_=function RN(n,t,e){let r=1,o=null,a=null,l=!1,f=0;function m(){return 2===f}let v=!1;function x(...se){v||(v=!0,t.apply(null,se))}function I(se){o=setTimeout(()=>{o=null,n(j,m())},se)}function F(){a&&clearTimeout(a)}function j(se,...Ve){if(v)return void F();if(se)return F(),void x.call(null,se,...Ve);if(m()||l)return F(),void x.call(null,se,...Ve);let je;r<64&&(r*=2),1===f?(f=2,je=0):je=1e3*(r+Math.random()),I(je)}let q=!1;function te(se){q||(q=!0,F(),!v&&(null!==o?(se||(f=2),clearTimeout(o),I(0)):se||(f=1)))}return I(0),a=setTimeout(()=>{l=!0,te(!0)},e),te}((r,o)=>{if(o)return void r(!1,new k(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===E.NO_ERROR,m=a.getStatus();if(!f||b(m,this.additionalRetryCodes_)&&this.retry){const x=a.getErrorCode()===E.ABORT;return void r(!1,new k(!1,null,x))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new k(v,a))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function FN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function _t(...n){const t=function Xe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(d())return new Blob(n);throw new ni(Ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wn{constructor(t,e){this.data=t,this.contentType=e||null}}function qn(n,t){switch(n){case Dt.RAW:return new wn(Iu(t));case Dt.BASE64:case Dt.BASE64URL:return new wn(Jm(n,t));case Dt.DATA_URL:return new wn(function g0(n){const t=new Wm(n);return t.base64?Jm(Dt.BASE64,t.rest):function p0(n){let t;try{t=decodeURIComponent(n)}catch{throw Km(Dt.DATA_URL,"Malformed data URL.")}return Iu(t)}(t.rest)}(t),function m0(n){return new Wm(n).contentType}(t))}throw h0()}function Iu(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Jm(n,t){switch(n){case Dt.BASE64:{const o=-1!==t.indexOf("-"),a=-1!==t.indexOf("_");if(o||a)throw Km(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dt.BASE64URL:{const o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a)throw Km(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Fe(n){if(typeof atob>"u")throw function PN(n){return new ni(Ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(o){throw o.message.includes("polyfill")?o:Km(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class Wm{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Km(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function _0(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class us{constructor(t,e){let r=0,o="";u(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(u(this.data_)){const o=function Ot(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new us(o)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new us(r,!0)}}static getBlob(...t){if(d()){const e=t.map(r=>r instanceof us?r.data_:r);return new us(_t.apply(null,e))}{const e=t.map(l=>c(l)?qn(Dt.RAW,l).data:l.data_);let r=0;e.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let a=0;return e.forEach(l=>{for(let f=0;f<l.length;f++)o[a++]=l[f]}),new us(o,!0)}}uploadData(){return this.data_}}function Sp(n){let t;try{t=JSON.parse(n)}catch{return null}return function s(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function VN(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function z6(n,t){return t}class Uo{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||z6}}let gb=null;function v0(){if(gb)return gb;const n=[];n.push(new Uo("bucket")),n.push(new Uo("generation")),n.push(new Uo("metageneration")),n.push(new Uo("name","fullPath",!0));const e=new Uo("name");e.xform=function t(a,l){return function K6(n){return!c(n)||n.length<2?n:VN(n)}(l)},n.push(e);const o=new Uo("size");return o.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(o),n.push(new Uo("timeCreated")),n.push(new Uo("updated")),n.push(new Uo("md5Hash",null,!0)),n.push(new Uo("cacheControl",null,!0)),n.push(new Uo("contentDisposition",null,!0)),n.push(new Uo("contentEncoding",null,!0)),n.push(new Uo("contentLanguage",null,!0)),n.push(new Uo("contentType",null,!0)),n.push(new Uo("metadata","customMetadata",!0)),gb=n,gb}function ZN(n,t,e){const r=Sp(t);return null===r?null:function W6(n,t,e){const r={type:"file"},o=e.length;for(let a=0;a<o;a++){const l=e[a];r[l.local]=l.xform(r,t[l.server])}return function J6(n,t){Object.defineProperty(n,"ref",{get:function e(){const a=new Xr(n.bucket,n.fullPath);return t._makeStorageReference(a)}})}(r,n),r}(n,r,e)}function LA(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];a.writable&&(e[a.server]=n[a.local])}return JSON.stringify(e)}const jN="prefixes";class Au{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Su(n){if(!n)throw h0()}function mb(n,t){return function e(r,o){const a=ZN(n,o,t);return Su(null!==a),a}}function Ym(n){return function t(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function MN(){return new ni(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function f0(){return new ni(Ln.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function db(n){return new ni(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function hb(n){return new ni(Ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}}function D0(n){const t=Ym(n);return function e(r,o){let a=t(r,o);return 404===r.getStatus()&&(a=function kA(n){return new ni(Ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=o.serverResponse,a}}function HN(n,t,e){const o=g(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Au(o,"GET",mb(n,e),l);return f.errorHandler=D0(t),f}function nL(n,t,e,r,o){const a={};a.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(a.delimiter=e),r&&(a.pageToken=r),o&&(a.maxResults=o);const f=g(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new Au(f,"GET",function eL(n,t){return function e(r,o){const a=function X6(n,t,e){const r=Sp(e);return null===r?null:function Q6(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[jN])for(const o of e[jN]){const a=o.replace(/\/$/,""),l=n._makeStorageReference(new Xr(t,a));r.prefixes.push(l)}if(e.items)for(const o of e.items){const a=n._makeStorageReference(new Xr(t,o.name));r.items.push(a)}return r}(n,t,r)}(n,t,o);return Su(null!==a),a}}(n,t.bucket),v);return x.urlParams=a,x.errorHandler=Ym(t),x}function qN(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function sL(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function $N(n,t,e,r,o){const a=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let je="";for(let Je=0;Je<2;Je++)je+=Math.random().toString().slice(2);return je}();l["Content-Type"]="multipart/related; boundary="+m;const v=qN(t,r,o),x=LA(v,e),j=us.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===j)throw pb();const q={name:v.fullPath},te=g(a,n.host,n._protocol),Ve=n.maxUploadRetryTime,Be=new Au(te,"POST",mb(n,e),Ve);return Be.urlParams=q,Be.headers=l,Be.body=j.uploadData(),Be.errorHandler=Ym(t),Be}class _b{constructor(t,e,r,o){this.current=t,this.total=e,this.finalized=!!r,this.metadata=o||null}}function UA(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Su(!1)}return Su(!!e&&-1!==(t||["active"]).indexOf(e)),e}const lL={STATE_CHANGED:"state_changed"},Vo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VA(n){switch(n){case"running":case"pausing":case"canceling":return Vo.RUNNING;case"paused":return Vo.PAUSED;case"success":return Vo.SUCCESS;case"canceled":return Vo.CANCELED;default:return Vo.ERROR}}class dL{constructor(t,e,r){if(function UN(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Qm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class fL extends class hL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=E.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=E.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=E.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o){if(this.sent_)throw Ap("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ap("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ap("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ap("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ap("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Cc(){return new fL}class JN{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=v0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(b(o.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=zm()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ln.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function aL(n,t,e,r,o){const a=t.bucketOnlyServerUrl(),l=qN(t,r,o),f={name:l.fullPath},m=g(a,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},I=LA(l,e),q=new Au(m,"POST",function j(te){let se;UA(te);try{se=te.getResponseHeader("X-Goog-Upload-URL")}catch{Su(!1)}return Su(c(se)),se},n.maxUploadRetryTime);return q.urlParams=f,q.headers=x,q.body=I,q.errorHandler=Ym(t),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const o=function cL(n,t,e,r){const m=new Au(e,"POST",function a(v){const x=UA(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Su(!1)}I||Su(!1);const F=Number(I);return Su(!isNaN(F)),new _b(F,r.size(),"final"===x)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Ym(t),m}(this._ref.storage,this._ref._location,t,this._blob),a=this._ref.storage._makeRequest(o,Cc,e,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _b(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let l;try{l=function uL(n,t,e,r,o,a,l,f){const m=new _b(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function PA(){return new ni(Ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let x=v;o>0&&(x=Math.min(x,o));const I=m.current;let j="";j=0===x?"finalize":v===x?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":j,"X-Goog-Upload-Offset":`${m.current}`},te=r.slice(I,I+x);if(null===te)throw pb();const je=new Au(e,"POST",function se(Je,Nt){const Rt=UA(Je,["active","final"]),pn=m.current+x,Si=r.size();let wo;return wo="final"===Rt?mb(t,a)(Je,Nt):null,new _b(pn,Si,"final"===Rt,wo)},t.maxUploadRetryTime);return je.headers=q,je.body=te.uploadData(),je.progressCallback=f||null,je.errorHandler=Ym(n),je}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(l,Cc,o,a,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=HN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=$N(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cc,t,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=fb(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=VA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,o){const a=new dL(e||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(VA(this._state)){case Vo.SUCCESS:Qm(this._resolve.bind(null,this.snapshot))();break;case Vo.CANCELED:case Vo.ERROR:Qm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(VA(this._state)){case Vo.RUNNING:case Vo.PAUSED:t.next&&Qm(t.next.bind(t,this.snapshot))();break;case Vo.SUCCESS:t.complete&&Qm(t.complete.bind(t))();break;default:t.error&&Qm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Mp{constructor(t,e){this._service=t,this._location=e instanceof Xr?e:Xr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Mp(t,e)}get root(){const t=new Xr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VN(this._location.path)}get storage(){return this._service}get parent(){const t=function y0(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Xr(this._location.bucket,t);return new Mp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw FA(t)}}function YN(n,t,e){return ZA.apply(this,arguments)}function ZA(){return(ZA=(0,X.Z)(function*(n,t,e){const o=yield QN(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield YN(n,t,o.nextPageToken))})).apply(this,arguments)}function QN(n,t){null!=t&&"number"==typeof t.maxResults&&h("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=nL(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,Cc)}function TL(n){n._throwIfRoot("getDownloadURL");const t=function iL(n,t,e){const o=g(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Au(o,"GET",function tL(n,t){return function e(r,o){const a=ZN(n,o,t);return Su(null!==a),function Y6(n,t,e,r){const o=Sp(t);if(null===o||!c(o.downloadTokens))return null;const a=o.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(v=>{const I=n.fullPath;return g("/b/"+l(n.bucket)+"/o/"+l(I),e,r)+y({alt:"media",token:v})})[0]}(a,o,n.host,n._protocol)}}(n,e),l);return f.errorHandler=D0(t),f}(n.storage,n._location,v0());return n.storage.makeRequestWithTokens(t,Cc).then(e=>{if(null===e)throw function OA(){return new ni(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function XN(n,t){const e=function $6(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Xr(n._location.bucket,e);return new Mp(n.storage,r)}function eP(n,t){if(n instanceof jA){const e=n;if(null==e._bucket)throw function NN(){return new ni(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lb+"' property when initializing the app?")}();const r=new Mp(e,e._bucket);return null!=t?eP(r,t):r}return void 0!==t?XN(n,t):n}function SL(n,t){if(t&&function IL(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof jA)return function AL(n,t){return new Mp(n,t)}(n,t);throw Ip("To use ref(service, url), the first argument must be a Storage instance.")}return eP(n,t)}function tP(n,t){const e=t?.[lb];return null==e?null:Xr.makeFromBucketSpec(e,n)}class jA{constructor(t,e,r,o,a){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=d0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Xr.makeFromBucketSpec(o,this._host):tP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Xr.makeFromBucketSpec(this._url,t):tP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){h("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){h("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,X.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,X.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mp(this,t)}_makeRequest(t,e,r,o,a=!0){if(this._deleted)return new ON(RA());{const l=function He(n,t,e,r,o,a,l=!0){const f=y(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function ie(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function Z(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function J(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,a),function Te(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,r),new A(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l)}(t,this._appId,r,o,e,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var r=this;return(0,X.Z)(function*(){const[o,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,o,a).getPromise()})()}}const nP="@firebase/storage",rP="storage";function kL(n,t,e){return function WN(n,t,e){n._throwIfRoot("uploadBytes");const r=$N(n.storage,n._location,v0(),new us(t,!0),e);return n.storage.makeRequestWithTokens(r,Cc).then(o=>({metadata:o,ref:n}))}(n=(0,Ht.m9)(n),t,e)}function oP(n){return function wL(n){const t={prefixes:[],items:[]};return YN(n,t).then(()=>t)}(n=(0,Ht.m9)(n))}function sP(n){return TL(n=(0,Ht.m9)(n))}function BA(n,t){return SL(n=(0,Ht.m9)(n),t)}function UL(n=(0,Lo.getApp)(),t){n=(0,Ht.m9)(n);const r=(0,Lo._getProvider)(n,rP).getImmediate({identifier:t}),o=(0,Ht.P0)("storage");return o&&aP(r,...o),r}function aP(n,t,e,r={}){!function ML(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Ht.Sg)(o,n.app.options.projectId))}(n,t,e,r)}function VL(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new jA(e,r,o,t,Lo.SDK_VERSION)}!function ZL(){(0,Lo._registerComponent)(new td.wA(rP,VL,"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(nP,"0.11.2",""),(0,Lo.registerVersion)(nP,"0.11.2","esm2017")}();class Xm{constructor(t){return t}}const cP="storage",HA=new i.OlP("angularfire2.storage-instances");function HL(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Xm(r)}}const GL={provide:class jL{constructor(){return(0,ln.vb)(cP)}},deps:[[new i.FiY,HA]]},qL={provide:Xm,useFactory:function BL(n,t){const e=(0,ln.JM)(cP,n,t);return e&&new Xm(e)},deps:[[new i.FiY,HA],bu]};let $L=(()=>{class n{constructor(){(0,Eu.KN)("angularfire",ln.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[qL,GL]}),n})();function zL(n,...t){return{ngModule:$L,providers:[{provide:HA,useFactory:HL(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,Ev,[new i.FiY,r0],[new i.FiY,xp],...t]}]}}const KL=(0,ln.u3)(sP,!0),JL=(0,ln.u3)(UL,!0),WL=(0,ln.u3)(oP,!0),uP=(0,ln.u3)(BA,!0),YL=(0,ln.u3)(kL,!0);var lP=V(4986);function GA(){return(0,or.e)((n,t)=>{let e,r=!1;n.subscribe((0,Gn.x)(t,o=>{const a=e;e=o,r&&t.next([a,o]),r=!0}))})}function XL(n,t){return n===t}V(9568);var st,dP=V(3942),eU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wc={},qA=qA||{},Yt=eU||self;function yb(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function C0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var $A="closure_uid_"+(1e9*Math.random()>>>0),nU=0;function iU(n,t,e){return n.call.apply(n.bind,arguments)}function rU(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function _o(n,t,e){return(_o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iU:rU).apply(null,arguments)}function vb(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(r,o,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return t.prototype[o].apply(r,l)}}function kh(){this.s=this.s,this.o=this.o}kh.prototype.s=!1,kh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tU(n){Object.prototype.hasOwnProperty.call(n,$A)&&n[$A]||(n[$A]=++nU)}(this)},kh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hP=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function zA(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function fP(n,t){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(yb(r)){const o=n.length||0,a=r.length||0;n.length=o+a;for(let l=0;l<a;l++)n[o+l]=r[l]}else n.push(r)}}function yo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}yo.prototype.h=function(){this.defaultPrevented=!0};var sU=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",()=>{},t),Yt.removeEventListener("test",()=>{},t)}catch{}return n}();function w0(n){return/^[\s\xa0]*$/.test(n)}function Db(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Mu(n){return-1!=Db().indexOf(n)}function KA(n){return KA[" "](n),n}KA[" "]=function(){};var WA,n,cU=Mu("Opera"),e_=Mu("Trident")||Mu("MSIE"),pP=Mu("Edge"),JA=pP||e_,gP=Mu("Gecko")&&!(-1!=Db().toLowerCase().indexOf("webkit")&&!Mu("Edge"))&&!(Mu("Trident")||Mu("MSIE"))&&!Mu("Edge"),uU=-1!=Db().toLowerCase().indexOf("webkit")&&!Mu("Edge");function mP(){var n=Yt.document;return n?n.documentMode:void 0}e:{var YA="",QA=(n=Db(),gP?/rv:([^\);]+)(\)|;)/.exec(n):pP?/Edge\/([\d\.]+)/.exec(n):e_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uU?/WebKit\/(\S+)/.exec(n):cU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QA&&(YA=QA?QA[1]:""),e_){var XA=mP();if(null!=XA&&XA>parseFloat(YA)){WA=String(XA);break e}}WA=YA}var lU=Yt.document&&e_&&(mP()||parseInt(WA,10))||void 0;function E0(n,t){if(yo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(gP){e:{try{KA(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&E0.$.h.call(this)}}Fr(E0,yo);var dU={2:"touch",3:"pen",4:"mouse"};E0.prototype.h=function(){E0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var b0="closure_listenable_"+(1e6*Math.random()|0),hU=0;function fU(n,t,e,r,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.la=o,this.key=++hU,this.fa=this.ia=!1}function Cb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tS(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function yP(n){const t={};for(const e in n)t[e]=n[e];return t}const vP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DP(n,t){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)n[e]=r[e];for(let a=0;a<vP.length;a++)e=vP[a],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function wb(n){this.src=n,this.g={},this.h=0}function nS(n,t){var e=t.type;if(e in n.g){var a,r=n.g[e],o=hP(r,t);(a=0<=o)&&Array.prototype.splice.call(r,o,1),a&&(Cb(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function iS(n,t,e,r){for(var o=0;o<n.length;++o){var a=n[o];if(!a.fa&&a.listener==t&&a.capture==!!e&&a.la==r)return o}return-1}wb.prototype.add=function(n,t,e,r,o){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=iS(n,t,r,o);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new fU(t,this.src,a,!!r,o)).ia=e,n.push(t)),t};var rS="closure_lm_"+(1e6*Math.random()|0),oS={};function CP(n,t,e,r,o){if(r&&r.once)return EP(n,t,e,r,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)CP(n,t[a],e,r,o);return null}return e=uS(e),n&&n[b0]?n.O(t,e,C0(r)?!!r.capture:!!r,o):wP(n,t,e,!1,r,o)}function wP(n,t,e,r,o,a){if(!t)throw Error("Invalid event type");var l=C0(o)?!!o.capture:!!o,f=aS(n);if(f||(n[rS]=f=new wb(n)),(e=f.add(t,e,r,l,a)).proxy)return e;if(r=function gU(){const t=mU;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)sU||(o=l),void 0===o&&(o=!1),n.addEventListener(t.toString(),r,o);else if(n.attachEvent)n.attachEvent(TP(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function EP(n,t,e,r,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)EP(n,t[a],e,r,o);return null}return e=uS(e),n&&n[b0]?n.P(t,e,C0(r)?!!r.capture:!!r,o):wP(n,t,e,!0,r,o)}function bP(n,t,e,r,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)bP(n,t[a],e,r,o);else r=C0(r)?!!r.capture:!!r,e=uS(e),n&&n[b0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=iS(a=n.g[t],e,r,o))&&(Cb(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=aS(n))&&(t=n.g[t.toString()],n=-1,t&&(n=iS(t,e,r,o)),(e=-1<n?t[n]:null)&&sS(e))}function sS(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[b0])nS(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(TP(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=aS(t))?(nS(e,n),0==e.h&&(e.src=null,t[rS]=null)):Cb(n)}}}function TP(n){return n in oS?oS[n]:oS[n]="on"+n}function mU(n,t){if(n.fa)n=!0;else{t=new E0(t,this);var e=n.listener,r=n.la||n.src;n.ia&&sS(n),n=e.call(r,t)}return n}function aS(n){return(n=n[rS])instanceof wb?n:null}var cS="__closure_events_fn_"+(1e9*Math.random()>>>0);function uS(n){return"function"==typeof n?n:(n[cS]||(n[cS]=function(t){return n.handleEvent(t)}),n[cS])}function Lr(){kh.call(this),this.i=new wb(this),this.S=this,this.J=null}function eo(n,t){var e,r=n.J;if(r)for(e=[];r;r=r.J)e.push(r);if(n=n.S,r=t.type||t,"string"==typeof t)t=new yo(t,n);else if(t instanceof yo)t.target=t.target||n;else{var o=t;DP(t=new yo(r,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var l=t.g=e[a];o=Eb(l,r,!0,t)&&o}if(o=Eb(l=t.g=n,r,!0,t)&&o,o=Eb(l,r,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Eb(l=t.g=e[a],r,!1,t)&&o}function Eb(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var l=t[a];if(l&&!l.fa&&l.capture==e){var f=l.listener,m=l.la||l.src;l.ia&&nS(n.i,l),o=!1!==f.call(m,r)&&o}}return o&&!r.defaultPrevented}Fr(Lr,kh),Lr.prototype[b0]=!0,Lr.prototype.removeEventListener=function(n,t,e,r){bP(this,n,t,e,r)},Lr.prototype.N=function(){if(Lr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Cb(e[r]);delete n.g[t],n.h--}}this.J=null},Lr.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Lr.prototype.P=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var lS=Yt.JSON.stringify;function yU(){var n=dS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var xP=new class _U{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new DU,n=>n.reset());class DU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function CU(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function wU(n){Yt.setTimeout(()=>{throw n},0)}let T0,x0=!1,dS=new class vU{constructor(){this.h=this.g=null}add(t,e){const r=xP.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}},IP=()=>{const n=Yt.Promise.resolve(void 0);T0=()=>{n.then(EU)}};var EU=()=>{for(var n;n=yU();){try{n.h.call(n.g)}catch(e){wU(e)}var t=xP;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}x0=!1};function bb(n,t){Lr.call(this),this.h=n||1,this.g=t||Yt,this.j=_o(this.qb,this),this.l=Date.now()}function hS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fS(n,t,e){if("function"==typeof n)e&&(n=_o(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_o(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function AP(n){n.g=fS(()=>{n.g=null,n.i&&(n.i=!1,AP(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Fr(bb,Lr),(st=bb.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eo(this,"tick"),this.ga&&(hS(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){bb.$.N.call(this),hS(this),delete this.g};class bU extends kh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:AP(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function I0(n){kh.call(this),this.h=n,this.g={}}Fr(I0,kh);var SP=[];function MP(n,t,e,r){Array.isArray(e)||(e&&(SP[0]=e.toString()),e=SP);for(var o=0;o<e.length;o++){var a=CP(t,e[o],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function kP(n){tS(n.g,function(t,e){this.g.hasOwnProperty(e)&&sS(t)},n),n.g={}}function Tb(){this.g=!0}function t_(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function AU(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<o.length;l++)o[l]=""}}}return lS(e)}catch{return t}}(n,e)+(r?" "+r:"")})}I0.prototype.N=function(){I0.$.N.call(this),kP(this)},I0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tb.prototype.Ea=function(){this.g=!1},Tb.prototype.info=function(){};var kp={},NP=null;function xb(){return NP=NP||new Lr}function PP(n){yo.call(this,kp.Ta,n)}function A0(n){const t=xb();eo(t,new PP(t))}function OP(n,t){yo.call(this,kp.STAT_EVENT,n),this.stat=t}function Zo(n){const t=xb();eo(t,new OP(t,n))}function RP(n,t){yo.call(this,kp.Ua,n),this.size=t}function S0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}kp.Ta="serverreachability",Fr(PP,yo),kp.STAT_EVENT="statevent",Fr(OP,yo),kp.Ua="timingevent",Fr(RP,yo);var Ib={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pS(){}function UP(){}pS.prototype.h=null;var _S,M0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gS(){yo.call(this,"d")}function mS(){yo.call(this,"c")}function Ab(){}function k0(n,t,e,r){this.l=n,this.j=t,this.m=e,this.W=r||1,this.U=new I0(this),this.P=SU,this.V=new bb(n=JA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VP}function VP(){this.i=null,this.g="",this.h=!1}Fr(gS,yo),Fr(mS,yo),Fr(Ab,pS),Ab.prototype.g=function(){return new XMLHttpRequest},Ab.prototype.i=function(){return{}},_S=new Ab;var SU=45e3,yS={},Sb={};function vS(n,t,e){n.L=1,n.v=Pb(rd(t)),n.s=e,n.S=!0,ZP(n,null)}function ZP(n,t){n.G=Date.now(),N0(n),n.A=rd(n.v);var e=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),WP(e.i,"t",r),n.C=0,e=n.l.J,n.h=new VP,n.g=DO(n.l,e?t:null,!n.s),0<n.O&&(n.M=new bU(_o(n.Pa,n,n.g),n.O)),MP(n.U,n.g,"readystatechange",n.nb),t=n.I?yP(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),A0(),function TU(n,t,e,r,o,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var x=v[0];v=v[1];var I=x.split("_");l=2<=I.length&&"type"==I[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function jP(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BP(n,t,e){let o,r=!0;for(;!n.J&&n.C<e.length;){if(o=MU(n,e),o==Sb){4==t&&(n.o=4,Zo(14),r=!1),t_(n.j,n.m,null,"[Incomplete Response]");break}if(o==yS){n.o=4,Zo(15),t_(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}t_(n.j,n.m,o,null),DS(n,o)}jP(n)&&o!=Sb&&o!=yS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Zo(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),IS(t),t.M=!0,Zo(11))):(t_(n.j,n.m,e,"[Invalid Chunked Response]"),Np(n),P0(n))}function MU(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Sb:(e=Number(t.substring(e,r)),isNaN(e)?yS:(r+=1)+e>t.length?Sb:(t=t.slice(r,r+e),n.C=r+e,t))}function N0(n){n.Y=Date.now()+n.P,HP(n,n.P)}function HP(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=S0(_o(n.lb,n),t)}function Mb(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function P0(n){0==n.l.H||n.J||mO(n.l,n)}function Np(n){Mb(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,hS(n.V),kP(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function DS(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||CS(e.i,n)))if(!n.K&&CS(e.i,n)&&3==e.H){try{var r=e.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Vb(e),Lb(e)}xS(e),Zo(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=S0(_o(e.ib,e),6e3));if(1>=XP(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Op(e,11)}else if((n.K||e.g==n)&&Vb(e),!w0(t))for(o=e.Ja.g.parse(t),t=0;t<o.length;t++){let v=o[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.K=v[1],e.pa=v[2];const x=v[3];null!=x&&(e.ra=x,e.l.info("VER="+e.ra));const I=v[4];null!=I&&(e.Ga=I,e.l.info("SVER="+e.Ga));const F=v[5];null!=F&&"number"==typeof F&&0<F&&(e.L=r=1.5*F,e.l.info("backChannelRequestTimeoutMs_="+r)),r=e;const j=n.g;if(j){const q=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.i;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(wS(a,a.h),a.h=null))}if(r.F){const te=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,li(r.I,r.F,te))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((r=e).wa=vO(r,r.J?r.pa:null,r.Y),l.K){eO(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(Mb(f),N0(f)),r.g=l}else pO(r);0<e.j.length&&Ub(e)}else"stop"!=v[0]&&"close"!=v[0]||Op(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Op(e,7):TS(e):"noop"!=v[0]&&e.h&&e.h.Aa(v),e.A=0)}A0()}catch{}}function GP(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(yb(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function NU(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yb(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const r in n)t[e++]=r;return t}}}(n),r=function kU(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yb(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],e&&e[a],n)}(st=k0.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const t=this.M;t&&3==ku(n)?t.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const x=ku(this.g);var t=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||JA||this.g&&(this.h.h||this.g.ja()||cO(this.g)))){this.J||4!=x||7==t||A0(),Mb(this);var e=this.g.da();this.ca=e;t:if(jP(this)){var r=cO(this.g);n="";var o=r.length,a=4==ku(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Np(this),P0(this);var l="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:a&&t==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function xU(n,t,e,r,o,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w0(f)){var v=f;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Zo(12),Np(this),P0(this);break e}t_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DS(this,e)}this.S?(BP(this,x,l),JA&&this.i&&3==x&&(MP(this.U,this.V,"tick",this.mb),this.V.start())):(t_(this.j,this.m,l,null),DS(this,l)),4==x&&Np(this),this.i&&!this.J&&(4==x?mO(this.l,this):(this.i=!1,N0(this)))}else(function WU(n){const t={};n=(n.g&&2<=ku(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(w0(n[r]))continue;var e=CU(n[r]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const a=t[o]||[];t[o]=a,a.push(e)}!function pU(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(r){return r.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Zo(12)):(this.o=0,Zo(13)),Np(this),P0(this)}}}catch{}},st.mb=function(){if(this.g){var n=ku(this.g),t=this.g.ja();this.C<t.length&&(Mb(this),BP(this,n,t),this.i&&4!=n&&N0(this))}},st.cancel=function(){this.J=!0,Np(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function IU(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(A0(),Zo(17)),Np(this),this.o=2,P0(this)):HP(this,this.Y-n)};var qP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pp){this.h=n.h,kb(this,n.j),this.s=n.s,this.g=n.g,Nb(this,n.m),this.l=n.l;var t=n.i,e=new F0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),$P(this,e),this.o=n.o}else n&&(t=String(n).match(qP))?(this.h=!1,kb(this,t[1]||"",!0),this.s=O0(t[2]||""),this.g=O0(t[3]||"",!0),Nb(this,t[4]),this.l=O0(t[5]||"",!0),$P(this,t[6]||"",!0),this.o=O0(t[7]||"")):(this.h=!1,this.i=new F0(null,this.h))}function rd(n){return new Pp(n)}function kb(n,t,e){n.j=e?O0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Nb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function $P(n,t,e){t instanceof F0?(n.i=t,function VU(n,t){t&&!n.j&&(Nh(n),n.i=null,n.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(KP(this,r),WP(this,o,e))},n)),n.j=t}(n.i,n.h)):(e||(t=R0(t,LU)),n.i=new F0(t,n.h))}function li(n,t,e){n.i.set(t,e)}function Pb(n){return li(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function O0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function R0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,OU),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(R0(t,zP,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(R0(t,zP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(R0(e,"/"==e.charAt(0)?FU:RU,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",R0(e,UU)),n.join("")};var zP=/[#\/\?@]/g,RU=/[#\?:]/g,FU=/[#\?]/g,LU=/[#\?@]/g,UU=/#/g;function F0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Nh(n){n.g||(n.g=new Map,n.h=0,n.i&&function PU(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),o=null;if(0<=r){var a=n[e].substring(0,r);o=n[e].substring(r+1)}else a=n[e];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function KP(n,t){Nh(n),t=n_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function JP(n,t){return Nh(n),t=n_(n,t),n.g.has(t)}function WP(n,t,e){KP(n,t),0<e.length&&(n.i=null,n.g.set(n_(n,t),zA(e)),n.h+=e.length)}function n_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function YP(n){this.l=n||jU,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=F0.prototype).add=function(n,t){Nh(this),this.i=null,n=n_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){Nh(this),this.g.forEach(function(e,r){e.forEach(function(o){n.call(t,o,r,this)},this)},this)},st.ta=function(){Nh(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let r=0;r<t.length;r++){const o=n[r];for(let a=0;a<o.length;a++)e.push(t[r])}return e},st.Z=function(n){Nh(this);let t=[];if("string"==typeof n)JP(this,n)&&(t=t.concat(this.g.get(n_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},st.set=function(n,t){return Nh(this),this.i=null,JP(this,n=n_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var r=t[e];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=a;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var jU=10;function QP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XP(n){return n.h?1:n.g?n.g.size:0}function CS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function wS(n,t){n.g?n.g.add(t):n.h=t}function eO(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function tO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return zA(n.i)}function HU(){this.g=new class{stringify(n){return Yt.JSON.stringify(n,void 0)}parse(n){return Yt.JSON.parse(n,void 0)}}}function GU(n,t,e){const r=e||"";try{GP(n,function(o,a){let l=o;C0(o)&&(l=lS(o)),t.push(r+a+"="+encodeURIComponent(l))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ob(n,t,e,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function L0(n){this.l=n.fc||null,this.j=n.ob||!1}function Rb(n,t){Lr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=ES,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YP.prototype.cancel=function(){if(this.i=tO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fr(L0,pS),L0.prototype.g=function(){return new Rb(this.l,this.j)},L0.prototype.i=function(n){return function(){return n}}({}),Fr(Rb,Lr);var ES=0;function nO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function U0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,V0(n)}function V0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Rb.prototype).open=function(n,t){if(this.readyState!=ES)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,V0(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Yt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U0(this)),this.readyState=ES},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,V0(this)),this.g&&(this.readyState=3,V0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?U0(this):V0(this),3==this.readyState&&nO(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,U0(this))},st.Ya=function(n){this.g&&(this.response=n,U0(this))},st.ka=function(){this.g&&U0(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Rb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $U=Yt.JSON.parse;function Ui(n){Lr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iO,this.L=this.M=!1}Fr(Ui,Lr);var iO="",zU=/^https?$/i,KU=["POST","PUT"];function rO(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,oO(n),Fb(n)}function oO(n){n.F||(n.F=!0,eo(n,"complete"),eo(n,"error"))}function sO(n){if(n.h&&typeof qA<"u"&&(!n.C[1]||4!=ku(n)||2!=n.da()))if(n.v&&4==ku(n))fS(n.La,0,n);else if(eo(n,"readystatechange"),4==ku(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===l){var o=String(n.I).match(qP)[1]||null;!o&&Yt.self&&Yt.self.location&&(o=Yt.self.location.protocol.slice(0,-1)),r=!zU.test(o?o.toLowerCase():"")}e=r}if(e)eo(n,"complete"),eo(n,"success");else{n.m=6;try{var a=2<ku(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",oO(n)}}finally{Fb(n)}}}function Fb(n,t){if(n.g){aO(n);const e=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||eo(n,"ready");try{e.onreadystatechange=r}catch{}}}function aO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function ku(n){return n.g?n.g.readyState:0}function cO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function uO(n){let t="";return tS(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function bS(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=uO(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):li(n,t,e))}function Z0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lO(n){this.Ga=0,this.j=[],this.l=new Tb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Z0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Z0("baseRetryDelayMs",5e3,n),this.hb=Z0("retryDelaySeedMs",1e4,n),this.eb=Z0("forwardChannelMaxRetries",2,n),this.xa=Z0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new YP(n&&n.concurrentRequestLimit),this.Ja=new HU,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TS(n){if(dO(n),3==n.H){var t=n.W++,e=rd(n.I);if(li(e,"SID",n.K),li(e,"RID",t),li(e,"TYPE","terminate"),j0(n,e),(t=new k0(n,n.l,t)).L=2,t.v=Pb(rd(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon)try{e=Yt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=DO(t.l,null),t.g.ha(t.v)),t.G=Date.now(),N0(t)}yO(n)}function Lb(n){n.g&&(IS(n),n.g.cancel(),n.g=null)}function dO(n){Lb(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),Vb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function Ub(n){if(!QP(n.i)&&!n.m){n.m=!0;var t=n.Na;T0||IP(),x0||(T0(),x0=!0),dS.add(t,n),n.C=0}}function hO(n,t){var e;e=t?t.m:n.W++;const r=rd(n.I);li(r,"SID",n.K),li(r,"RID",e),li(r,"AID",n.V),j0(n,r),n.o&&n.s&&bS(r,n.o,n.s),e=new k0(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=fO(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wS(n.i,e),vS(e,r,t)}function j0(n,t){n.na&&tS(n.na,function(e,r){li(t,r,e)}),n.h&&GP({},function(e,r){li(t,r,e)})}function fO(n,t,e){e=Math.min(n.j.length,e);var r=n.h?_o(n.h.Va,n.h,n):null;e:{var o=n.j;let a=-1;for(;;){const l=["count="+e];-1==a?0<e?(a=o[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let m=0;m<e;m++){let v=o[m].g;const x=o[m].map;if(v-=a,0>v)a=Math.max(0,o[m].g-100),f=!1;else try{GU(x,l,"req"+v+"_")}catch{r&&r(x)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,r}function pO(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;T0||IP(),x0||(T0(),x0=!0),dS.add(t,n),n.A=0}}function xS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=S0(_o(n.Ma,n),_O(n,n.A)),n.A++,0))}function IS(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function gO(n){n.g=new k0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=rd(n.wa);li(t,"RID","rpc"),li(t,"SID",n.K),li(t,"AID",n.V),li(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&li(t,"TO",n.qa),li(t,"TYPE","xmlhttp"),j0(n,t),n.o&&n.s&&bS(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=Pb(rd(t)),e.s=null,e.S=!0,ZP(e,n)}function Vb(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function mO(n,t){var e=null;if(n.g==t){Vb(n),IS(n),n.g=null;var r=2}else{if(!CS(n.i,t))return;e=t.F,eO(n.i,t),r=1}if(0!=n.H)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.G;var o=n.C;eo(r=xb(),new RP(r,e)),Ub(n)}else pO(n);else if(3==(o=t.o)||0==o&&0<t.ca||!(1==r&&function YU(n,t){return!(XP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=S0(_o(n.Na,n,t),_O(n,n.C)),n.C++,0)))}(n,t)||2==r&&xS(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:Op(n,5);break;case 4:Op(n,10);break;case 3:Op(n,6);break;default:Op(n,2)}}function _O(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Op(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var r=_o(n.pb,n);e||(e=new Pp("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||kb(e,"https"),Pb(e)),function qU(n,t){const e=new Tb;if(Yt.Image){const r=new Image;r.onload=vb(Ob,e,r,"TestLoadImage: loaded",!0,t),r.onerror=vb(Ob,e,r,"TestLoadImage: error",!1,t),r.onabort=vb(Ob,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=vb(Ob,e,r,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Zo(2);n.H=0,n.h&&n.h.za(t),yO(n),dO(n)}function yO(n){if(n.H=0,n.ma=[],n.h){const t=tO(n.i);(0!=t.length||0!=n.j.length)&&(fP(n.ma,t),fP(n.ma,n.j),n.i.i.length=0,zA(n.j),n.j.length=0),n.h.ya()}}function vO(n,t,e){var r=e instanceof Pp?rd(e):new Pp(e);if(""!=r.g)t&&(r.g=t+"."+r.g),Nb(r,r.m);else{var o=Yt.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new Pp(null);r&&kb(a,r),t&&(a.g=t),o&&Nb(a,o),e&&(a.l=e),r=a}return t=n.Da,(e=n.F)&&t&&li(r,e,t),li(r,"VER",n.ra),j0(n,r),r}function DO(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ui(e&&n.Ha&&!n.va?new L0({ob:!0}):n.va)).Oa(n.J),t}function CO(){}function Zb(){if(e_&&!(10<=Number(lU)))throw Error("Environmental error: no available transport.")}function Ls(n,t){Lr.call(this),this.g=new lO(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!w0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!w0(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new i_(this)}function wO(n){gS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function EO(){mS.call(this),this.status=1}function i_(n){this.g=n}function Ec(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AS(n,t,e){e||(e=0);var r=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(o=0;16>o;++o)r[o]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var a=n.g[3],l=(t=n.g[0])+(a^(e=n.g[1])&((o=n.g[2])^a))+r[0]+3614090360&4294967295;l=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=(e=(o=(a=(t=e+(l<<7&4294967295|l>>>25))+((l=a+(o^t&(e^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(t^e))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(a^e&(o^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^t&(e^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(t^e))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(a^e&(o^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^t&(e^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(t^e))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(a^e&(o^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^t&(e^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(t^e))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^o&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^a&(e^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(t^e))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^t&(o^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^a&(e^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(t^e))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^t&(o^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^a&(e^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(t^e))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^t&(o^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(o^a&(e^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(t^e))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(t^e&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^t&(o^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^o^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(t^e^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^t^e)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(t^e^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^t^e)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(t^e^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^t^e)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^t)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^o^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(t^e^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^t^e)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(o^(e|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(a|~e))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(o^(e|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(a|~e))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(o^(e|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(t^(a|~e))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(t=e+((l=t+(o^(e|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=a+((l=o+(t^(a|~e))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+a&4294967295}function Un(n,t){this.h=t;for(var e=[],r=!0,o=n.length-1;0<=o;o--){var a=0|n[o];r&&a==t||(e[o]=a,r=!1)}this.g=e}(st=Ui.prototype).Oa=function(n){this.M=n},st.ha=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_S.g(),this.C=function LP(n){return n.h||(n.h=n.i())}(this.u?this.u:_S),this.g.onreadystatechange=_o(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(a){return void rO(this,a)}if(n=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)e.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())e.set(a,r.get(a))}r=Array.from(e.keys()).find(a=>"content-type"==a.toLowerCase()),o=Yt.FormData&&n instanceof Yt.FormData,!(0<=hP(KU,t))||r||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of e)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aO(this),0<this.B&&((this.L=function JU(n){return e_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_o(this.ua,this)):this.A=fS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){rO(this,a)}},st.ua=function(){typeof qA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,eo(this,"complete"),eo(this,"abort"),Fb(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fb(this,!0)),Ui.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?sO(this):this.kb())},st.kb=function(){sO(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<ku(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),$U(t)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=lO.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new k0(this,this.l,n);let a=this.s;if(this.U&&(a?(a=yP(a),DP(a,this.U)):a=this.U),null!==this.o||this.O||(o.I=a,a=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var r=this.j[e];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=fO(this,o,t),li(e=rd(this.I),"RID",n),li(e,"CVER",22),this.F&&li(e,"X-HTTP-Session-Id",this.F),j0(this,e),a&&(this.O?t="headers="+encodeURIComponent(String(uO(a)))+"&"+t:this.o&&bS(e,this.o,a)),wS(this.i,o),this.bb&&li(e,"TYPE","init"),this.P?(li(e,"$req",t),li(e,"SID","null"),o.aa=!0,vS(o,e,null)):vS(o,e,t),this.H=2}}else 3==this.H&&(n?hO(this,n):0==this.j.length||QP(this.i)||hO(this))},st.Ma=function(){if(this.u=null,gO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=S0(_o(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zo(10),Lb(this),gO(this))},st.ib=function(){null!=this.v&&(this.v=null,Lb(this),xS(this),Zo(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Zo(2)):(this.l.info("Failed to ping google.com"),Zo(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=CO.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},Zb.prototype.g=function(n,t){return new Ls(n,t)},Fr(Ls,Lr),Ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Zo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=vO(n,null,n.Y),Ub(n)},Ls.prototype.close=function(){TS(this.g)},Ls.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=lS(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Ub(t)},Ls.prototype.N=function(){this.g.h=null,delete this.j,TS(this.g),delete this.g,Ls.$.N.call(this)},Fr(wO,gS),Fr(EO,mS),Fr(i_,CO),i_.prototype.Ba=function(){eo(this.g,"a")},i_.prototype.Aa=function(n){eo(this.g,new wO(n))},i_.prototype.za=function(n){eo(this.g,new EO)},i_.prototype.ya=function(){eo(this.g,"b")},Fr(Ec,function QU(){this.blockSize=-1}),Ec.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ec.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,r=this.m,o=this.h,a=0;a<t;){if(0==o)for(;a<=e;)AS(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<t;)if(r[o++]=n.charCodeAt(a++),o==this.blockSize){AS(this,r),o=0;break}}else for(;a<t;)if(r[o++]=n[a++],o==this.blockSize){AS(this,r),o=0;break}}this.h=o,this.i+=t},Ec.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var r=0;32>r;r+=8)n[e++]=this.g[t]>>>r&255;return n};var XU={};function SS(n){return-128<=n&&128>n?function aU(n,t){var e=XU;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Un([0|t],0>t?-1:0)}):new Un([0|n],0>n?-1:0)}function Nu(n){if(isNaN(n)||!isFinite(n))return r_;if(0>n)return to(Nu(-n));for(var t=[],e=1,r=0;n>=e;r++)t[r]=n/e|0,e*=MS;return new Un(t,0)}var MS=4294967296,r_=SS(0),kS=SS(1),TO=SS(16777216);function od(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function wa(n){return-1==n.h}function to(n){for(var t=n.g.length,e=[],r=0;r<t;r++)e[r]=~n.g[r];return new Un(e,~n.h).add(kS)}function jb(n,t){return n.add(to(t))}function Bb(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function B0(n,t){this.g=n,this.h=t}function Hb(n,t){if(od(t))throw Error("division by zero");if(od(n))return new B0(r_,r_);if(wa(n))return t=Hb(to(n),t),new B0(to(t.g),to(t.h));if(wa(t))return t=Hb(n,to(t)),new B0(to(t.g),t.h);if(30<n.g.length){if(wa(n)||wa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=kS,r=t;0>=r.X(n);)e=xO(e),r=xO(r);var o=o_(e,1),a=o_(r,1);for(r=o_(r,2),e=o_(e,2);!od(r);){var l=a.add(r);0>=l.X(n)&&(o=o.add(e),a=l),r=o_(r,1),e=o_(e,1)}return t=jb(n,o.R(t)),new B0(o,t)}for(o=r_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Nu(e)).R(t);wa(l)||0<l.X(n);)l=(a=Nu(e-=r)).R(t);od(a)&&(a=kS),o=o.add(a),n=jb(n,l)}return new B0(o,n)}function xO(n){for(var t=n.g.length+1,e=[],r=0;r<t;r++)e[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Un(e,n.h)}function o_(n,t){var e=t>>5;t%=32;for(var r=n.g.length-e,o=[],a=0;a<r;a++)o[a]=0<t?n.D(a+e)>>>t|n.D(a+e+1)<<32-t:n.D(a+e);return new Un(o,n.h)}(st=Un.prototype).ea=function(){if(wa(this))return-to(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var r=this.D(e);n+=(0<=r?r:MS+r)*t,t*=MS}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(od(this))return"0";if(wa(this))return"-"+to(this).toString(n);for(var t=Nu(Math.pow(n,6)),e=this,r="";;){var o=Hb(e,t).g,a=((0<(e=jb(e,o.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(od(e=o))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return wa(n=jb(this,n))?-1:od(n)?0:1},st.abs=function(){return wa(this)?to(this):this},st.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0,o=0;o<=t;o++){var a=r+(65535&this.D(o))+(65535&n.D(o)),l=(a>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,e[o]=(l&=65535)<<16|(a&=65535)}return new Un(e,-2147483648&e[e.length-1]?-1:0)},st.R=function(n){if(od(this)||od(n))return r_;if(wa(this))return wa(n)?to(this).R(to(n)):to(to(this).R(n));if(wa(n))return to(this.R(to(n)));if(0>this.X(TO)&&0>n.X(TO))return Nu(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],r=0;r<2*t;r++)e[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(o)>>>16,m=65535&n.D(o);e[2*r+2*o]+=l*m,Bb(e,2*r+2*o),e[2*r+2*o+1]+=a*m,Bb(e,2*r+2*o+1),e[2*r+2*o+1]+=l*f,Bb(e,2*r+2*o+1),e[2*r+2*o+2]+=a*f,Bb(e,2*r+2*o+2)}for(r=0;r<t;r++)e[r]=e[2*r+1]<<16|e[2*r];for(r=t;r<2*t;r++)e[r]=0;return new Un(e,0)},st.gb=function(n){return Hb(this,n).h},st.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)&n.D(r);return new Un(e,this.h&n.h)},st.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)|n.D(r);return new Un(e,this.h|n.h)},st.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)^n.D(r);return new Un(e,this.h^n.h)},Zb.prototype.createWebChannel=Zb.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,Ib.NO_ERROR=0,Ib.TIMEOUT=8,Ib.HTTP_ERROR=6,FP.COMPLETE="complete",UP.EventType=M0,M0.OPEN="a",M0.CLOSE="b",M0.ERROR="c",M0.MESSAGE="d",Lr.prototype.listen=Lr.prototype.O,Ui.prototype.listenOnce=Ui.prototype.P,Ui.prototype.getLastError=Ui.prototype.Sa,Ui.prototype.getLastErrorCode=Ui.prototype.Ia,Ui.prototype.getStatus=Ui.prototype.da,Ui.prototype.getResponseJson=Ui.prototype.Wa,Ui.prototype.getResponseText=Ui.prototype.ja,Ui.prototype.send=Ui.prototype.ha,Ui.prototype.setWithCredentials=Ui.prototype.Oa,Ec.prototype.digest=Ec.prototype.l,Ec.prototype.reset=Ec.prototype.reset,Ec.prototype.update=Ec.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=Nu,Un.fromString=function bO(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return to(bO(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Nu(Math.pow(t,8)),r=r_,o=0;o<n.length;o+=8){var a=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+a),t);8>a?(a=Nu(Math.pow(t,a)),r=r.R(a).add(Nu(l))):r=(r=r.R(e)).add(Nu(l))}return r};var e4=wc.createWebChannelTransport=function(){return new Zb},t4=wc.getStatEventTarget=function(){return xb()},NS=wc.ErrorCode=Ib,n4=wc.EventType=FP,i4=wc.Event=kp,IO=wc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},r4=wc.FetchXmlHttpFactory=L0,Gb=wc.WebChannel=UP,o4=wc.XhrIo=Ui,s4=wc.Md5=Ec,s_=wc.Integer=Un;const AO="@firebase/firestore";class Ur{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let a_="9.23.0";const Ph=new Dc.Yd("@firebase/firestore");function PS(){return Ph.logLevel}function Ze(n,...t){if(Ph.logLevel<=Dc.in.DEBUG){const e=t.map(OS);Ph.debug(`Firestore (${a_}): ${n}`,...e)}}function Ki(n,...t){if(Ph.logLevel<=Dc.in.ERROR){const e=t.map(OS);Ph.error(`Firestore (${a_}): ${n}`,...e)}}function Ea(n,...t){if(Ph.logLevel<=Dc.in.WARN){const e=t.map(OS);Ph.warn(`Firestore (${a_}): ${n}`,...e)}}function OS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: `+n;throw Ki(t),new Error(t)}function Tt(n,t){n||ft()}function ot(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ht.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class SO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ur.UNAUTHENTICATED))}shutdown(){}}class l4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class d4{constructor(t){this.t=t,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const a=v=>this.i!==o?(o=this.i,e(v)):Promise.resolve();let l=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Er,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;t.enqueueRetryable((0,X.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Er)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new SO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new Ur(t)}}class h4{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class f4{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new h4(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p4{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const r=a=>{null!=a.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const o=a=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?o(a):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),this.T=e.token,new MO(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class kO{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=g4(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<e&&(r+=t.charAt(o[a]%t.length))}return r}}function Wt(n,t){return n<t?-1:n>t?1:0}function c_(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}function NO(n){return n+"\0"}class Ei{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ei.fromMillis(Date.now())}static fromDate(t){return Ei.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Ei(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new Ei(0,0))}static max(){return new It(new Ei(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class H0{constructor(t,e,r){void 0===e?e=0:e>t.length&&ft(),void 0===r?r=t.length-e:r>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===H0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof H0?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const a=t.get(o),l=e.get(o);if(a<l)return-1;if(a>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bn extends H0{construct(t,e,r){return new bn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends H0{construct(t,e,r){return new Vi(t,e,r)}static isValidIdentifier(t){return m4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vi(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const a=()=>{if(0===r.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let l=!1;for(;o<t.length;){const f=t[o];if("\\"===f){if(o+1===t.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(r+=f,o++):(a(),o++)}if(a(),l)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vi(e)}static emptyPath(){return new Vi([])}}class it{constructor(t){this.path=t}static fromPath(t){return new it(bn.fromString(t))}static fromName(t){return new it(bn.fromString(t).popFirst(5))}static empty(){return new it(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new bn(t.slice()))}}class qb{constructor(t,e,r,o){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=o}}function RS(n){return n.fields.find(t=>2===t.kind)}function Rp(n){return n.fields.filter(t=>2!==t.kind)}qb.UNKNOWN_ID=-1;class $b{constructor(t,e){this.fieldPath=t,this.kind=e}}class G0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new G0(0,Us.min())}}function PO(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=It.fromTimestamp(1e9===r?new Ei(e+1,0):new Ei(e,r));return new Us(o,it.empty(),t)}function OO(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Us(It.min(),it.empty(),-1)}static max(){return new Us(It.max(),it.empty(),-1)}}function FS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=it.comparator(n.documentKey,t.documentKey),0!==e?e:Wt(n.largestBatchId,t.largestBatchId))}const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Oh(n){return LS.apply(this,arguments)}function LS(){return LS=(0,X.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==RO)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),LS.apply(this,arguments)}class ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ue((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ue?e:ue.resolve(e)}catch(e){return ue.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.reject(e)}static resolve(t){return new ue((e,r)=>{e(t)})}static reject(t){return new ue((e,r)=>{r(t)})}static waitFor(t){return new ue((e,r)=>{let o=0,a=0,l=!1;t.forEach(f=>{++o,f.next(()=>{++a,l&&a===o&&e()},m=>r(m))}),l=!0,a===o&&e()})}static or(t){let e=ue.resolve(!1);for(const r of t)e=e.next(o=>o?ue.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,a)=>{r.push(e.call(this,o,a))}),this.waitFor(r)}static mapArray(t,e){return new ue((r,o)=>{const a=t.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;e(t[v]).next(x=>{l[v]=x,++f,f===a&&r(l)},x=>o(x))}})}static doWhile(t,e){return new ue((r,o)=>{const a=()=>{!0===t()?e().next(()=>{a()},o):r()};a()})}}class zb{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Er,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new q0(t,e.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=US(r.target.error);this.v.reject(new q0(t,o))}}static open(t,e,r,o){try{return new zb(e,t.transaction(o,r))}catch(a){throw new q0(e,a)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new D4(e)}}class bc{constructor(t,e,r){this.name=t,this.version=e,this.V=r,12.2===bc.S((0,Ht.z$)())&&Ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ze("SimpleDb","Removing database:",t),Fp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ht.hl)())return!1;if(bc.C())return!0;const t=(0,Ht.z$)(),e=bc.S(t),r=0<e&&e<10,o=bc.N(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(t){var e=this;return(0,X.Z)(function*(){return e.db||(Ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{o(new q0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;o("VersionError"===f.name?new Re(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new q0(t,f))},a.onupgradeneeded=l=>{Ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,a.transaction,l.oldVersion,e.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=r=>e.F(r)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,o){var a=this;return(0,X.Z)(function*(){const l="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.$(t);const m=zb.open(a.db,t,l?"readonly":"readwrite",r),v=o(m).next(x=>(m.P(),x)).catch(x=>(m.abort(x),ue.reject(x))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,x="FirebaseError"!==v.name&&f<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),a.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class v4{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Fp(this.L.delete())}}class q0 extends Re{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rh(n){return"IndexedDbTransactionError"===n.name}class D4{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Ze("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Fp(r)}add(t){return Ze("SimpleDb","ADD",this.store.name,t,t),Fp(this.store.add(t))}get(t){return Fp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ze("SimpleDb","DELETE",this.store.name,t),Fp(this.store.delete(t))}count(){return Ze("SimpleDb","COUNT",this.store.name),Fp(this.store.count())}j(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),a=[];return this.W(o,(l,f)=>{a.push(f)}).next(()=>a)}{const o=this.store.getAll(r.range);return new ue((a,l)=>{o.onerror=f=>{l(f.target.error)},o.onsuccess=f=>{a(f.target.result)}})}}H(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new ue((o,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(t,e){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Y=!1;const o=this.cursor(r);return this.W(o,(a,l,f)=>f.delete())}X(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.W(o,e)}Z(t){const e=this.cursor({});return new ue((r,o)=>{e.onerror=a=>{const l=US(a.target.error);o(l)},e.onsuccess=a=>{const l=a.target.result;l?t(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(t,e){const r=[];return new ue((o,a)=>{t.onerror=l=>{a(l.target.error)},t.onsuccess=l=>{const f=l.target.result;if(!f)return void o();const m=new v4(f),v=e(f.primaryKey,f.value,m);if(v instanceof ue){const x=v.catch(I=>(m.done(),ue.reject(I)));r.push(x)}m.isDone?o():null===m.K?f.continue():f.continue(m.K)}}).next(()=>ue.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Fp(n){return new ue((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const o=US(r.target.error);e(o)}})}let LO=!1;function US(n){const t=bc.S((0,Ht.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LO||(LO=!0,setTimeout(()=>{throw r},0)),r}}return n}class C4{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ze("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,X.Z)(function*(){e.task=null;try{Ze("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(r){Rh(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Oh(r)}yield e.et(6e4)}))}}class w4{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,X.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))})()}st(t,e){const r=new Set;let o=e,a=!0;return ue.doWhile(()=>!0===a&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!r.has(l))return Ze("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,o).next(f=>{o-=f,r.add(l)});a=!1})).next(()=>e-o)}it(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(o=>this.localStore.localDocuments.getNextDocuments(t,e,o,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(o,a)).next(f=>(Ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>l.size)}))}rt(t,e){let r=t;return e.changes.forEach((o,a)=>{const l=OO(a);FS(l,r)>0&&(r=l)}),new Us(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Vs=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function $0(n){return null==n}function z0(n){return 0===n&&1/n==-1/0}function UO(n){return"number"==typeof n&&Number.isInteger(n)&&!z0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=VO(t)),t=E4(n.get(e),t);return VO(t)}function E4(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function VO(n){return n+"\x01\x01"}function Pu(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const e=t-2,r=[];let o="";for(let a=0;a<t;){const l=n.indexOf("\x01",a);switch((l<0||l>e)&&ft(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let m;0===o.length?m=f:(o+=f,m=o,o=""),r.push(m);break;case"\x10":o+=n.substring(a,l),o+="\0";break;case"\x11":o+=n.substring(a,l+1);break;default:ft()}a=l+2}return new bn(r)}const ZO=["userId","batchId"];function Kb(n,t){return[n,vo(t)]}function jO(n,t,e){return[n,vo(t),e]}const b4={},T4=["prefixPath","collectionGroup","readTime","documentId"],x4=["prefixPath","collectionGroup","documentId"],I4=["collectionGroup","readTime","prefixPath","documentId"],A4=["canonicalId","targetId"],S4=["targetId","path"],M4=["path","targetId"],k4=["collectionId","parent"],N4=["indexId","uid"],P4=["uid","sequenceNumber"],O4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],R4=["indexId","uid","orderedDocumentKey"],F4=["userId","collectionPath","documentId"],L4=["userId","collectionPath","largestBatchId"],U4=["userId","collectionGroup","largestBatchId"],BO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V4=[...BO,"documentOverlays"],HO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GO=HO,Z4=[...GO,"indexConfiguration","indexState","indexEntries"];class VS extends FO{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Vr(n,t){const e=ot(n);return bc.M(e.ht,t)}function qO(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function $O(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ii{constructor(t,e){this.comparator=t,this.root=e||no.EMPTY}insert(t,e){return new ii(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,no.BLACK,null,null))}remove(t){return new ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,no.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jb(this.root,t,this.comparator,!0)}}class Jb{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?r(t.key,e):1,e&&o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class no{constructor(t,e,r,o,a){this.key=t,this.value=e,this.color=r??no.RED,this.left=o??no.EMPTY,this.right=a??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,a){return new no(t??this.key,e??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const a=r(t,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===a?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return no.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,r,o){return this}insert(n,t,e){return new no(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(t){this.comparator=t,this.data=new ii(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new zO(this.data.getIterator())}getIteratorFrom(t){return new zO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof di)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,a=r.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new di(this.comparator);return e.data=t,e}}class zO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function u_(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(t){this.fields=t,t.sort(Vi.comparator)}static empty(){return new ls([])}unionWith(t){let e=new di(Vi.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ls(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return c_(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class KO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KO("Invalid base64 string: "+o):o}}(t);return new br(e)}static fromUint8Array(t){const e=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(t);return new br(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}br.EMPTY_BYTE_STRING=new br("");const B4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=B4.exec(n);if(Tt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sd(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Wb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Yb(n){const t=n.mapValue.fields.__previous_value__;return Wb(t)?Yb(t):t}function K0(n){const t=Lh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ei(t.seconds,t.nanos)}class H4{constructor(t,e,r,o,a,l,f,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Uh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Uh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Uh&&t.projectId===this.projectId&&t.database===this.database}}const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Zh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wb(n)?4:QO(n)?9007199254740991:10:ft()}function Ou(n,t){if(n===t)return!0;const e=Zh(n);if(e!==Zh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return K0(n).isEqual(K0(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=Lh(r.timestampValue),l=Lh(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,sd(n.bytesValue).isEqual(sd(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Zi(r.geoPointValue.latitude)===Zi(o.geoPointValue.latitude)&&Zi(r.geoPointValue.longitude)===Zi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Zi(r.integerValue)===Zi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Zi(r.doubleValue),l=Zi(o.doubleValue);return a===l?z0(a)===z0(l):isNaN(a)&&isNaN(l)}return!1}(n,t);case 9:return c_(n.arrayValue.values||[],t.arrayValue.values||[],Ou);case 10:return function(r,o){const a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(qO(a)!==qO(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Ou(a[f],l[f])))return!1;return!0}(n,t);default:return ft()}var o}function J0(n,t){return void 0!==(n.values||[]).find(e=>Ou(e,t))}function jh(n,t){if(n===t)return 0;const e=Zh(n),r=Zh(t);if(e!==r)return Wt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return function(o,a){const l=Zi(o.integerValue||o.doubleValue),f=Zi(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,t);case 3:return JO(n.timestampValue,t.timestampValue);case 4:return JO(K0(n),K0(t));case 5:return Wt(n.stringValue,t.stringValue);case 6:return function(o,a){const l=sd(o),f=sd(a);return l.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,a){const l=o.split("/"),f=a.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=Wt(l[m],f[m]);if(0!==v)return v}return Wt(l.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,a){const l=Wt(Zi(o.latitude),Zi(a.latitude));return 0!==l?l:Wt(Zi(o.longitude),Zi(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,a){const l=o.values||[],f=a.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=jh(l[m],f[m]);if(v)return v}return Wt(l.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,a){if(o===Vh.mapValue&&a===Vh.mapValue)return 0;if(o===Vh.mapValue)return 1;if(a===Vh.mapValue)return-1;const l=o.fields||{},f=Object.keys(l),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const I=Wt(f[x],v[x]);if(0!==I)return I;const F=jh(l[f[x]],m[v[x]]);if(0!==F)return F}return Wt(f.length,v.length)}(n.mapValue,t.mapValue);default:throw ft()}}function JO(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Wt(n,t);const e=Lh(n),r=Lh(t),o=Wt(e.seconds,r.seconds);return 0!==o?o:Wt(e.nanos,r.nanos)}function l_(n){return ZS(n)}function ZS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Lh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sd(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let o="[",a=!0;for(const l of r.values||[])a?a=!1:o+=",",o+=ZS(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of o)l?l=!1:a+=",",a+=`${f}:${ZS(r.fields[f])}`;return a+"}"}(n.mapValue):ft();var t}function Lp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jS(n){return!!n&&"integerValue"in n}function W0(n){return!!n&&"arrayValue"in n}function WO(n){return!!n&&"nullValue"in n}function YO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function e1(n){return!!n&&"mapValue"in n}function Y0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fh(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Y0(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Y0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function QO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function G4(n){return"nullValue"in n?Qb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Lp(Uh.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function q4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Lp(Uh.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vh:ft()}function XO(n,t){const e=jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function eR(n,t){const e=jh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class io{constructor(t){this.value=t}static empty(){return new io({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!e1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Y0(e)}setAll(t){let e=Vi.emptyPath(),r={},o=[];t.forEach((l,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=f.popLast()}l?r[f.lastSegment()]=Y0(l):o.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,r,o)}delete(t){const e=this.field(t.popLast());e1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ou(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];e1(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Fh(e,(o,a)=>t[o]=a);for(const o of r)delete t[o]}clone(){return new io(Y0(this.value))}}function tR(n){const t=[];return Fh(n.fields,(e,r)=>{const o=new Vi([e]);if(e1(r)){const a=tR(r.mapValue).fields;if(0===a.length)t.push(o);else for(const l of a)t.push(o.child(l))}else t.push(o)}),new ls(t)}class hi{constructor(t,e,r,o,a,l,f){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(t){return new hi(t,0,It.min(),It.min(),It.min(),io.empty(),0)}static newFoundDocument(t,e,r,o){return new hi(t,1,e,It.min(),r,o,0)}static newNoDocument(t,e){return new hi(t,2,e,It.min(),It.min(),io.empty(),0)}static newUnknownDocument(t,e){return new hi(t,3,e,It.min(),It.min(),io.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(t,e){this.position=t,this.inclusive=e}}function nR(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const a=t[o],l=n.position[o];if(r=a.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),e.key):jh(l,e.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function iR(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ou(n.position[e],t.position[e]))return!1;return!0}class d_{constructor(t,e="asc"){this.field=t,this.dir=e}}function $4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class rR{}class Dn extends rR{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new z4(t,e,r):"array-contains"===e?new W4(t,r):"in"===e?new lR(t,r):"not-in"===e?new Y4(t,r):"array-contains-any"===e?new Q4(t,r):new Dn(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new K4(t,r):new J4(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jh(e,this.value)):null!==e&&Zh(this.value)===Zh(e)&&this.matchesComparison(jh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends rR{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Vn(t,e)}matches(t){return h_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function h_(n){return"and"===n.op}function BS(n){return"or"===n.op}function HS(n){return oR(n)&&h_(n)}function oR(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function GS(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+l_(n.value);if(HS(n))return n.filters.map(t=>GS(t)).join(",");{const t=n.filters.map(e=>GS(e)).join(",");return`${n.op}(${t})`}}function sR(n,t){return n instanceof Dn?(e=n,(r=t)instanceof Dn&&e.op===r.op&&e.field.isEqual(r.field)&&Ou(e.value,r.value)):n instanceof Vn?function(e,r){return r instanceof Vn&&e.op===r.op&&e.filters.length===r.filters.length&&e.filters.reduce((o,a,l)=>o&&sR(a,r.filters[l]),!0)}(n,t):void ft();var e,r}function aR(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function cR(n){return n instanceof Dn?`${(t=n).field.canonicalString()} ${t.op} ${l_(t.value)}`:n instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(cR).join(" ,")+"}"}(n):"Filter";var t}class z4 extends Dn{constructor(t,e,r){super(t,e,r),this.key=it.fromName(r.referenceValue)}matches(t){const e=it.comparator(t.key,this.key);return this.matchesComparison(e)}}class K4 extends Dn{constructor(t,e){super(t,"in",e),this.keys=uR(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class J4 extends Dn{constructor(t,e){super(t,"not-in",e),this.keys=uR(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function uR(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>it.fromName(r.referenceValue))}class W4 extends Dn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return W0(e)&&J0(e.arrayValue,this.value)}}class lR extends Dn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&J0(this.value.arrayValue,e)}}class Y4 extends Dn{constructor(t,e){super(t,"not-in",e)}matches(t){if(J0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!J0(this.value.arrayValue,e)}}class Q4 extends Dn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!W0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>J0(this.value.arrayValue,r))}}class X4{constructor(t,e=null,r=[],o=[],a=null,l=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function qS(n,t=null,e=[],r=[],o=null,a=null,l=null){return new X4(n,t,e,r,o,a,l)}function Up(n){const t=ot(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>GS(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),$0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>l_(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>l_(r)).join(",")),t.dt=e}return t.dt}function Q0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!$4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sR(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!iR(n.startAt,t.startAt)&&iR(n.endAt,t.endAt)}function t1(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function n1(n,t){return n.filters.filter(e=>e instanceof Dn&&e.field.isEqual(t))}function dR(n,t,e){let r=Qb,o=!0;for(const a of n1(n,t)){let l=Qb,f=!0;switch(a.op){case"<":case"<=":l=G4(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=Qb}XO({value:r,inclusive:o},{value:l,inclusive:f})<0&&(r=l,o=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const l=e.position[a];XO({value:r,inclusive:o},{value:l,inclusive:e.inclusive})<0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}function hR(n,t,e){let r=Vh,o=!0;for(const a of n1(n,t)){let l=Vh,f=!0;switch(a.op){case">=":case">":l=q4(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Vh}eR({value:r,inclusive:o},{value:l,inclusive:f})>0&&(r=l,o=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const l=e.position[a];eR({value:r,inclusive:o},{value:l,inclusive:e.inclusive})>0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}class ad{constructor(t,e=null,r=[],o=[],a=null,l="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function fR(n,t,e,r,o,a,l,f){return new ad(n,t,e,r,o,a,l,f)}function f_(n){return new ad(n)}function pR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $S(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function i1(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function zS(n){return null!==n.collectionGroup}function Vp(n){const t=ot(n);if(null===t.wt){t.wt=[];const e=i1(t),r=$S(t);if(null!==e&&null===r)e.isKeyField()||t.wt.push(new d_(e)),t.wt.push(new d_(Vi.keyField(),"asc"));else{let o=!1;for(const a of t.explicitOrderBy)t.wt.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new d_(Vi.keyField(),a))}}}return t.wt}function jo(n){const t=ot(n);if(!t._t)if("F"===t.limitType)t._t=qS(t.path,t.collectionGroup,Vp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Vp(t))e.push(new d_(a.field,"desc"===a.dir?"asc":"desc"));const r=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;t._t=qS(t.path,t.collectionGroup,e,t.filters,t.limit,r,o)}return t._t}function KS(n,t){t.getFirstInequalityField(),i1(n);const e=n.filters.concat([t]);return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function r1(n,t,e){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function X0(n,t){return Q0(jo(n),jo(t))&&n.limitType===t.limitType}function gR(n){return`${Up(jo(n))}|lt:${n.limitType}`}function JS(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(r=>cR(r)).join(", ")}]`),$0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>l_(r)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>l_(r)).join(",")),`Target(${e})`}(jo(n))}; limitType=${n.limitType})`}function eD(n,t){return t.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):it.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(const o of Vp(e))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(o,a,l){const f=nR(o,a,l);return o.inclusive?f<=0:f<0}(e.startAt,Vp(e),r)||e.endAt&&!function(o,a,l){const f=nR(o,a,l);return o.inclusive?f>=0:f>0}(e.endAt,Vp(e),r)));var e,r}function mR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _R(n){return(t,e)=>{let r=!1;for(const o of Vp(n)){const a=eV(o,t,e);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function eV(n,t,e){const r=n.field.isKeyField()?it.comparator(t.key,e.key):function(o,a,l){const f=a.data.field(o),m=l.data.field(o);return null!==f&&null!==m?jh(f,m):ft()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class cd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,a]of r)if(this.equalsFn(o,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0===o)return this.inner[r]=[[t,e]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fh(this.inner,(e,r)=>{for(const[o,a]of r)t(o,a)})}isEmpty(){return $O(this.inner)}size(){return this.innerSize}}const tV=new ii(it.comparator);function ds(){return tV}const yR=new ii(it.comparator);function tD(...n){let t=yR;for(const e of n)t=t.insert(e.key,e);return t}function vR(n){let t=yR;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Ru(){return nD()}function DR(){return nD()}function nD(){return new cd(n=>n.toString(),(n,t)=>n.isEqual(t))}const nV=new ii(it.comparator),iV=new di(it.comparator);function rn(...n){let t=iV;for(const e of n)t=t.add(e);return t}const rV=new di(Wt);function WS(){return rV}function CR(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z0(t)?"-0":t}}function wR(n){return{integerValue:""+n}}function ER(n,t){return UO(t)?wR(t):CR(n,t)}class o1{constructor(){this._=void 0}}function oV(n,t,e){return n instanceof p_?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Wb(o)&&(o=Yb(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(e,t):n instanceof Zp?TR(n,t):n instanceof jp?xR(n,t):function(r,o){const a=bR(r,o),l=IR(a)+IR(r.gt);return jS(a)&&jS(r.gt)?wR(l):CR(r.serializer,l)}(n,t)}function sV(n,t,e){return n instanceof Zp?TR(n,t):n instanceof jp?xR(n,t):e}function bR(n,t){return n instanceof g_?jS(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class p_ extends o1{}class Zp extends o1{constructor(t){super(),this.elements=t}}function TR(n,t){const e=AR(t);for(const r of n.elements)e.some(o=>Ou(o,r))||e.push(r);return{arrayValue:{values:e}}}class jp extends o1{constructor(t){super(),this.elements=t}}function xR(n,t){let e=AR(t);for(const r of n.elements)e=e.filter(o=>!Ou(o,r));return{arrayValue:{values:e}}}class g_ extends o1{constructor(t,e){super(),this.serializer=t,this.gt=e}}function IR(n){return Zi(n.integerValue||n.doubleValue)}function AR(n){return W0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iD{constructor(t,e){this.field=t,this.transform=e}}class cV{constructor(t,e){this.version=t,this.transformResults=e}}class bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function s1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class a1{}function SR(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new __(n.key,bi.none()):new m_(n.key,n.data,bi.none());{const e=n.data,r=io.empty();let o=new di(Vi.comparator);for(let a of t.fields)if(!o.has(a)){let l=e.field(a);null===l&&a.length>1&&(a=a.popLast(),l=e.field(a)),null===l?r.delete(a):r.set(a,l),o=o.add(a)}return new ud(n.key,r,new ls(o.toArray()),bi.none())}}function uV(n,t,e){n instanceof m_?function(r,o,a){const l=r.value.clone(),f=NR(r.fieldTransforms,o,a.transformResults);l.setAll(f),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,t,e):n instanceof ud?function(r,o,a){if(!s1(r.precondition,o))return void o.convertToUnknownDocument(a.version);const l=NR(r.fieldTransforms,o,a.transformResults),f=o.data;f.setAll(kR(r)),f.setAll(l),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function rD(n,t,e,r){return n instanceof m_?function(o,a,l,f){if(!s1(o.precondition,a))return l;const m=o.value.clone(),v=PR(o.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,t,e,r):n instanceof ud?function(o,a,l,f){if(!s1(o.precondition,a))return l;const m=PR(o.fieldTransforms,f,a),v=a.data;return v.setAll(kR(o)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,t,e,r):(l=e,s1(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function lV(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),a=bR(r.transform,o||null);null!=a&&(null===e&&(e=io.empty()),e.set(r.field,a))}return e||null}function MR(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&c_(e,r,(o,a)=>function aV(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Zp&&r instanceof Zp||e instanceof jp&&r instanceof jp?c_(e.elements,r.elements,Ou):e instanceof g_&&r instanceof g_?Ou(e.gt,r.gt):e instanceof p_&&r instanceof p_);var e,r}(o,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class m_ extends a1{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ud extends a1{constructor(t,e,r,o,a=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function NR(n,t,e){const r=new Map;Tt(n.length===e.length);for(let o=0;o<e.length;o++){const a=n[o],l=a.transform,f=t.data.field(a.field);r.set(a.field,sV(l,f,e[o]))}return r}function PR(n,t,e){const r=new Map;for(const o of n){const a=o.transform,l=e.data.field(o.field);r.set(o.field,oV(a,l,t))}return r}class __ extends a1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends a1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QS{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(t.key)&&uV(a,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=rD(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=rD(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=DR();return this.mutations.forEach(o=>{const a=t.get(o.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=e.has(o.key)?null:f;const m=SR(l,f);null!==m&&r.set(o.key,m),l.isValidDocument()||l.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),rn())}isEqual(t){return this.batchId===t.batchId&&c_(this.mutations,t.mutations,(e,r)=>MR(e,r))&&c_(this.baseMutations,t.baseMutations,(e,r)=>MR(e,r))}}class XS{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Tt(t.mutations.length===r.length);let o=nV;const a=t.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new XS(t,e,r,o)}}class eM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hV{constructor(t,e){this.count=t,this.unchangedNames=e}}var cr,Tn;function OR(n){switch(n){default:return ft();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function RR(n){if(void 0===n)return Ki("GRPC error has no .code"),ge.UNKNOWN;switch(n){case cr.OK:return ge.OK;case cr.CANCELLED:return ge.CANCELLED;case cr.UNKNOWN:return ge.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ge.INTERNAL;case cr.UNAVAILABLE:return ge.UNAVAILABLE;case cr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case cr.NOT_FOUND:return ge.NOT_FOUND;case cr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case cr.ABORTED:return ge.ABORTED;case cr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case cr.DATA_LOSS:return ge.DATA_LOSS;default:return ft()}}(Tn=cr||(cr={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class tM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return c1}static getOrCreateInstance(){return null===c1&&(c1=new tM),c1}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let c1=null;function FR(){return new TextEncoder}const fV=new s_([4294967295,4294967295],0);function LR(n){const t=FR().encode(n),e=new s4;return e.update(t),new Uint8Array(e.digest())}function UR(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new s_([e,r],0),new s_([o,a],0)]}class nM{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new oD(`Invalid padding: ${e}`);if(r<0)throw new oD(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new oD(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new oD(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=s_.fromNumber(this.It)}Et(t,e,r){let o=t.add(e.multiply(s_.fromNumber(r)));return 1===o.compare(fV)&&(o=new s_([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=LR(t),[r,o]=UR(e);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,o,a);if(!this.At(l))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new nM(a,o,e);return r.forEach(f=>l.insert(f)),l}insert(t){if(0===this.It)return;const e=LR(t),[r,o]=UR(e);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,o,a);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class oD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sD{constructor(t,e,r,o,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,aD.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new sD(It.min(),o,new ii(Wt),ds(),rn())}}class aD{constructor(t,e,r,o,a){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new aD(r,e,rn(),rn(),rn())}}class u1{constructor(t,e,r,o){this.Pt=t,this.removedTargetIds=e,this.key=r,this.bt=o}}class VR{constructor(t,e){this.targetId=t,this.Vt=e}}class ZR{constructor(t,e,r=br.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class jR{constructor(){this.St=0,this.Dt=HR(),this.Ct=br.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=rn(),e=rn(),r=rn();return this.Dt.forEach((o,a)=>{switch(a){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new aD(this.Ct,this.xt,t,e,r)}Ft(){this.Nt=!1,this.Dt=HR()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pV{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ds(),this.zt=BR(),this.Wt=new ii(Wt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const r=this.Zt(e);switch(t.state){case 0:this.te(e)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((r,o)=>{this.te(o)&&e(o)})}ne(t){var e;const r=t.targetId,o=t.Vt.count,a=this.se(r);if(a){const l=a.target;if(t1(l))if(0===o){const f=new it(l.path);this.Yt(r,f,hi.newNoDocument(f,It.min()))}else Tt(1===o);else{const f=this.ie(r);if(f!==o){const m=this.re(t,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=tM.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,x,I){var F,j,q,te,se,Ve;const Be={localCacheCount:x,existenceFilterCount:I.count},je=I.unchangedNames;return je&&(Be.bloomFilter={applied:0===v,hashCount:null!==(F=je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(te=null===(q=null===(j=je?.bits)||void 0===j?void 0:j.bitmap)||void 0===q?void 0:q.length)&&void 0!==te?te:0,padding:null!==(Ve=null===(se=je?.bits)||void 0===se?void 0:se.padding)&&void 0!==Ve?Ve:0}),Be}(m,f,t.Vt))}}}}re(t,e){const{unchangedNames:r,count:o}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=sd(a).toUint8Array()}catch(x){if(x instanceof KO)return Ea("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new nM(m,l,f)}catch(x){return Ea(x instanceof oD?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:o!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const r=this.Gt.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.vt(f)||(this.Yt(t,a,null),o++)}),o}ce(t){const e=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&t1(f.target)){const m=new it(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,hi.newNoDocument(m,t))}a.Mt&&(e.set(l,a.Ot()),a.Ft())}});let r=rn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(t));const o=new sD(t,e,this.Wt,this.jt,r);return this.jt=ds(),this.zt=BR(),this.Wt=new ii(Wt),o}Jt(t,e){if(!this.te(t))return;const r=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,r){if(!this.te(t))return;const o=this.Zt(t);this.ae(t,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new jR,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new di(Wt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ze("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new jR),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function BR(){return new ii(it.comparator)}function HR(){return new ii(it.comparator)}const gV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_V={and:"AND",or:"OR"};class yV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function iM(n,t){return n.useProto3Json||$0(t)?t:{value:t}}function y_(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function vV(n,t){return y_(n,t.toTimestamp())}function Ji(n){return Tt(!!n),It.fromTimestamp(function(t){const e=Lh(t);return new Ei(e.seconds,e.nanos)}(n))}function rM(n,t){return(e=n,new bn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function qR(n){const t=bn.fromString(n);return Tt(e3(t)),t}function cD(n,t){return rM(n.databaseId,t.path)}function Fu(n,t){const e=qR(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new it(zR(e))}function oM(n,t){return rM(n.databaseId,t)}function $R(n){const t=qR(n);return 4===t.length?bn.emptyPath():zR(t)}function uD(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zR(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function KR(n,t,e){return{name:cD(n,t),fields:e.value.mapValue.fields}}function JR(n,t,e){const r=Fu(n,t.name),o=Ji(t.updateTime),a=t.createTime?Ji(t.createTime):It.min(),l=new io({mapValue:{fields:t.fields}}),f=hi.newFoundDocument(r,o,a,l);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function lD(n,t){let e;if(t instanceof m_)e={update:KR(n,t.key,t.value)};else if(t instanceof __)e={delete:cD(n,t.key)};else if(t instanceof ud)e={update:KR(n,t.key,t.data),updateMask:IV(t.fieldMask)};else{if(!(t instanceof YS))return ft();e={verify:cD(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof p_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof g_)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ft()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:vV(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),e;var o}function sM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?bi.updateTime(Ji(o.updateTime)):void 0!==o.exists?bi.exists(o.exists):bi.none():bi.none(),r=t.updateTransforms?t.updateTransforms.map(o=>function(a,l){let f=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),f=new p_):"appendMissingElements"in l?f=new Zp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new jp(l.removeAllFromArray.values||[]):"increment"in l?f=new g_(a,l.increment):ft();const m=Vi.fromServerFormat(l.fieldPath);return new iD(m,f)}(n,o)):[];var o;if(t.update){const o=Fu(n,t.update.name),a=new io({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new ls((t.updateMask.fieldPaths||[]).map(v=>Vi.fromServerFormat(v)));return new ud(o,a,l,e,r)}return new m_(o,a,e,r)}if(t.delete){const o=Fu(n,t.delete);return new __(o,e)}if(t.verify){const o=Fu(n,t.verify);return new YS(o,e)}return ft()}function WR(n,t){return{documents:[oM(n,t.path)]}}function aM(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=oM(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=oM(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0!==m.length)return XR(Vn.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Hh((x=v).field),direction:bV(x.dir)};var x})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=iM(n,t.limit);var f,m;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function YR(n){let t=$R(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Tt(1===r);const x=e.from[0];x.allDescendants?o=x.collectionId:t=t.child(x.collectionId)}let a=[];e.where&&(a=function(x){const I=QR(x);return I instanceof Vn&&HS(I)?I.getFilters():[I]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(x=>{return new d_(v_((I=x).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;e.limit&&(f=function(x){let I;return I="object"==typeof x?x.value:x,$0(I)?null:I}(e.limit));let m=null;var x;e.startAt&&(m=new Bh((x=e.startAt).values||[],!!x.before));let v=null;return e.endAt&&(v=function(x){return new Bh(x.values||[],!x.before)}(e.endAt)),fR(t,o,l,a,f,"F",m,v)}function QR(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=v_(t.unaryFilter.field);return Dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=v_(t.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=v_(t.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=v_(t.unaryFilter.field);return Dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?Dn.create(v_((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Vn.create(t.compositeFilter.filters.map(e=>QR(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ft()}}(t.compositeFilter.op))}(n):ft();var t}function bV(n){return gV[n]}function TV(n){return mV[n]}function xV(n){return _V[n]}function Hh(n){return{fieldPath:n.canonicalString()}}function v_(n){return Vi.fromServerFormat(n.fieldPath)}function XR(n){return n instanceof Dn?function(t){if("=="===t.op){if(YO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NAN"}};if(WO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(YO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NAN"}};if(WO(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hh(t.field),op:TV(t.op),value:t.value}}}(n):n instanceof Vn?function(t){const e=t.getFilters().map(r=>XR(r));return 1===e.length?e[0]:{compositeFilter:{op:xV(t.op),filters:e}}}(n):ft()}function IV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function e3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(t,e,r,o,a=It.min(),l=It.min(),f=br.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new ld(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class t3{constructor(t){this.fe=t}}function n3(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:l1(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:cD(o=n.fe,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:y_(o,a.version.toTimestamp()),createTime:y_(o,a.createTime.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:Bp(t.version)};else{if(!t.isUnknownDocument())return ft();r.unknownDocument={path:e.path.toArray(),version:Bp(t.version)}}var o,a;return r}function l1(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Bp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hp(n){const t=new Ei(n.seconds,n.nanoseconds);return It.fromTimestamp(t)}function Gp(n,t){const e=(t.baseMutations||[]).map(a=>sM(n.fe,a));for(let a=0;a<t.mutations.length-1;++a){const l=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(l.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const r=t.mutations.map(a=>sM(n.fe,a)),o=Ei.fromMillis(t.localWriteTimeMs);return new QS(t.batchId,o,e,r)}function dD(n){const t=Hp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Hp(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(Tt(1===(o=n.query).documents.length),r=jo(f_($R(o.documents[0])))):r=jo(YR(n.query)),new ld(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,br.fromBase64String(n.resumeToken))}function i3(n,t){const e=Bp(t.snapshotVersion),r=Bp(t.lastLimboFreeSnapshotVersion);let o;o=t1(t.target)?WR(n.fe,t.target):aM(n.fe,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Up(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function cM(n){const t=YR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?r1(t,t.limit,"L"):t}function uM(n,t){return new eM(t.largestBatchId,sM(n.fe,t.overlayMutation))}function r3(n,t){const e=t.path.lastSegment();return[n,vo(t.path.popLast()),e]}function o3(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Bp(r.readTime),documentKey:vo(r.documentKey.path),largestBatchId:r.largestBatchId}}class SV{getBundleMetadata(t,e){return s3(t).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Hp(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return s3(t).put({bundleId:(r=e).id,createTime:Bp(Ji(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return a3(t).get(e).next(r=>{if(r)return{name:(o=r).name,query:cM(o.bundledQuery),readTime:Hp(o.readTime)};var o})}saveNamedQuery(t,e){return a3(t).put({name:(r=e).name,readTime:Bp(Ji(r.readTime)),bundledQuery:r.bundledQuery});var r}}function s3(n){return Vr(n,"bundles")}function a3(n){return Vr(n,"namedQueries")}class d1{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new d1(t,e.uid||"")}getOverlay(t,e){return hD(t).get(r3(this.userId,e)).next(r=>r?uM(this.serializer,r):null)}getOverlays(t,e){const r=Ru();return ue.forEach(e,o=>this.getOverlay(t,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(t,e,r){const o=[];return r.forEach((a,l)=>{const f=new eM(e,l);o.push(this.we(t,f))}),ue.waitFor(o)}removeOverlaysForBatchId(t,e,r){const o=new Set;e.forEach(l=>o.add(vo(l.getCollectionPath())));const a=[];return o.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(hD(t).J("collectionPathOverlayIndex",f))}),ue.waitFor(a)}getOverlaysForCollection(t,e,r){const o=Ru(),a=vo(e),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return hD(t).j("collectionPathOverlayIndex",l).next(f=>{for(const m of f){const v=uM(this.serializer,m);o.set(v.getKey(),v)}return o})}getOverlaysForCollectionGroup(t,e,r,o){const a=Ru();let l;const f=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return hD(t).X({index:"collectionGroupOverlayIndex",range:f},(m,v,x)=>{const I=uM(this.serializer,v);a.size()<o||I.largestBatchId===l?(a.set(I.getKey(),I),l=I.largestBatchId):x.done()}).next(()=>a)}we(t,e){return hD(t).put(function(r,o,a){const[l,f,m]=r3(o,a.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:lD(r.fe,a.mutation)}}(this.serializer,this.userId,e))}}function hD(n){return Vr(n,"documentOverlays")}class qp{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Zi(t.integerValue));else if("doubleValue"in t){const r=Zi(t.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),z0(r)?e.pe(0):e.pe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(sd(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in t?QO(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ft()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const r=t.fields||{};this.ye(e,55);for(const o of Object.keys(r))this.Te(o,e),this.me(r[o],e)}Pe(t,e){const r=t.values||[];this.ye(e,50);for(const o of r)this.me(o,e)}ve(t,e){this.ye(e,37),it.fromName(t).path.forEach(r=>{this.ye(e,60),this.be(r,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function MV(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function c3(n){const t=64-function(e){let r=0;for(let o=0;o<8;++o){const a=MV(255&e[o]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(t/8)}qp.Ve=new qp;class kV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(t){const e=this.Fe(t),r=c3(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(t){const e=this.Fe(t),r=c3(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class NV{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class PV{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class fD{constructor(){this.je=new kV,this.ze=new NV(this.je),this.We=new PV(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class $p{constructor(t,e,r,o){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=o}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new $p(this.indexId,this.documentKey,this.arrayValue,r)}}function Gh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=u3(n.arrayValue,t.arrayValue),0!==e?e:(e=u3(n.directionalValue,t.directionalValue),0!==e?e:it.comparator(n.documentKey,t.documentKey)))}function u3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class OV{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const r=e;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(t){Tt(t.collectionGroup===this.collectionId);const e=RS(t);if(void 0!==e&&!this.en(e))return!1;const r=Rp(t);let o=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)o=o.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a){const f=r[a];if(l>=this.Ye.length||!this.sn(this.Ye[l++],f))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function l3(n){var t,e;if(Tt(n instanceof Dn||n instanceof Vn),n instanceof Dn){if(n instanceof lR){const o=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(a=>Dn.create(n.field,"==",a)))||[];return Vn.create(o,"or")}return n}const r=n.filters.map(o=>l3(o));return Vn.create(r,n.op)}function RV(n){if(0===n.getFilters().length)return[];const t=hM(l3(n));return Tt(d3(t)),lM(t)||dM(t)?[t]:t.getFilters()}function lM(n){return n instanceof Dn}function dM(n){return n instanceof Vn&&HS(n)}function d3(n){return lM(n)||dM(n)||function(t){if(t instanceof Vn&&BS(t)){for(const e of t.getFilters())if(!lM(e)&&!dM(e))return!1;return!0}return!1}(n)}function hM(n){if(Tt(n instanceof Dn||n instanceof Vn),n instanceof Dn)return n;if(1===n.filters.length)return hM(n.filters[0]);const t=n.filters.map(r=>hM(r));let e=Vn.create(t,n.op);return e=h1(e),d3(e)?e:(Tt(e instanceof Vn),Tt(h_(e)),Tt(e.filters.length>1),e.filters.reduce((r,o)=>fM(r,o)))}function fM(n,t){let e;return Tt(n instanceof Dn||n instanceof Vn),Tt(t instanceof Dn||t instanceof Vn),e=n instanceof Dn?t instanceof Dn?Vn.create([n,t],"and"):h3(n,t):t instanceof Dn?h3(t,n):function(r,o){if(Tt(r.filters.length>0&&o.filters.length>0),h_(r)&&h_(o))return aR(r,o.getFilters());const a=BS(r)?r:o,l=BS(r)?o:r,f=a.filters.map(m=>fM(m,l));return Vn.create(f,"or")}(n,t),h1(e)}function h3(n,t){if(h_(t))return aR(t,n.getFilters());{const e=t.filters.map(r=>fM(n,r));return Vn.create(e,"or")}}function h1(n){if(Tt(n instanceof Dn||n instanceof Vn),n instanceof Dn)return n;const t=n.getFilters();if(1===t.length)return h1(t[0]);if(oR(n))return n;const e=t.map(o=>h1(o)),r=[];return e.forEach(o=>{o instanceof Dn?r.push(o):o instanceof Vn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Vn.create(r,n.op)}class FV{constructor(){this.rn=new pM}addToCollectionParentIndex(t,e){return this.rn.add(e),ue.resolve()}getCollectionParents(t,e){return ue.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ue.resolve()}deleteFieldIndex(t,e){return ue.resolve()}getDocumentsMatchingTarget(t,e){return ue.resolve(null)}getIndexType(t,e){return ue.resolve(0)}getFieldIndexes(t,e){return ue.resolve([])}getNextCollectionGroupToUpdate(t){return ue.resolve(null)}getMinOffset(t,e){return ue.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,e){return ue.resolve(Us.min())}updateCollectionGroup(t,e,r){return ue.resolve()}updateIndexEntries(t,e){return ue.resolve()}}class pM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new di(bn.comparator),a=!o.has(r);return this.index[e]=o.add(r),a}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new di(bn.comparator)).toArray()}}const f1=new Uint8Array(0);class LV{constructor(t,e){this.user=t,this.databaseId=e,this.on=new pM,this.un=new cd(r=>Up(r),(r,o)=>Q0(r,o)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const a={collectionId:r,parent:vo(o)};return f3(t).put(a)}return ue.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[NO(e),""],!1,!0);return f3(t).j(o).next(a=>{for(const l of a){if(l.collectionId!==e)break;r.push(Pu(l.parent))}return r})}addFieldIndex(t,e){const r=p1(t),o={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete o.indexId;const a=r.add(o);if(e.indexState){const l=gD(t);return a.next(f=>{l.put(o3(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const r=p1(t),o=gD(t),a=pD(t);return r.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=pD(t);let o=!0;const a=new Map;return ue.forEach(this.cn(e),l=>this.an(t,l).next(f=>{o&&(o=!!f),a.set(l,f)})).next(()=>{if(o){let l=rn();const f=[];return ue.forEach(a,(m,v)=>{var x;Ze("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${Up(e)}`);const I=function(je,Je){const Nt=RS(Je);if(void 0===Nt)return null;for(const Rt of n1(je,Nt.fieldPath))switch(Rt.op){case"array-contains-any":return Rt.value.arrayValue.values||[];case"array-contains":return[Rt.value]}return null}(v,m),F=function(je,Je){const Nt=new Map;for(const Rt of Rp(Je))for(const pn of n1(je,Rt.fieldPath))switch(pn.op){case"==":case"in":Nt.set(Rt.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return Nt.set(Rt.fieldPath.canonicalString(),pn.value),Array.from(Nt.values())}return null}(v,m),j=function(je,Je){const Nt=[];let Rt=!0;for(const pn of Rp(Je)){const Si=0===pn.kind?dR(je,pn.fieldPath,je.startAt):hR(je,pn.fieldPath,je.startAt);Nt.push(Si.value),Rt&&(Rt=Si.inclusive)}return new Bh(Nt,Rt)}(v,m),q=function(je,Je){const Nt=[];let Rt=!0;for(const pn of Rp(Je)){const Si=0===pn.kind?hR(je,pn.fieldPath,je.endAt):dR(je,pn.fieldPath,je.endAt);Nt.push(Si.value),Rt&&(Rt=Si.inclusive)}return new Bh(Nt,Rt)}(v,m),te=this.hn(m,v,j),se=this.hn(m,v,q),Ve=this.ln(m,v,F),Be=this.fn(m.indexId,I,te,j.inclusive,se,q.inclusive,Ve);return ue.forEach(Be,je=>r.H(je,e.limit).next(Je=>{Je.forEach(Nt=>{const Rt=it.fromSegments(Nt.documentKey);l.has(Rt)||(l=l.add(Rt),f.push(Rt))})}))}).next(()=>f)}return ue.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:RV(Vn.create(t.filters,"and")).map(r=>qS(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,r,o,a,l,f){const m=(null!=e?e.length:1)*Math.max(r.length,a.length),v=m/(null!=e?e.length:1),x=[];for(let I=0;I<m;++I){const F=e?this.dn(e[I/v]):f1,j=this.wn(t,F,r[I%v],o),q=this._n(t,F,a[I%v],l),te=f.map(se=>this.wn(t,F,se,!0));x.push(...this.createRange(j,q,te))}return x}wn(t,e,r,o){const a=new $p(t,it.empty(),e,r);return o?a:a.Je()}_n(t,e,r,o){const a=new $p(t,it.empty(),e,r);return o?a.Je():a}an(t,e){const r=new OV(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(t,e){let r=2;const o=this.cn(e);return ue.forEach(o,a=>this.an(t,a).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new di(Vi.comparator),v=!1;for(const x of f.filters)for(const I of x.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const x of f.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==e.limit&&o.length>1&&2===r?1:r)}mn(t,e){const r=new fD;for(const o of Rp(t)){const a=e.data.field(o.fieldPath);if(null==a)return null;const l=r.He(o.kind);qp.Ve._e(a,l)}return r.Qe()}dn(t){const e=new fD;return qp.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const r=new fD;return qp.Ve._e(Lp(this.databaseId,e),r.He(function(o){const a=Rp(o);return 0===a.length?0:a[a.length-1].kind}(t))),r.Qe()}ln(t,e,r){if(null===r)return[];let o=[];o.push(new fD);let a=0;for(const l of Rp(t)){const f=r[a++];for(const m of o)if(this.yn(e,l.fieldPath)&&W0(f))o=this.pn(o,l,f);else{const v=m.He(l.kind);qp.Ve._e(f,v)}}return this.In(o)}hn(t,e,r){return this.ln(t,e,r.position)}In(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Qe();return e}pn(t,e,r){const o=[...t],a=[];for(const l of r.arrayValue.values||[])for(const f of o){const m=new fD;m.seed(f.Qe()),qp.Ve._e(l,m.He(e.kind)),a.push(m)}return a}yn(t,e){return!!t.filters.find(r=>r instanceof Dn&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=p1(t),o=gD(t);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next(a=>{const l=[];return ue.forEach(a,f=>o.get([f.indexId,this.uid]).next(m=>{l.push(function(v,x){const I=x?new G0(x.sequenceNumber,new Us(Hp(x.readTime),new it(Pu(x.documentKey)),x.largestBatchId)):G0.empty(),F=v.fields.map(([j,q])=>new $b(Vi.fromServerFormat(j),q));return new qb(v.indexId,v.collectionGroup,F,I)}(f,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,o)=>{const a=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==a?a:Wt(r.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const o=p1(t),a=gD(t);return this.Tn(t).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>ue.forEach(f,m=>a.put(o3(m.indexId,this.user,l,r)))))}updateIndexEntries(t,e){const r=new Map;return ue.forEach(e,(o,a)=>{const l=r.get(o.collectionGroup);return(l?ue.resolve(l):this.getFieldIndexes(t,o.collectionGroup)).next(f=>(r.set(o.collectionGroup,f),ue.forEach(f,m=>this.En(t,o,m).next(v=>{const x=this.An(a,m);return v.isEqual(x)?ue.resolve():this.vn(t,a,m,v,x)}))))})}Rn(t,e,r,o){return pD(t).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,r,o){return pD(t).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(t,e,r){const o=pD(t);let a=new di(Gh);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},(l,f)=>{a=a.add(new $p(r.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>a)}An(t,e){let r=new di(Gh);const o=this.mn(e,t);if(null==o)return r;const a=RS(e);if(null!=a){const l=t.data.field(a.fieldPath);if(W0(l))for(const f of l.arrayValue.values||[])r=r.add(new $p(e.indexId,t.key,this.dn(f),o))}else r=r.add(new $p(e.indexId,t.key,f1,o));return r}vn(t,e,r,o,a){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(f,m,v,x,I){const F=f.getIterator(),j=m.getIterator();let q=u_(F),te=u_(j);for(;q||te;){let se=!1,Ve=!1;if(q&&te){const Be=v(q,te);Be<0?Ve=!0:Be>0&&(se=!0)}else null!=q?Ve=!0:se=!0;se?(x(te),te=u_(j)):Ve?(I(q),q=u_(F)):(q=u_(F),te=u_(j))}}(o,a,Gh,f=>{l.push(this.Rn(t,e,r,f))},f=>{l.push(this.Pn(t,e,r,f))}),ue.waitFor(l)}Tn(t){let e=1;return gD(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,a)=>{a.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((l,f)=>Gh(l,f)).filter((l,f,m)=>!f||0!==Gh(l,m[f-1]));const o=[];o.push(t);for(const l of r){const f=Gh(l,t),m=Gh(l,e);if(0===f)o[0]=t.Je();else if(f>0&&m<0)o.push(l),o.push(l.Je());else if(m>0)break}o.push(e);const a=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];a.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,f1,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,f1,[]]))}return a}bn(t,e){return Gh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(p3)}getMinOffset(t,e){return ue.mapArray(this.cn(e),r=>this.an(t,r).next(o=>o||ft())).next(p3)}}function f3(n){return Vr(n,"collectionParents")}function pD(n){return Vr(n,"indexEntries")}function p1(n){return Vr(n,"indexConfiguration")}function gD(n){return Vr(n,"indexState")}function p3(n){Tt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;FS(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Us(t.readTime,t.documentKey,e)}const g3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Do(t,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function m3(n,t,e){const r=n.store("mutations"),o=n.store("documentMutations"),a=[],l=IDBKeyRange.only(e.batchId);let f=0;const m=r.X({range:l},(x,I,F)=>(f++,F.delete()));a.push(m.next(()=>{Tt(1===f)}));const v=[];for(const x of e.mutations){const I=jO(t,x.key.path,e.batchId);a.push(o.delete(I)),v.push(x.key)}return ue.waitFor(a).next(()=>v)}function g1(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class m1{constructor(t,e,r,o){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(t,e,r,o){Tt(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new m1(a,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).X({index:"userMutationsIndex",range:r},(o,a,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,r,o){const a=D_(t),l=qh(t);return l.add({}).next(f=>{Tt("number"==typeof f);const m=new QS(f,e,r,o),v=function(F,j,q){const te=q.baseMutations.map(Ve=>lD(F.fe,Ve)),se=q.mutations.map(Ve=>lD(F.fe,Ve));return{userId:j,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:te,mutations:se}}(this.serializer,this.userId,m),x=[];let I=new di((F,j)=>Wt(F.canonicalString(),j.canonicalString()));for(const F of o){const j=jO(this.userId,F.key.path,f);I=I.add(F.key.path.popLast()),x.push(l.put(v)),x.push(a.put(j,b4))}return I.forEach(F=>{x.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),ue.waitFor(x).next(()=>m)})}lookupMutationBatch(t,e){return qh(t).get(e).next(r=>r?(Tt(r.userId===this.userId),Gp(this.serializer,r)):null)}Sn(t,e){return this.Vn[e]?ue.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const o=r.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return qh(t).X({index:"userMutationsIndex",range:o},(l,f,m)=>{f.userId===this.userId&&(Tt(f.batchId>=r),a=Gp(this.serializer,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qh(t).X({index:"userMutationsIndex",range:e,reverse:!0},(o,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).j("userMutationsIndex",e).next(r=>r.map(o=>Gp(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Kb(this.userId,e.path),o=IDBKeyRange.lowerBound(r),a=[];return D_(t).X({range:o},(l,f,m)=>{const[v,x,I]=l,F=Pu(x);if(v===this.userId&&e.path.isEqual(F))return qh(t).get(I).next(j=>{if(!j)throw ft();Tt(j.userId===this.userId),a.push(Gp(this.serializer,j))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new di(Wt);const o=[];return e.forEach(a=>{const l=Kb(this.userId,a.path),f=IDBKeyRange.lowerBound(l),m=D_(t).X({range:f},(v,x,I)=>{const[F,j,q]=v,te=Pu(j);F===this.userId&&a.path.isEqual(te)?r=r.add(q):I.done()});o.push(m)}),ue.waitFor(o).next(()=>this.Dn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,a=Kb(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new di(Wt);return D_(t).X({range:l},(m,v,x)=>{const[I,F,j]=m,q=Pu(F);I===this.userId&&r.isPrefixOf(q)?q.length===o&&(f=f.add(j)):x.done()}).next(()=>this.Dn(t,f))}Dn(t,e){const r=[],o=[];return e.forEach(a=>{o.push(qh(t).get(a).next(l=>{if(null===l)throw ft();Tt(l.userId===this.userId),r.push(Gp(this.serializer,l))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(t,e){return m3(t.ht,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return D_(t).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const m=Pu(a[1]);o.push(m)}else f.done()}).next(()=>{Tt(0===o.length)})})}containsKey(t,e){return _3(t,this.userId,e)}xn(t){return y3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _3(n,t,e){const r=Kb(t,e.path),o=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return D_(n).X({range:a,Y:!0},(f,m,v)=>{const[x,I,F]=f;x===t&&I===o&&(l=!0),v.done()}).next(()=>l)}function qh(n){return Vr(n,"mutations")}function D_(n){return Vr(n,"documentMutations")}function y3(n){return Vr(n,"mutationQueues")}class zp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new zp(0)}static Mn(){return new zp(-1)}}class UV{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const r=new zp(e.highestTargetId);return e.highestTargetId=r.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>It.fromTimestamp(new Ei(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.$n(t).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(t,o)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(r=>(r.targetCount+=1,this.Bn(e,r),this.On(t,r))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>C_(t).delete(e.targetId)).next(()=>this.$n(t)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(t,r)))}removeTargets(t,e,r){let o=0;const a=[];return C_(t).X((l,f)=>{const m=dD(f);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(o++,a.push(this.removeTargetData(t,m)))}).next(()=>ue.waitFor(a)).next(()=>o)}forEachTarget(t,e){return C_(t).X((r,o)=>{const a=dD(o);e(a)})}$n(t){return v3(t).get("targetGlobalKey").next(e=>(Tt(null!==e),e))}On(t,e){return v3(t).put("targetGlobalKey",e)}Fn(t,e){return C_(t).put(i3(this.serializer,e))}Bn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Up(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return C_(t).X({range:o,index:"queryTargetsIndex"},(l,f,m)=>{const v=dD(f);Q0(e,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(t,e,r){const o=[],a=$h(t);return e.forEach(l=>{const f=vo(l.path);o.push(a.put({targetId:r,path:f})),o.push(this.referenceDelegate.addReference(t,r,l))}),ue.waitFor(o)}removeMatchingKeys(t,e,r){const o=$h(t);return ue.forEach(e,a=>{const l=vo(a.path);return ue.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(t,r,a)])})}removeMatchingKeysForTargetId(t,e){const r=$h(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=$h(t);let a=rn();return o.X({range:r,Y:!0},(l,f,m)=>{const v=Pu(l[1]),x=new it(v);a=a.add(x)}).next(()=>a)}containsKey(t,e){const r=vo(e.path),o=IDBKeyRange.bound([r],[NO(r)],!1,!0);let a=0;return $h(t).X({index:"documentTargetsIndex",Y:!0,range:o},([l,f],m,v)=>{0!==l&&(a++,v.done())}).next(()=>a>0)}le(t,e){return C_(t).get(e).next(r=>r?dD(r):null)}}function C_(n){return Vr(n,"targets")}function v3(n){return Vr(n,"targetGlobal")}function $h(n){return Vr(n,"targetDocuments")}function D3([n,t],[e,r]){const o=Wt(n,e);return 0===o?Wt(t,r):o}class VV{constructor(t){this.Ln=t,this.buffer=new di(D3),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();D3(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class C3{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,X.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Rh(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Oh(r)}yield e.Qn(3e5)}))}}class ZV{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return ue.resolve(Vs.ct);const r=new VV(e);return this.jn.forEachTarget(t,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(t,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.jn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(g3)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g3):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let r,o,a,l,f,m,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,l=Date.now(),this.nthSequenceNumber(t,o))).next(I=>(r=I,f=Date.now(),this.removeTargets(t,r,e))).next(I=>(a=I,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(I=>(v=Date.now(),PS()<=Dc.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${o} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:I})))}}class jV{constructor(t,e){this.db=t,this.garbageCollector=function w3(n,t){return new ZV(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}Jn(t){let e=0;return this.Wn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(r,o)=>e(o))}addReference(t,e,r){return _1(t,r)}removeReference(t,e,r){return _1(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return _1(t,e)}Xn(t,e){return function(r,o){let a=!1;return y3(r).Z(l=>_3(r,l,o).next(f=>(f&&(a=!0),ue.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let a=0;return this.Yn(t,(l,f)=>{if(f<=e){const m=this.Xn(t,l).next(v=>{if(!v)return a++,r.getEntry(t,l).next(()=>(r.removeEntry(l,It.min()),$h(t).delete([0,vo(l.path)])))});o.push(m)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(t)).next(()=>a)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return _1(t,e)}Yn(t,e){const r=$h(t);let o,a=Vs.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:m,sequenceNumber:v})=>{0===l?(a!==Vs.ct&&e(new it(Pu(o)),a),a=v,o=m):a=Vs.ct}).next(()=>{a!==Vs.ct&&e(new it(Pu(o)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _1(n,t){return $h(n).put((r=n.currentSequenceNumber,{targetId:0,path:vo(t.path),sequenceNumber:r}));var r}class E3{constructor(){this.changes=new cd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ue.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class BV{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Kp(t).put(r)}removeEntry(t,e,r){return Kp(t).delete(function(o,a){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],l1(a),l[l.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Zn(t,r)))}getEntry(t,e){let r=hi.newInvalidDocument(e);return Kp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mD(e))},(o,a)=>{r=this.ts(e,a)}).next(()=>r)}es(t,e){let r={size:0,document:hi.newInvalidDocument(e)};return Kp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mD(e))},(o,a)=>{r={document:this.ts(e,a),size:g1(a)}}).next(()=>r)}getEntries(t,e){let r=ds();return this.ns(t,e,(o,a)=>{const l=this.ts(o,a);r=r.insert(o,l)}).next(()=>r)}ss(t,e){let r=ds(),o=new ii(it.comparator);return this.ns(t,e,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),o=o.insert(a,g1(l))}).next(()=>({documents:r,rs:o}))}ns(t,e,r){if(e.isEmpty())return ue.resolve();let o=new di(I3);e.forEach(m=>o=o.add(m));const a=IDBKeyRange.bound(mD(o.first()),mD(o.last())),l=o.getIterator();let f=l.getNext();return Kp(t).X({index:"documentKeyIndex",range:a},(m,v,x)=>{const I=it.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&I3(f,I)<0;)r(f,null),f=l.getNext();f&&f.isEqual(I)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?x.G(mD(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r,o){const a=e.path,l=[a.popLast().toArray(),a.lastSegment(),l1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(t).j(IDBKeyRange.bound(l,f,!0)).next(m=>{let v=ds();for(const x of m){const I=this.ts(it.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);I.isFoundDocument()&&(eD(e,I)||o.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(t,e,r,o){let a=ds();const l=x3(e,r),f=x3(e,Us.max());return Kp(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(m,v,x)=>{const I=this.ts(it.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(I.key,I),a.size===o&&x.done()}).next(()=>a)}newChangeBuffer(t){return new HV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return T3(t).get("remoteDocumentGlobalKey").next(e=>(Tt(!!e),e))}Zn(t,e){return T3(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const r=function AV(n,t){let e;if(t.document)e=JR(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=it.fromSegments(t.noDocument.path),o=Hp(t.noDocument.readTime);e=hi.newNoDocument(r,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const r=it.fromSegments(t.unknownDocument.path),o=Hp(t.unknownDocument.version);e=hi.newUnknownDocument(r,o)}}return t.readTime&&e.setReadTime(function(r){const o=new Ei(r[0],r[1]);return It.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return hi.newInvalidDocument(t)}}function b3(n){return new BV(n)}class HV extends E3{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new cd(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(t){const e=[];let r=0,o=new di((a,l)=>Wt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(e.push(this.os.removeEntry(t,a,f.readTime)),l.isValidDocument()){const m=n3(this.os.serializer,l);o=o.add(a.path.popLast()),r+=g1(m)-f.size,e.push(this.os.addEntry(t,a,m))}else if(r-=f.size,this.trackRemovals){const m=n3(this.os.serializer,l.convertToNoDocument(It.min()));e.push(this.os.addEntry(t,a,m))}}),o.forEach(a=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.os.updateMetadata(t,r)),ue.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(r=>(this.us.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:r,rs:o})=>(o.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function T3(n){return Vr(n,"remoteDocumentGlobal")}function Kp(n){return Vr(n,"remoteDocumentsV14")}function mD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function x3(n,t){const e=t.documentKey.path.toArray();return[n,l1(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function I3(n,t){const e=n.path.toArray(),r=t.path.toArray();let o=0;for(let a=0;a<e.length-2&&a<r.length-2;++a)if(o=Wt(e[a],r[a]),o)return o;return o=Wt(e.length,r.length),o||(o=Wt(e[e.length-2],r[r.length-2]),o||Wt(e[e.length-1],r[r.length-1]))}class GV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class A3{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(null!==r&&rD(r.mutation,o,ls.empty(),Ei.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=rn()){const o=Ru();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(a=>{let l=tD();return a.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const r=Ru();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,rn()))}populateOverlays(t,e,r){const o=[];return r.forEach(a=>{e.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(t,o).next(a=>{a.forEach((l,f)=>{e.set(l,f)})})}computeViews(t,e,r,o){let a=ds();const l=nD(),f=nD();return e.forEach((m,v)=>{const x=r.get(v.key);o.has(v.key)&&(void 0===x||x.mutation instanceof ud)?a=a.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),rD(x.mutation,v,x.mutation.getFieldMask(),Ei.now())):l.set(v.key,ls.empty())}),this.recalculateAndSaveOverlays(t,a).next(m=>(m.forEach((v,x)=>l.set(v,x)),e.forEach((v,x)=>{var I;return f.set(v,new GV(x,null!==(I=l.get(v))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(t,e){const r=nD();let o=new ii((l,f)=>l-f),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let x=r.get(m)||ls.empty();x=f.applyToLocalView(v,x),r.set(m,x);const I=(o.get(f.batchId)||rn()).add(m);o=o.insert(f.batchId,I)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,x=m.value,I=DR();x.forEach(F=>{if(!a.has(F)){const j=SR(e.get(F),r.get(F));null!==j&&I.set(F,j),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(t,v,I))}return ue.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return it.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var o}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-a.size):ue.resolve(Ru());let f=-1,m=a;return l.next(v=>ue.forEach(v,(x,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),a.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(t,x).next(F=>{m=m.insert(x,F)}))).next(()=>this.populateOverlays(t,v,a)).next(()=>this.computeViews(t,m,v,rn())).next(x=>({batchId:f,changes:vR(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new it(e)).next(r=>{let o=tD();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const o=e.collectionGroup;let a=tD();return this.indexManager.getCollectionParents(t,o).next(l=>ue.forEach(l,f=>{const m=(v=e,x=f.child(o),new ad(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(t,m,r).next(v=>{v.forEach((x,I)=>{a=a.insert(x,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o))).next(a=>{o.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,hi.newInvalidDocument(v)))});let l=tD();return a.forEach((f,m)=>{const v=o.get(f);void 0!==v&&rD(v.mutation,m,ls.empty(),Ei.now()),eD(e,m)&&(l=l.insert(f,m))}),l})}}class qV{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ue.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:Ji(r.createTime)}),ue.resolve()}getNamedQuery(t,e){return ue.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(r=e).name,query:cM(r.bundledQuery),readTime:Ji(r.readTime)}),ue.resolve();var r}}class $V{constructor(){this.overlays=new ii(it.comparator),this.ls=new Map}getOverlay(t,e){return ue.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ru();return ue.forEach(e,o=>this.getOverlay(t,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,a)=>{this.we(t,e,a)}),ue.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(t,e,r){const o=Ru(),a=e.length+1,l=new it(e.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ue.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let a=new ii((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=a.get(v.largestBatchId);null===x&&(x=Ru(),a=a.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=Ru(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return ue.resolve(f)}we(t,e,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eM(e,r));let a=this.ls.get(e);void 0===a&&(a=rn(),this.ls.set(e,a)),this.ls.set(e,a.add(r.key))}}class gM{constructor(){this.fs=new di(Zr.ds),this.ws=new di(Zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const r=new Zr(t,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.ys(new Zr(t,e))}ps(t,e){t.forEach(r=>this.removeReference(r,e))}Is(t){const e=new it(new bn([])),r=new Zr(e,t),o=new Zr(e,t+1),a=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new it(new bn([])),r=new Zr(e,t),o=new Zr(e,t+1);let a=rn();return this.ws.forEachInRange([r,o],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new Zr(t,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Zr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return it.comparator(t.key,e.key)||Wt(t.As,e.As)}static _s(t,e){return Wt(t.As,e.As)||it.comparator(t.key,e.key)}}class zV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new di(Zr.ds)}checkEmpty(t){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,o){const a=this.vs;this.vs++;const l=new QS(a,e,r,o);this.mutationQueue.push(l);for(const f of o)this.Rs=this.Rs.add(new Zr(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(t,e){return ue.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.bs(e+1),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Zr(e,0),o=new Zr(e,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,o],l=>{const f=this.Ps(l.As);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new di(Wt);return e.forEach(o=>{const a=new Zr(o,0),l=new Zr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let a=r;it.isDocumentKey(a)||(a=a.child(""));const l=new Zr(new it(a),0);let f=new di(Wt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.As)),!0)},l),ue.resolve(this.Vs(f))}Vs(t){const e=[];return t.forEach(r=>{const o=this.Ps(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){Tt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(e.mutations,o=>{const a=new Zr(o.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,e){const r=new Zr(e,0),o=this.Rs.firstAfterOrEqual(r);return ue.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return ue.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class KV{constructor(t){this.Ds=t,this.docs=new ii(it.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),a=o?o.size:0,l=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ue.resolve(r?r.document.mutableCopy():hi.newInvalidDocument(e))}getEntries(t,e){let r=ds();return e.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():hi.newInvalidDocument(o))}),ue.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let a=ds();const l=e.path,f=new it(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||FS(OO(x),r)<=0||(o.has(x.key)||eD(e,x))&&(a=a.insert(x.key,x.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(t,e,r,o){ft()}Cs(t,e){return ue.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new JV(this)}getSize(t){return ue.resolve(this.size)}}class JV extends E3{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.os.addEntry(t,o)):this.os.removeEntry(r)}),ue.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class WV{constructor(t){this.persistence=t,this.xs=new cd(e=>Up(e),Q0),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gM,this.targetCount=0,this.Ms=zp.kn()}forEachTarget(t,e){return this.xs.forEach((r,o)=>e(o)),ue.resolve()}getLastRemoteSnapshotVersion(t){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ue.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),ue.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new zp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ue.resolve()}updateTargetData(t,e){return this.Fn(e),ue.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ue.resolve()}removeTargets(t,e,r){let o=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(t){return ue.resolve(this.targetCount)}getTargetData(t,e){const r=this.xs.get(e)||null;return ue.resolve(r)}addMatchingKeys(t,e,r){return this.ks.gs(e,r),ue.resolve()}removeMatchingKeys(t,e,r){this.ks.ps(e,r);const o=this.persistence.referenceDelegate,a=[];return o&&e.forEach(l=>{a.push(o.markPotentiallyOrphaned(t,l))}),ue.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ue.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ks.Es(e);return ue.resolve(r)}containsKey(t,e){return ue.resolve(this.ks.containsKey(e))}}class mM{constructor(t,e){this.$s={},this.overlays={},this.Os=new Vs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new WV(this),this.indexManager=new FV,this.remoteDocumentCache=new KV(r=>this.referenceDelegate.Ls(r)),this.serializer=new t3(e),this.qs=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $V,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.$s[t.toKey()];return r||(r=new zV(e,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,r){Ze("MemoryPersistence","Starting transaction:",t);const o=new YV(this.Os.next());return this.referenceDelegate.Us(),r(o).next(a=>this.referenceDelegate.Ks(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Gs(t,e){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,e)))}}class YV extends FO{constructor(t){super(),this.currentSequenceNumber=t}}class y1{constructor(t){this.persistence=t,this.Qs=new gM,this.js=null}static zs(t){return new y1(t)}get Ws(){if(this.js)return this.js;throw ft()}addReference(t,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),ue.resolve()}removeReference(t,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ue.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const o=it.fromPath(r);return this.Hs(t,o).next(a=>{a||e.removeEntry(o,It.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(r=>{r?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ue.or([()=>ue.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class QV{constructor(t){this.serializer=t}O(t,e,r,o){const a=new zb("createOrUpgrade",e);var f;r<1&&o>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZO,{unique:!0}),f.createObjectStore("documentMutations"),S3(t),function(f){f.createObjectStore("remoteDocuments")}(t));let l=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),S3(t)),l=l.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZO,{unique:!0});const x=m.store("mutations"),I=v.map(F=>x.put(F));return ue.waitFor(I)})}(t,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(a))),r<6&&o>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(a)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(a))),r<8&&o>=8&&(l=l.next(()=>this.ti(t,a))),r<9&&o>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&o>=10&&(l=l.next(()=>this.ei(a))),r<11&&o>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&o>=12&&(l=l.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:F4});m.createIndex("collectionPathOverlayIndex",L4,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",U4,{unique:!1})}(t)})),r<13&&o>=13&&(l=l.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:T4});m.createIndex("documentKeyIndex",x4),m.createIndex("collectionGroupIndex",I4)}(t)).next(()=>this.ni(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(t,a))),r<15&&o>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:N4}).createIndex("sequenceNumberIndex",P4,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:O4}).createIndex("documentKeyIndex",R4,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((r,o)=>{e+=g1(o)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.j().next(o=>ue.forEach(o,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>ue.forEach(f,m=>{Tt(m.userId===a.userId);const v=Gp(this.serializer,m);return m3(t,a.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(o=>{const a=[];return r.X((l,f)=>{const m=new bn(l),v=[0,vo(m)];a.push(e.get(v).next(x=>x?ue.resolve():e.put({targetId:0,path:vo(m),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:k4});const r=e.store("collectionParents"),o=new pM,a=l=>{if(o.add(l)){const f=l.lastSegment(),m=l.popLast();return r.put({collectionId:f,parent:vo(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,f)=>{const m=new bn(l);return a(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,f,m],v)=>{const x=Pu(f);return a(x.popLast())}))}ei(t){const e=t.store("targets");return e.X((r,o)=>{const a=dD(o),l=i3(this.serializer,a);return e.put(l)})}ni(t,e){const r=e.store("remoteDocuments"),o=[];return r.X((a,l)=>{const f=e.store("remoteDocumentsV14"),m=(v=l,v.document?new it(bn.fromString(v.document.name).popFirst(5)):v.noDocument?it.fromSegments(v.noDocument.path):v.unknownDocument?it.fromSegments(v.unknownDocument.path):ft()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(f.put(x))}).next(()=>ue.waitFor(o))}si(t,e){const r=e.store("mutations"),o=b3(this.serializer),a=new mM(y1.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(m=>{var v;let x=null!==(v=f.get(m.userId))&&void 0!==v?v:rn();Gp(this.serializer,m).keys().forEach(I=>x=x.add(I)),f.set(m.userId,x)}),ue.forEach(f,(m,v)=>{const x=new Ur(v),I=d1.de(this.serializer,x),F=a.getIndexManager(x),j=m1.de(x,this.serializer,F,a.referenceDelegate);return new A3(o,j,I,F).recalculateAndSaveOverlaysForDocumentKeys(new VS(e,Vs.ct),m).next()})})}}function S3(n){n.createObjectStore("targetDocuments",{keyPath:S4}).createIndex("documentTargetsIndex",M4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",A4,{unique:!0}),n.createObjectStore("targetGlobal")}const _M="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yM{constructor(t,e,r,o,a,l,f,m,v,x,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=v,this.oi=x,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!yM.D())throw new Re(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jV(this,o),this.di=e+"main",this.serializer=new t3(m),this.wi=new bc(this.di,this.ui,new QV(this.serializer)),this.Bs=new UV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=b3(this.serializer),this.qs=new SV,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,_M);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Vs(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var r=(0,X.Z)(function*(o){if(e.started)return t(o)});return function(o){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,X.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,X.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>D1(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Rh(t))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return _D(t).get("owner").next(e=>ue.resolve(this.Ri(e)))}Pi(t){return D1(t).delete(this.clientId)}bi(){var t=this;return(0,X.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vr(r,"clientMetadata");return o.j().next(a=>{const l=t.Si(a,18e5),f=a.filter(m=>-1===l.indexOf(m));return ue.forEach(f,m=>o.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t._i)for(const r of e)t._i.removeItem(t.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ue.resolve(!0):_D(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,_M);return!1}}return!(!this.networkEnabled||!this.inForeground)||D1(t).j().next(r=>void 0===this.Si(r,5e3).find(o=>{if(this.clientId!==o.clientId){const l=!this.inForeground&&o.inForeground,f=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||l&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,X.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new VS(e,Vs.ct);return t.Ai(r).next(()=>t.Pi(r))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(r=>this.Vi(r.updateTimeMs,e)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>D1(t).j().next(e=>this.Si(e,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return m1.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new LV(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return d1.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,r){Ze("IndexedDbPersistence","Starting transaction:",t);const o="readonly"===e?"readonly":"readwrite",a=15===(l=this.ui)?Z4:14===l?GO:13===l?HO:12===l?V4:11===l?BO:void ft();var l;let f;return this.wi.runTransaction(t,o,a,m=>(f=new VS(m,this.Os?this.Os.next():Vs.ct),"readwrite-primary"===e?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw Ki(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ge.FAILED_PRECONDITION,RO);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(t){return _D(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(ge.FAILED_PRECONDITION,_M)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _D(t).put("owner",e)}static D(){return bc.D()}Ai(t){const e=_D(t);return e.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ue.resolve())}Vi(t,e){const r=Date.now();return!(t<r-e||t>r&&(Ki(`Detected an update time that is in the future: ${t} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Ht.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ze("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ki("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Ki("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function _D(n){return Vr(n,"owner")}function D1(n){return Vr(n,"clientMetadata")}function vM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class DM{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Fi=r,this.Bi=o}static Li(t,e){let r=rn(),o=rn();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new DM(t,e.fromCache,r,o)}}class M3{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,r,o){return this.Ki(t,e).next(a=>a||this.Gi(t,e,o,r)).next(a=>a||this.Qi(t,e))}Ki(t,e){if(pR(e))return ue.resolve(null);let r=jo(e);return this.indexManager.getIndexType(t,r).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=r1(e,null,"F"),r=jo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const l=rn(...a);return this.Ui.getDocuments(t,l).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const v=this.ji(e,f);return this.zi(e,v,l,m.readTime)?this.Ki(t,r1(e,null,"F")):this.Wi(t,v,e,m)}))})))}Gi(t,e,r,o){return pR(e)||o.isEqual(It.min())?this.Qi(t,e):this.Ui.getDocuments(t,r).next(a=>{const l=this.ji(e,a);return this.zi(e,l,r,o)?this.Qi(t,e):(PS()<=Dc.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),JS(e)),this.Wi(t,l,e,PO(o,-1)))})}ji(t,e){let r=new di(_R(t));return e.forEach((o,a)=>{eD(t,a)&&(r=r.add(a))}),r}zi(t,e,r,o){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Qi(t,e){return PS()<=Dc.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",JS(e)),this.Ui.getDocumentsMatchingQuery(t,e,Us.min())}Wi(t,e,r,o){return this.Ui.getDocumentsMatchingQuery(t,r,o).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}class XV{constructor(t,e,r,o){this.persistence=t,this.Hi=e,this.serializer=o,this.Ji=new ii(Wt),this.Yi=new cd(a=>Up(a),Q0),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function k3(n,t,e,r){return new XV(n,t,e,r)}function N3(n,t){return CM.apply(this,arguments)}function CM(){return CM=(0,X.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,e.tr(t),e.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let m=rn();for(const v of o){l.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of a){f.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return e.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),CM.apply(this,arguments)}function e8(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),a=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const x=m.batch,I=x.keys();let F=ue.resolve();return I.forEach(j=>{F=F.next(()=>v.getEntry(f,j)).next(q=>{const te=m.docVersions.get(j);Tt(null!==te),q.version.compareTo(te)<0&&(x.applyToRemoteDocument(q,m),q.isValidDocument()&&(q.setReadTime(m.commitVersion),v.addEntry(q)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(e,r,t,a).next(()=>a.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=rn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function P3(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function t8(n,t){const e=ot(n),r=t.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const f=[];t.targetChanges.forEach((x,I)=>{const F=o.get(I);if(!F)return;f.push(e.Bs.removeMatchingKeys(a,x.removedDocuments,I).next(()=>e.Bs.addMatchingKeys(a,x.addedDocuments,I)));let j=F.withSequenceNumber(a.currentSequenceNumber);var q,te,se;null!==t.targetMismatches.get(I)?j=j.withResumeToken(br.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),o=o.insert(I,j),te=j,se=x,(0===(q=F).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&f.push(e.Bs.updateTargetData(a,j))});let m=ds(),v=rn();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(O3(a,l,t.documentUpdates).next(x=>{m=x.nr,v=x.sr})),!r.isEqual(It.min())){const x=e.Bs.getLastRemoteSnapshotVersion(a).next(I=>e.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(x)}return ue.waitFor(f).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(e.Ji=o,a))}function O3(n,t,e){let r=rn(),o=rn();return e.forEach(a=>r=r.add(a)),t.getEntries(n,r).next(a=>{let l=ds();return e.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(It.min())?(t.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),l=l.insert(f,m)):Ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:o}})}function n8(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function w_(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Bs.getTargetData(r,t).next(a=>a?(o=a,ue.resolve(o)):e.Bs.allocateTargetId(r).next(l=>(o=new ld(t,l,"TargetPurposeListen",r.currentSequenceNumber),e.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(r.targetId,r),e.Yi.set(t,r.targetId)),r})}function E_(n,t,e){return wM.apply(this,arguments)}function wM(){return wM=(0,X.Z)(function*(n,t,e){const r=ot(n),o=r.Ji.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Rh(l))throw l;Ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(o.target)}),wM.apply(this,arguments)}function C1(n,t,e){const r=ot(n);let o=It.min(),a=rn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const x=ot(f),I=x.Yi.get(v);return void 0!==I?ue.resolve(x.Ji.get(I)):x.Bs.getTargetData(m,v)}(r,l,jo(t)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,t,e?o:It.min(),e?a:rn())).next(f=>(L3(r,mR(t),f),{documents:f,ir:a})))}function R3(n,t){const e=ot(n),r=ot(e.Bs),o=e.Ji.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",a=>r.le(a,t).next(l=>l?l.target:null))}function F3(n,t){const e=ot(n),r=e.Xi.get(t)||It.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,t,PO(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(L3(e,t,o),o))}function L3(n,t,e){let r=n.Xi.get(t)||It.min();e.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(t,r)}function EM(){return EM=(0,X.Z)(function*(n,t,e,r){const o=ot(n);let a=rn(),l=ds();for(const v of e){const x=t.rr(v.metadata.name);v.document&&(a=a.add(x));const I=t.ur(v);I.setReadTime(t.cr(v.metadata.readTime)),l=l.insert(x,I)}const f=o.Zi.newChangeBuffer({trackRemovals:!0}),m=yield w_(o,(v=r,jo(f_(bn.fromString(`__bundle__/docs/${v}`)))));var v;return o.persistence.runTransaction("Apply bundle documents","readwrite",v=>O3(v,f,l).next(x=>(f.apply(v),x)).next(x=>o.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>o.Bs.addMatchingKeys(v,a,m.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),EM.apply(this,arguments)}function r8(n,t){return bM.apply(this,arguments)}function bM(){return bM=(0,X.Z)(function*(n,t,e=rn()){const r=yield w_(n,jo(cM(t.bundledQuery))),o=ot(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{const l=Ji(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(a,t);const f=r.withResumeToken(br.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(f.targetId,f),o.Bs.updateTargetData(a,f).next(()=>o.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>o.Bs.addMatchingKeys(a,e,r.targetId)).next(()=>o.qs.saveNamedQuery(a,t))})}),bM.apply(this,arguments)}function U3(n,t){return`firestore_clients_${n}_${t}`}function V3(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function TM(n,t){return`firestore_targets_${n}_${t}`}class w1{constructor(t,e,r,o){this.user=t,this.batchId=e,this.state=r,this.error=o}static ar(t,e,r){const o=JSON.parse(r);let a,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(a=new Re(o.error.code,o.error.message))),l?new w1(t,e,o.state,a):(Ki("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yD{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static ar(t,e){const r=JSON.parse(e);let o,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Re(r.error.code,r.error.message))),a?new yD(t,r.state,o):(Ki("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class E1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,a=WS();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=UO(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return o?new E1(t,a):(Ki("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class xM{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new xM(e.clientId,e.onlineState):(Ki("SharedClientState",`Failed to parse online state: ${t}`),null)}}class IM{constructor(){this.activeTargetIds=WS()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AM{constructor(t,e,r,o,a){this.window=t,this.ii=e,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ii(Wt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=U3(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new IM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,X.Z)(function*(){const e=yield t.syncEngine.$i();for(const o of e){if(o===t.wr)continue;const a=t.getItem(U3(t.persistenceKey,o));if(a){const l=E1.ar(o,a);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const r=t.storage.getItem(t.vr);if(r){const o=t.br(r);o&&t.Vr(o)}for(const o of t.yr)t.mr(o);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,r){this.Dr(t,e,r),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(TM(this.persistenceKey,t));if(r){const o=yD.ar(t,r);o&&(e=o.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(TM(this.persistenceKey,t))}updateQueryState(t,e,r){this.kr(t,e,r)}handleUserChange(t,e,r){e.forEach(o=>{this.Cr(o)}),this.currentUser=t,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ze("SharedClientState","READ",t,e),e}setItem(t,e){Ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,X.Z)(function*(){if(e.started){if(null!==r.key)if(e.Tr.test(r.key)){if(null==r.newValue){const o=e.Or(r.key);return e.Fr(o,null)}{const o=e.Br(r.key,r.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(r.key)){if(null!==r.newValue){const o=e.Lr(r.key,r.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(r.key)){if(null!==r.newValue){const o=e.Ur(r.key,r.newValue);if(o)return e.Kr(o)}}else if(r.key===e.vr){if(null!==r.newValue){const o=e.br(r.newValue);if(o)return e.Vr(o)}}else if(r.key===e.Ir){const o=function(a){let l=Vs.ct;if(null!=a)try{const f=JSON.parse(a);Tt("number"==typeof f),l=f}catch(f){Ki("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);o!==Vs.ct&&e.sequenceNumberHandler(o)}else if(r.key===e.Rr){const o=e.Gr(r.newValue);yield Promise.all(o.map(a=>e.syncEngine.Qr(a)))}}else e.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,r){const o=new w1(this.currentUser,t,e,r),a=V3(this.persistenceKey,this.currentUser,t);this.setItem(a,o.hr())}Cr(t){const e=V3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,r){const o=TM(this.persistenceKey,t),a=new yD(t,e,r);this.setItem(o,a.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const r=this.Or(t);return E1.ar(r,e)}Lr(t,e){const r=this.Er.exec(t),o=Number(r[1]);return w1.ar(new Ur(void 0!==r[2]?r[2]:null),o,e)}Ur(t,e){const r=this.Ar.exec(t),o=Number(r[1]);return yD.ar(o,e)}br(t){return xM.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,X.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const r=e?this.gr.insert(t,e):this.gr.remove(t),o=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(m=>{o.has(m)||l.push(m)}),o.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=WS();return t.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class Z3{constructor(){this.Hr=new IM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,r){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new IM,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class o8{Yr(t){}shutdown(){}}class j3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let b1=null;function SM(){return null===b1?b1=268435456+Math.round(2147483648*Math.random()):b1++,"0x"+b1.toString(16)}const s8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a8{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Co="WebChannelConnection";class c8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,r,o,a){const l=SM(),f=this.To(t,e);Ze("RestConnection",`Sending RPC '${t}' ${l}:`,f,r);const m={};return this.Eo(m,o,a),this.Ao(t,f,m,r).then(v=>(Ze("RestConnection",`Received RPC '${t}' ${l}: `,v),v),v=>{throw Ea("RestConnection",`RPC '${t}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(t,e,r,o,a,l){return this.Io(t,e,r,o,a)}Eo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+a_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,a)=>t[a]=o),r&&r.headers.forEach((o,a)=>t[a]=o)}To(t,e){return`${this.mo}/v1/${e}:${s8[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,r,o){const a=SM();return new Promise((l,f)=>{const m=new o4;m.setWithCredentials(!0),m.listenOnce(n4.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case NS.NO_ERROR:const x=m.getResponseJson();Ze(Co,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(x)),l(x);break;case NS.TIMEOUT:Ze(Co,`RPC '${t}' ${a} timed out`),f(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case NS.HTTP_ERROR:const I=m.getStatus();if(Ze(Co,`RPC '${t}' ${a} failed with status:`,I,"response text:",m.getResponseText()),I>0){let F=m.getResponseJson();Array.isArray(F)&&(F=F[0]);const j=F?.error;if(j&&j.status&&j.message){const q=function(te){const se=te.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(se)>=0?se:ge.UNKNOWN}(j.status);f(new Re(q,j.message))}else f(new Re(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(Co,`RPC '${t}' ${a} completed.`)}});const v=JSON.stringify(o);Ze(Co,`RPC '${t}' ${a} sending request:`,o),m.send(e,"POST",v,r,15)})}Ro(t,e,r){const o=SM(),a=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=e4(),f=t4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new r4({})),this.Eo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const x=a.join("");Ze(Co,`Creating RPC '${t}' stream ${o}: ${x}`,m);const I=l.createWebChannel(x,m);let F=!1,j=!1;const q=new a8({ro:se=>{j?Ze(Co,`Not sending because RPC '${t}' stream ${o} is closed:`,se):(F||(Ze(Co,`Opening RPC '${t}' stream ${o} transport.`),I.open(),F=!0),Ze(Co,`RPC '${t}' stream ${o} sending:`,se),I.send(se))},oo:()=>I.close()}),te=(se,Ve,Be)=>{se.listen(Ve,je=>{try{Be(je)}catch(Je){setTimeout(()=>{throw Je},0)}})};return te(I,Gb.EventType.OPEN,()=>{j||Ze(Co,`RPC '${t}' stream ${o} transport opened.`)}),te(I,Gb.EventType.CLOSE,()=>{j||(j=!0,Ze(Co,`RPC '${t}' stream ${o} transport closed`),q.wo())}),te(I,Gb.EventType.ERROR,se=>{j||(j=!0,Ea(Co,`RPC '${t}' stream ${o} transport errored:`,se),q.wo(new Re(ge.UNAVAILABLE,"The operation could not be completed")))}),te(I,Gb.EventType.MESSAGE,se=>{var Ve;if(!j){const Be=se.data[0];Tt(!!Be);const je=Be,Je=je.error||(null===(Ve=je[0])||void 0===Ve?void 0:Ve.error);if(Je){Ze(Co,`RPC '${t}' stream ${o} received error:`,Je);const Nt=Je.status;let Rt=function(Si){const wo=cr[Si];if(void 0!==wo)return RR(wo)}(Nt),pn=Je.message;void 0===Rt&&(Rt=ge.INTERNAL,pn="Unknown error status: "+Nt+" with message "+Je.message),j=!0,q.wo(new Re(Rt,pn)),I.close()}else Ze(Co,`RPC '${t}' stream ${o} received:`,Be),q._o(Be)}}),te(f,i4.STAT_EVENT,se=>{se.stat===IO.PROXY?Ze(Co,`RPC '${t}' stream ${o} detected buffering proxy`):se.stat===IO.NOPROXY&&Ze(Co,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function B3(){return typeof window<"u"?window:null}function T1(){return typeof document<"u"?document:null}function vD(n){return new yV(n,!0)}class MM{constructor(t,e,r=1e3,o=1.5,a=6e4){this.ii=t,this.timerId=e,this.Po=r,this.bo=o,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class H3{constructor(t,e,r,o,a,l,f,m){this.ii=t,this.$o=r,this.Oo=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MM(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,X.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,X.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var r=this;return(0,X.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==t?r.qo.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Ki(e.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):e&&e.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===e&&this.Zo(r,o)},r=>{t(()=>{const o=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(t,e){const r=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var t=this;this.state=5,this.qo.No((0,X.Z)(function*(){t.state=0,t.start()}))}tu(t){return Ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u8 extends H3{constructor(t,e,r,o,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,l),this.serializer=a}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function CV(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ft(),o=t.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Tt(void 0===v||"string"==typeof v),br.fromBase64String(v||"")):(Tt(void 0===v||v instanceof Uint8Array),br.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ge.UNKNOWN:RR(m.code);return new Re(v,m.message||"")}(l);e=new ZR(r,o,a,f||null)}else if("documentChange"in t){const r=t.documentChange,o=Fu(n,r.document.name),a=Ji(r.document.updateTime),l=r.document.createTime?Ji(r.document.createTime):It.min(),f=new io({mapValue:{fields:r.document.fields}}),m=hi.newFoundDocument(o,a,l,f);e=new u1(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,o=Fu(n,r.document),a=r.readTime?Ji(r.readTime):It.min(),l=hi.newNoDocument(o,a);e=new u1([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const r=t.documentRemove,o=Fu(n,r.document);e=new u1([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return ft();{const r=t.filter,{count:o=0,unchangedNames:a}=r,l=new hV(o,a);e=new VR(r.targetId,l)}}var m;return e}(this.serializer,t),r=function(o){if(!("targetChange"in o))return It.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?Ji(a.readTime):It.min()}(t);return this.listener.nu(e,r)}su(t){const e={};e.database=uD(this.serializer),e.addTarget=function(o,a){let l;const f=a.target;if(l=t1(f)?{documents:WR(o,f)}:{query:aM(o,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=GR(o,a.resumeToken);const m=iM(o,a.expectedCount);null!==m&&(l.expectedCount=m)}else if(a.snapshotVersion.compareTo(It.min())>0){l.readTime=y_(o,a.snapshotVersion.toTimestamp());const m=iM(o,a.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,t);const r=function EV(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Wo(e)}iu(t){const e={};e.database=uD(this.serializer),e.removeTarget=t,this.Wo(e)}}class l8 extends H3{constructor(t,e,r,o,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function wV(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(r,o){let a=Ji(r.updateTime?r.updateTime:o);return a.isEqual(It.min())&&(a=Ji(o)),new cV(a,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Ji(t.commitTime);return this.listener.cu(r,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=uD(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>lD(this.serializer,r))};this.Wo(e)}}class d8 extends class{}{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Io(t,e,r,o,a)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ge.UNKNOWN,o.toString())})}vo(t,e,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(t,e,r,a,l,o)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ge.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class f8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ki(e),this.mu=!1):Ze("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class p8{constructor(t,e,r,o,a){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,X.Z)(function*(){var m;zh(l)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,X.Z)(function*(v){const x=ot(v);x.vu.add(4),yield b_(x),x.bu.set("Unknown"),x.vu.delete(4),yield DD(x)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new f8(r,o)}}function DD(n){return NM.apply(this,arguments)}function NM(){return NM=(0,X.Z)(function*(n){if(zh(n))for(const t of n.Ru)yield t(!0)}),NM.apply(this,arguments)}function b_(n){return PM.apply(this,arguments)}function PM(){return PM=(0,X.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),PM.apply(this,arguments)}function x1(n,t){const e=ot(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),FM(e)?RM(e):x_(e).Ko()&&OM(e,t))}function CD(n,t){const e=ot(n),r=x_(e);e.Au.delete(t),r.Ko()&&G3(e,t),0===e.Au.size&&(r.Ko()?r.jo():zh(e)&&e.bu.set("Unknown"))}function OM(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}x_(n).su(t)}function G3(n,t){n.Vu.qt(t),x_(n).iu(t)}function RM(n){n.Vu=new pV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),x_(n).start(),n.bu.gu()}function FM(n){return zh(n)&&!x_(n).Uo()&&n.Au.size>0}function zh(n){return 0===ot(n).vu.size}function q3(n){n.Vu=void 0}function g8(n){return LM.apply(this,arguments)}function LM(){return LM=(0,X.Z)(function*(n){n.Au.forEach((t,e)=>{OM(n,t)})}),LM.apply(this,arguments)}function m8(n,t){return UM.apply(this,arguments)}function UM(){return UM=(0,X.Z)(function*(n,t){q3(n),FM(n)?(n.bu.Iu(t),RM(n)):n.bu.set("Unknown")}),UM.apply(this,arguments)}function _8(n,t,e){return VM.apply(this,arguments)}function VM(){return VM=(0,X.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof ZR&&2===t.state&&t.cause)try{yield(r=(0,X.Z)(function*(o,a){const l=a.cause;for(const f of a.targetIds)o.Au.has(f)&&(yield o.remoteSyncer.rejectListen(f,l),o.Au.delete(f),o.Vu.removeTarget(f))}),function(o,a){return r.apply(this,arguments)})(n,t)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield I1(n,r)}else if(t instanceof u1?n.Vu.Ht(t):t instanceof VR?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(It.min()))try{const r=yield P3(n.localStore);e.compareTo(r)>=0&&(yield function(o,a){const l=o.Vu.ce(a);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Au.get(m);v&&o.Au.set(m,v.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,m)=>{const v=o.Au.get(f);if(!v)return;o.Au.set(f,v.withResumeToken(br.EMPTY_BYTE_STRING,v.snapshotVersion)),G3(o,f);const x=new ld(v.target,f,m,v.sequenceNumber);OM(o,x)}),o.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield I1(n,r)}var r}),VM.apply(this,arguments)}function I1(n,t,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,X.Z)(function*(n,t,e){if(!Rh(t))throw t;n.vu.add(1),yield b_(n),n.bu.set("Offline"),e||(e=()=>P3(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield DD(n)}))}),ZM.apply(this,arguments)}function $3(n,t){return t().catch(e=>I1(n,e,t))}function T_(n){return jM.apply(this,arguments)}function jM(){return jM=(0,X.Z)(function*(n){const t=ot(n),e=Kh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;y8(t);)try{const o=yield n8(t.localStore,r);if(null===o){0===t.Eu.length&&e.jo();break}r=o.batchId,v8(t,o)}catch(o){yield I1(t,o)}z3(t)&&K3(t)}),jM.apply(this,arguments)}function y8(n){return zh(n)&&n.Eu.length<10}function v8(n,t){n.Eu.push(t);const e=Kh(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function z3(n){return zh(n)&&!Kh(n).Uo()&&n.Eu.length>0}function K3(n){Kh(n).start()}function D8(n){return BM.apply(this,arguments)}function BM(){return BM=(0,X.Z)(function*(n){Kh(n).hu()}),BM.apply(this,arguments)}function C8(n){return HM.apply(this,arguments)}function HM(){return HM=(0,X.Z)(function*(n){const t=Kh(n);for(const e of n.Eu)t.uu(e.mutations)}),HM.apply(this,arguments)}function w8(n,t,e){return GM.apply(this,arguments)}function GM(){return GM=(0,X.Z)(function*(n,t,e){const r=n.Eu.shift(),o=XS.from(r,t,e);yield $3(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield T_(n)}),GM.apply(this,arguments)}function E8(n,t){return qM.apply(this,arguments)}function qM(){return qM=(0,X.Z)(function*(n,t){var e;t&&Kh(n).ou&&(yield(e=(0,X.Z)(function*(r,o){if(OR(a=o.code)&&a!==ge.ABORTED){const l=r.Eu.shift();Kh(r).Qo(),yield $3(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield T_(r)}var a}),function(r,o){return e.apply(this,arguments)})(n,t)),z3(n)&&K3(n)}),qM.apply(this,arguments)}function J3(n,t){return $M.apply(this,arguments)}function $M(){return $M=(0,X.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=zh(e);e.vu.add(3),yield b_(e),r&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield DD(e)}),$M.apply(this,arguments)}function zM(n,t){return KM.apply(this,arguments)}function KM(){return KM=(0,X.Z)(function*(n,t){const e=ot(n);t?(e.vu.delete(2),yield DD(e)):t||(e.vu.add(2),yield b_(e),e.bu.set("Unknown"))}),KM.apply(this,arguments)}function x_(n){return n.Su||(n.Su=function(t,e,r){const o=ot(t);return o.fu(),new u8(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:g8.bind(null,n),ao:m8.bind(null,n),nu:_8.bind(null,n)}),n.Ru.push(function(){var t=(0,X.Z)(function*(e){e?(n.Su.Qo(),FM(n)?RM(n):n.bu.set("Unknown")):(yield n.Su.stop(),q3(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Kh(n){return n.Du||(n.Du=function(t,e,r){const o=ot(t);return o.fu(),new l8(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:D8.bind(null,n),ao:E8.bind(null,n),au:C8.bind(null,n),cu:w8.bind(null,n)}),n.Ru.push(function(){var t=(0,X.Z)(function*(e){e?(n.Du.Qo(),yield T_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class JM{constructor(t,e,r,o,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,r,o,a){const l=Date.now()+r,f=new JM(t,e,l,o,a);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I_(n,t){if(Ki("AsyncQueue",`${t}: ${n}`),Rh(n))return new Re(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class A_{constructor(t){this.comparator=t?(e,r)=>t(e,r)||it.comparator(e.key,r.key):(e,r)=>it.comparator(e.key,r.key),this.keyedMap=tD(),this.sortedSet=new ii(this.comparator)}static emptySet(t){return new A_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof A_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new A_;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class W3{constructor(){this.Cu=new ii(it.comparator)}track(t){const e=t.doc.key,r=this.Cu.get(e);r?0!==t.type&&3===r.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Cu=this.Cu.remove(e):1===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ft():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,r)=>{t.push(r)}),t}}class S_{constructor(t,e,r,o,a,l,f,m,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,a){const l=[];return e.forEach(f=>{l.push({type:0,doc:f})}),new S_(t,e,A_.emptySet(e),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&X0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class b8{constructor(){this.Nu=void 0,this.listeners=[]}}class T8{constructor(){this.queries=new cd(t=>gR(t),X0),this.onlineState="Unknown",this.ku=new Set}}function WM(n,t){return YM.apply(this,arguments)}function YM(){return YM=(0,X.Z)(function*(n,t){const e=ot(n),r=t.query;let o=!1,a=e.queries.get(r);if(a||(o=!0,a=new b8),o)try{a.Nu=yield e.onListen(r)}catch(l){const f=I_(l,`Initialization of query '${JS(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,a),a.listeners.push(t),t.Mu(e.onlineState),a.Nu&&t.$u(a.Nu)&&e2(e)}),YM.apply(this,arguments)}function QM(n,t){return XM.apply(this,arguments)}function XM(){return XM=(0,X.Z)(function*(n,t){const e=ot(n),r=t.query;let o=!1;const a=e.queries.get(r);if(a){const l=a.listeners.indexOf(t);l>=0&&(a.listeners.splice(l,1),o=0===a.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)}),XM.apply(this,arguments)}function x8(n,t){const e=ot(n);let r=!1;for(const o of t){const l=e.queries.get(o.query);if(l){for(const f of l.listeners)f.$u(o)&&(r=!0);l.Nu=o}}r&&e2(e)}function I8(n,t,e){const r=ot(n),o=r.queries.get(t);if(o)for(const a of o.listeners)a.onError(e);r.queries.delete(t)}function e2(n){n.ku.forEach(t=>{t.next()})}class t2{constructor(t,e,r){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new S_(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=S_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class A8{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Y3{constructor(t){this.serializer=t}rr(t){return Fu(this.serializer,t)}ur(t){return t.metadata.exists?JR(this.serializer,t.document,!1):hi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Ji(t)}}class S8{constructor(t,e,r){this.ju=t,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Q3(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const r=bn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,r=new Y3(this.serializer);for(const o of t)if(o.metadata.queries){const a=r.rr(o.metadata.name);for(const l of o.metadata.queries){const f=(e.get(l)||rn()).add(a);e.set(l,f)}}return e}complete(){var t=this;return(0,X.Z)(function*(){const e=yield function i8(n,t,e,r){return EM.apply(this,arguments)}(t.localStore,new Y3(t.serializer),t.documents,t.ju.id),r=t.Wu(t.documents);for(const o of t.queries)yield r8(t.localStore,o,r.get(o.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function Q3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class X3{constructor(t){this.key=t}}class eF{constructor(t){this.key=t}}class tF{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=_R(t),this.ec=new A_(this.tc)}get nc(){return this.Yu}sc(t,e){const r=e?e.ic:new W3,o=e?e.ec:this.ec;let a=e?e.mutatedKeys:this.mutatedKeys,l=o,f=!1;const m="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,v="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((x,I)=>{const F=o.get(x),j=eD(this.query,I)?I:null,q=!!F&&this.mutatedKeys.has(F.key),te=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let se=!1;F&&j?F.data.isEqual(j.data)?q!==te&&(r.track({type:3,doc:j}),se=!0):this.rc(F,j)||(r.track({type:2,doc:j}),se=!0,(m&&this.tc(j,m)>0||v&&this.tc(j,v)<0)&&(f=!0)):!F&&j?(r.track({type:0,doc:j}),se=!0):F&&!j&&(r.track({type:1,doc:F}),se=!0,(m||v)&&(f=!0)),se&&(j?(l=l.add(j),a=te?a.add(x):a.delete(x)):(l=l.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const o=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const a=t.ic.xu();a.sort((v,x)=>function(I,F){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return j(I)-j(F)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(r);const l=e?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==a.length||m?{snapshot:new S_(this.query,t.ec,o,a,t.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new W3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=rn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const e=[];return t.forEach(r=>{this.Zu.has(r)||e.push(new eF(r))}),this.Zu.forEach(r=>{t.has(r)||e.push(new X3(r))}),e}hc(t){this.Yu=t.ir,this.Zu=rn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return S_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class M8{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class k8{constructor(t){this.key=t,this.fc=!1}}class N8{constructor(t,e,r,o,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new cd(f=>gR(f),X0),this._c=new Map,this.mc=new Set,this.gc=new ii(it.comparator),this.yc=new Map,this.Ic=new gM,this.Tc={},this.Ec=new Map,this.Ac=zp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function P8(n,t){return n2.apply(this,arguments)}function n2(){return n2=(0,X.Z)(function*(n,t){const e=T2(n);let r,o;const a=e.wc.get(t);if(a)r=a.targetId,e.sharedClientState.addLocalQueryTarget(r),o=a.view.lc();else{const l=yield w_(e.localStore,jo(t)),f=e.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield i2(e,t,r,"current"===f,l.resumeToken),e.isPrimaryClient&&x1(e.remoteStore,l)}return o}),n2.apply(this,arguments)}function i2(n,t,e,r,o){return r2.apply(this,arguments)}function r2(){return r2=(0,X.Z)(function*(n,t,e,r,o){n.Rc=(I,F,j)=>{return(q=(0,X.Z)(function*(te,se,Ve,Be){let je=se.view.sc(Ve);je.zi&&(je=yield C1(te.localStore,se.query,!1).then(({documents:Rt})=>se.view.sc(Rt,je)));const Je=Be&&Be.targetChanges.get(se.targetId),Nt=se.view.applyChanges(je,te.isPrimaryClient,Je);return p2(te,se.targetId,Nt.cc),Nt.snapshot}),function(te,se,Ve,Be){return q.apply(this,arguments)})(n,I,F,j);var q};const a=yield C1(n.localStore,t,!0),l=new tF(t,a.ir),f=l.sc(a.documents),m=aD.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,o),v=l.applyChanges(f,n.isPrimaryClient,m);p2(n,e,v.cc);const x=new M8(t,e,l);return n.wc.set(t,x),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),r2.apply(this,arguments)}function O8(n,t){return o2.apply(this,arguments)}function o2(){return o2=(0,X.Z)(function*(n,t){const e=ot(n),r=e.wc.get(t),o=e._c.get(r.targetId);if(o.length>1)return e._c.set(r.targetId,o.filter(a=>!X0(a,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield E_(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),CD(e.remoteStore,r.targetId),M_(e,r.targetId)}).catch(Oh))):(M_(e,r.targetId),yield E_(e.localStore,r.targetId,!0))}),o2.apply(this,arguments)}function s2(){return s2=(0,X.Z)(function*(n,t,e){const r=x2(n);try{const o=yield function(a,l){const f=ot(a),m=Ei.now(),v=l.reduce((F,j)=>F.add(j.key),rn());let x,I;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let j=ds(),q=rn();return f.Zi.getEntries(F,v).next(te=>{j=te,j.forEach((se,Ve)=>{Ve.isValidDocument()||(q=q.add(se))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,j)).next(te=>{x=te;const se=[];for(const Ve of l){const Be=lV(Ve,x.get(Ve.key).overlayedDocument);null!=Be&&se.push(new ud(Ve.key,Be,tR(Be.value.mapValue),bi.exists(!0)))}return f.mutationQueue.addMutationBatch(F,m,se,l)}).next(te=>{I=te;const se=te.applyToLocalDocumentSet(x,q);return f.documentOverlayCache.saveOverlays(F,te.batchId,se)})}).then(()=>({batchId:I.batchId,changes:vR(x)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(a,l,f){let m=a.Tc[a.currentUser.toKey()];m||(m=new ii(Wt)),m=m.insert(l,f),a.Tc[a.currentUser.toKey()]=m}(r,o.batchId,e),yield dd(r,o.changes),yield T_(r.remoteStore)}catch(o){const a=I_(o,"Failed to persist write");e.reject(a)}}),s2.apply(this,arguments)}function nF(n,t){return a2.apply(this,arguments)}function a2(){return a2=(0,X.Z)(function*(n,t){const e=ot(n);try{const r=yield t8(e.localStore,t);t.targetChanges.forEach((o,a)=>{const l=e.yc.get(a);l&&(Tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?Tt(l.fc):o.removedDocuments.size>0&&(Tt(l.fc),l.fc=!1))}),yield dd(e,r,t)}catch(r){yield Oh(r)}}),a2.apply(this,arguments)}function iF(n,t,e){const r=ot(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(t);f.snapshot&&o.push(f.snapshot)}),function(a,l){const f=ot(a);f.onlineState=l;let m=!1;f.queries.forEach((v,x)=>{for(const I of x.listeners)I.Mu(l)&&(m=!0)}),m&&e2(f)}(r.eventManager,t),o.length&&r.dc.nu(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function F8(n,t,e){return c2.apply(this,arguments)}function c2(){return c2=(0,X.Z)(function*(n,t,e){const r=ot(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.yc.get(t),a=o&&o.key;if(a){let l=new ii(it.comparator);l=l.insert(a,hi.newNoDocument(a,It.min()));const f=rn().add(a),m=new sD(It.min(),new Map,new ii(Wt),l,f);yield nF(r,m),r.gc=r.gc.remove(a),r.yc.delete(t),g2(r)}else yield E_(r.localStore,t,!1).then(()=>M_(r,t,e)).catch(Oh)}),c2.apply(this,arguments)}function L8(n,t){return u2.apply(this,arguments)}function u2(){return u2=(0,X.Z)(function*(n,t){const e=ot(n),r=t.batch.batchId;try{const o=yield e8(e.localStore,t);f2(e,r,null),h2(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(e,o)}catch(o){yield Oh(o)}}),u2.apply(this,arguments)}function U8(n,t,e){return l2.apply(this,arguments)}function l2(){return l2=(0,X.Z)(function*(n,t,e){const r=ot(n);try{const o=yield function(a,l){const f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(x=>(Tt(null!==x),v=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,t);f2(r,t,e),h2(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield dd(r,o)}catch(o){yield Oh(o)}}),l2.apply(this,arguments)}function d2(){return d2=(0,X.Z)(function*(n,t){const e=ot(n);zh(e.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=ot(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===r)return void t.resolve();const o=e.Ec.get(r)||[];o.push(t),e.Ec.set(r,o)}catch(r){const o=I_(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),d2.apply(this,arguments)}function h2(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function f2(n,t,e){const r=ot(n);let o=r.Tc[r.currentUser.toKey()];if(o){const a=o.get(t);a&&(e?a.reject(e):a.resolve(),o=o.remove(t)),r.Tc[r.currentUser.toKey()]=o}}function M_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n._c.get(t))n.wc.delete(r),e&&n.dc.Pc(r,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(r=>{n.Ic.containsKey(r)||rF(n,r)})}function rF(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(CD(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),g2(n))}function p2(n,t,e){for(const r of e)r instanceof X3?(n.Ic.addReference(r.key,t),Z8(n,r)):r instanceof eF?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,t),n.Ic.containsKey(r.key)||rF(n,r.key)):ft()}function Z8(n,t){const e=t.key,r=e.path.canonicalString();n.gc.get(e)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+e),n.mc.add(r),g2(n))}function g2(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new it(bn.fromString(t)),r=n.Ac.next();n.yc.set(r,new k8(e)),n.gc=n.gc.insert(e,r),x1(n.remoteStore,new ld(jo(f_(e.path)),r,"TargetPurposeLimboResolution",Vs.ct))}}function dd(n,t,e){return m2.apply(this,arguments)}function m2(){return m2=(0,X.Z)(function*(n,t,e){const r=ot(n),o=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,t,e).then(v=>{if((v||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){o.push(v);const x=DM.Li(m.targetId,v);a.push(x)}}))}),yield Promise.all(l),r.dc.nu(o),yield(f=(0,X.Z)(function*(m,v){const x=ot(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(v,F=>ue.forEach(F.Fi,j=>x.persistence.referenceDelegate.addReference(I,F.targetId,j)).next(()=>ue.forEach(F.Bi,j=>x.persistence.referenceDelegate.removeReference(I,F.targetId,j)))))}catch(I){if(!Rh(I))throw I;Ze("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const F=I.targetId;if(!I.fromCache){const j=x.Ji.get(F),te=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);x.Ji=x.Ji.insert(F,te)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),m2.apply(this,arguments)}function j8(n,t){return _2.apply(this,arguments)}function _2(){return _2=(0,X.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){Ze("SyncEngine","User change. New user:",t.toKey());const r=yield N3(e.localStore,t);e.currentUser=t,(o=e).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Re(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield dd(e,r.er)}var o}),_2.apply(this,arguments)}function B8(n,t){const e=ot(n),r=e.yc.get(t);if(r&&r.fc)return rn().add(r.key);{let o=rn();const a=e._c.get(t);if(!a)return o;for(const l of a){const f=e.wc.get(l);o=o.unionWith(f.view.nc)}return o}}function H8(n,t){return y2.apply(this,arguments)}function y2(){return y2=(0,X.Z)(function*(n,t){const e=ot(n),r=yield C1(e.localStore,t.query,!0),o=t.view.hc(r);return e.isPrimaryClient&&p2(e,t.targetId,o.cc),o}),y2.apply(this,arguments)}function G8(n,t){return v2.apply(this,arguments)}function v2(){return v2=(0,X.Z)(function*(n,t){const e=ot(n);return F3(e.localStore,t).then(r=>dd(e,r))}),v2.apply(this,arguments)}function q8(n,t,e,r){return D2.apply(this,arguments)}function D2(){return D2=(0,X.Z)(function*(n,t,e,r){const o=ot(n),a=yield function(l,f){const m=ot(l),v=ot(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,f).next(I=>I?m.localDocuments.getDocuments(x,I):ue.resolve(null)))}(o.localStore,t);var f;null!==a?("pending"===e?yield T_(o.remoteStore):"acknowledged"===e||"rejected"===e?(f2(o,t,r||null),h2(o,t),f=t,ot(ot(o.localStore).mutationQueue).Cn(f)):ft(),yield dd(o,a)):Ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),D2.apply(this,arguments)}function C2(){return C2=(0,X.Z)(function*(n,t){const e=ot(n);if(T2(e),x2(e),!0===t&&!0!==e.vc){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield oF(e,r.toArray());e.vc=!0,yield zM(e.remoteStore,!0);for(const a of o)x1(e.remoteStore,a)}else if(!1===t&&!1!==e.vc){const r=[];let o=Promise.resolve();e._c.forEach((a,l)=>{e.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(M_(e,l),E_(e.localStore,l,!0))),CD(e.remoteStore,l)}),yield o,yield oF(e,r),function(a){const l=ot(a);l.yc.forEach((f,m)=>{CD(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ii(it.comparator)}(e),e.vc=!1,yield zM(e.remoteStore,!1)}}),C2.apply(this,arguments)}function oF(n,t,e){return w2.apply(this,arguments)}function w2(){return w2=(0,X.Z)(function*(n,t,e){const r=ot(n),o=[],a=[];for(const l of t){let f;const m=r._c.get(l);if(m&&0!==m.length){f=yield w_(r.localStore,jo(m[0]));for(const v of m){const x=r.wc.get(v),I=yield H8(r,x);I.snapshot&&a.push(I.snapshot)}}else{const v=yield R3(r.localStore,l);f=yield w_(r.localStore,v),yield i2(r,sF(v),l,!1,f.resumeToken)}o.push(f)}return r.dc.nu(a),o}),w2.apply(this,arguments)}function sF(n){return fR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function z8(n){const t=ot(n);return ot(ot(t.localStore).persistence).$i()}function K8(n,t,e,r){return E2.apply(this,arguments)}function E2(){return E2=(0,X.Z)(function*(n,t,e,r){const o=ot(n);if(o.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const a=o._c.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const l=yield F3(o.localStore,mR(a[0])),f=sD.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,br.EMPTY_BYTE_STRING);yield dd(o,l,f);break}case"rejected":yield E_(o.localStore,t,!0),M_(o,t,r);break;default:ft()}}),E2.apply(this,arguments)}function J8(n,t,e){return b2.apply(this,arguments)}function b2(){return b2=(0,X.Z)(function*(n,t,e){const r=T2(n);if(r.vc){for(const o of t){if(r._c.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const a=yield R3(r.localStore,o),l=yield w_(r.localStore,a);yield i2(r,sF(a),l.targetId,!1,l.resumeToken),x1(r.remoteStore,l)}for(const o of e)r._c.has(o)&&(yield E_(r.localStore,o,!1).then(()=>{CD(r.remoteStore,o),M_(r,o)}).catch(Oh))}}),b2.apply(this,arguments)}function T2(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=B8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=F8.bind(null,t),t.dc.nu=x8.bind(null,t.eventManager),t.dc.Pc=I8.bind(null,t.eventManager),t}function x2(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=L8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U8.bind(null,t),t}class wD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,X.Z)(function*(){e.serializer=vD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return k3(this.persistence,new M3,t.initialUser,this.serializer)}createPersistence(t){return new mM(y1.zs,this.serializer)}createSharedClientState(t){return new Z3}terminate(){var t=this;return(0,X.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class I2 extends wD{constructor(t,e,r){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield e().call(r,t),yield r.Vc.initialize(r,t),yield x2(r.Vc.syncEngine),yield T_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return k3(this.persistence,new M3,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new C3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const r=new w4(e,this.persistence);return new C4(t.asyncQueue,r)}createPersistence(t){const e=vM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new yM(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,B3(),T1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Z3}}class aF extends I2{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield e().call(r,t);const o=r.Vc.syncEngine;r.sharedClientState instanceof AM&&(r.sharedClientState.syncEngine={jr:q8.bind(null,o),zr:K8.bind(null,o),Wr:J8.bind(null,o),$i:z8.bind(null,o),Qr:G8.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,X.Z)(function*(l){yield function $8(n,t){return C2.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(t){const e=B3();if(!AM.D(e))throw new Re(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new AM(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class k_{initialize(t,e){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>iF(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=j8.bind(null,r.syncEngine),yield zM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new T8}createDatastore(t){const e=vD(t.databaseInfo.databaseId),r=new c8(t.databaseInfo);return new d8(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,o=t.asyncQueue,a=f=>iF(this.syncEngine,f,0),l=j3.D()?new j3:new o8,new p8(e,r,o,a,l);var e,r,o,a,l}createSyncEngine(t,e){return function(r,o,a,l,f,m,v){const x=new N8(r,o,a,l,f,m);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,X.Z)(function*(e){const r=ot(e);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield b_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function cF(n,t=10240){let e=0;return{read:()=>(0,X.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class A1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Q8{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Er,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,X.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,X.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,X.Z)(function*(){const e=yield t.kc();if(null===e)return null;const r=t.xc.decode(e),o=Number(r);isNaN(o)&&t.Mc(`length string (${r}) is not valid number`);const a=yield t.$c(o);return new A8(JSON.parse(a),e.length+o)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,X.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}$c(t){var e=this;return(0,X.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const r=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,X.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class X8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,X.Z)(function*(a,l){const f=ot(a),m=uD(f.serializer)+"/documents",v={documents:l.map(j=>cD(f.serializer,j))},x=yield f.vo("BatchGetDocuments",m,v,l.length),I=new Map;x.forEach(j=>{const q=function DV(n,t){return"found"in t?function(e,r){Tt(!!r.found);const o=Fu(e,r.found.name),a=Ji(r.found.updateTime),l=r.found.createTime?Ji(r.found.createTime):It.min(),f=new io({mapValue:{fields:r.found.fields}});return hi.newFoundDocument(o,a,l,f)}(n,t):"missing"in t?function(e,r){Tt(!!r.missing),Tt(!!r.readTime);const o=Fu(e,r.missing),a=Ji(r.readTime);return hi.newNoDocument(o,a)}(n,t):ft()}(f.serializer,j);I.set(q.key.toString(),q)});const F=[];return l.forEach(j=>{const q=I.get(j.toString());Tt(!!q),F.push(q)}),F}),function(a,l){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new __(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const a=it.fromPath(o);t.mutations.push(new YS(a,t.precondition(a)))}),yield(r=(0,X.Z)(function*(o,a){const l=ot(o),f=uD(l.serializer)+"/documents",m={writes:a.map(v=>lD(l.serializer,v))};yield l.Io("Commit",f,m)}),function(o,a){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=It.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Re(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(It.min())?bi.exists(!1):bi.updateTime(e):bi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(It.min()))throw new Re(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(e)}return bi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class eZ{constructor(t,e,r,o,a){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new MM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,X.Z)(function*(){const e=new X8(t.datastore),r=t.qc(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(a=>{t.Uc(a)}))}).catch(o=>{t.Uc(o)})}))}qc(t){try{const e=this.updateFunction(t);return!$0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!OR(e)}return!1}}class tZ{constructor(t,e,r,o){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Ur.UNAUTHENTICATED,this.clientId=kO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,X.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,X.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=I_(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function S1(n,t){return A2.apply(this,arguments)}function A2(){return A2=(0,X.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,X.Z)(function*(a){r.isEqual(a)||(yield N3(t.localStore,a),r=a)});return function(a){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),A2.apply(this,arguments)}function S2(n,t){return M2.apply(this,arguments)}function M2(){return M2=(0,X.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield k2(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(o=>J3(t.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>J3(t.remoteStore,a)),n._onlineComponents=t}),M2.apply(this,arguments)}function uF(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function k2(n){return N2.apply(this,arguments)}function N2(){return N2=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield S1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!uF(e))throw e;Ea("Error using user provided cache. Falling back to memory cache: "+e),yield S1(n,new wD)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield S1(n,new wD);return n._offlineComponents}),N2.apply(this,arguments)}function M1(n){return P2.apply(this,arguments)}function P2(){return P2=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield S2(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield S2(n,new k_))),n._onlineComponents}),P2.apply(this,arguments)}function lF(n){return k2(n).then(t=>t.persistence)}function k1(n){return k2(n).then(t=>t.localStore)}function dF(n){return M1(n).then(t=>t.remoteStore)}function O2(n){return M1(n).then(t=>t.syncEngine)}function N_(n){return R2.apply(this,arguments)}function R2(){return R2=(0,X.Z)(function*(n){const t=yield M1(n),e=t.eventManager;return e.onListen=P8.bind(null,t.syncEngine),e.onUnlisten=O8.bind(null,t.syncEngine),e}),R2.apply(this,arguments)}function fF(n,t,e={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,a,l,f,m){const v=new A1({next:I=>{a.enqueueAndForget(()=>QM(o,x));const F=I.docs.has(l);!F&&I.fromCache?m.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&f&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new t2(f_(l.path),v,{includeMetadataChanges:!0,Ku:!0});return WM(o,x)}(yield N_(n),n.asyncQueue,t,e,r)})),r.promise}function pF(n,t,e={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,a,l,f,m){const v=new A1({next:I=>{a.enqueueAndForget(()=>QM(o,x)),I.fromCache&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new t2(l,v,{includeMetadataChanges:!0,Ku:!0});return WM(o,x)}(yield N_(n),n.asyncQueue,t,e,r)})),r.promise}function gF(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const mF=new Map;function F2(n,t,e){if(!e)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _F(n,t,e,r){if(!0===t&&!0===r)throw new Re(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function yF(n){if(!it.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vF(n){if(it.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function N1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function Cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=N1(n);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function DF(n,t){if(t<=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class CF{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_F("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gF(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ED{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CF(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new u4;switch(e.type){case"firstParty":return new f4(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=mF.get(t);e&&(Ze("ComponentProvider","Removing Datastore"),mF.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class ro{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ro(this.firestore,t,this._query)}}class Lu extends ro{constructor(t,e,r){super(t,e,f_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new it(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function EF(n,t,...e){if(n=(0,Ht.m9)(n),F2("collection","path",t),n instanceof ED){const r=bn.fromString(t,...e);return vF(r),new Lu(n,null,r)}{if(!(n instanceof fi||n instanceof Lu))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return vF(r),new Lu(n.firestore,null,r)}}function P1(n,t,...e){if(n=(0,Ht.m9)(n),1===arguments.length&&(t=kO.A()),F2("doc","path",t),n instanceof ED){const r=bn.fromString(t,...e);return yF(r),new fi(n,null,new it(r))}{if(!(n instanceof fi||n instanceof Lu))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return yF(r),new fi(n.firestore,n instanceof Lu?n.converter:null,new it(r))}}function bF(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),(n instanceof fi||n instanceof Lu)&&(t instanceof fi||t instanceof Lu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function L2(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),n instanceof ro&&t instanceof ro&&n.firestore===t.firestore&&X0(n._query,t._query)&&n.converter===t.converter}class dZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MM(this,"async_queue_retry"),this.Xc=()=>{const e=T1();e&&Ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=T1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=T1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,X.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Rh(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{throw this.Wc=r,this.Hc=!1,Ki("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=e,e}enqueueAfterDelay(t,e,r){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const o=JM.createAndSchedule(this,t,e,r,a=>this.na(a));return this.zc.push(o),o}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var t=this;return(0,X.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function U2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class hZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends ED{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new dZ,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||TF(this),this._firestoreClient.terminate()}}function Wi(n){return n._firestoreClient||TF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function TF(n){var t,e,r;const o=n._freezeSettings(),a=(f=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new H4(n._databaseId,f,n._persistenceKey,(v=o).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,gF(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new tZ(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(e=o.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(r=o.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function xF(n,t,e){const r=new Er;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield S1(n,e),yield S2(n,t),r.resolve()}catch(o){const a=o;if(!uF(a))throw a;Ea("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function IF(n){if(n._initialized||n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Uu(br.fromBase64String(t))}catch(e){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Uu(br.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jp{constructor(t){this._methodName=t}}class O1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}}const EZ=/^__.*__$/;class bZ{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new ud(t,this.data,this.fieldMask,e,this.fieldTransforms):new m_(t,this.data,e,this.fieldTransforms)}}class AF{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new ud(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class R1{constructor(t,e,r,o,a,l){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new R1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:r,la:!1});return o.fa(t),o}da(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:r,la:!1});return o.ua(),o}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return U1(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(SF(this.ca)&&EZ.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class TZ{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||vD(t)}ya(t,e,r,o=!1){return new R1({ca:t,methodName:e,ga:r,path:Vi.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(n){const t=n._freezeSettings(),e=vD(n._databaseId);return new TZ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function F1(n,t,e,r,o,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,t,e,o);B2("Data must be an object, but it was:",l,r);const f=NF(r,l);let m,v;if(a.merge)m=new ls(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const x=[];for(const I of a.mergeFields){const F=xD(t,I,e);if(!l.contains(F))throw new Re(ge.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);OF(x,F)||x.push(F)}m=new ls(x),v=l.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=l.fieldTransforms;return new bZ(new io(f),m,v)}class TD extends Jp{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof TD}}function MF(n,t,e){return new R1({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class V2 extends Jp{_toFieldTransform(t){return new iD(t.path,new p_)}isEqual(t){return t instanceof V2}}class xZ extends Jp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=MF(this,t,!0),r=this.pa.map(a=>Yp(a,e)),o=new Zp(r);return new iD(t.path,o)}isEqual(t){return this===t}}class IZ extends Jp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=MF(this,t,!0),r=this.pa.map(a=>Yp(a,e)),o=new jp(r);return new iD(t.path,o)}isEqual(t){return this===t}}class AZ extends Jp{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new g_(t.serializer,ER(t.serializer,this.Ia));return new iD(t.path,e)}isEqual(t){return this===t}}function Z2(n,t,e,r){const o=n.ya(1,t,e);B2("Data must be an object, but it was:",o,r);const a=[],l=io.empty();Fh(r,(m,v)=>{const x=L1(t,m,e);v=(0,Ht.m9)(v);const I=o.da(x);if(v instanceof TD)a.push(x);else{const F=Yp(v,I);null!=F&&(a.push(x),l.set(x,F))}});const f=new ls(a);return new AF(l,f,o.fieldTransforms)}function j2(n,t,e,r,o,a){const l=n.ya(1,t,e),f=[xD(t,r,e)],m=[o];if(a.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(xD(t,a[F])),m.push(a[F+1]);const v=[],x=io.empty();for(let F=f.length-1;F>=0;--F)if(!OF(v,f[F])){const j=f[F];let q=m[F];q=(0,Ht.m9)(q);const te=l.da(j);if(q instanceof TD)v.push(j);else{const se=Yp(q,te);null!=se&&(v.push(j),x.set(j,se))}}const I=new ls(v);return new AF(x,I,l.fieldTransforms)}function kF(n,t,e,r=!1){return Yp(e,n.ya(r?4:3,t))}function Yp(n,t){if(PF(n=(0,Ht.m9)(n)))return B2("Unsupported field value:",t,n),NF(n,t);if(n instanceof Jp)return function(e,r){if(!SF(r.ca))throw r._a(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,r){const o=[];let a=0;for(const l of e){let f=Yp(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if(null===(e=(0,Ht.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ER(r.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=Ei.fromDate(e);return{timestampValue:y_(r.serializer,o)}}if(e instanceof Ei){const o=new Ei(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:y_(r.serializer,o)}}if(e instanceof O1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Uu)return{bytesValue:GR(r.serializer,e._byteString)};if(e instanceof fi){const o=r.databaseId,a=e.firestore._databaseId;if(!a.isEqual(o))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rM(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r._a(`Unsupported field value: ${N1(e)}`)}(n,t)}function NF(n,t){const e={};return $O(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fh(n,(r,o)=>{const a=Yp(o,t.ha(r));null!=a&&(e[r]=a)}),{mapValue:{fields:e}}}function PF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ei||n instanceof O1||n instanceof Uu||n instanceof fi||n instanceof Jp)}function B2(n,t,e){if(!PF(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=N1(e);throw t._a("an object"===r?n+" a custom object":n+" "+r)}var r}function xD(n,t,e){if((t=(0,Ht.m9)(t))instanceof hd)return t._internalPath;if("string"==typeof t)return L1(n,t);throw U1("Field path arguments must be of type string or ",n,!1,void 0,e)}const SZ=new RegExp("[~\\*/\\[\\]]");function L1(n,t,e){if(t.search(SZ)>=0)throw U1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hd(...t.split("."))._internalPath}catch{throw U1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function U1(n,t,e,r,o){const a=r&&!r.isEmpty(),l=void 0!==o;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${o}`),m+=")"),new Re(ge.INVALID_ARGUMENT,f+n+m)}function OF(n,t){return n.some(e=>e.isEqual(t))}class ID{constructor(t,e,r,o,a){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new MZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(V1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class MZ extends ID{data(){return super.data()}}function V1(n,t){return"string"==typeof t?L1(n,t):t instanceof hd?t._internalPath:t._delegate._internalPath}function RF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H2{}class AD extends H2{}function Jh(n,t,...e){let r=[];t instanceof H2&&r.push(t),r=r.concat(e),function(o){const a=o.filter(f=>f instanceof P_).length,l=o.filter(f=>f instanceof SD).length;if(a>1||a>0&&l>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class SD extends AD{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new SD(t,e,r)}_apply(t){const e=this._parse(t);return VF(t._query,e),new ro(t.firestore,t.converter,KS(t._query,e))}_parse(t){const e=Wp(t.firestore);return function(o,a,l,f,m,v,x){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){UF(x,v);const F=[];for(const j of x)F.push(LF(f,o,j));I={arrayValue:{values:F}}}else I=LF(f,o,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||UF(x,v),I=kF(l,"where",x,"in"===v||"not-in"===v);return Dn.create(m,v,I)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class P_ extends H2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new P_(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let a=r;const l=o.getFlattenedFilters();for(const f of l)VF(a,f),a=KS(a,f)}(t._query,e),new ro(t.firestore,t.converter,KS(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class G2 extends AD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new G2(t,e)}_apply(t){const e=function(r,o,a){if(null!==r.startAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new d_(o,a);return function(f,m){if(null===$S(f)){const v=i1(f);null!==v&&ZF(0,v,m.field)}}(r,l),l}(t._query,this._field,this._direction);return new ro(t.firestore,t.converter,function(r,o){const a=r.explicitOrderBy.concat([o]);return new ad(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class Z1 extends AD{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Z1(t,e,r)}_apply(t){return new ro(t.firestore,t.converter,r1(t._query,this._limit,this._limitType))}}class j1 extends AD{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new j1(t,e,r)}_apply(t){const e=FF(t,this.type,this._docOrFields,this._inclusive);return new ro(t.firestore,t.converter,(o=e,new ad((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class B1 extends AD{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new B1(t,e,r)}_apply(t){const e=FF(t,this.type,this._docOrFields,this._inclusive);return new ro(t.firestore,t.converter,(o=e,new ad((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function FF(n,t,e,r){if(e[0]=(0,Ht.m9)(e[0]),e[0]instanceof ID)return function(o,a,l,f,m){if(!f)throw new Re(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of Vp(o))if(x.field.isKeyField())v.push(Lp(a,f.key));else{const I=f.data.field(x.field);if(Wb(I))throw new Re(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const F=x.field.canonicalString();throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}v.push(I)}return new Bh(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const o=Wp(n.firestore);return function(a,l,f,m,v,x){const I=a.explicitOrderBy;if(v.length>I.length)throw new Re(ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let j=0;j<v.length;j++){const q=v[j];if(I[j].field.isKeyField()){if("string"!=typeof q)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof q}`);if(!zS(a)&&-1!==q.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${q}' contains a slash.`);const te=a.path.child(bn.fromString(q));if(!it.isDocumentKey(te))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const se=new it(te);F.push(Lp(l,se))}else{const te=kF(f,m,q);F.push(te)}}return new Bh(F,x)}(n._query,n.firestore._databaseId,o,t,e,r)}}function LF(n,t,e){if("string"==typeof(e=(0,Ht.m9)(e))){if(""===e)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(t)&&-1!==e.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(bn.fromString(e));if(!it.isDocumentKey(r))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lp(n,new it(r))}if(e instanceof fi)return Lp(n,e._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N1(e)}.`)}function UF(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VF(n,t){if(t.isInequality()){const r=i1(n),o=t.field;if(null!==r&&!r.isEqual(o))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const a=$S(n);null!==a&&ZF(0,o,a)}const e=function(r,o){for(const a of r)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Re(ge.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function ZF(n,t,e){if(!e.isEqual(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class q2{convertValue(t,e="none"){switch(Zh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Fh(t,(o,a)=>{r[o]=this.convertValue(a,e)}),r}convertGeoPoint(t){return new O1(Zi(t.latitude),Zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Yb(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(K0(t));default:return null}}convertTimestamp(t){const e=Lh(t);return new Ei(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=bn.fromString(t);Tt(e3(r));const o=new Uh(r.get(1),r.get(3)),a=new it(r.popFirst(5));return o.isEqual(e)||Ki(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function H1(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class VZ extends q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class Qp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fd extends ID{constructor(t,e,r,o,a,l){super(t,e,r,o,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new MD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(V1("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class MD extends fd{data(t={}){return super.data(t)}}class Wh{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Qp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new MD(this._firestore,this._userDataWriter,r.key,r,new Qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new MD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const f=new MD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),v=a.indexOf(l.doc.key)),{type:jZ(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function BF(n,t){return n instanceof fd&&t instanceof fd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Wh&&t instanceof Wh&&n._firestore===t._firestore&&L2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Yh extends q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function HF(n,t,e){n=Cn(n,fi);const r=Cn(n.firestore,pi),o=H1(n.converter,t,e);return O_(r,[F1(Wp(r),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,bi.none())])}function GF(n,t,e,...r){n=Cn(n,fi);const o=Cn(n.firestore,pi),a=Wp(o);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof hd?j2(a,"updateDoc",n._key,t,e,r):Z2(a,"updateDoc",n._key,t),O_(o,[l.toMutation(n._key,bi.exists(!0))])}function qF(n,...t){var e,r,o;n=(0,Ht.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||U2(t[l])||(a=t[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(U2(t[l])){const I=t[l];t[l]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[l+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),t[l+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let m,v,x;if(n instanceof fi)v=Cn(n.firestore,pi),x=f_(n._key.path),m={next:I=>{t[l]&&t[l]($2(v,n,I))},error:t[l+1],complete:t[l+2]};else{const I=Cn(n,ro);v=Cn(I.firestore,pi),x=I._query;const F=new Yh(v);m={next:j=>{t[l]&&t[l](new Wh(v,F,I,j))},error:t[l+1],complete:t[l+2]},RF(n._query)}return function(I,F,j,q){const te=new A1(q),se=new t2(F,te,j);return I.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return WM(yield N_(I),se)})),()=>{te.Dc(),I.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return QM(yield N_(I),se)}))}}(Wi(v),x,f,m)}function O_(n,t){return function(e,r){const o=new Er;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function R8(n,t,e){return s2.apply(this,arguments)}(yield O2(e),r,o)})),o.promise}(Wi(n),t)}function $2(n,t,e){const r=e.docs.get(t._key),o=new Yh(n);return new fd(n,o,t._key,r,new Qp(e.hasPendingWrites,e.fromCache),t.converter)}const oj={maxAttempts:5};class $F{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wp(t)}set(t,e,r){this._verifyNotCommitted();const o=Qh(t,this._firestore),a=H1(o.converter,e,r),l=F1(this._dataReader,"WriteBatch.set",o._key,a,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,bi.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const a=Qh(t,this._firestore);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof hd?j2(this._dataReader,"WriteBatch.update",a._key,e,r,o):Z2(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(l.toMutation(a._key,bi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Qh(t,this._firestore);return this._mutations=this._mutations.concat(new __(e._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qh(n,t){if((n=(0,Ht.m9)(n)).firestore!==t)throw new Re(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sj extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wp(t)}get(t){const e=Qh(t,this._firestore),r=new VZ(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return ft();const a=o[0];if(a.isFoundDocument())return new ID(this._firestore,r,a.key,a,e.converter);if(a.isNoDocument())return new ID(this._firestore,r,e._key,null,e.converter);throw ft()})}set(t,e,r){const o=Qh(t,this._firestore),a=H1(o.converter,e,r),l=F1(this._dataReader,"Transaction.set",o._key,a,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(t,e,r,...o){const a=Qh(t,this._firestore);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof hd?j2(this._dataReader,"Transaction.update",a._key,e,r,o):Z2(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,l),this}delete(t){const e=Qh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Qh(t,this._firestore),r=new Yh(this._firestore);return super.get(t).then(o=>new fd(this._firestore,r,e._key,o._document,new Qp(!1,!1),e.converter))}}function z2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function KF(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function JF(){if(!function j4(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){a_=Lo.SDK_VERSION,(0,Lo._registerComponent)(new td.wA("firestore",(e,{instanceIdentifier:r,options:o})=>{const a=e.getProvider("app").getImmediate(),l=new pi(new d4(e.getProvider("auth-internal")),new p4(e.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(f.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(AO,"3.13.0",n),(0,Lo.registerVersion)(AO,"3.13.0","esm2017")}();class kD{constructor(t){this._delegate=t}static fromBase64String(t){return JF(),new kD(Uu.fromBase64String(t))}static fromUint8Array(t){return KF(),new kD(Uu.fromUint8Array(t))}toBase64(){return JF(),this._delegate.toBase64()}toUint8Array(){return KF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function K2(n){return function gj(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class mj{enableIndexedDbPersistence(t,e){return function pZ(n,t){IF(n=Cn(n,pi));const e=Wi(n);if(e._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Ea("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new k_;return xF(e,o,new I2(o,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function gZ(n){IF(n=Cn(n,pi));const t=Wi(n);if(t._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Ea("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),r=new k_;return xF(t,r,new aF(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function mZ(n){if(n._initialized&&!n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(e=(0,X.Z)(function*(r){if(!bc.D())return Promise.resolve();const o=r+"main";yield bc.delete(o)}),function(r){return e.apply(this,arguments)})(vM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class WF{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Uh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function wF(n,t,e,r={}){var o;const a=(n=Cn(n,ED))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Ur.MOCK_USER;else{f=(0,Ht.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ur(v)}n._authCredentials=new l4(new SO(f,m))}}(this._delegate,t,e,r)}enableNetwork(){return function yZ(n){return function nZ(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const t=yield lF(n),e=yield dF(n);return t.setNetworkEnabled(!0),function(r){const o=ot(r);return o.vu.delete(0),DD(o)}(e)}))}(Wi(n=Cn(n,pi)))}(this._delegate)}disableNetwork(){return function vZ(n){return function iZ(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const t=yield lF(n),e=yield dF(n);return t.setNetworkEnabled(!1),(r=(0,X.Z)(function*(o){const a=ot(o);a.vu.add(0),yield b_(a),a.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(Wi(n=Cn(n,pi)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,_F("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _Z(n){return function(t){const e=new Er;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function V8(n,t){return d2.apply(this,arguments)}(yield O2(t),e)})),e.promise}(Wi(n=Cn(n,pi)))}(this._delegate)}onSnapshotsInSync(t){return function WZ(n,t){return function sZ(n,t){const e=new A1(t);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield N_(n),o=e,ot(r).ku.add(o),void o.next();var r,o})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield N_(n),o=e,void ot(r).ku.delete(o);var r,o}))}}(Wi(n=Cn(n,pi)),U2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new R_(this,EF(this._delegate,t))}catch(e){throw Bo(e,"collection()","Firestore.collection()")}}doc(t){try{return new ba(this,P1(this._delegate,t))}catch(e){throw Bo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ho(this,function lZ(n,t){if(n=Cn(n,ED),F2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(n,null,(e=t,new ad(bn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function aj(n,t,e){n=Cn(n,pi);const r=Object.assign(Object.assign({},oj),e);return function(o){if(o.maxAttempts<1)throw new Re(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,l){const f=new Er;return o.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const m=yield function hF(n){return M1(n).then(t=>t.datastore)}(o);new eZ(o.asyncQueue,m,l,a,f).run()})),f.promise}(Wi(n),o=>t(new sj(n,o)),r)}(this._delegate,e=>t(new YF(this,e)))}batch(){return Wi(this._delegate),new QF(new $F(this._delegate,t=>O_(this._delegate,t)))}loadBundle(t){return function DZ(n,t){const e=Wi(n=Cn(n,pi)),r=new hZ;return function aZ(n,t,e,r){const o=function(a,l){let f;return f="string"==typeof a?FR().encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return cF(m,v);if(m instanceof ArrayBuffer)return cF(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Q8(m,l);var m}(e,vD(t));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function W8(n,t,e){const r=ot(n);var o;(o=(0,X.Z)(function*(a,l,f){try{const m=yield l.getMetadata();if(yield function(F,j){const q=ot(F),te=Ji(j.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",se=>q.qs.getBundleMetadata(se,j.id)).then(se=>!!se&&se.createTime.compareTo(te)>=0)}(a.localStore,m))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=m).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Q3(m));const v=new S8(m,a.localStore,l.serializer);let x=yield l.bc();for(;x;){const F=yield v.zu(x);F&&f._updateProgress(F),x=yield l.bc()}const I=yield v.complete();return yield dd(a,I.Ju,void 0),yield function(F,j){const q=ot(F);return q.persistence.runTransaction("Save bundle","readwrite",te=>q.qs.saveBundleMetadata(te,j))}(a.localStore,m),f._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return Ea("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var F}),function(a,l,f){return o.apply(this,arguments)})(r,t,e).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield O2(n),o,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function CZ(n,t){return function cZ(n,t){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(e,r){const o=ot(e);return o.persistence.runTransaction("Get named query","readonly",a=>o.qs.getNamedQuery(a,r))}(yield k1(n),t)}))}(Wi(n=Cn(n,pi)),t).then(e=>e?new ro(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ho(this,e):null)}}class G1 extends q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new kD(new Uu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ba.forKey(e,this.firestore,null)}}class YF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new G1(t)}get(t){const e=eg(t);return this._delegate.get(e).then(r=>new ND(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const o=eg(t);return r?(z2("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const a=eg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...o),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}}class QF{constructor(t){this._delegate=t}set(t,e,r){const o=eg(t);return r?(z2("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const a=eg(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...o),this}delete(t){const e=eg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Xp{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new MD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new PD(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Xp.INSTANCES;let o=r.get(t);o||(o=new WeakMap,r.set(t,o));let a=o.get(e);return a||(a=new Xp(t,new G1(t),e),o.set(e,a)),a}}Xp.INSTANCES=new WeakMap;class ba{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new G1(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ba(e,new fi(e._delegate,r,new it(t)))}static forKey(t,e,r){return new ba(e,new fi(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new R_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new R_(this.firestore,EF(this._delegate,t))}catch(e){throw Bo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ht.m9)(t))instanceof fi&&bF(this._delegate,t)}set(t,e){e=z2("DocumentReference.set",e);try{return e?HF(this._delegate,t,e):HF(this._delegate,t)}catch(r){throw Bo(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?GF(this._delegate,t):GF(this._delegate,t,e,...r)}catch(o){throw Bo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function KZ(n){return O_(Cn(n.firestore,pi),[new __(n._key,bi.none())])}(this._delegate)}onSnapshot(...t){const e=XF(t),r=e6(t,o=>new ND(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return qF(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function HZ(n){n=Cn(n,fi);const t=Cn(n.firestore,pi),e=Wi(t),r=new Yh(t);return function rZ(n,t){const e=new Er;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(o,a,l){try{const f=yield function(m,v){const x=ot(m);return x.persistence.runTransaction("read document","readonly",I=>x.localDocuments.getDocument(I,v))}(o,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Re(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=I_(f,`Failed to get document '${a} from cache`);l.reject(m)}}),function(o,a,l){return r.apply(this,arguments)})(yield k1(n),t,e);var r})),e.promise}(e,n._key).then(o=>new fd(t,r,n._key,o,new Qp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function GZ(n){n=Cn(n,fi);const t=Cn(n.firestore,pi);return fF(Wi(t),n._key,{source:"server"}).then(e=>$2(t,n,e))}(this._delegate):function BZ(n){n=Cn(n,fi);const t=Cn(n.firestore,pi);return fF(Wi(t),n._key).then(e=>$2(t,n,e))}(this._delegate),e.then(r=>new ND(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new ba(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}function Bo(n,t,e){return n.message=n.message.replace(t,e),n}function XF(n){for(const t of n)if("object"==typeof t&&!K2(t))return t;return{}}function e6(n,t){var e,r;let o;return o=K2(n[0])?n[0]:K2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{o.next&&o.next(t(a))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class ND{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return BF(this._delegate,t._delegate)}}class PD extends ND{data(t){const e=this._delegate.data(t);return function c4(n,t){n||ft()}(void 0!==e),e}}class Ho{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new G1(t)}where(t,e,r){try{return new Ho(this.firestore,Jh(this._delegate,function kZ(n,t,e){const r=t,o=V1("where",n);return SD._create(o,r,e)}(t,e,r)))}catch(o){throw Bo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ho(this.firestore,Jh(this._delegate,function NZ(n,t="asc"){const e=t,r=V1("orderBy",n);return G2._create(r,e)}(t,e)))}catch(r){throw Bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ho(this.firestore,Jh(this._delegate,function PZ(n){return DF("limit",n),Z1._create("limit",n,"F")}(t)))}catch(e){throw Bo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ho(this.firestore,Jh(this._delegate,function OZ(n){return DF("limitToLast",n),Z1._create("limitToLast",n,"L")}(t)))}catch(e){throw Bo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ho(this.firestore,Jh(this._delegate,function RZ(...n){return j1._create("startAt",n,!0)}(...t)))}catch(e){throw Bo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ho(this.firestore,Jh(this._delegate,function FZ(...n){return j1._create("startAfter",n,!1)}(...t)))}catch(e){throw Bo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ho(this.firestore,Jh(this._delegate,function LZ(...n){return B1._create("endBefore",n,!1)}(...t)))}catch(e){throw Bo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ho(this.firestore,Jh(this._delegate,function UZ(...n){return B1._create("endAt",n,!0)}(...t)))}catch(e){throw Bo(e,"endAt()","Query.endAt()")}}isEqual(t){return L2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function $Z(n){n=Cn(n,ro);const t=Cn(n.firestore,pi),e=Wi(t),r=new Yh(t);return function oZ(n,t){const e=new Er;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(o,a,l){try{const f=yield C1(o,a,!0),m=new tF(a,f.ir),v=m.sc(f.documents),x=m.applyChanges(v,!1);l.resolve(x.snapshot)}catch(f){const m=I_(f,`Failed to execute query '${a} against cache`);l.reject(m)}}),function(o,a,l){return r.apply(this,arguments)})(yield k1(n),t,e);var r})),e.promise}(e,n._query).then(o=>new Wh(t,r,n,o))}(this._delegate):"server"===t?.source?function zZ(n){n=Cn(n,ro);const t=Cn(n.firestore,pi),e=Wi(t),r=new Yh(t);return pF(e,n._query,{source:"server"}).then(o=>new Wh(t,r,n,o))}(this._delegate):function qZ(n){n=Cn(n,ro);const t=Cn(n.firestore,pi),e=Wi(t),r=new Yh(t);return RF(n._query),pF(e,n._query).then(o=>new Wh(t,r,n,o))}(this._delegate),e.then(r=>new J2(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=XF(t),r=e6(t,o=>new J2(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return qF(this._delegate,e,r)}withConverter(t){return new Ho(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}class yj{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new PD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class J2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new PD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new yj(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new PD(this._firestore,r))})}isEqual(t){return BF(this._delegate,t._delegate)}}class R_ extends Ho{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ba(this.firestore,t):null}doc(t){try{return new ba(this.firestore,void 0===t?P1(this._delegate):P1(this._delegate,t))}catch(e){throw Bo(e,"doc()","CollectionReference.doc()")}}add(t){return function JZ(n,t){const e=Cn(n.firestore,pi),r=P1(n),o=H1(n.converter,t);return O_(e,[F1(Wp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,bi.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new ba(this.firestore,e))}isEqual(t){return bF(this._delegate,t._delegate)}withConverter(t){return new R_(this.firestore,this._delegate.withConverter(t?Xp.getInstance(this.firestore,t):null))}}function eg(n){return Cn(n,fi)}class W2{constructor(...t){this._delegate=new hd(...t)}static documentId(){return new W2(Vi.keyField().canonicalString())}isEqual(t){return(t=(0,Ht.m9)(t))instanceof hd&&this._delegate._internalPath.isEqual(t._internalPath)}}class tg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function uj(){return new V2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new tg(t)}static delete(){const t=function cj(){return new TD("deleteField")}();return t._methodName="FieldValue.delete",new tg(t)}static arrayUnion(...t){const e=function lj(...n){return new xZ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new tg(e)}static arrayRemove(...t){const e=function dj(...n){return new IZ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new tg(e)}static increment(t){const e=function hj(n){return new AZ("increment",n)}(t);return e._methodName="FieldValue.increment",new tg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const vj={Firestore:WF,GeoPoint:O1,Timestamp:Ei,Blob:kD,Transaction:YF,WriteBatch:QF,DocumentReference:ba,DocumentSnapshot:ND,Query:Ho,QueryDocumentSnapshot:PD,QuerySnapshot:J2,CollectionReference:R_,FieldPath:W2,FieldValue:tg,setLogLevel:function _j(n){!function a4(n){Ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function t6(n,t){return function wj(n,t=lP.z){return new Ai.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function Y2(n,t){return t6(n,t).pipe((0,ht.U)(e=>({payload:e,type:"query"})))}function q1(n,t){return Y2(n,t).pipe(Kf(void 0),GA(),(0,ht.U)(([e,r])=>{const o=r.payload.docChanges(),a=o.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const m=o.find(x=>x.doc.ref.isEqual(l.ref)),v=e?.payload.docs.find(x=>x.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function n6(n,t,e){return q1(n,e).pipe(gh((r,o)=>function bj(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function Tj(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Q2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Q2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Q2(n,t.oldIndex,1)}return n}(n,r))}),n}(r,o.map(a=>a.payload),t),[]),function QL(n,t=Gf.y){return n=n??XL,(0,or.e)((e,r)=>{let o,a=!0;e.subscribe((0,Gn.x)(r,l=>{const f=t(l);(a||!n(o,f))&&(a=!1,o=f,r.next(l))}))})}(),(0,ht.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Q2(n,t,e,...r){const o=n.slice();return o.splice(t,e,...r),o}function i6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Cj(n){(function Dj(n,t){n.INTERNAL.registerComponent(new td.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return t(r,o)},"PUBLIC").setServiceProps(Object.assign({},vj)))})(n,(t,e)=>new WF(t,e,new mj)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(dP.Z);class r6{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=q1(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ht.U)(r=>r.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(Kf(void 0),GA(),rs(([r,o])=>o.length>0||!r),(0,ht.U)(([r,o])=>o),ln.iC)}auditTrail(t){return this.stateChanges(t).pipe(gh((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=i6(t);return n6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return Y2(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),ln.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(ln.iC)}add(t){return this.ref.add(t)}doc(t){return new o6(this.ref.doc(t),this.afs)}}class o6{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:o,query:a}=s6(r,e);return new r6(o,a,this.afs)}snapshotChanges(){return function Ej(n,t){return t6(n,t).pipe(Kf(void 0),GA(),(0,ht.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,yn.D)(this.ref.get(t)).pipe(ln.iC)}}class xj{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?q1(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),rs(e=>e.length>0),ln.iC):q1(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(t){return this.stateChanges(t).pipe(gh((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=i6(t);return n6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(t={}){return Y2(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),ln.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(ln.iC)}}const Ij=new i.OlP("angularfire2.enableFirestorePersistence"),Aj=new i.OlP("angularfire2.firestore.persistenceSettings"),Sj=new i.OlP("angularfire2.firestore.settings"),Mj=new i.OlP("angularfire2.firestore.use-emulator");function s6(n,t=(e=>e)){return{query:t(n),ref:n}}let Vu=(()=>{class n{constructor(e,r,o,a,l,f,m,v,x,I,F,j,q,te,se,Ve,Be){this.schedulers=m;const je=(0,Yr.on)(e,f,r),Je=x;I&&XI(je,f,F,q,te,se,j,Ve),[this.firestore,this.persistenceEnabled$]=(0,Yr.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Nt=f.runOutsideAngular(()=>je.firestore());if(a&&Nt.settings(a),Je&&Nt.useEmulator(...Je),o&&!Go(l)){const Rt=()=>{try{return(0,yn.D)(Nt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(pn){return typeof console<"u"&&console.warn(pn),Ct(!1)}};return[Nt,f.runOutsideAngular(Rt)]}return[Nt,Ct(!1)]},[a,Je,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:l}=s6(o,r),f=this.schedulers.ngZone.run(()=>a);return new r6(f,l,this)}collectionGroup(e,r){const o=r||(l=>l),a=this.firestore.collectionGroup(e);return new xj(o(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new o6(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yr.Dh),i.LFG(Yr.xv,8),i.LFG(Ij,8),i.LFG(Sj,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(Aj,8),i.LFG(Mj,8),i.LFG(ar,8),i.LFG(zI,8),i.LFG(KI,8),i.LFG(JI,8),i.LFG(WI,8),i.LFG(YI,8),i.LFG(QI,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kj=(()=>{class n{constructor(e){this.firestore=e}getImage(){return this.firestore.collection("galeriasi").snapshotChanges()}getImagesById(e){return this.firestore.collection("galeriasi").doc(e).valueChanges()}addImagenInfo(e){return this.firestore.collection("galeriasi").add(e)}updateImage(e,r){return this.firestore.collection("galeriasi").doc(e).update(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pd=(()=>{class n{constructor(e){this.firestore=e}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(e){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(e){return this.firestore.collection("users").add(e)}updateUser(e,r){return this.firestore.collection("users").doc(r).update(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $1{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class a6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $1(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new $1(r,this,this._ref))},e)}on(t,e,r,o){let a;return e&&(a="function"==typeof e?l=>e(new $1(l,this,this._ref)):{next:e.next?l=>e.next(new $1(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)}}class c6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new gd(t,this._service))}get items(){return this._delegate.items.map(t=>new gd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function LL(n,t){return XN(n,t)}(this._delegate,t);return new gd(e,this.storage)}get root(){return new gd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new gd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new a6(function NL(n,t,e){return function DL(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new JN(n,new us(t),e)}(n=(0,Ht.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Dt.RAW,r){this._throwIfRoot("putString");const o=qn(e,t),a=Object.assign({},r);return null==a.contentType&&null!=o.contentType&&(a.contentType=o.contentType),new a6(new JN(this._delegate,new us(o.data,!0),a),this)}listAll(){return oP(this._delegate).then(t=>new c6(t,this.storage))}list(t){return function RL(n,t){return QN(n=(0,Ht.m9)(n),t)}(this._delegate,t||void 0).then(e=>new c6(e,this.storage))}getMetadata(){return function PL(n){return function EL(n){n._throwIfRoot("getMetadata");const t=HN(n.storage,n._location,v0());return n.storage.makeRequestWithTokens(t,Cc)}(n=(0,Ht.m9)(n))}(this._delegate)}updateMetadata(t){return function OL(n,t){return function bL(n,t){n._throwIfRoot("updateMetadata");const e=function rL(n,t,e,r){const a=g(t.fullServerUrl(),n.host,n._protocol),f=LA(e,r),v=n.maxOperationRetryTime,x=new Au(a,"PATCH",mb(n,r),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=D0(t),x}(n.storage,n._location,t,v0());return n.storage.makeRequestWithTokens(e,Cc)}(n=(0,Ht.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return sP(this._delegate)}delete(){return this._throwIfRoot("delete"),function FL(n){return function xL(n){n._throwIfRoot("deleteObject");const t=function oL(n,t){const r=g(t.fullServerUrl(),n.host,n._protocol),f=new Au(r,"DELETE",function l(m,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=D0(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Cc)}(n=(0,Ht.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw FA(t)}}class u6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(l6(t))throw Ip("ref() expected a child path but got a URL, use refFromURL instead.");return new gd(BA(this._delegate,t),this)}refFromURL(t){if(!l6(t))throw Ip("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xr.makeFromUrl(t,this._delegate.host)}catch{throw Ip("refFromUrl() expected a valid full URL but got an invalid one.")}return new gd(BA(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){aP(this._delegate,t,e,r)}}function l6(n){return/^[A-Za-z]+:\/\//.test(n)}function Fj(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new u6(e,r)}function d6(n){const t=function Uj(n){return new Ai.y(t=>{const e=l=>t.next(l);e(n.snapshot);const a=n.on("state_changed",e);return n.then(l=>{e(l),t.complete()},l=>{e(n.snapshot),(l=>{t.error(l)})(l)}),function(){a()}}).pipe(function Nj(n,t=lP.z){return(0,or.e)((e,r)=>{let o=null,a=null,l=null;const f=()=>{if(o){o.unsubscribe(),o=null;const v=a;a=null,r.next(v)}};function m(){const v=l+n,x=t.now();if(x<v)return o=this.schedule(void 0,v-x),void r.add(o);f()}e.subscribe((0,Gn.x)(r,v=>{a=v,l=t.now(),o||(o=t.schedule(m,n),r.add(o))},()=>{f(),r.complete()},void 0,()=>{a=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ht.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function z1(n){return{getDownloadURL:()=>Ct(void 0).pipe(ln.fc,Ci(()=>n.getDownloadURL()),ln.iC),getMetadata:()=>Ct(void 0).pipe(ln.fc,Ci(()=>n.getMetadata()),ln.iC),delete:()=>(0,yn.D)(n.delete()),child:t=>z1(n.child(t)),updateMetadata:t=>(0,yn.D)(n.updateMetadata(t)),put:(t,e)=>d6(n.put(t,e)),putString:(t,e,r)=>d6(n.putString(t,e,r)),list:t=>(0,yn.D)(n.list(t)),listAll:()=>(0,yn.D)(n.listAll())}}!function Lj(n){const t={TaskState:Vo,TaskEvent:lL,StringFormat:Dt,Storage:u6,Reference:gd};n.INTERNAL.registerComponent(new td.wA("storage-compat",Fj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(dP.Z);const Vj=new i.OlP("angularfire2.storageBucket"),Zj=new i.OlP("angularfire2.storage.maxUploadRetryTime"),jj=new i.OlP("angularfire2.storage.maxOperationRetryTime"),Bj=new i.OlP("angularfire2.storage.use-emulator");let K1=(()=>{class n{constructor(e,r,o,a,l,f,m,v,x,I){const F=(0,Yr.on)(e,l,r);this.storage=(0,Yr.cc)(`${F.name}.storage.${o}`,"AngularFireStorage",F.name,()=>{const j=l.runOutsideAngular(()=>F.storage(o||void 0)),q=x;return q&&j.useEmulator(...q),m&&j.setMaxUploadRetryTime(m),v&&j.setMaxOperationRetryTime(v),j},[m,v])}ref(e){return z1(this.storage.ref(e))}refFromURL(e){return z1(this.storage.refFromURL(e))}upload(e,r,o){return z1(this.storage.ref(e)).put(r,o)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Yr.Dh),i.LFG(Yr.xv,8),i.LFG(Vj,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(Zj,8),i.LFG(jj,8),i.LFG(Bj,8),i.LFG(xp,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Hj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function Gj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseLeave(a))})("click",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onPreviewImage(a))}),i.qZA(),i.TgZ(2,"div",15)(3,"div")(4,"i",16),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(a))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeImage(a))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(1),i.Q6J("src",e.url,i.LSH),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByImage.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountImage)}}function qj(n,t){if(1&n&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function $j(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",26),i.qZA()}}function zj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",28),i.qZA()}}function Kj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",30),i.qZA()}}function Jj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",31),i._UZ(1,"img",32),i.TgZ(2,"div",33)(3,"div")(4,"i",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const e=i.oxw(2);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const Wj=function(n){return{active:n}};function Yj(n,t){if(1&n&&(i.TgZ(0,"div",18),i.YNc(1,qj,2,2,"span",19),i.YNc(2,$j,2,0,"button",20),i.YNc(3,zj,2,0,"button",21),i.YNc(4,Kj,2,0,"button",22),i.YNc(5,Jj,11,7,"div",23),i.qZA()),2&n){const e=i.oxw();i.Q6J("ngClass",i.VKq(6,Wj,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function Qj(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",46),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const Xj=function(n){return{activar:n}};function eB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",47)(1,"div",48)(2,"img",49),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",50)(6,"p",51),i._uU(7),i.qZA(),i.TgZ(8,"div",52)(9,"div",53)(10,"i",17),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",54)(14,"div",55)(15,"div",56)(16,"i",57),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",58),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",59),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,Xj,!(r===o.capIndex&&o.option)))}}function tB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",34)(1,"div",35),i.YNc(2,Qj,1,0,"span",36),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",37)(6,"div",38),i.YNc(7,eB,21,9,"div",39),i.qZA()(),i.TgZ(8,"div",40)(9,"form",41,42),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",43),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",44),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",45),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function nB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function iB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",65)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",67)(7,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function rB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",68)(1,"div",61)(2,"span",69),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",62)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",70),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",71),i._uU(10,"Registrate"),i.qZA()()()()()}}let oB=(()=>{class n{constructor(e,r,o,a,l,f,m,v){this.storage=e,this.el=r,this.afAuth=o,this._image=a,this.toastr=l,this.router=f,this._user=m,this.storagex=v,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.option=!1}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getImages(){this._image.getImage().subscribe(e=>{this.images=[],e.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeImage(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(a);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(a),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._image.updateImage(v,x)}else r.modal=!0})()}subirArchivo(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`images/${o.name}`,se=this.storagex.ref(te);this.storagex.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._image.addImagenInfo({url:Be}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.images[e],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:a.commentsVideo};yield r._image.updateImage(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImage(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}ir(e){var r=this;return(0,X.Z)(function*(){"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==e||((yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e]))})()}opciones(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.email===r.correo||"administrador.sistema@gmail.com"==a?.email||"jeestrada377@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm),i.Y36(i.SBq),i.Y36(ar),i.Y36(kj),i.Y36(Qr),i.Y36(dn),i.Y36(pd),i.Y36(K1))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria"]],decls:15,vars:7,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"con-input"],[3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[2,"display","inline-flex","gap","4rem"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,Hj,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,Gj,11,5,"div",5),i.qZA(),i.YNc(7,Yj,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,tB,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,nB,10,0,"div",8),i.qZA(),i.YNc(12,iB,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,rB,11,0,"div",10),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[Kt,er,_n,Rs,Nr,nr,$i,Yn,rr,No,go,Hm],styles:[".activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:0}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:30px;margin-top:56px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding:0;justify-content:flex-end}.con-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:7px;border-radius:23px;background-color:#00f;margin:0}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.con-input[_ngcontent-%COMP%]{padding:15px 0 20px}.file-label[_ngcontent-%COMP%]{padding:4px;font-size:14px}}@media (max-width: 500px){.caja[_ngcontent-%COMP%]{font-size:12px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:1}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.btn-lc[_ngcontent-%COMP%]{display:inline-flex;gap:4rem;position:absolute;bottom:20%}}"]}),n})(),h6=(()=>{class n{constructor(e){this.firestore=e}getVideos(){return this.firestore.collection("videos").snapshotChanges()}getVideoById(e){return this.firestore.collection("videos").doc(e).valueChanges()}updateVideo(e,r){return this.firestore.collection("videos").doc(e).update(r)}addImagenInfo(e){return this.firestore.collection("videos").add(e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sB(n,t){1&n&&(i.TgZ(0,"div",10)(1,"div",11),i._UZ(2,"button",12),i.TgZ(3,"label",13),i._UZ(4,"i",14),i._uU(5," Agregar nuevo video "),i.qZA()()())}function aB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",15)(1,"video",16),i._UZ(2,"source",17),i.qZA(),i.TgZ(3,"div",18)(4,"div",19)(5,"p",20),i._uU(6),i.qZA()(),i.TgZ(7,"div",21)(8,"div",22)(9,"i",23),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(a))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",24)(13,"i",25),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeVideo(a))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",e.url,i.LSH),i.xp6(4),i.hij(" ",e.nombre," "),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountVideo)}}function cB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27)(2,"span",28),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",29)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",30),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",31),i._uU(10,"Registrate"),i.qZA()()()()()}}function uB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const lB=function(n){return{activar:n}};function dB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",45)(1,"div",46)(2,"img",47),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",48)(6,"p",49),i._uU(7),i.qZA(),i.TgZ(8,"div",50)(9,"div",51)(10,"i",25),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",52)(14,"div",53)(15,"div",54)(16,"i",55),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",56),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",57),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,lB,!(r===o.capIndex&&o.option)))}}function hB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",32)(1,"div",33),i.YNc(2,uB,1,0,"span",34),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",35)(6,"div",36),i.YNc(7,dB,21,9,"div",37),i.qZA()(),i.TgZ(8,"div",38)(9,"form",39,40),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",41),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",42),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",43),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function fB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",58)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",59)(6,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function pB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",61)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",62),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",63)(7,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}let gB=(()=>{class n{constructor(e,r,o,a,l,f){this.storage=e,this.afAuth=r,this._videosService=o,this.afs=a,this._users=l,this.router=f,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.option=!1}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getVideos().subscribe(e=>{this.videos=[],e.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeVideo(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByVideo.indexOf(a);-1!==m?(e.likedByVideo.splice(m,1),e.userVideoLikes.splice(m,1),e.likesCountVideo--):(e.likedByVideo.push(a),e.likesCountVideo++,e.userVideoLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountVideo:e.likesCountVideo,likedByVideo:e.likedByVideo,userVideoLikes:e.userVideoLikes};yield r._videosService.updateVideo(v,x)}else r.modal=!0})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:a.commentsVideo};yield r._videosService.updateVideo(l,I),r.comentario=""}})()}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}abrirCom(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId=e;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,this.option=!1,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}abrirEditar(e){var r=this;return(0,X.Z)(function*(){(yield r.afAuth.currentUser)?.email===e.correo&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateVideo(f,v)}}else r.modal=!0})()}ir(e){var r=this;return(0,X.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}opciones(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.email===r.correo||"administrador.sistema@gmail.com"==a?.email||"jeestrada377@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm),i.Y36(ar),i.Y36(h6),i.Y36(Vu),i.Y36(pd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos"]],decls:13,vars:6,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"video-container"],[1,"video"],["width","320","height","240","class","gallery-video",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"con-input"],[1,"input-file-container"],["routerLink","/nuevo-video","id","file-input"],["for","file-input",1,"file-label"],[1,"fas","fa-plus"],["width","320","height","240",1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,sB,6,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,aB,16,6,"div",5),i.qZA()()()(),i.TgZ(7,"div"),i.YNc(8,cB,11,0,"div",6),i.qZA(),i.YNc(9,hB,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,fB,10,0,"div",8),i.qZA(),i.YNc(12,pB,11,1,"div",9)),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.videos),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar))},dependencies:[Kt,er,_n,yc,Rs,Nr,nr,$i,Yn,rr,No,go,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}@media (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})();function mB(n,t){if(1&n&&(i.TgZ(0,"div",4)(1,"p",5),i._uU(2),i.qZA(),i.TgZ(3,"audio",6),i._UZ(4,"source",7),i.qZA()()),2&n){const e=t.$implicit;i.xp6(2),i.Oqu(e.title),i.xp6(2),i.Q6J("src",e.url,i.LSH)}}let _B=(()=>{class n{constructor(e){this.storage=e,this.musica=[],this.titulos=["Aguanile","Arrepientete","Asi soy yo","Bam bam bidi bim bam bam","Batman y el hombre Ara\xf1a","Caderona","Con la punta del pie","Donde estabas tu","Welcome to party","La negra tiene tumbao","Llora Corazon","Payaso","Cancion 13","Lupita","Paloma","Yo soy el rey","Cancion 17","Sangre son colora","Sangre son colora (editado)","boogalo 1","Cancion 21","Cancion 22","Cancion 23","Todo tiene su final (editado)","Cancion 25","Cancion 26","Cancion 27","Omele","Boogalo 2","Aguazate","Aqui no ha pasado nada","Saraguey santoja","Arranca en fa","Arroyando","Asi soy yo (edit)","Askarakatiski","Ballandel","Bam bam (edit)","Bomba caranbomba","Boogalo 3","Boogalo 4","Boogalo 5","Boogalo 6","Cancion 45","Boogalo 7","Boogalo 8","Boogalo 9","Boogalo 10","Boogalo 11","Boogalo 12","Boogalo 13","Cancion 53","Cachondea","Cancion 54","Camina como chencha","Cancion 56","Carmen","Cancion 57","Cancion 58","Cancion 59","Cancion 60","Cancion 61","Ran kan kan","Echo chi echo no","El malo","Cancion 65","Federico boogalo","Fuego pal 23","Hagan silencio","Indestructible","Lancion 70","cancion 71","La bamba","Cancion 73","La luz del cielo","La pelota","Cancion 76","Mambo rock","Merecumbe","Boogalo 14","Boogalo 15","Mondongo","Oh mayi","Pal 23","Cancion 85","Pruebalo","Quimbara (edit)","Quimbara","Cancion 89","Cancion 90","Cancion 91","Cancion 92","Cancion 93","Fuma el barco","Sonido bestial","Cancion 96","Cancion 97","Cancion 98","Cancion 99","El yoyo","Tremendo rumbon","Tres pata","Tres pata v2","Cancion 104","Cancion 105"]}ngOnInit(){this.getMusica()}subirArchivo(e){const r=e.target.files[0],o=uP(this.storage,`videos/${r.name}`);YL(o,r).then(()=>{this.getMusica()}).catch(a=>console.log(a))}getMusica(){var e=this;return(0,X.Z)(function*(){const r=uP(e.storage,"musica");try{const o=yield WL(r);e.musica=yield Promise.all(o.items.map(function(){var a=(0,X.Z)(function*(l,f){const m=yield KL(l);return{title:e.titulos[f]||`Canci\xf3n ${f+1}`,url:m}});return function(l,f){return a.apply(this,arguments)}}()))}catch(o){console.log(o)}})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xm))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-musica"]],decls:5,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"musica-container"],["class","musica",4,"ngFor","ngForOf"],[1,"musica"],[2,"margin-bottom","10px"],["controls",""],["type","audio/mp3",3,"src"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"div",2),i.YNc(4,mB,5,2,"div",3),i.qZA()()()),2&e&&(i.xp6(4),i.Q6J("ngForOf",r.musica))},dependencies:[er,Hm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.musica-container[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex-wrap:wrap;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),f6=(()=>{class n{constructor(e){this.toastr=e}mensaje(e){return"auth/invalid-email"===e?"Por favor, introduce un correo electr\xf3nico v\xe1lido.":""}errorFirebase(e){switch(e){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Qr))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner"],[1,"visually-hidden"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"span",1),i._uU(2,"Loading..."),i.qZA()())},styles:['@charset "UTF-8";.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}']}),n})();function yB(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function vB(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function DB(n,t){1&n&&(i.TgZ(0,"span",19),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener mas de 6 caracteres"),i.qZA())}function CB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",3)(1,"form",4),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.login())}),i.TgZ(2,"div")(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA()(),i.TgZ(5,"h2",6),i._uU(6,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Correo electr\xf3nico"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,yB,5,0,"span",10),i.YNc(12,vB,5,0,"span",10),i.qZA(),i.TgZ(13,"div",7)(14,"label",11),i._uU(15,"Contrase\xf1a"),i.qZA(),i._UZ(16,"input",12),i.YNc(17,DB,5,0,"span",10),i.qZA(),i.TgZ(18,"div",13)(19,"a",14),i._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),i.qZA(),i.TgZ(21,"a",15),i._uU(22,"Registrarse"),i.qZA()(),i.TgZ(23,"button",16),i._uU(24,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(25,"div",17)(26,"a",18),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.loginAsGuest())}),i._uU(27,"Iniciar sesi\xf3n como invitado"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o,a;i.xp6(1),i.Q6J("formGroup",e.loginUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=e.loginUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=e.loginUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=e.loginUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=e.loginUsuario.get("email"))?null:o.touched)),i.xp6(5),i.Q6J("ngIf",(null==(a=e.loginUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=e.loginUsuario.get("password"))?null:a.touched))}}function wB(n,t){1&n&&(i.TgZ(0,"div",20)(1,"h2",21),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Iniciando sesion..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let EB=(()=>{class n{constructor(e,r,o,a,l){this.toastr=e,this.fb=r,this.firebaseError=o,this.afAuth=a,this.router=l,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Pi.required,Pi.email]],password:["",Pi.required]})}ngOnInit(){}login(){const e=this.loginUsuario.value.email,r=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(e,r).then(o=>{this.router.navigate(["/perfil"]),this.loading=!1}).catch(o=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(o.code),this.message=this.firebaseError.mensaje(o.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.loading=!1,this.router.navigate(["/perfil"])}).catch(o=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",o)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Qr),i.Y36(Sf),i.Y36(f6),i.Y36(ar),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center","height","100vh","background-color","white","user-select","none"],["class","container-login",4,"ngIf"],["style","\n      display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;\n    ",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2",2,"user-select","none"],[1,"form-title",2,"user-select","none"],[1,"form-group"],["for","email",2,"user-select","none"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password",2,"user-select","none"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["routerLink","/recuperar",1,"forgot-password",2,"user-select","none"],["routerLink","/registrar",1,"register-link",2,"user-select","none"],["type","submit",1,"submit-button"],[2,"text-align","center","margin-top","14px"],[1,"register-link",2,"user-select","none","cursor","pointer",3,"click"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[1,"elH2"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,CB,28,4,"div",1),i.YNc(2,wB,6,0,"div",2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[_n,Rs,Nr,nr,$i,Yn,hu,ih,X2],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px;-webkit-user-select:none;user-select:none}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#0040ff;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function bB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"nombre de usuario"),i.qZA(),i._uU(4," es requerido"),i.qZA())}function TB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function xB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es inv\xe1lido"),i.qZA())}function IB(n,t){1&n&&(i.TgZ(0,"span",20),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener m\xe1s de 6 caracteres"),i.qZA())}function AB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2)(1,"form",3,4),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.registrar())}),i.TgZ(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA(),i.TgZ(5,"h2",6),i._uU(6,"REGISTRARSE"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Nombre de Usuario"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,bB,5,0,"span",10),i.qZA(),i.TgZ(12,"div",7)(13,"label",11),i._uU(14,"Correo electr\xf3nico"),i.qZA(),i._UZ(15,"input",12),i.YNc(16,TB,5,0,"span",10),i.YNc(17,xB,5,0,"span",10),i.qZA(),i.TgZ(18,"div",7)(19,"label",13),i._uU(20,"Contrase\xf1a"),i.qZA(),i._UZ(21,"input",14),i.YNc(22,IB,5,0,"span",10),i.qZA(),i.TgZ(23,"div",7)(24,"label",15),i._uU(25,"Repetir Contrase\xf1a"),i.qZA(),i._UZ(26,"input",16),i.qZA(),i.TgZ(27,"div",17)(28,"button",18),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goBack())}),i._uU(29," Volver "),i.qZA(),i.TgZ(30,"button",19),i._uU(31,"Registrar"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o,a,l;i.xp6(1),i.Q6J("formGroup",e.registrarUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=e.registrarUsuario.get("username"))?null:r.hasError("required"))&&(null==(r=e.registrarUsuario.get("username"))?null:r.touched)),i.xp6(5),i.Q6J("ngIf",(null==(o=e.registrarUsuario.get("email"))?null:o.hasError("required"))&&(null==(o=e.registrarUsuario.get("email"))?null:o.touched)),i.xp6(1),i.Q6J("ngIf",(null==(a=e.registrarUsuario.get("email"))?null:a.hasError("email"))&&(null==(a=e.registrarUsuario.get("email"))?null:a.touched)),i.xp6(5),i.Q6J("ngIf",(null==(l=e.registrarUsuario.get("password"))?null:l.hasError("required"))&&(null==(l=e.registrarUsuario.get("password"))?null:l.touched)),i.xp6(8),i.Q6J("disabled",e.registrarUsuario.invalid)}}function SB(n,t){1&n&&(i.TgZ(0,"div",21)(1,"h2",5),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let MB=(()=>{class n{constructor(e,r,o,a,l,f){this.fb=e,this.afAuth=r,this.router=o,this.firebaseError=a,this.toastr=l,this.location=f,this.loading=!1,this.registrarUsuario=this.fb.group({username:["",Pi.required],email:["",[Pi.required,Pi.email]],password:["",[Pi.required,Pi.minLength(6)]],repetirPassword:["",Pi.required]})}ngOnInit(){}registrar(){const e=this.registrarUsuario.value.username,r=this.registrarUsuario.value.email,o=this.registrarUsuario.value.password;o===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(r,o).then(l=>l.user?.updateProfile({displayName:e})).then(l=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(l=>{this.loading=!1,console.log(l),this.firebaseError.errorFirebase(l.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}goBack(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Sf),i.Y36(ar),i.Y36(dn),i.Y36(f6),i.Y36(Qr),i.Y36(Ae))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:2,vars:2,consts:[["class","content",4,"ngIf"],["style"," background-color: white; display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;",4,"ngIf"],[1,"content"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Nombre de Usuario","formControlName","username"],["class","text-danger errorLabel",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["for","repetirPassword"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button",1,"submit",2,"background-color","blue",3,"click"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"background-color","white","display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.YNc(0,AB,32,6,"div",0),i.YNc(1,SB,6,0,"div",1)),2&e&&(i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[_n,Nr,nr,$i,Yn,hu,ih,X2],styles:[".login-form[_ngcontent-%COMP%]{margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;height:94vh}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#e44d42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})();function kB(n,t){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function NB(n,t){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function PB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2)(1,"form",3),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.recuperar())}),i.TgZ(2,"h2",4),i._uU(3,"Asi Somos"),i.qZA(),i.TgZ(4,"h2",5),i._uU(5,"RECUPERAR CUENTA"),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"input",7),i.YNc(8,kB,5,0,"span",8),i.YNc(9,NB,5,0,"span",8),i.qZA(),i.TgZ(10,"div",9)(11,"button",10),i._uU(12," Volver "),i.qZA(),i.TgZ(13,"button",11),i._uU(14,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();let r,o;i.xp6(1),i.Q6J("formGroup",e.recuperarUsuario),i.xp6(7),i.Q6J("ngIf",(null==(r=e.recuperarUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=e.recuperarUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=e.recuperarUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=e.recuperarUsuario.get("email"))?null:o.touched)),i.xp6(4),i.Q6J("disabled",e.recuperarUsuario.invalid)}}function OB(n,t){1&n&&(i.TgZ(0,"div",13)(1,"h2",4),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",14),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let RB=(()=>{class n{constructor(e,r,o,a){this.fb=e,this.afAuth=r,this.router=o,this.toastr=a,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Pi.required,Pi.email]]})}ngOnInit(){}recuperar(){const e=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(e).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(r=>{this.loading=!1,this.firebaseError(r.code)})}firebaseError(e){switch(e){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Sf),i.Y36(ar),i.Y36(dn),i.Y36(Qr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;background-color: white;\n    height: 90vh;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","background-color","white","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(e,r){1&e&&(i.TgZ(0,"div"),i.YNc(1,PB,15,4,"div",0),i.YNc(2,OB,6,0,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[_n,yc,Nr,nr,$i,Yn,hu,ih,X2],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})(),FB=(()=>{class n{constructor(e){this.afAuth=e}isLoggedIn(){return this.afAuth.authState.pipe((0,ht.U)(e=>!!e))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ar))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zs=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return this.authService.isLoggedIn().pipe((0,ht.U)(o=>!!o||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(FB),i.LFG(dn))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LB=(()=>{class n{constructor(e,r,o){this._videosService=e,this.router=r,this.toastr=o,this.subir={nombre:"",url:""}}ngOnInit(){}subirVideo(){console.log(this.subir),this._videosService.addImagenInfo(this.subir).then(()=>{this.router.navigate(["/videos"]),this.toastr.success("Agregando nuevo video")})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(h6),i.Y36(dn),i.Y36(Qr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-form-video"]],decls:17,vars:2,consts:[[1,"container"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["name","nombre","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["name","url","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["type","submit"],["routerLink","/videos",2,"background-color","green"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"form",2),i.NdJ("ngSubmit",function(){return r.subirVideo()}),i.TgZ(3,"div",3)(4,"label"),i._uU(5,"Nombre"),i.qZA(),i.TgZ(6,"input",4),i.NdJ("ngModelChange",function(a){return r.subir.nombre=a}),i.qZA()(),i.TgZ(7,"div",3)(8,"label"),i._uU(9,"Url"),i.qZA(),i.TgZ(10,"input",5),i.NdJ("ngModelChange",function(a){return r.subir.url=a}),i.qZA()(),i.TgZ(11,"div",3)(12,"button",6),i._uU(13,"Agregar Video"),i.qZA()(),i.TgZ(14,"div",3)(15,"button",7),i._uU(16,"Volver"),i.qZA()()()()()),2&e&&(i.xp6(6),i.Q6J("ngModel",r.subir.nombre),i.xp6(4),i.Q6J("ngModel",r.subir.url))},dependencies:[yc,Nr,nr,$i,Yn,No,go],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form-container[_ngcontent-%COMP%]{width:80%;max-width:400px;padding:20px;background-color:#f5f5f5;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})(),ek=(()=>{class n{constructor(e){this.firestore=e}getUsuarioImagen(){return this.firestore.collection("imagen-usuario").snapshotChanges()}updateImgUsuario(e,r){return this.firestore.collection("imagen-usuario").doc(e).update(r)}addImagenUsuario(e){return this.firestore.collection("imagen-usuario").add(e)}delete(e){return this.firestore.collection("imagen-usuario").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UB=(()=>{class n{constructor(e){this.firestore=e}getPost(){return this.firestore.collection("publicar",e=>e.orderBy("timestamp","desc")).snapshotChanges()}update(e,r){return this.firestore.collection("publicar").doc(e).update(r)}addPost(e){return this.firestore.collection("publicar").add(e)}delete(e){return this.firestore.collection("publicar").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.editarPerfil())}),i._uU(2,"Editar perfil"),i.qZA()()}}function ZB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.changePortada())}),i._uU(2,"+"),i.qZA()()}}const tk=function(n){return{selected:n}};function jB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"p",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.videos())}),i._uU(1," Features "),i.qZA()}if(2&n){const e=i.oxw(2);i.Q6J("ngClass",i.VKq(1,tk,"videos"===e.selectedFeature))}}function BB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"p",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.imagenes())}),i._uU(1," Mis fotos "),i.qZA()}if(2&n){const e=i.oxw(2);i.Q6J("ngClass",i.VKq(1,tk,"imagenes"===e.selectedFeature))}}function HB(n,t){1&n&&(i.TgZ(0,"div",17)(1,"div",18)(2,"div",19),i._UZ(3,"img",20),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",21),i._UZ(7,"img",22),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function GB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"img",36),i.NdJ("mouseenter",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(a))})("click",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(a))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.url,i.LSH)}}function qB(n,t){if(1&n&&(i.TgZ(0,"span",43),i._uU(1),i.qZA()),2&n){const e=i.oxw(4);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function $B(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",45),i.qZA()}}function zB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",46),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",47),i.qZA()}}function KB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",48),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",49),i.qZA()}}function JB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",50),i._UZ(1,"img",51),i.TgZ(2,"div",52)(3,"div")(4,"i",53),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"i",55),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()()()}if(2&n){const e=i.oxw(4);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const WB=function(n){return{active:n}};function YB(n,t){if(1&n&&(i.TgZ(0,"div",37),i.YNc(1,qB,2,2,"span",38),i.YNc(2,$B,2,0,"button",39),i.YNc(3,zB,2,0,"button",40),i.YNc(4,KB,2,0,"button",41),i.YNc(5,JB,13,7,"div",42),i.qZA()),2&n){const e=i.oxw(3);i.Q6J("ngClass",i.VKq(6,WB,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function QB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",68),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}const J1=function(n){return{activar:n}};function XB(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",69)(1,"div",70)(2,"img",71),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.verUsuario(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",72)(6,"p",73),i._uU(7),i.qZA(),i.TgZ(8,"div",74)(9,"div")(10,"i",54),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",75)(14,"div",76)(15,"div",77)(16,"i",78),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",55),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",79),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(4);return i.KtG(f.opciones2(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(4);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.hij(" ",e.comentario," "),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,J1,!(r===o.capIndex&&o.option)))}}function e5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",56)(1,"div",57),i.YNc(2,QB,1,0,"span",58),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",59)(6,"div",60),i.YNc(7,XB,21,9,"div",61),i.qZA()(),i.TgZ(8,"div",62)(9,"form",63,64),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",65),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",67),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function t5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",83)(6,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function n5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",85)(1,"div",81)(2,"div",82)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",86),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",87)(7,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const e=i.oxw(3);i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function i5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",83)(6,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function r5(n,t){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han publicado fotos aun.."),i.qZA())}function o5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",23)(1,"div",24)(2,"p",25),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.misImages())}),i._uU(3,"+ Agregar imagen"),i.qZA()(),i.TgZ(4,"div",26)(5,"div",27)(6,"div",28)(7,"div",29),i.YNc(8,GB,2,1,"div",30),i.qZA(),i.YNc(9,YB,6,8,"div",31),i.qZA()()(),i.YNc(10,e5,18,4,"div",32),i.TgZ(11,"div"),i.YNc(12,t5,10,0,"div",33),i.qZA(),i.YNc(13,n5,11,1,"div",34),i.TgZ(14,"div"),i.YNc(15,i5,10,0,"div",33),i.qZA(),i.YNc(16,r5,2,0,"p",1),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(8),i.Q6J("ngForOf",e.imageX),i.xp6(1),i.Q6J("ngIf",e.showMask),i.xp6(1),i.Q6J("ngIf",e.modalcom),i.xp6(2),i.Q6J("ngIf",e.modalDelete),i.xp6(1),i.Q6J("ngIf",e.modalEditar),i.xp6(2),i.Q6J("ngIf",e.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==e.imageX.length)}}function s5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",97)(1,"div")(2,"div",98)(3,"div",99)(4,"img",100),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.verUsuario(o.uid))}),i.qZA(),i.TgZ(5,"div",101),i._uU(6),i.qZA()(),i.TgZ(7,"div",102)(8,"div")(9,"i",55),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.deletePost(o.id))}),i.qZA()()(),i.TgZ(10,"div",98)(11,"span",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(),a=o.index,l=o.$implicit,f=i.oxw(3);return i.KtG(f.opciones(a,l))}),i._uU(12,"\u22ee"),i.qZA()()(),i.TgZ(13,"div")(14,"div"),i._UZ(15,"img",103),i.qZA(),i.TgZ(16,"div",104)(17,"div")(18,"i",53),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.abrirCom2(o))}),i.TgZ(19,"span"),i._uU(20),i.qZA()()(),i.TgZ(21,"div")(22,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.likeImage2(o))}),i.qZA(),i.TgZ(23,"span"),i._uU(24),i.qZA()()()()()()}if(2&n){const e=i.oxw(),r=e.$implicit,o=e.index,a=i.oxw(3);i.xp6(4),i.Q6J("src",r.foto,i.LSH),i.xp6(2),i.hij(" ",r.usuario," "),i.xp6(1),i.Q6J("ngClass",i.VKq(8,J1,!(o===a.capIndex&&a.option))),i.xp6(8),i.Q6J("src",r.post,i.LSH),i.xp6(5),i.Oqu(r.commentsVideo.length),i.xp6(2),i.ekj("liked",r.likedByImage.includes(a.currentUser.uid)),i.xp6(2),i.Oqu(r.likesCountImage)}}function a5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",105)(1,"div")(2,"div",98)(3,"div",99)(4,"img",100),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.verUsuario(o.uid))}),i.qZA(),i.TgZ(5,"div",106),i._uU(6),i.qZA()(),i.TgZ(7,"div",102)(8,"div")(9,"i",55),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.deletePost(o.id))}),i.qZA()()(),i.TgZ(10,"div",98)(11,"span",79),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(),a=o.index,l=o.$implicit,f=i.oxw(3);return i.KtG(f.opciones(a,l))}),i._uU(12,"\u22ee"),i.qZA()()(),i.TgZ(13,"div")(14,"div"),i._uU(15),i.qZA(),i.TgZ(16,"div",104)(17,"div")(18,"i",53),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.abrirCom2(o))}),i.TgZ(19,"span"),i._uU(20),i.qZA()()(),i.TgZ(21,"div")(22,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(3);return i.KtG(a.likeImage2(o))}),i.qZA(),i.TgZ(23,"span"),i._uU(24),i.qZA()()()()()()}if(2&n){const e=i.oxw(),r=e.$implicit,o=e.index,a=i.oxw(3);i.xp6(4),i.Q6J("src",r.foto,i.LSH),i.xp6(2),i.hij(" ",r.usuario," "),i.xp6(1),i.Q6J("ngClass",i.VKq(6,J1,!(o===a.capIndex&&a.option))),i.xp6(8),i.hij(" ",r.post," "),i.xp6(5),i.Oqu(r.commentsVideo.length),i.xp6(4),i.Oqu(r.likesCountImage)}}function c5(n,t){if(1&n&&(i.TgZ(0,"div",93)(1,"div",94),i.YNc(2,s5,25,10,"div",95),i.YNc(3,a5,25,8,"div",96),i.qZA()()),2&n){const e=t.$implicit,r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.isUrl(e.post)),i.xp6(1),i.Q6J("ngIf",!r.isUrl(e.post))}}function u5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",69)(1,"div",70)(2,"img",71),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.verUsuario(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",72)(6,"p",73),i._uU(7),i.qZA(),i.TgZ(8,"div",74)(9,"div")(10,"i",54),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.likeComment2(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",75)(14,"div",76)(15,"div",77)(16,"i",78),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",55),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",79),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(4);return i.KtG(f.opciones2(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(4);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.hij(" ",e.comentario," "),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,J1,!(r===o.capIndex&&o.option)))}}function l5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",56)(1,"div",57)(2,"span",68),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",59)(6,"div",60),i.YNc(7,u5,21,9,"div",61),i.qZA()(),i.TgZ(8,"div",62)(9,"form",63,64),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addComment2(o.comentario))}),i.TgZ(11,"label",65),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",67),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw(3);i.xp6(7),i.Q6J("ngForOf",r.dataVideoId2.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function d5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",83)(6,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.borrarComentario2())}),i._uU(9," Aceptar "),i.qZA()()()()}}function h5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",85)(1,"div",81)(2,"div",82)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",86),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",87)(7,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",84),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.editarComentario2())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const e=i.oxw(3);i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function f5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"div")(2,"div")(3,"form",88),i.NdJ("ngSubmit",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.publicar())}),i.TgZ(4,"textarea",89),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(2);return i.KtG(a.infoText=o)}),i.qZA(),i.TgZ(5,"div",90)(6,"button",91),i._uU(7," Publicar "),i.qZA()()()(),i.YNc(8,c5,4,2,"div",92),i.qZA(),i.YNc(9,l5,18,3,"div",32),i.TgZ(10,"div"),i.YNc(11,d5,10,0,"div",33),i.qZA(),i.YNc(12,h5,11,1,"div",34),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(4),i.Q6J("ngModel",e.infoText),i.xp6(2),i.Q6J("disabled",!e.infoText||!e.infoText.trim()),i.xp6(2),i.Q6J("ngForOf",e.post),i.xp6(1),i.Q6J("ngIf",e.modalcom),i.xp6(2),i.Q6J("ngIf",e.modalDelete),i.xp6(1),i.Q6J("ngIf",e.modalEditar)}}function p5(n,t){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.abrirBandeja())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7)(8,"img",8),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.changeProfilePicture())}),i.qZA(),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.YNc(11,VB,3,0,"div",1),i.YNc(12,ZB,3,0,"div",1),i.qZA(),i.TgZ(13,"p",10),i._uU(14),i.qZA()(),i.TgZ(15,"div",11),i.YNc(16,jB,2,3,"p",12),i.TgZ(17,"p",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(18," Grupos "),i.qZA(),i.YNc(19,BB,2,3,"p",12),i.qZA(),i.YNc(20,HB,10,0,"div",14),i.YNc(21,o5,17,7,"div",15),i.YNc(22,f5,13,6,"div",1),i.BQk()}if(2&n){const e=i.oxw();i.xp6(6),i.Q6J("src",e.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",e.usuario.photoURL||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.objetoUsuario.usuario),i.xp6(1),i.Q6J("ngIf",!e.esInvitado),i.xp6(1),i.Q6J("ngIf",!e.esInvitado),i.xp6(2),i.Oqu(e.aboutMeValue),i.xp6(2),i.Q6J("ngIf",!e.esInvitado),i.xp6(1),i.Q6J("ngClass",i.VKq(12,tk,"grupos"===e.selectedFeature)),i.xp6(2),i.Q6J("ngIf",!e.esInvitado),i.xp6(1),i.Q6J("ngIf",e.gr),i.xp6(1),i.Q6J("ngIf",e.im),i.xp6(1),i.Q6J("ngIf",e.vd)}}function g5(n,t){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let m5=(()=>{class n{constructor(e,r,o,a,l,f,m,v){this.afAuth=e,this.storage=r,this._user=o,this.toastr=a,this.router=l,this._imageUser=f,this.el=m,this._post=v,this.usuariosInfo=[],this.idInfo=[],this.post=[],this.adm=!1,this.esInvitado=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.dataVideoId2=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1,this.gr=!0,this.im=!1,this.vd=!1,this.selectedFeature="grupos",this.infoText=""}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.currentUser=e,this.getUsers(),this.usuarioActual=e?.displayName;const r=e?.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)}),this.getUserImages(),this.obtPost()}editarPerfil(){this.crearUsuario(),this.router.navigate(["/perfil-editar"])}crearUsuario(){null==this.id?this.afAuth.currentUser.then(e=>{this._user.addIUserInfo({idUser:e?.uid,usuario:e?.displayName,email:e?.email,foto:e?.photoURL}).then(()=>{console.log("usuario actualizado")})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],this.idInfo=[],e.forEach(r=>{r.payload.doc.data(),this.usuariosInfo.push({id:r.payload.doc.data(),...r.payload.doc.data()});const a=this.usuariosInfo.find(m=>m.id.idUser===this.usuario?.uid);this.objetoUsuario=a;const l={id:r.payload.doc.id,...r.payload.doc.data()};this.idInfo.push(l);const f=this.idInfo.find(m=>m.idUser===this.usuario?.uid)?.id;this.id=f,this.phoneNumberValue=a?.telefono,this.genderValue=a?.Genero,this.birthdayValue=a?.cumpleanos,this.aboutMeValue=a?.about,this.urlPortada=a?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(e=>{this.imageZ=[],this.imageX=[],e.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const a=this.imageZ.filter(l=>l.idUser===this.usuario?.uid);this.imageX=a})})}changeProfilePicture(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`profilePictures/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(te);this.storage.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this.afAuth.currentUser.then(je=>{je?.updateProfile({photoURL:Be}).then(()=>{this._user.updateUser({foto:Be},this.id).then(()=>{console.log("perfil actualizado")}),this.toastr.info("Foto de perfil cambiada")}).catch(Je=>{console.error("Error al actualizar la foto de perfil:",Je)})})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}grupos(){this.selectedFeature="grupos",this.gr=!0,this.im=!1,this.vd=!1}imagenes(){this.selectedFeature="imagenes",this.gr=!1,this.im=!0,this.vd=!1}videos(){this.selectedFeature="videos",this.gr=!1,this.im=!1,this.vd=!0}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}changePortada(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`portada/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(te);this.storage.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._user.updateUser({portada:Be},this.id).then(()=>{console.log("actualizando"),this.toastr.info("Foto de portada cambiada")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}misImages(){if(!this.esInvitado){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`usuarios/${this.usuario?.uid}/${o.name}`,se=this.storage.ref(te);this.storage.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{const je=this.usuario?.uid;this._imageUser.addImagenUsuario({url:Be,idUser:je}).then(()=>{let Nt=this.objetoUsuario?.foto;null==Nt&&(Nt="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let Rt=this.objetoUsuario?.usuario??this.usuarioActual?.displayName;if(!Rt)return void console.error("Nombre de usuario no disponible");const pn={foto:Nt,usuario:Rt,post:Be,uid:je,timestamp:new Date};this._post.addPost(pn).then(()=>{}),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}}likeImage(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(a);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(a),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}likeImage2(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(a);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(a),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._post.update(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.imageX[e],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId?.id,f=o?.displayName,m=o?.email,v=o?.photoURL,x=o?.uid;a.commentsVideo.push({usuario:f,correo:m,comentario:e,imagen:v,idUser:x});const I={commentsVideo:a.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}addComment2(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId2,l=r.dataVideoId2?.id,f=o?.displayName,m=o?.email,v=o?.photoURL,x=o?.uid;a.commentsVideo.push({usuario:f,correo:m,comentario:e,imagen:v,idUser:x});const I={commentsVideo:a.commentsVideo};yield r._post.update(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}abrirCom2(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId2=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,this.option=!1,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}borrarComentario2(){const e=this.dataVideoId2.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId2.commentsVideo.splice(e,1),this._post.update(this.dataVideoId2.id,{commentsVideo:this.dataVideoId2.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,this.option=!1,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario2(){const e=this.esteComentario,r=this.dataVideoId2.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId2.commentsVideo[r].comentario=e,this._post.update(this.dataVideoId2.id,{commentsVideo:this.dataVideoId2.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}likeComment2(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId2.id;if(-1!==r.dataVideoId2.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId2.commentsVideo};yield r._post.update(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}abrirBandeja(){this.crearUsuario(),this.router.navigate(["/bandeja"])}publicar(){var e=this;return(0,X.Z)(function*(){if(e.infoText&&e.infoText.trim()){const r=yield e.afAuth.currentUser,o=r?.uid;let a=e.objetoUsuario?.foto;null==a&&(a="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let l=e.objetoUsuario?.usuario??r?.displayName;if(!l)return void console.error("Nombre de usuario no disponible");const f={foto:a,usuario:l,post:e.infoText,uid:o,timestamp:new Date};e._post.addPost(f).then(()=>{e.infoText=""})}else console.log("El texto est\xe1 vac\xedo o solo contiene espacios en blanco.")})()}obtPost(){this._post.getPost().subscribe(e=>{this.post=[],e.forEach(r=>{const o=r.payload.doc.data();this.post.push({id:r.payload.doc.id,...r.payload.doc.data(),likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}isUrl(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}opciones(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.uid===r.uid||"administrador.sistema@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}opciones2(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.uid===r.idUser||"administrador.sistema@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}opciones3(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.uid===r.idUser||"administrador.sistema@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}deletePost(e){this._post.delete(e).then(()=>{this.option=!1,this.toastr.info("publicacion eliminada")})}verUsuario(e){var r=this;return(0,X.Z)(function*(){console.log(e),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==e||((yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e]))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(K1),i.Y36(pd),i.Y36(Qr),i.Y36(dn),i.Y36(ek),i.Y36(i.SBq),i.Y36(UB))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil"]],decls:3,vars:2,consts:[[1,"container",2,"user-select","none"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","auto","height","70",2,"cursor","pointer","user-select","none",3,"src","click"],[1,"lap","user"],[1,"lap"],[1,"acciones"],["class","btn",3,"ngClass","click",4,"ngIf"],[1,"btn",3,"ngClass","click"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[1,"edit-perfil",3,"click"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[2,"font-size","26px","cursor","pointer",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[3,"ngSubmit"],["placeholder","Publicar Nota...","name","infoText","cols","40","rows","3",1,"textarea",3,"ngModel","ngModelChange"],[2,"right","8%","position","relative","display","flex","justify-content","flex-end"],["type","submit",1,"btn2",3,"disabled"],["style","display: flex; justify-content: center",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[2,"display","flex","margin-bottom","5px","margin-top","5px","justify-content","center","border","1px solid #00000057","width","93%","border-radius","7px","padding","8px"],["style","width: 100%;",4,"ngIf"],["style","margin-bottom: 5px; margin-top: 5px; width: 93%",4,"ngIf"],[2,"width","100%"],[2,"display","flex","justify-content","space-between"],[2,"display","flex","align-items","center","gap","4px"],["alt","foto",2,"border-radius","50%","width","40px","height","40px",3,"src","click"],[2,"text-align","justify","color","blue"],[2,"text-align","end","width","74%",3,"ngClass"],["alt","Imagen del mensaje",2,"width","93%",3,"src"],[2,"padding-top","8px","gap","2rem","display","flex","justify-content","center"],[2,"margin-bottom","5px","margin-top","5px","width","93%"],[2,"text-align","justify","color","red"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,p5,23,14,"ng-container",1),i.YNc(2,g5,3,0,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.objetoUsuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Kt,er,_n,yc,Nr,nr,$i,Yn,rr,No,go],styles:['@charset "UTF-8";.img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.textarea[_ngcontent-%COMP%]{border-radius:8px;padding:6px}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.selected[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}[_nghost-%COMP%]{display:block;text-align:center}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.btn2[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:none;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.fa-times[_ngcontent-%COMP%]{font-size:25px}.btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:none;border:0;cursor:pointer}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}.icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:30px}.lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem;transition:transform .3s ease-in-out}.lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}']}),n})();function _5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"label"),i._uU(4,"Nombre de usuario:"),i.qZA(),i.TgZ(5,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.displayNameValue=o)}),i.qZA()(),i.TgZ(6,"div",3)(7,"label"),i._uU(8,"Lugar actual:"),i.qZA(),i.TgZ(9,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.ciudad=o)}),i.qZA()(),i.TgZ(10,"div",3)(11,"label"),i._uU(12,"Email:"),i.qZA(),i.TgZ(13,"input",5),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.usuario.email=o)}),i.qZA()(),i.TgZ(14,"div",3)(15,"label"),i._uU(16,"Tel\xe9fono:"),i.qZA(),i.TgZ(17,"input",6),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.phoneNumberValue=o)}),i.qZA()(),i.TgZ(18,"div",3)(19,"label"),i._uU(20,"G\xe9nero:"),i.qZA(),i.TgZ(21,"select",7),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.genderValue=o)}),i.TgZ(22,"option",8),i._uU(23,"Hombre"),i.qZA(),i.TgZ(24,"option",9),i._uU(25,"Mujer"),i.qZA(),i.TgZ(26,"option",10),i._uU(27,"No definido"),i.qZA()()(),i.TgZ(28,"div",3)(29,"label"),i._uU(30,"Estado:"),i.qZA(),i.TgZ(31,"select",11),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.estado=o)}),i.TgZ(32,"option",12),i._uU(33,"Soltero(a)"),i.qZA(),i.TgZ(34,"option",13),i._uU(35,"En una relacion"),i.qZA(),i.TgZ(36,"option",14),i._uU(37,"Comprometido(a)"),i.qZA(),i.TgZ(38,"option",15),i._uU(39,"Casado(a)"),i.qZA(),i.TgZ(40,"option",16),i._uU(41,"Pareja de hecho"),i.qZA(),i.TgZ(42,"option",17),i._uU(43,"Relacion abierta"),i.qZA(),i.TgZ(44,"option",18),i._uU(45,"Es complicado"),i.qZA(),i.TgZ(46,"option",19),i._uU(47,"Separado(a)"),i.qZA(),i.TgZ(48,"option",20),i._uU(49,"Divorciado(a)"),i.qZA(),i.TgZ(50,"option",21),i._uU(51,"Viudo(a)"),i.qZA()()(),i.TgZ(52,"div",22)(53,"label"),i._uU(54,"Fecha de cumplea\xf1os:"),i.qZA(),i.TgZ(55,"input",23),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.birthdayValue=o)}),i.qZA()(),i.TgZ(56,"div",3)(57,"label"),i._uU(58,"Sobre m\xed (m\xe1ximo 50 caracteres):"),i.qZA(),i.TgZ(59,"textarea",24),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.aboutMeValue=o)}),i.qZA()(),i.TgZ(60,"div",25)(61,"button",26),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.actualizarPerfil())}),i._uU(62," Guardar cambios "),i.qZA(),i.TgZ(63,"button",27),i._uU(64,"Volver"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.displayNameValue),i.xp6(4),i.Q6J("ngModel",e.ciudad),i.xp6(4),i.Q6J("disabled",!0)("ngModel",e.usuario.email),i.xp6(4),i.Q6J("ngModel",e.phoneNumberValue),i.xp6(4),i.Q6J("ngModel",e.genderValue),i.xp6(10),i.Q6J("ngModel",e.estado),i.xp6(24),i.Q6J("ngModel",e.birthdayValue),i.xp6(4),i.Q6J("ngModel",e.aboutMeValue)}}let y5=(()=>{class n{constructor(e,r,o,a){this.afAuth=e,this.toastr=r,this.router=o,this._user=a,this.usuariosInfo=[],this.comprobar=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.getUsers()})}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const a=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid)?.id;this.id=l,null==l&&(this.comprobar=!0),this.displayNameValue=a?.usuario,this.phoneNumberValue=a?.telefono,this.genderValue=a?.Genero,this.birthdayValue=a?.cumpleanos,this.aboutMeValue=a?.about,this.ciudad=a?.ciudad,this.estado=a?.estado})})}actualizarPerfil(){this.afAuth.currentUser.then(e=>{const r=e?.uid,o=e?.email,a=e?.photoURL;this._user.updateUser({idUser:r,usuario:this.displayNameValue,email:o,foto:a,telefono:this.phoneNumberValue||null,Genero:this.genderValue||null,cumpleanos:this.birthdayValue||null,about:this.aboutMeValue||null,ciudad:this.ciudad||null,estado:this.estado||null},this.id).then(()=>{this.router.navigate(["/perfil"]),this.toastr.info("Datos actualizados")})})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(Qr),i.Y36(dn),i.Y36(pd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil-editar"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"per-con"],[1,"form-group"],["required","","name","displayName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","email","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","phoneNumber","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","gender",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","hombre"],["value","mujer"],["value","no_definido"],["name","estado",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","soltero(a)"],["value","en una relacion"],["value","comprometido(a)"],["value","casado(a)"],["value","pareja de hecho"],["value","relacion abierta"],["value","es complicado"],["value","separado(a)"],["value","divorciado(a)"],["value","viudo(a)"],[1,"form-group","brt"],["name","birthday","type","date",1,"form-control","dent",3,"ngModel","ngModelChange"],["name","aboutMe","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],[1,"but"],[1,"btn","btn-primary",3,"click"],["routerLink","/perfil",1,"btn","btn-secondary"]],template:function(e,r){1&e&&i.YNc(0,_5,65,9,"div",0),2&e&&i.Q6J("ngIf",r.usuario)},dependencies:[_n,yc,jD,BD,nr,wg,Tg,$i,rr,WD,No],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border:none;border-radius:5px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.per-con[_ngcontent-%COMP%]{width:98%}.slc[_ngcontent-%COMP%]{width:102%}.brt[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dent[_ngcontent-%COMP%]{width:100.3%;padding:8px;border:1px solid #bcb0b0;border-radius:4px}.but[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 500px){.per-con[_ngcontent-%COMP%]{width:94%}.slc[_ngcontent-%COMP%]{width:106%}}"]}),n})();function v5(n,t){if(1&n&&(i.TgZ(0,"div",17)(1,"p",18),i._uU(2),i.qZA(),i.TgZ(3,"p",18),i._uU(4),i.qZA(),i.TgZ(5,"p",18),i._uU(6),i.qZA(),i.TgZ(7,"p",18),i._uU(8),i.qZA(),i.TgZ(9,"p",18),i._uU(10),i.qZA()()),2&n){const e=i.oxw(2);i.xp6(2),i.hij("Vive en: ",null==e.info?null:e.info.ciudad,""),i.xp6(2),i.hij("Genero: ",null==e.info?null:e.info.Genero,""),i.xp6(2),i.hij("Cumplea\xf1os: ",null==e.info?null:e.info.cumpleanos,""),i.xp6(2),i.hij("Estado: ",null==e.info?null:e.info.estado,""),i.xp6(2),i.hij("Celular: ",null==e.info?null:e.info.telefono,"")}}function D5(n,t){1&n&&(i.TgZ(0,"div",19)(1,"div",20)(2,"div",21),i._UZ(3,"img",22),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",23),i._UZ(7,"img",24),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function C5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"img",36),i.NdJ("mouseenter",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(a))})("click",function(){const a=i.CHM(e).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(a))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.url,i.LSH)}}function w5(n,t){if(1&n&&(i.TgZ(0,"span",43),i._uU(1),i.qZA()),2&n){const e=i.oxw(4);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function E5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",45),i.qZA()}}function b5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",46),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",47),i.qZA()}}function T5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",48),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",49),i.qZA()}}function x5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",50),i._UZ(1,"img",51),i.TgZ(2,"div",52)(3,"div")(4,"i",53),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",54),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"div",55)(12,"i",56),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()()()}if(2&n){const e=i.oxw(4);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.usuario.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage)}}const I5=function(n){return{active:n}};function A5(n,t){if(1&n&&(i.TgZ(0,"div",37),i.YNc(1,w5,2,2,"span",38),i.YNc(2,E5,2,0,"button",39),i.YNc(3,b5,2,0,"button",40),i.YNc(4,T5,2,0,"button",41),i.YNc(5,x5,13,7,"div",42),i.qZA()),2&n){const e=i.oxw(3);i.Q6J("ngClass",i.VKq(6,I5,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function S5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",69),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}const M5=function(n){return{activar:n}};function k5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",70)(1,"div",71)(2,"img",72),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.verUsuario(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",73)(6,"p",74),i._uU(7),i.qZA(),i.TgZ(8,"div",75)(9,"div")(10,"i",54),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",76)(14,"div",77)(15,"div",78)(16,"i",79),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",56),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",80),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(4);return i.KtG(f.opciones2(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(4);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.hij(" ",e.comentario," "),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,M5,!(r===o.capIndex&&o.option)))}}function N5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",57)(1,"div",58),i.YNc(2,S5,1,0,"span",59),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",60)(6,"div",61),i.YNc(7,k5,21,9,"div",62),i.qZA()(),i.TgZ(8,"div",63)(9,"form",64,65),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",66),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",67),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",68),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function P5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",81)(1,"div",82)(2,"div",83)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",84)(6,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function O5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",86)(1,"div",82)(2,"div",83)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",87),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw(3);return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",88)(7,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const e=i.oxw(3);i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function R5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",81)(1,"div",82)(2,"div",83)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",84)(6,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",85),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function F5(n,t){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han publicado fotos aun.."),i.qZA())}function L5(n,t){if(1&n&&(i.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29),i.YNc(5,C5,2,1,"div",30),i.qZA(),i.YNc(6,A5,6,8,"div",31),i.qZA()()(),i.YNc(7,N5,18,4,"div",32),i.TgZ(8,"div"),i.YNc(9,P5,10,0,"div",33),i.qZA(),i.YNc(10,O5,11,1,"div",34),i.TgZ(11,"div"),i.YNc(12,R5,10,0,"div",33),i.qZA(),i.YNc(13,F5,2,0,"p",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",e.imageX),i.xp6(1),i.Q6J("ngIf",e.showMask),i.xp6(1),i.Q6J("ngIf",e.modalcom),i.xp6(2),i.Q6J("ngIf",e.modalDelete),i.xp6(1),i.Q6J("ngIf",e.modalEditar),i.xp6(2),i.Q6J("ngIf",e.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==e.imageX.length)}}function U5(n,t){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.enviarMensaje())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7),i._UZ(8,"img",8),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"p",10),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.toggleInfo())}),i._uU(13),i.qZA(),i.YNc(14,v5,11,5,"div",11),i.qZA()(),i.TgZ(15,"p",12),i._uU(16),i.qZA()(),i.TgZ(17,"div",13)(18,"p",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(19,"Grupos"),i.qZA(),i.TgZ(20,"p",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.imagenes())}),i._uU(21),i.qZA(),i.TgZ(22,"p",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.goBack())}),i._uU(23,"Volver"),i.qZA()(),i.YNc(24,D5,10,0,"div",15),i.YNc(25,L5,14,7,"div",16),i.BQk()}if(2&n){const e=i.oxw();i.xp6(6),i.Q6J("src",e.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",null!=e.info&&e.info.foto?e.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==e.info?null:e.info.usuario),i.xp6(3),i.Oqu(e.ver),i.xp6(1),i.Q6J("ngIf",e.showMoreInfo),i.xp6(2),i.Oqu(null==e.info?null:e.info.about),i.xp6(5),i.hij(" Fotos de ",null==e.info?null:e.info.usuario," "),i.xp6(3),i.Q6J("ngIf",e.gr),i.xp6(1),i.Q6J("ngIf",e.im)}}function V5(n,t){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let Z5=(()=>{class n{constructor(e,r,o,a,l,f,m,v){this.route=e,this._user=r,this.afAuth=o,this.location=a,this.toastr=l,this._imageUser=f,this.router=m,this.el=v,this.usuariosInfo=[],this.showMoreInfo=!1,this.ver="Ver mas...",this.gr=!0,this.im=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.esInvitado=!1,this.option=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e}),this.route.paramMap.subscribe(e=>{this.id=e.get("id")}),this.getUsers(),this.getUserImages(),"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)}crearUsuario(){null==this.usx?this.afAuth.currentUser.then(e=>{this._user.addIUserInfo({idUser:e?.uid,usuario:e?.displayName,email:e?.email,foto:e?.photoURL}).then(()=>{})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const a=this.usuariosInfo.find(f=>f.idUser===this.id),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid);this.usx=l,this.info=a,this.urlPortada=this.info?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(e=>{this.imageZ=[],this.imageX=[],e.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const a=this.imageZ.filter(l=>l.idUser===this.id);this.imageX=a})})}goBack(){this.location.back()}toggleInfo(){this.showMoreInfo=!this.showMoreInfo,this.ver=this.showMoreInfo?"Ver menos":"Ver mas..."}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}grupos(){this.gr=!0,this.im=!1}imagenes(){this.gr=!1,this.im=!0}likeImage(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(a);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(a),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.imageX[e],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:a.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,X.Z)(function*(){console.log(e),r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(e){var r=this;return(0,X.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}enviarMensaje(){this.crearUsuario(),this.router.navigate(["/enviar-mensaje/",this.id])}verUsuario(e){var r=this;return(0,X.Z)(function*(){console.log(e),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==e||((yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e]))})()}opciones2(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.uid===r.idUser||"administrador.sistema@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(_c),i.Y36(pd),i.Y36(ar),i.Y36(Ae),i.Y36(Qr),i.Y36(ek),i.Y36(dn),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-ver-usuario"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","70","height","70",2,"cursor","pointer","user-select","none",3,"src"],[1,"lap","user"],[1,"edit-perfil",3,"click"],["style","display: flex; flex-direction: column; align-items: center",4,"ngIf"],[1,"lap"],[1,"acciones"],[2,"cursor","pointer",3,"click"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"lap","email"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],["hidden","true"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[2,"font-size","26px","cursor","pointer",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,U5,26,9,"ng-container",1),i.YNc(2,V5,3,0,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.usuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Kt,er,_n,yc,Nr,nr,$i,Yn,rr,No,go],styles:[".img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.acciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;border-radius:17px;padding:6px 27px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}"]}),n})();function j5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",9)(1,"div",10)(2,"span",11),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",12)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",13),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",14),i._uU(10,"Registrate"),i.qZA()()()()()}}let nk=(()=>{class n{constructor(e,r,o){this.afAuth=e,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuarioActual=e?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(dn),i.Y36(Qr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar-activate"]],decls:16,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main-activate",1,"nav-link"],["routerLink","/galeria-activate",1,"nav-link"],["routerLink","/videos-activate",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA()()(),i.TgZ(14,"div"),i.YNc(15,j5,11,0,"div",8),i.qZA()),2&e&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(11),i.Q6J("ngIf",r.modal))},dependencies:[_n,Rs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),B5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main-activate"]],decls:13,vars:0,consts:[[1,"contenedor",2,"color","white","text-decoration","none"],[2,"text-align","center"],[1,"move"],[1,"move2"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","3%","color","black","text-decoration","none"],[1,"fab","fa-facebook-square"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"app-navbar-activate"),i.TgZ(2,"div")(3,"div",1)(4,"h2",2),i._uU(5,"Bienvenidos a Activate"),i.qZA(),i.TgZ(6,"span",3),i._uU(7,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),i.qZA()(),i.TgZ(8,"div"),i._UZ(9,"img",4),i.qZA(),i.TgZ(10,"a",5),i._UZ(11,"i",6),i._uU(12," Unete a nuestro grupo de Facebook. "),i.qZA()()())},dependencies:[nk],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;padding:20px;animation:apearText 2s linear}.img-fondo[_ngcontent-%COMP%]{position:relative;top:1rem;width:100%;z-index:1;height:60vh}.move[_ngcontent-%COMP%]{animation:moveText .5s linear}.move2[_ngcontent-%COMP%]{animation:moveText 1s linear}@media (max-width: 500px){.img-fondo[_ngcontent-%COMP%]{height:44vh;top:5rem}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})(),H5=(()=>{class n{constructor(e){this.firestore=e}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(e,r){return this.firestore.collection("img-activate").doc(e).update(r)}addImagenInfo(e){return this.firestore.collection("img-activate").add(e)}delete(e){return this.firestore.collection("img-activate").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function q5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onMouseLeave(a))})("click",function(){const a=i.CHM(e).index,l=i.oxw();return i.KtG(l.onPreviewImage(a))}),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",e.url,i.LSH)}}function $5(n,t){if(1&n&&(i.TgZ(0,"span",21),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.AsE(" ",e.currentIndex+1,"/",e.totalImageCount," ")}}function z5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",23),i.qZA()}}function K5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",25),i.qZA()}}function J5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",27),i.qZA()}}function W5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"i",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()}}function Y5(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",28),i._UZ(1,"img",29),i.TgZ(2,"div",30)(3,"div")(4,"i",31),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.YNc(11,W5,2,0,"div",33),i.qZA()()}if(2&n){const e=i.oxw(2);i.xp6(1),i.ekj("zoom-in",e.previewImage),i.Q6J("src",e.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(e.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",e.currentLightboxImage.likedByImage.includes(e.currentUser.uid)),i.xp6(2),i.Oqu(e.currentLightboxImage.likesCountImage),i.xp6(1),i.Q6J("ngIf",e.adm)}}const Q5=function(n){return{active:n}};function X5(n,t){if(1&n&&(i.TgZ(0,"div",15),i.YNc(1,$5,2,2,"span",16),i.YNc(2,z5,2,0,"button",17),i.YNc(3,K5,2,0,"button",18),i.YNc(4,J5,2,0,"button",19),i.YNc(5,Y5,12,8,"div",20),i.qZA()),2&n){const e=i.oxw();i.Q6J("ngClass",i.VKq(6,Q5,e.previewImage)),i.xp6(1),i.Q6J("ngIf",e.showCount),i.xp6(1),i.Q6J("ngIf",e.previewImage),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.controls),i.xp6(1),i.Q6J("ngIf",e.previewImage)}}function eH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",47),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const tH=function(n){return{activar:n}};function nH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",48)(1,"div",49)(2,"img",50),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",51)(6,"p",52),i._uU(7),i.qZA(),i.TgZ(8,"div",53)(9,"div",54)(10,"i",32),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",55)(14,"div",56)(15,"div",57)(16,"i",58),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",34),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",59),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,tH,!(r===o.capIndex&&o.option)))}}function iH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"div",36),i.YNc(2,eH,1,0,"span",37),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",38)(6,"div",39),i.YNc(7,nH,21,9,"div",40),i.qZA()(),i.TgZ(8,"div",41)(9,"form",42,43),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",44),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",45),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",46),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function rH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function oH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",65)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",67)(7,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function sH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",68)(1,"div",61)(2,"span",69),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",62)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",70),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",71),i._uU(10,"Registrate"),i.qZA()()()()()}}function aH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",63)(6,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",64),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.eliminarImagen())}),i._uU(9,"Aceptar"),i.qZA()()()()}}let cH=(()=>{class n{constructor(e,r,o,a,l,f,m){this.el=e,this.afAuth=r,this._image=o,this.toastr=a,this.router=l,this._user=f,this.storagex=m,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==r)&&(this.adm=!0)})}getImages(){this._image.getim().subscribe(e=>{this.images=[],e.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}subirArchivo(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`images/${o.name}`,se=this.storagex.ref(te);this.storagex.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this._image.addImagenInfo({url:Be}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}likeImage(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByImage.indexOf(a);-1!==m?(e.likedByImage.splice(m,1),e.userImageLikes.splice(m,1),e.likesCountImage--):(e.likedByImage.push(a),e.likesCountImage++,e.userImageLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountImage:e.likesCountImage,likedByImage:e.likedByImage,userImageLikes:e.userImageLikes};yield r._image.updateImgAc(v,x)}else r.modal=!0})()}onPreviewImage(e){this.showMask=!0,this.previewImage=!0,this.currentIndex=e,this.showCount=!0,this.currentLightboxImage=this.images[e],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1.1)"}onMouseLeave(e){this.el.nativeElement.querySelectorAll(".zoomable-image")[e].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:a.commentsVideo};yield r._image.updateImgAc(l,I),r.comentario=""}})()}abrirCom(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId=e,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImgAc(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(e){var r=this;return(0,X.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}deleteImgModal(e){this.idDelete=e,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(e=>e.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}opciones(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.email===r.correo||"administrador.sistema@gmail.com"==a?.email||"jeestrada377@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(ar),i.Y36(H5),i.Y36(Qr),i.Y36(dn),i.Y36(pd),i.Y36(K1))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria-activate"]],decls:17,vars:8,consts:[[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[4,"ngIf"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.YNc(3,G5,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,q5,2,1,"div",5),i.qZA(),i.YNc(7,X5,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,iH,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,rH,10,0,"div",8),i.qZA(),i.YNc(12,oH,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,sH,11,0,"div",10),i.qZA(),i.TgZ(15,"div"),i.YNc(16,aH,10,0,"div",8),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(2),i.Q6J("ngIf",r.modalDeleteImage))},dependencies:[Kt,er,_n,Rs,Nr,nr,$i,Yn,rr,No,go,nk],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}"]}),n})(),uH=(()=>{class n{constructor(e){this.firestore=e}getactvid(){return this.firestore.collection("videos-activate",e=>e.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(e,r){return this.firestore.collection("videos-activate").doc(e).update(r)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",11)(1,"video",12),i._UZ(2,"source",13),i.qZA(),i.TgZ(3,"div",14)(4,"div",15)(5,"p",16),i._uU(6),i.qZA()(),i.TgZ(7,"div",17)(8,"div",18)(9,"i",19),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirCom(a))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",20)(13,"i",21),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.likeVideo(a))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",e.url,i.LSH),i.xp6(4),i.hij(" ",e.nombre," "),i.xp6(5),i.Oqu(e.commentsVideo.length),i.xp6(2),i.ekj("liked",e.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountVideo)}}function dH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}const hH=function(n){return{activar:n}};function fH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",35)(1,"div",36)(2,"img",37),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.ir(a.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",38)(6,"p",39),i._uU(7),i.qZA(),i.TgZ(8,"div",40)(9,"div",41)(10,"i",21),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(a))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"div",42)(14,"div",43)(15,"div",44)(16,"i",45),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(a))}),i.qZA(),i.TgZ(17,"i",46),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(a))}),i.qZA()()(),i.TgZ(18,"div")(19,"span",47),i.NdJ("click",function(){const o=i.CHM(e),a=o.index,l=o.$implicit,f=i.oxw(2);return i.KtG(f.opciones(a,l))}),i._uU(20,"\u22ee"),i.qZA()()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.xp6(2),i.Q6J("src",e.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.usuario),i.xp6(3),i.Oqu(e.comentario),i.xp6(3),i.ekj("liked",e.likedByComment&&e.likedByComment.includes(o.currentUser.uid)),i.xp6(2),i.Oqu(e.likesCountComment),i.xp6(2),i.Q6J("ngClass",i.VKq(7,hH,!(r===o.capIndex&&o.option)))}}function pH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",22)(1,"div",23),i.YNc(2,dH,1,0,"span",24),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",25)(6,"div",26),i.YNc(7,fH,21,9,"div",27),i.qZA()(),i.TgZ(8,"div",28)(9,"form",29,30),i.NdJ("submit",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",31),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",32),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",33),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const e=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!e.valid)}}function gH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",48)(1,"div",49)(2,"div",50)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",51)(6,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function mH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",53)(1,"div",49)(2,"div",50)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",54),i.NdJ("ngModelChange",function(o){i.CHM(e);const a=i.oxw();return i.KtG(a.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",55)(7,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",52),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngModel",e.esteComentario)}}function _H(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",56)(1,"div",49)(2,"span",57),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",50)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",58),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",59),i._uU(10,"Registrate"),i.qZA()()()()()}}let yH=(()=>{class n{constructor(e,r,o,a,l){this.afAuth=e,this._videosService=r,this.afs=o,this._users=a,this.router=l,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm="",this.option=!1}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(e=>{this.currentUser=e;const r=e?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getactvid().subscribe(e=>{this.videos=[],e.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})}),this.filteredVideos=this.videos})}likeVideo(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const a=o.uid,l=o.displayName,f=o.email,m=e.likedByVideo.indexOf(a);-1!==m?(e.likedByVideo.splice(m,1),e.userVideoLikes.splice(m,1),e.likesCountVideo--):(e.likedByVideo.push(a),e.likesCountVideo++,e.userVideoLikes.push({usuario:l,correo:f}));const v=e.id,x={likesCountVideo:e.likesCountVideo,likedByVideo:e.likedByVideo,userVideoLikes:e.userVideoLikes};yield r._videosService.updateActVideo(v,x)}else r.modal=!0})()}abrirCom(e){var r=this;return(0,X.Z)(function*(){r.dataVideoId=e;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(e){var r=this;return(0,X.Z)(function*(){(yield r.afAuth.currentUser)?.uid===e?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",e])})()}likeComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!e)return void console.error("El comentario no est\xe1 definido");e.likedByComment||(e.likedByComment=[]);const a=o.uid,l=e.likedByComment.indexOf(a);-1!==l?(e.likedByComment.splice(l,1),e.likesCountComment=Math.max(0,e.likesCountComment-1)):(e.likedByComment.push(a),e.likesCountComment=(e.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===e)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateActVideo(f,v),console.log(v)}}else r.modal=!0})()}abrirEditar(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=e,r.esteComentario=e.comentario})()}deleteModal(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===e.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=e})()}addComment(e){var r=this;return(0,X.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:e,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:a.commentsVideo};yield r._videosService.updateActVideo(l,I),r.comentario=""}})()}borrarComentario(){const e=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==e?(this.dataVideoId.commentsVideo.splice(e,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const e=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=e,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(e=>e.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}opciones(e,r){var o=this;return(0,X.Z)(function*(){const a=yield o.afAuth.currentUser;(a?.email===r.correo||"administrador.sistema@gmail.com"==a?.email||"jeestrada377@gmail.com"==a?.email)&&(o.capIndex===e?o.option=!o.option:(o.capIndex=e,o.option=!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(ar),i.Y36(uH),i.Y36(Vu),i.Y36(pd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos-activate"]],decls:14,vars:6,consts:[[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModel","ngModelChange","keyup"],[1,"video-container"],[1,"video"],["class","gallery-video",4,"ngFor","ngForOf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; ; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197","; margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[3,"ngClass"],[2,"gap","1rem","display","flex"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[2,"font-size","26px",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.TgZ(3,"div",2)(4,"input",3),i.NdJ("ngModelChange",function(a){return r.searchTerm=a})("keyup",function(){return r.filterVideos()}),i.qZA()(),i.TgZ(5,"div",4)(6,"div",5),i.YNc(7,lH,16,6,"div",6),i.qZA()()()(),i.YNc(8,pH,18,4,"div",7),i.TgZ(9,"div"),i.YNc(10,gH,10,0,"div",8),i.qZA(),i.YNc(11,mH,11,1,"div",9),i.TgZ(12,"div"),i.YNc(13,_H,11,0,"div",10),i.qZA()),2&e&&(i.xp6(4),i.Q6J("ngModel",r.searchTerm),i.xp6(3),i.Q6J("ngForOf",r.filteredVideos),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[Kt,er,_n,Rs,Nr,nr,$i,Yn,rr,No,go,nk],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})(),p6=(()=>{class n{constructor(e){this.firestore=e}getUMessage(){return this.firestore.collection("mensajes").snapshotChanges()}update(e,r){return this.firestore.collection("mensajes").doc(e).update(r)}addMessage(e){return this.firestore.collection("mensajes").add(e)}delete(e){return this.firestore.collection("mensajes").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Vu))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",12)(1,"img",13),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(a.idUser))}),i.qZA(),i.TgZ(2,"div"),i._uU(3),i.qZA()()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("src",null!=e&&e.foto?e.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==e?null:e.usuario)}}const DH=function(n,t){return{indicar:n,active:t}};function CH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",14)(1,"div")(2,"div",15)(3,"div",16),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(a.idEmisor))}),i.TgZ(4,"span",17),i._UZ(5,"img",18),i.TgZ(6,"strong"),i._uU(7),i.qZA()()(),i.TgZ(8,"div")(9,"span",19),i.NdJ("click",function(){const o=i.CHM(e),a=o.$implicit,l=o.index,f=i.oxw();return i.KtG(f.abrirEliminar(a.id,l))}),i._uU(10,"\u22ee"),i.qZA()()()()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw();i.Q6J("ngClass",i.WLB(3,DH,r===o.capIndex,r===o.capIndex&&o.close)),i.xp6(5),i.Q6J("src",null!=e&&e.foto?e.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.para)}}function wH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",20)(1,"div")(2,"div")(3,"span",21),i.NdJ("click",function(){const a=i.CHM(e).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(a.idReceptor))}),i._UZ(4,"img",18),i.TgZ(5,"strong"),i._uU(6),i.qZA()()()()()}if(2&n){const e=t.$implicit;i.xp6(4),i.Q6J("src",null!=e&&e.foto1?e.foto1:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(e.de)}}const g6=function(n){return{active:n}};let EH=(()=>{class n{constructor(e,r,o,a,l){this.location=e,this._msj=r,this.afAuth=o,this.router=a,this._user=l,this.mensajes=[],this.mensajes2=[],this.mensajes3=[],this.misMensajes=[],this.misMensajes2=[],this.users=[],this.users2=[],this.optionDelete=!1,this.close=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.usuarioActual=this.usuario?.uid,this.getMessages(),this.getUsers()})}getUsers(){this.users=[],this._user.getUsers().subscribe(e=>{e.forEach(l=>{this.users.push({id:l.payload.doc.id,...l.payload.doc.data()})});const a=this.users.filter(l=>l.idUser!==this.usuarioActual).filter(l=>"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!==l.idUser);this.users2=a})}getMessages(){this._msj.getUMessage().subscribe(e=>{this.mensajes2=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.mensajes2.push(o);const a=this.mensajes2.filter(f=>f.idReceptor==this.usuarioActual),l=this.mensajes2.filter(f=>f.idEmisor==this.usuarioActual);this.mensajes=a,this.mensajes3=l})})}abrirMensaje(e){this.router.navigate(["enviar-mensaje",e])}volver(){this.location.back()}abrirEliminar(e,r){this.capIndex=r,this.optionDelete=!0,this.deleteId=e}eliminar(){this.optionDelete=!1,this._msj.delete(this.deleteId).then(()=>{})}cerrar(){this.optionDelete=!1,this.close=!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ae),i.Y36(p6),i.Y36(ar),i.Y36(dn),i.Y36(pd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-bandeja"]],decls:16,vars:9,consts:[[1,"inbox-container"],[1,"cabecera"],[1,"inbox-header"],[1,"fas","fa-arrow-left",3,"click"],[1,"option",3,"ngClass"],[1,"fas","fa-trash",3,"click"],[1,"close",3,"ngClass","click"],[2,"gap","1rem","display","flex","width","100%","overflow-x","auto","-ms-overflow-style","none","scrollbar-width","none"],["style","text-align: center",4,"ngFor","ngForOf"],[1,"inbox-messages",2,"width","100%"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["class","message",4,"ngFor","ngForOf"],[2,"text-align","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src","click"],[1,"message",3,"ngClass"],[2,"display","flex","justify-content","space-between","align-items","center"],[2,"display","flex","align-items","center","justify-content","space-between","width","-webkit-fill-available",3,"click"],[2,"display","flex","gap","1rem","align-items","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"],[2,"font-size","26px",3,"click"],[1,"message"],[2,"display","flex","gap","1rem","align-items","center",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),i.NdJ("click",function(){return r.volver()}),i.qZA(),i.TgZ(4,"h1"),i._uU(5,"Mensajes"),i.qZA()(),i.TgZ(6,"div",4)(7,"i",5),i.NdJ("click",function(){return r.eliminar()}),i.qZA(),i.TgZ(8,"span",6),i.NdJ("click",function(){return r.cerrar()}),i._uU(9,"\xd7"),i.qZA()()(),i.TgZ(10,"div",7),i.YNc(11,vH,4,2,"div",8),i.qZA(),i.TgZ(12,"div",9),i.YNc(13,CH,11,6,"div",10),i.qZA(),i.TgZ(14,"div",9),i.YNc(15,wH,7,2,"div",11),i.qZA()()),2&e&&(i.xp6(6),i.Q6J("ngClass",i.VKq(5,g6,r.optionDelete)),i.xp6(2),i.Q6J("ngClass",i.VKq(7,g6,r.close)),i.xp6(3),i.Q6J("ngForOf",r.users2),i.xp6(2),i.Q6J("ngForOf",r.mensajes),i.xp6(2),i.Q6J("ngForOf",r.mensajes3))},dependencies:[Kt,er],styles:[".inbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;background-color:#f0f0f0}.inbox-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:20px}.inbox-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#333;cursor:pointer;margin-right:10px}.inbox-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.message[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff}.message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}.cabecera[_ngcontent-%COMP%]{margin-bottom:20px;width:100%;display:flex;flex-direction:row;align-items:center}.option[_ngcontent-%COMP%]{gap:18px;display:flex;flex-direction:row;align-items:center;transition:opacity .3s ease-in-out;opacity:0}.option.active[_ngcontent-%COMP%]{opacity:1}.close[_ngcontent-%COMP%]{color:brown;font-size:31px}.indicar.active[_ngcontent-%COMP%]{background-color:#fff}.indicar[_ngcontent-%COMP%]{background-color:#757e753b}"]}),n})();function bH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"img",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(2);return i.KtG(a.ampliar(o.mensaje))}),i.qZA()()}if(2&n){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("src",e.mensaje,i.LSH)}}function TH(n,t){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&n){const e=i.oxw().$implicit;i.xp6(1),i.hij(" ",e.mensaje," ")}}const m6=function(n,t,e){return{"mensaje-saliente":n,"mensaje-entrante":t,"mensaje-seleccionado":e}},_6=function(n,t){return{"mensaje-s":n,"mensaje-e":t}};function xH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i.NdJ("mousedown",function(){const o=i.CHM(e),a=o.$implicit,l=o.index,f=i.oxw(2);return i.KtG(f.options(a,l))}),i.TgZ(2,"div")(3,"span",26),i._uU(4),i.qZA()(),i.YNc(5,bH,2,1,"div",28),i.YNc(6,TH,2,1,"div",28),i.qZA()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.Q6J("ngClass",i.kEZ(5,m6,e.para===o.usuario.displayName,e.de===o.usuario.displayName,r===o.capId)),i.xp6(3),i.Q6J("ngClass",i.WLB(9,_6,e.para===o.usuario.displayName,e.de===o.usuario.displayName)),i.xp6(1),i.hij("",e.de," "),i.xp6(1),i.Q6J("ngIf",o.isUrl(e.mensaje)),i.xp6(1),i.Q6J("ngIf",!o.isUrl(e.mensaje))}}function IH(n,t){if(1&n&&(i.TgZ(0,"div",24),i.YNc(1,xH,7,12,"div",25),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.objetoMensaje.mensaje)}}function AH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div")(1,"img",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,a=i.oxw(2);return i.KtG(a.ampliar(o.mensaje))}),i.qZA()()}if(2&n){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("src",e.mensaje,i.LSH)}}function SH(n,t){if(1&n&&(i.TgZ(0,"div")(1,"div"),i._uU(2),i.qZA()()),2&n){const e=i.oxw().$implicit;i.xp6(2),i.hij(" ",e.mensaje," ")}}function MH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i.NdJ("mousedown",function(){const o=i.CHM(e),a=o.$implicit,l=o.index,f=i.oxw(2);return i.KtG(f.options(a,l))}),i.TgZ(2,"div")(3,"span",26),i._uU(4),i.qZA()(),i.YNc(5,AH,2,1,"div",28),i.YNc(6,SH,3,1,"div",28),i.qZA()()}if(2&n){const e=t.$implicit,r=t.index,o=i.oxw(2);i.Q6J("ngClass",i.kEZ(5,m6,e.para===o.usuario.displayName,e.de===o.usuario.displayName,r===o.capId)),i.xp6(3),i.Q6J("ngClass",i.WLB(9,_6,e.para===o.usuario.displayName,e.de===o.usuario.displayName)),i.xp6(1),i.hij("",e.de," "),i.xp6(1),i.Q6J("ngIf",o.isUrl(e.mensaje)),i.xp6(1),i.Q6J("ngIf",!o.isUrl(e.mensaje))}}function kH(n,t){if(1&n&&(i.TgZ(0,"div",24),i.YNc(1,MH,7,12,"div",25),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.objetoMensaje2.mensaje)}}function NH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",30)(1,"div",31)(2,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60a}"))}),i._uU(3,"\u{1f60a}"),i.qZA(),i.TgZ(4,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f602}"))}),i._uU(5,"\u{1f602}"),i.qZA(),i.TgZ(6,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f601}"))}),i._uU(7,"\u{1f601}"),i.qZA(),i.TgZ(8,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f642}"))}),i._uU(9,"\u{1f642}"),i.qZA(),i.TgZ(10,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60e}"))}),i._uU(11,"\u{1f60e}"),i.qZA(),i.TgZ(12,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f609}"))}),i._uU(13,"\u{1f609}"),i.qZA(),i.TgZ(14,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60c}"))}),i._uU(15,"\u{1f60c}"),i.qZA(),i.TgZ(16,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f970}"))}),i._uU(17,"\u{1f970}"),i.qZA(),i.TgZ(18,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f618}"))}),i._uU(19,"\u{1f618}"),i.qZA(),i.TgZ(20,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60d}"))}),i._uU(21,"\u{1f60d}"),i.qZA(),i.TgZ(22,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f605}"))}),i._uU(23,"\u{1f605}"),i.qZA(),i.TgZ(24,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61c}"))}),i._uU(25,"\u{1f61c}"),i.qZA(),i.TgZ(26,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61d}"))}),i._uU(27,"\u{1f61d}"),i.qZA(),i.TgZ(28,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92a}"))}),i._uU(29,"\u{1f92a}"),i.qZA(),i.TgZ(30,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f917}"))}),i._uU(31,"\u{1f917}"),i.qZA(),i.TgZ(32,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61a}"))}),i._uU(33,"\u{1f61a}"),i.qZA(),i.TgZ(34,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f913}"))}),i._uU(35,"\u{1f913}"),i.qZA(),i.TgZ(36,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f624}"))}),i._uU(37,"\u{1f624}"),i.qZA(),i.TgZ(38,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92c}"))}),i._uU(39,"\u{1f92c}"),i.qZA(),i.TgZ(40,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f621}"))}),i._uU(41,"\u{1f621}"),i.qZA(),i.TgZ(42,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f622}"))}),i._uU(43,"\u{1f622}"),i.qZA(),i.TgZ(44,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62d}"))}),i._uU(45,"\u{1f62d}"),i.qZA(),i.TgZ(46,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f631}"))}),i._uU(47,"\u{1f631}"),i.qZA(),i.TgZ(48,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f633}"))}),i._uU(49,"\u{1f633}"),i.qZA(),i.TgZ(50,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60b}"))}),i._uU(51,"\u{1f60b}"),i.qZA(),i.TgZ(52,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f973}"))}),i._uU(53,"\u{1f973}"),i.qZA(),i.TgZ(54,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f634}"))}),i._uU(55,"\u{1f634}"),i.qZA(),i.TgZ(56,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f607}"))}),i._uU(57,"\u{1f607}"),i.qZA(),i.TgZ(58,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f608}"))}),i._uU(59,"\u{1f608}"),i.qZA(),i.TgZ(60,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92f}"))}),i._uU(61,"\u{1f92f}"),i.qZA(),i.TgZ(62,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f929}"))}),i._uU(63,"\u{1f929}"),i.qZA(),i.TgZ(64,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f97a}"))}),i._uU(65,"\u{1f97a}"),i.qZA(),i.TgZ(66,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f610}"))}),i._uU(67,"\u{1f610}"),i.qZA(),i.TgZ(68,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62c}"))}),i._uU(69,"\u{1f62c}"),i.qZA(),i.TgZ(70,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f635}"))}),i._uU(71,"\u{1f635}"),i.qZA(),i.TgZ(72,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f914}"))}),i._uU(73,"\u{1f914}"),i.qZA(),i.TgZ(74,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f616}"))}),i._uU(75,"\u{1f616}"),i.qZA(),i.TgZ(76,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f623}"))}),i._uU(77,"\u{1f623}"),i.qZA(),i.TgZ(78,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61e}"))}),i._uU(79,"\u{1f61e}"),i.qZA(),i.TgZ(80,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f614}"))}),i._uU(81,"\u{1f614}"),i.qZA(),i.TgZ(82,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f613}"))}),i._uU(83,"\u{1f613}"),i.qZA(),i.TgZ(84,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f644}"))}),i._uU(85,"\u{1f644}"),i.qZA(),i.TgZ(86,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62a}"))}),i._uU(87,"\u{1f62a}"),i.qZA(),i.TgZ(88,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f924}"))}),i._uU(89,"\u{1f924}"),i.qZA(),i.TgZ(90,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f637}"))}),i._uU(91,"\u{1f637}"),i.qZA(),i.TgZ(92,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f912}"))}),i._uU(93,"\u{1f912}"),i.qZA(),i.TgZ(94,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f915}"))}),i._uU(95,"\u{1f915}"),i.qZA(),i.TgZ(96,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f922}"))}),i._uU(97,"\u{1f922}"),i.qZA(),i.TgZ(98,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92e}"))}),i._uU(99,"\u{1f92e}"),i.qZA(),i.TgZ(100,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f927}"))}),i._uU(101,"\u{1f927}"),i.qZA(),i.TgZ(102,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f974}"))}),i._uU(103,"\u{1f974}"),i.qZA(),i.TgZ(104,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f911}"))}),i._uU(105,"\u{1f911}"),i.qZA(),i.TgZ(106,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f920}"))}),i._uU(107,"\u{1f920}"),i.qZA(),i.TgZ(108,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f919}"))}),i._uU(109,"\u{1f919}"),i.qZA(),i.TgZ(110,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f918}"))}),i._uU(111,"\u{1f918}"),i.qZA(),i.TgZ(112,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44d}"))}),i._uU(113,"\u{1f44d}"),i.qZA(),i.TgZ(114,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44e}"))}),i._uU(115,"\u{1f44e}"),i.qZA(),i.TgZ(116,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91e}"))}),i._uU(117,"\u{1f91e}"),i.qZA(),i.TgZ(118,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270c\ufe0f"))}),i._uU(119,"\u270c\ufe0f"),i.qZA(),i.TgZ(120,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91f}"))}),i._uU(121,"\u{1f91f}"),i.qZA(),i.TgZ(122,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44c}"))}),i._uU(123,"\u{1f44c}"),i.qZA(),i.TgZ(124,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44b}"))}),i._uU(125,"\u{1f44b}"),i.qZA(),i.TgZ(126,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91a}"))}),i._uU(127,"\u{1f91a}"),i.qZA(),i.TgZ(128,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f590}\ufe0f"))}),i._uU(129,"\u{1f590}\ufe0f"),i.qZA(),i.TgZ(130,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270b"))}),i._uU(131,"\u270b"),i.qZA(),i.TgZ(132,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f596}"))}),i._uU(133,"\u{1f596}"),i.qZA(),i.TgZ(134,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44a}"))}),i._uU(135,"\u{1f44a}"),i.qZA(),i.TgZ(136,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u270a"))}),i._uU(137,"\u270a"),i.qZA(),i.TgZ(138,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91b}"))}),i._uU(139,"\u{1f91b}"),i.qZA(),i.TgZ(140,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91c}"))}),i._uU(141,"\u{1f91c}"),i.qZA(),i.TgZ(142,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91d}"))}),i._uU(143,"\u{1f91d}"),i.qZA(),i.TgZ(144,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f4aa}"))}),i._uU(145,"\u{1f4aa}"),i.qZA(),i.TgZ(146,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9be}"))}),i._uU(147,"\u{1f9be}"),i.qZA(),i.TgZ(148,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bf}"))}),i._uU(149,"\u{1f9bf}"),i.qZA(),i.TgZ(150,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b5}"))}),i._uU(151,"\u{1f9b5}"),i.qZA(),i.TgZ(152,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b6}"))}),i._uU(153,"\u{1f9b6}"),i.qZA(),i.TgZ(154,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f442}"))}),i._uU(155,"\u{1f442}"),i.qZA(),i.TgZ(156,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bb}"))}),i._uU(157,"\u{1f9bb}"),i.qZA(),i.TgZ(158,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f443}"))}),i._uU(159,"\u{1f443}"),i.qZA(),i.TgZ(160,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f43b}"))}),i._uU(161,"\u{1f43b}"),i.qZA(),i.TgZ(162,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f430}"))}),i._uU(163,"\u{1f430}"),i.qZA(),i.TgZ(164,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f431}"))}),i._uU(165,"\u{1f431}"),i.qZA(),i.TgZ(166,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f436}"))}),i._uU(167,"\u{1f436}"),i.qZA(),i.TgZ(168,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42d}"))}),i._uU(169,"\u{1f42d}"),i.qZA(),i.TgZ(170,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f439}"))}),i._uU(171,"\u{1f439}"),i.qZA(),i.TgZ(172,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f437}"))}),i._uU(173,"\u{1f437}"),i.qZA(),i.TgZ(174,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42e}"))}),i._uU(175,"\u{1f42e}"),i.qZA(),i.TgZ(176,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42f}"))}),i._uU(177,"\u{1f42f}"),i.qZA(),i.TgZ(178,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f428}"))}),i._uU(179,"\u{1f428}"),i.qZA(),i.TgZ(180,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9e0}"))}),i._uU(181,"\u{1f9e0}"),i.qZA(),i.TgZ(182,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b7}"))}),i._uU(183,"\u{1f9b7}"),i.qZA(),i.TgZ(184,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b4}"))}),i._uU(185,"\u{1f9b4}"),i.qZA(),i.TgZ(186,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f440}"))}),i._uU(187,"\u{1f440}"),i.qZA(),i.TgZ(188,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f441}\ufe0f"))}),i._uU(189,"\u{1f441}\ufe0f"),i.qZA(),i.TgZ(190,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ff}"))}),i._uU(191,"\u{1f9ff}"),i.qZA(),i.TgZ(192,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f445}"))}),i._uU(193,"\u{1f445}"),i.qZA(),i.TgZ(194,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f444}"))}),i._uU(195,"\u{1f444}"),i.qZA(),i.TgZ(196,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(197,"\u{1f476}"),i.qZA(),i.TgZ(198,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(199,"\u{1f9d2}"),i.qZA(),i.TgZ(200,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(201,"\u{1f466}"),i.qZA(),i.TgZ(202,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(203,"\u{1f467}"),i.qZA(),i.TgZ(204,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(205,"\u{1f9d1}"),i.qZA(),i.TgZ(206,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(207,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(208,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}"))}),i._uU(209,"\u{1f471}"),i.qZA(),i.TgZ(210,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(211,"\u{1f468}"),i.qZA(),i.TgZ(212,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(213,"\u{1f9d4}"),i.qZA(),i.TgZ(214,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(215,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(216,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(217,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(218,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(219,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(220,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(221,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(222,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(223,"\u{1f9d4}"),i.qZA(),i.TgZ(224,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(225,"\u{1f469}"),i.qZA(),i.TgZ(226,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b0}"))}),i._uU(227,"\u{1f469}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(228,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b1}"))}),i._uU(229,"\u{1f469}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(230,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b3}"))}),i._uU(231,"\u{1f469}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(232,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b2}"))}),i._uU(233,"\u{1f469}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(234,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(235,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(236,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(237,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(238,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(239,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(240,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b0}"))}),i._uU(241,"\u{1f9d1}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(242,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b1}"))}),i._uU(243,"\u{1f9d1}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(244,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b3}"))}),i._uU(245,"\u{1f9d1}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(246,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b2}"))}),i._uU(247,"\u{1f9d1}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(248,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(249,"\u{1f466}"),i.qZA(),i.TgZ(250,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(251,"\u{1f466}"),i.qZA(),i.TgZ(252,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(253,"\u{1f466}"),i.qZA(),i.TgZ(254,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(255,"\u{1f466}"),i.qZA(),i.TgZ(256,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(257,"\u{1f467}"),i.qZA(),i.TgZ(258,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(259,"\u{1f467}"),i.qZA(),i.TgZ(260,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(261,"\u{1f467}"),i.qZA(),i.TgZ(262,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(263,"\u{1f467}"),i.qZA(),i.TgZ(264,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(265,"\u{1f9d2}"),i.qZA(),i.TgZ(266,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(267,"\u{1f9d2}"),i.qZA(),i.TgZ(268,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(269,"\u{1f9d2}"),i.qZA(),i.TgZ(270,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(271,"\u{1f9d2}"),i.qZA(),i.TgZ(272,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(273,"\u{1f476}"),i.qZA(),i.TgZ(274,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(275,"\u{1f476}"),i.qZA(),i.TgZ(276,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(277,"\u{1f476}"),i.qZA(),i.TgZ(278,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(279,"\u{1f476}"),i.qZA(),i.TgZ(280,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(281,"\u{1f468}"),i.qZA(),i.TgZ(282,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(283,"\u{1f468}"),i.qZA(),i.TgZ(284,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(285,"\u{1f468}"),i.qZA(),i.TgZ(286,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(287,"\u{1f468}"),i.qZA(),i.TgZ(288,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(289,"\u{1f469}"),i.qZA(),i.TgZ(290,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(291,"\u{1f469}"),i.qZA(),i.TgZ(292,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(293,"\u{1f469}"),i.qZA(),i.TgZ(294,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(295,"\u{1f469}"),i.qZA(),i.TgZ(296,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(297,"\u{1f9d1}"),i.qZA(),i.TgZ(298,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(299,"\u{1f9d1}"),i.qZA(),i.TgZ(300,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(301,"\u{1f9d1}"),i.qZA(),i.TgZ(302,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(303,"\u{1f9d1}"),i.qZA(),i.TgZ(304,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(305,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(306,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(307,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(308,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(309,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(310,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(311,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(312,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(313,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(314,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(315,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(316,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(317,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(318,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(319,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(320,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(321,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(322,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(323,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(324,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(325,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(326,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(327,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(328,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(329,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(330,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(331,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(332,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(333,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(334,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(335,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(336,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(337,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(338,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(339,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(340,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d3}"))}),i._uU(341,"\u{1f9d3}"),i.qZA(),i.TgZ(342,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(343,"\u{1f9d4}"),i.qZA(),i.TgZ(344,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f474}"))}),i._uU(345,"\u{1f474}"),i.qZA(),i.TgZ(346,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f475}"))}),i._uU(347,"\u{1f475}"),i.qZA(),i.TgZ(348,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2695\ufe0f"))}),i._uU(349,"\u{1f468}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(350,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2695\ufe0f"))}),i._uU(351,"\u{1f469}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(352,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f393}"))}),i._uU(353,"\u{1f468}\u200d\u{1f393}"),i.qZA(),i.TgZ(354,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f393}"))}),i._uU(355,"\u{1f469}\u200d\u{1f393}"),i.qZA(),i.TgZ(356,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3eb}"))}),i._uU(357,"\u{1f468}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(358,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3eb}"))}),i._uU(359,"\u{1f469}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(360,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2696\ufe0f"))}),i._uU(361,"\u{1f468}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(362,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2696\ufe0f"))}),i._uU(363,"\u{1f469}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(364,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f33e}"))}),i._uU(365,"\u{1f468}\u200d\u{1f33e}"),i.qZA(),i.TgZ(366,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f33e}"))}),i._uU(367,"\u{1f469}\u200d\u{1f33e}"),i.qZA(),i.TgZ(368,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f373}"))}),i._uU(369,"\u{1f468}\u200d\u{1f373}"),i.qZA(),i.TgZ(370,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f373}"))}),i._uU(371,"\u{1f469}\u200d\u{1f373}"),i.qZA(),i.TgZ(372,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f527}"))}),i._uU(373,"\u{1f468}\u200d\u{1f527}"),i.qZA(),i.TgZ(374,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f527}"))}),i._uU(375,"\u{1f469}\u200d\u{1f527}"),i.qZA(),i.TgZ(376,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3ed}"))}),i._uU(377,"\u{1f468}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(378,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3ed}"))}),i._uU(379,"\u{1f469}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(380,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bc}"))}),i._uU(381,"\u{1f468}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(382,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bc}"))}),i._uU(383,"\u{1f469}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(384,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f52c}"))}),i._uU(385,"\u{1f468}\u200d\u{1f52c}"),i.qZA(),i.TgZ(386,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f52c}"))}),i._uU(387,"\u{1f469}\u200d\u{1f52c}"),i.qZA(),i.TgZ(388,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bb}"))}),i._uU(389,"\u{1f468}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(390,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bb}"))}),i._uU(391,"\u{1f469}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(392,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a4}"))}),i._uU(393,"\u{1f468}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(394,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a4}"))}),i._uU(395,"\u{1f469}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(396,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a8}"))}),i._uU(397,"\u{1f468}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(398,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a8}"))}),i._uU(399,"\u{1f469}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(400,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2708\ufe0f"))}),i._uU(401,"\u{1f468}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(402,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2708\ufe0f"))}),i._uU(403,"\u{1f469}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(404,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f680}"))}),i._uU(405,"\u{1f468}\u200d\u{1f680}"),i.qZA(),i.TgZ(406,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f680}"))}),i._uU(407,"\u{1f469}\u200d\u{1f680}"),i.qZA(),i.TgZ(408,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f692}"))}),i._uU(409,"\u{1f468}\u200d\u{1f692}"),i.qZA(),i.TgZ(410,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f692}"))}),i._uU(411,"\u{1f469}\u200d\u{1f692}"),i.qZA(),i.TgZ(412,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}"))}),i._uU(413,"\u{1f46e}"),i.qZA(),i.TgZ(414,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2642\ufe0f"))}),i._uU(415,"\u{1f46e}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(416,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2640\ufe0f"))}),i._uU(417,"\u{1f46e}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(418,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f"))}),i._uU(419,"\u{1f575}\ufe0f"),i.qZA(),i.TgZ(420,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2642\ufe0f"))}),i._uU(421,"\u{1f575}\ufe0f\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(422,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2640\ufe0f"))}),i._uU(423,"\u{1f575}\ufe0f\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(424,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}"))}),i._uU(425,"\u{1f482}"),i.qZA(),i.TgZ(426,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2642\ufe0f"))}),i._uU(427,"\u{1f482}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(428,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2640\ufe0f"))}),i._uU(429,"\u{1f482}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(430,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}"))}),i._uU(431,"\u{1f477}"),i.qZA(),i.TgZ(432,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2642\ufe0f"))}),i._uU(433,"\u{1f477}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(434,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2640\ufe0f"))}),i._uU(435,"\u{1f477}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(436,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f934}"))}),i._uU(437,"\u{1f934}"),i.qZA(),i.TgZ(438,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f478}"))}),i._uU(439,"\u{1f478}"),i.qZA(),i.TgZ(440,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}"))}),i._uU(441,"\u{1f473}"),i.qZA(),i.TgZ(442,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2642\ufe0f"))}),i._uU(443,"\u{1f473}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(444,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2640\ufe0f"))}),i._uU(445,"\u{1f473}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(446,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f472}"))}),i._uU(447,"\u{1f472}"),i.qZA(),i.TgZ(448,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d5}"))}),i._uU(449,"\u{1f9d5}"),i.qZA(),i.TgZ(450,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}"))}),i._uU(451,"\u{1f935}"),i.qZA(),i.TgZ(452,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2642\ufe0f"))}),i._uU(453,"\u{1f935}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(454,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2640\ufe0f"))}),i._uU(455,"\u{1f935}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(456,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}"))}),i._uU(457,"\u{1f470}"),i.qZA(),i.TgZ(458,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2642\ufe0f"))}),i._uU(459,"\u{1f470}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(460,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2640\ufe0f"))}),i._uU(461,"\u{1f470}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(462,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f930}"))}),i._uU(463,"\u{1f930}"),i.qZA(),i.TgZ(464,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f931}"))}),i._uU(465,"\u{1f931}"),i.qZA(),i.TgZ(466,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f37c}"))}),i._uU(467,"\u{1f469}\u200d\u{1f37c}"),i.qZA(),i.TgZ(468,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f37c}"))}),i._uU(469,"\u{1f468}\u200d\u{1f37c}"),i.qZA(),i.TgZ(470,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f37c}"))}),i._uU(471,"\u{1f9d1}\u200d\u{1f37c}"),i.qZA(),i.TgZ(472,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f47c}"))}),i._uU(473,"\u{1f47c}"),i.qZA(),i.TgZ(474,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f385}"))}),i._uU(475,"\u{1f385}"),i.qZA(),i.TgZ(476,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f936}"))}),i._uU(477,"\u{1f936}"),i.qZA(),i.TgZ(478,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}"))}),i._uU(479,"\u{1f9b8}"),i.qZA(),i.TgZ(480,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2642\ufe0f"))}),i._uU(481,"\u{1f9b8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(482,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2640\ufe0f"))}),i._uU(483,"\u{1f9b8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(484,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}"))}),i._uU(485,"\u{1f9b9}"),i.qZA(),i.TgZ(486,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2642\ufe0f"))}),i._uU(487,"\u{1f9b9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(488,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2640\ufe0f"))}),i._uU(489,"\u{1f9b9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(490,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}"))}),i._uU(491,"\u{1f9d9}"),i.qZA(),i.TgZ(492,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2642\ufe0f"))}),i._uU(493,"\u{1f9d9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(494,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2640\ufe0f"))}),i._uU(495,"\u{1f9d9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(496,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}"))}),i._uU(497,"\u{1f9da}"),i.qZA(),i.TgZ(498,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2642\ufe0f"))}),i._uU(499,"\u{1f9da}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(500,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2640\ufe0f"))}),i._uU(501,"\u{1f9da}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(502,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}"))}),i._uU(503,"\u{1f9db}"),i.qZA(),i.TgZ(504,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2642\ufe0f"))}),i._uU(505,"\u{1f9db}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(506,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2640\ufe0f"))}),i._uU(507,"\u{1f9db}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(508,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}"))}),i._uU(509,"\u{1f9dc}"),i.qZA(),i.TgZ(510,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2642\ufe0f"))}),i._uU(511,"\u{1f9dc}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(512,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2640\ufe0f"))}),i._uU(513,"\u{1f9dc}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(514,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}"))}),i._uU(515,"\u{1f9dd}"),i.qZA(),i.TgZ(516,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2642\ufe0f"))}),i._uU(517,"\u{1f9dd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(518,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2640\ufe0f"))}),i._uU(519,"\u{1f9dd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(520,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}"))}),i._uU(521,"\u{1f9de}"),i.qZA(),i.TgZ(522,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2642\ufe0f"))}),i._uU(523,"\u{1f9de}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(524,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2640\ufe0f"))}),i._uU(525,"\u{1f9de}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(526,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}"))}),i._uU(527,"\u{1f9df}"),i.qZA(),i.TgZ(528,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2642\ufe0f"))}),i._uU(529,"\u{1f9df}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(530,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2640\ufe0f"))}),i._uU(531,"\u{1f9df}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(532,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}"))}),i._uU(533,"\u{1f486}"),i.qZA(),i.TgZ(534,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2642\ufe0f"))}),i._uU(535,"\u{1f486}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(536,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2640\ufe0f"))}),i._uU(537,"\u{1f486}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(538,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}"))}),i._uU(539,"\u{1f487}"),i.qZA(),i.TgZ(540,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2642\ufe0f"))}),i._uU(541,"\u{1f487}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(542,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2640\ufe0f"))}),i._uU(543,"\u{1f487}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(544,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}"))}),i._uU(545,"\u{1f6b6}"),i.qZA(),i.TgZ(546,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2642\ufe0f"))}),i._uU(547,"\u{1f6b6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(548,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2640\ufe0f"))}),i._uU(549,"\u{1f6b6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(550,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}"))}),i._uU(551,"\u{1f9cd}"),i.qZA(),i.TgZ(552,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2642\ufe0f"))}),i._uU(553,"\u{1f9cd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(554,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2640\ufe0f"))}),i._uU(555,"\u{1f9cd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(556,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}"))}),i._uU(557,"\u{1f9ce}"),i.qZA(),i.TgZ(558,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2642\ufe0f"))}),i._uU(559,"\u{1f9ce}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(560,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2640\ufe0f"))}),i._uU(561,"\u{1f9ce}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(562,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9af}"))}),i._uU(563,"\u{1f9d1}\u200d\u{1f9af}"),i.qZA(),i.TgZ(564,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9af}"))}),i._uU(565,"\u{1f468}\u200d\u{1f9af}"),i.qZA(),i.TgZ(566,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9af}"))}),i._uU(567,"\u{1f469}\u200d\u{1f9af}"),i.qZA(),i.TgZ(568,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bc}"))}),i._uU(569,"\u{1f9d1}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(570,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bc}"))}),i._uU(571,"\u{1f468}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(572,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bc}"))}),i._uU(573,"\u{1f469}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(574,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bd}"))}),i._uU(575,"\u{1f9d1}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(576,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bd}"))}),i._uU(577,"\u{1f468}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(578,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bd}"))}),i._uU(579,"\u{1f469}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(580,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}"))}),i._uU(581,"\u{1f3c3}"),i.qZA(),i.TgZ(582,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2642\ufe0f"))}),i._uU(583,"\u{1f3c3}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(584,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2640\ufe0f"))}),i._uU(585,"\u{1f3c3}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(586,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}"))}),i._uU(587,"\u{1f483}"),i.qZA(),i.TgZ(588,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2642\ufe0f"))}),i._uU(589,"\u{1f483}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(590,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2640\ufe0f"))}),i._uU(591,"\u{1f483}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(592,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(593,"\u{1f57a}"),i.qZA(),i.TgZ(594,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(595,"\u{1f57a}"),i.qZA(),i.TgZ(596,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(597,"\u{1f57a}"),i.qZA(),i.TgZ(598,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}"))}),i._uU(599,"\u{1f46f}"),i.qZA(),i.TgZ(600,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2642\ufe0f"))}),i._uU(601,"\u{1f46f}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(602,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2640\ufe0f"))}),i._uU(603,"\u{1f46f}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(604,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}"))}),i._uU(605,"\u{1f9d6}"),i.qZA(),i.TgZ(606,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2642\ufe0f"))}),i._uU(607,"\u{1f9d6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(608,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2640\ufe0f"))}),i._uU(609,"\u{1f9d6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(610,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}"))}),i._uU(611,"\u{1f9d8}"),i.qZA(),i.TgZ(612,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2642\ufe0f"))}),i._uU(613,"\u{1f9d8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(614,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2640\ufe0f"))}),i._uU(615,"\u{1f9d8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(616,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6c0}"))}),i._uU(617,"\u{1f6c0}"),i.qZA(),i.TgZ(618,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6cc}"))}),i._uU(619,"\u{1f6cc}"),i.qZA(),i.TgZ(620,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"))}),i._uU(621,"\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"),i.qZA(),i.TgZ(622,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46d}"))}),i._uU(623,"\u{1f46d}"),i.qZA(),i.TgZ(624,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46c}"))}),i._uU(625,"\u{1f46c}"),i.qZA(),i.TgZ(626,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46b}"))}),i._uU(627,"\u{1f46b}"),i.qZA(),i.TgZ(628,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(629,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(630,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f491}"))}),i._uU(631,"\u{1f491}"),i.qZA(),i.TgZ(632,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"))}),i._uU(633,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"),i.qZA(),i.TgZ(634,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(635,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(636,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(637,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(638,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f48f}"))}),i._uU(639,"\u{1f48f}"),i.qZA(),i.TgZ(640,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(641,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(642,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(643,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(644,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(645,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(646,"span",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(647,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA()()()}}function PH(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",33)(1,"span",34),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.cerrar())}),i._uU(2,"\xd7"),i.qZA(),i._UZ(3,"img",35),i.qZA()}if(2&n){const e=i.oxw();i.xp6(3),i.Q6J("src",e.zoomImg,i.LSH)}}const OH=function(n){return{active:n}},RH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:EB},{path:"registrar",component:MB},{path:"recuperar",component:RB},{path:"main",component:ib,canActivate:[Zs]},{path:"main-activate",component:B5,canActivate:[Zs]},{path:"galeria-activate",component:cH,canActivate:[Zs]},{path:"videos-activate",component:yH,canActivate:[Zs]},{path:"galeria",component:oB,canActivate:[Zs]},{path:"videos",component:gB,canActivate:[Zs]},{path:"nuevo-video",component:LB,canActivate:[Zs]},{path:"musica",component:_B,canActivate:[Zs]},{path:"perfil",component:m5,canActivate:[Zs]},{path:"bandeja",component:EH,canActivate:[Zs]},{path:"enviar-mensaje/:id",component:(()=>{class n{constructor(e,r,o,a,l,f,m,v,x,I,F){this.route=e,this._user=r,this.afAuth=o,this.location=a,this.toastr=l,this._imageUser=f,this.router=m,this._msj=v,this.el=x,this.storagex=I,this.cdr=F,this.mensaje="",this.usuariosInfo=[],this.mensajes=[],this.showEmoticonSection=!1,this.abrirImg=!1,this.optionDelete=!1}ngOnInit(){this.afAuth.user.subscribe(e=>{this.usuario=e,this.idUserActual=this.usuario?.uid}),this.route.paramMap.subscribe(e=>{this.id=e.get("id")}),this.getUsers(),this.getMessages()}getUsers(){this._user.getUsers().subscribe(e=>{this.usuariosInfo=[],e.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const a=this.usuariosInfo.find(l=>l.idUser===this.id);this.info=a})})}getMessages(){this._msj.getUMessage().subscribe(e=>{this.mensajes=[],e.forEach(r=>{const o={...r.payload.doc.data()},a={id:r.payload.doc.id,...r.payload.doc.data(),mensaje:o.mensaje||[]};this.mensajes.push(a),this.mensajes.find(F=>F.idEmisor==this.id);const f=this.mensajes.find(F=>F.idEmisor==this.id),x=(this.mensajes.find(F=>F.idEmisor==this.idUserActual),f),I=this.mensajes.find(F=>F.idEmisor==this.idUserActual);x?.idReceptor==this.idUserActual&&x?.idEmisor==this.id?(this.objetoMensaje=x,this.idBody=x?.id):I?.idReceptor==this.id&&null==x?I?.idReceptor==this.id&&I?.idEmisor==this.idUserActual&&(this.idBody=I?.id,this.objetoMensaje2=I):(this.objetoMensaje=void 0,this.objetoMensaje2=void 0),this.entrante=this.objetoMensaje?.para,this.saliente=this.objetoMensaje?.de})})}addMessage(e){if(this.showEmoticonSection=!1,this.mensaje="",null==this.objetoMensaje&&null==this.objetoMensaje2){const r=this.info?.usuario,o=this.usuario?.displayName;let a=this.usuario?.photoURL;null==a&&(a="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let l=this.info?.foto;null==l&&(l="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const f=[];f.push({mensaje:e,foto:l,para:r,de:o}),this._msj.addMessage({de:o,para:r,foto:l,foto1:a,idEmisor:this.id,idReceptor:this.idUserActual,mensaje:f}).then(()=>{})}else{let r=this.usuario?.photoURL;null==r&&(r="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let o=this.info?.foto;null==o&&(o="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const a=this.info?.usuario,l=this.usuario?.displayName;if(null==this.objetoMensaje?.mensaje){const f=this.objetoMensaje2?.mensaje;f.push({mensaje:e,de:l,para:a,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{})}else{const f=this.objetoMensaje?.mensaje;f.push({mensaje:e,de:l,para:a,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{})}}}toggleEmoticonSection(){this.showEmoticonSection=!this.showEmoticonSection}addEmoji(e){this.mensaje+=e}agregarImagen(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const a=new Image,l=new FileReader;l.onload=f=>{a.onload=()=>{const m=document.createElement("canvas");let I=a.width,F=a.height;(I>800||F>600)&&(I>F?(F*=800/I,I=800):(I*=600/F,F=600)),m.width=I,m.height=F;const j=m.getContext("2d");j?(j.drawImage(a,0,0,I,F),m.toBlob(q=>{if(q){const te=`chatsImg/${this.usuario?.uid}/${o.name}`,se=this.storagex.ref(te);this.storagex.upload(te,q,{contentType:q.type}).snapshotChanges().pipe(gu(()=>{se.getDownloadURL().subscribe(Be=>{this.addMessage(Be)})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=f.target.result},l.readAsDataURL(o)}}),e.click()}volver(){this.location.back()}isUrl(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}ampliar(e){this.zoomImg=e,this.abrirImg=!0}cerrar(){this.abrirImg=!1,this.optionDelete=!1}options(e,r){this.capId=r,this.mensajeSeleccionado=e,this.optionDelete=!0}eliminar(){this.capture=this.objetoMensaje2??this.objetoMensaje,this.optionDelete=!1;const e=this.capture?.mensaje.indexOf(this.mensajeSeleccionado);if(-1!==e){this.capture.mensaje.splice(e,1);const r=this.capture?.id;this._msj.update(r,{mensaje:this.capture?.mensaje}).then(()=>{})}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(_c),i.Y36(pd),i.Y36(ar),i.Y36(Ae),i.Y36(Qr),i.Y36(ek),i.Y36(dn),i.Y36(p6),i.Y36(i.SBq),i.Y36(K1),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-sending"]],decls:30,vars:11,consts:[[1,"contenedor"],[1,"container-info"],[1,"fas","fa-arrow-left",3,"click"],[1,"cabecera"],[2,"gap","1rem","display","flex","align-items","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"],[1,"delete",3,"ngClass"],[1,"fas","fa-trash",3,"click"],[2,"color","brown","font-size","31px",3,"click"],[1,"mensajes-container"],["oncontextmenu","return false;",4,"ngIf"],["class","emoticon-section",4,"ngIf"],[3,"submit"],[1,"container-element"],[2,"gap","1em","display","flex","padding","0px 0 0 11px"],[1,"fas","fa-file-image",3,"click"],[2,"cursor","pointer",3,"click"],[1,"far","fa-smile"],[2,"display","contents","width","100%"],["name","mensaje",3,"ngModel","ngModelChange"],[2,"padding","0px 10px 0 0px"],["type","submit",2,"background-color","#0000ff00","border","none","border-radius","14px",3,"disabled"],[1,"fas","fa-chevron-right"],["class","zoom",4,"ngIf"],["oncontextmenu","return false;"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"mousedown"],[4,"ngIf"],["alt","Imagen del mensaje",2,"width","100%",3,"src","click"],[1,"emoticon-section"],[1,"emoticon"],[3,"click"],[1,"zoom"],[1,"cerrar",3,"click"],["alt","zoom",2,"width","87%",3,"src"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"i",2),i.NdJ("click",function(){return r.volver()}),i.qZA()(),i.TgZ(4,"div",3)(5,"div",4),i._UZ(6,"img",5),i.TgZ(7,"div"),i._uU(8),i.qZA()(),i.TgZ(9,"div",6)(10,"i",7),i.NdJ("click",function(){return r.eliminar()}),i.qZA(),i.TgZ(11,"span",8),i.NdJ("click",function(){return r.cerrar()}),i._uU(12,"\xd7"),i.qZA()()()(),i.TgZ(13,"div",9),i.YNc(14,IH,2,1,"div",10),i.YNc(15,kH,2,1,"div",10),i.qZA(),i.YNc(16,NH,648,0,"div",11),i.TgZ(17,"form",12),i.NdJ("submit",function(){return r.addMessage(r.mensaje)}),i.TgZ(18,"div",13)(19,"div",14)(20,"div")(21,"i",15),i.NdJ("click",function(){return r.agregarImagen()}),i.qZA()(),i.TgZ(22,"div",16),i.NdJ("click",function(){return r.toggleEmoticonSection()}),i._UZ(23,"i",17),i.qZA()(),i.TgZ(24,"div",18)(25,"textarea",19),i.NdJ("ngModelChange",function(a){return r.mensaje=a}),i.qZA()(),i.TgZ(26,"div",20)(27,"button",21),i._UZ(28,"i",22),i.qZA()()()()(),i.YNc(29,PH,4,1,"div",23)),2&e&&(i.xp6(6),i.Q6J("src",null!=r.info&&r.info.foto?r.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==r.info?null:r.info.usuario),i.xp6(1),i.Q6J("ngClass",i.VKq(9,OH,r.optionDelete)),i.xp6(5),i.Q6J("ngIf",r.objetoMensaje),i.xp6(1),i.Q6J("ngIf",r.objetoMensaje2),i.xp6(1),i.Q6J("ngIf",r.showEmoticonSection),i.xp6(9),i.Q6J("ngModel",r.mensaje),i.xp6(2),i.Q6J("disabled",!r.mensaje),i.xp6(2),i.Q6J("ngIf",r.abrirImg))},dependencies:[Kt,er,_n,Nr,nr,$i,Yn,No,go],styles:[".contenedor[_ngcontent-%COMP%]{padding:20px}.container-element[_ngcontent-%COMP%]{gap:1rem;padding:2px;bottom:1rem;width:90%;position:absolute;border-radius:20px;background-color:#aa9ea896;display:flex;align-items:center}.container-element[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:80%;height:20px;padding:12px;font-size:16px;border:none;border-radius:10px;background-color:#f2f2f2;outline:none;resize:vertical}.container-element[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#555}.container-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:37px}.mensajes-container[_ngcontent-%COMP%]{overflow-y:auto;max-height:75vh;margin-top:20px}.mensaje-saliente[_ngcontent-%COMP%]{background-color:#cccce9;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative}.mensaje-entrante[_ngcontent-%COMP%]{text-align:end;background-color:#c6e8f8;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative;left:43%}.mensaje-e[_ngcontent-%COMP%]{color:red}.mensaje-s[_ngcontent-%COMP%]{color:#00f}.emoticon-section[_ngcontent-%COMP%]{border-radius:14px;width:82%;bottom:9%;left:6%;position:fixed;background-color:beige;padding:12px}.emoticon[_ngcontent-%COMP%]{gap:5px;display:flex;flex-direction:row;flex-wrap:wrap;overflow-y:auto;height:16vh}.zoom[_ngcontent-%COMP%]{background-color:#00000070;display:flex;position:fixed;top:0%;height:100vh;justify-content:center;align-items:center}.cerrar[_ngcontent-%COMP%]{font-size:68px;color:#fff;position:absolute;top:6rem;right:6%}.delete[_ngcontent-%COMP%]{opacity:0;gap:8px;display:flex;align-items:center}.mensaje-seleccionado[_ngcontent-%COMP%]{background-color:#8a2be2a6;color:#fff}.cabecera[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.delete.active[_ngcontent-%COMP%]{opacity:1}"]}),n})(),canActivate:[Zs]},{path:"perfil-editar",component:y5,canActivate:[Zs]},{path:"usuario/:id",component:Z5,canActivate:[Zs]},{path:"**",redirectTo:"/",pathMatch:"full"}];let FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[wE.forRoot(RH),wE]}),n})(),LH=(()=>{class n{constructor(){this.title="asi-somos-asi-bailamos"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},dependencies:[sv]}),n})();const ik_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};let UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[LH]}),n.\u0275inj=i.cJS({imports:[Ya,FH,dT,QD,rx,Yr.hO.initializeApp(ik_firebase),AE(()=>DI(ik_firebase)),zL(()=>JL()),jm,t0.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,i.G48)(),fl().bootstrapModule(UH).catch(n=>console.error(n))},9751:(wt,Oe,V)=>{V.d(Oe,{y:()=>ve});var i=V(2961),B=V(727),R=V(8822),oe=V(9635),de=V(2416),_e=V(576),pe=V(2806);let ve=(()=>{class Q{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const xe=new Q;return xe.source=this,xe.operator=Pe,xe}subscribe(Pe,xe,rt){const Ce=function $(Q){return Q&&Q instanceof i.Lv||function z(Q){return Q&&(0,_e.m)(Q.next)&&(0,_e.m)(Q.error)&&(0,_e.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(Pe)?Pe:new i.Hp(Pe,xe,rt);return(0,pe.x)(()=>{const{operator:ye,source:yt}=this;Ce.add(ye?ye.call(Ce,yt):yt?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(xe){Pe.error(xe)}}forEach(Pe,xe){return new(xe=De(xe))((rt,Ce)=>{const ye=new i.Hp({next:yt=>{try{Pe(yt)}catch(pt){Ce(pt),ye.unsubscribe()}},error:Ce,complete:rt});this.subscribe(ye)})}_subscribe(Pe){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Pe)}[R.L](){return this}pipe(...Pe){return(0,oe.U)(Pe)(this)}toPromise(Pe){return new(Pe=De(Pe))((xe,rt)=>{let Ce;this.subscribe(ye=>Ce=ye,ye=>rt(ye),()=>xe(Ce))})}}return Q.create=Ge=>new Q(Ge),Q})();function De(Q){var Ge;return null!==(Ge=Q??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(wt,Oe,V)=>{V.d(Oe,{x:()=>pe});var i=V(9751),B=V(727);const oe=(0,V(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),_e=V(2806);let pe=(()=>{class De extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new ve(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ge,observers:Pe}=this;return Q||Ge?B.Lc:(this.currentObservers=null,Pe.push($),new B.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ge,isStopped:Pe}=this;Q?$.error(Ge):Pe&&$.complete()}asObservable(){const $=new i.y;return $.source=this,$}}return De.create=(z,$)=>new ve(z,$),De})();class ve extends pe{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,z)}error(z){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==Q?Q:B.Lc}}},2961:(wt,Oe,V)=>{V.d(Oe,{Hp:()=>rt,Lv:()=>Q});var i=V(576),B=V(727),R=V(2416),oe=V(7849);function de(){}const _e=De("C",void 0,void 0);function De(Ae,be,Se){return{kind:Ae,value:be,error:Se}}var z=V(3410),$=V(2806);class Q extends B.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,B.Nn)(be)&&be.add(this)):this.destination=pt}static create(be,Se,$e){return new rt(be,Se,$e)}next(be){this.isStopped?yt(function ve(Ae){return De("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?yt(function pe(Ae){return De("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?yt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Pe(Ae,be){return Ge.call(Ae,be)}class xe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Se}=this;if(Se.next)try{Se.next(be)}catch($e){Ce($e)}}error(be){const{partialObserver:Se}=this;if(Se.error)try{Se.error(be)}catch($e){Ce($e)}else Ce(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Se){Ce(Se)}}}class rt extends Q{constructor(be,Se,$e){let ze;if(super(),(0,i.m)(be)||!be)ze={next:be??void 0,error:Se??void 0,complete:$e??void 0};else{let le;this&&R.v.useDeprecatedNextContext?(le=Object.create(be),le.unsubscribe=()=>this.unsubscribe(),ze={next:be.next&&Pe(be.next,le),error:be.error&&Pe(be.error,le),complete:be.complete&&Pe(be.complete,le)}):ze=be}this.destination=new xe(ze)}}function Ce(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function yt(Ae,be){const{onStoppedNotification:Se}=R.v;Se&&z.z.setTimeout(()=>Se(Ae,be))}const pt={closed:!0,next:de,error:function ye(Ae){throw Ae},complete:de}},727:(wt,Oe,V)=>{V.d(Oe,{Lc:()=>_e,w0:()=>de,Nn:()=>pe});var i=V(576);const R=(0,V(3888).d)(De=>function($){De(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ge)=>`${Ge+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=V(8737);class de{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Pe of $)Pe.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,i.m)(Q))try{Q()}catch(Pe){z=Pe instanceof R?Pe.errors:[Pe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Pe of Ge)try{ve(Pe)}catch(xe){z=z??[],xe instanceof R?z=[...z,...xe.errors]:z.push(xe)}}if(z)throw new R(z)}}add(z){var $;if(z&&z!==this)if(this.closed)ve(z);else{if(z instanceof de){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,oe.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,oe.P)($,z),z instanceof de&&z._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const _e=de.EMPTY;function pe(De){return De instanceof de||De&&"closed"in De&&(0,i.m)(De.remove)&&(0,i.m)(De.add)&&(0,i.m)(De.unsubscribe)}function ve(De){(0,i.m)(De)?De():De.unsubscribe()}},2416:(wt,Oe,V)=>{V.d(Oe,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Oe,V)=>{V.d(Oe,{E:()=>B});const B=new(V(9751).y)(de=>de.complete())},8996:(wt,Oe,V)=>{V.d(Oe,{D:()=>be});var i=V(8421),B=V(5363),R=V(9468),_e=V(9751),ve=V(2202),De=V(576),z=V(9672);function Q(Se,$e){if(!Se)throw new Error("Iterable cannot be null");return new _e.y(ze=>{(0,z.f)(ze,$e,()=>{const le=Se[Symbol.asyncIterator]();(0,z.f)(ze,$e,()=>{le.next().then(Ye=>{Ye.done?ze.complete():ze.next(Ye.value)})},0,!0)})})}var Ge=V(3670),Pe=V(8239),xe=V(1144),rt=V(6495),Ce=V(2206),ye=V(4532),yt=V(3260);function be(Se,$e){return $e?function Ae(Se,$e){if(null!=Se){if((0,Ge.c)(Se))return function oe(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,B.Q)($e))}(Se,$e);if((0,xe.z)(Se))return function pe(Se,$e){return new _e.y(ze=>{let le=0;return $e.schedule(function(){le===Se.length?ze.complete():(ze.next(Se[le++]),ze.closed||this.schedule())})})}(Se,$e);if((0,Pe.t)(Se))return function de(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,B.Q)($e))}(Se,$e);if((0,Ce.D)(Se))return Q(Se,$e);if((0,rt.T)(Se))return function $(Se,$e){return new _e.y(ze=>{let le;return(0,z.f)(ze,$e,()=>{le=Se[ve.h](),(0,z.f)(ze,$e,()=>{let Ye,At;try{({value:Ye,done:At}=le.next())}catch(gt){return void ze.error(gt)}At?ze.complete():ze.next(Ye)},0,!0)}),()=>(0,De.m)(le?.return)&&le.return()})}(Se,$e);if((0,yt.L)(Se))return function pt(Se,$e){return Q((0,yt.Q)(Se),$e)}(Se,$e)}throw(0,ye.z)(Se)}(Se,$e):(0,i.Xf)(Se)}},8421:(wt,Oe,V)=>{V.d(Oe,{Xf:()=>Ge});var i=V(7582),B=V(1144),R=V(8239),oe=V(9751),de=V(3670),_e=V(2206),pe=V(4532),ve=V(6495),De=V(3260),z=V(576),$=V(7849),Q=V(8822);function Ge(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,de.c)(Ae))return function Pe(Ae){return new oe.y(be=>{const Se=Ae[Q.L]();if((0,z.m)(Se.subscribe))return Se.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,B.z)(Ae))return function xe(Ae){return new oe.y(be=>{for(let Se=0;Se<Ae.length&&!be.closed;Se++)be.next(Ae[Se]);be.complete()})}(Ae);if((0,R.t)(Ae))return function rt(Ae){return new oe.y(be=>{Ae.then(Se=>{be.closed||(be.next(Se),be.complete())},Se=>be.error(Se)).then(null,$.h)})}(Ae);if((0,_e.D)(Ae))return ye(Ae);if((0,ve.T)(Ae))return function Ce(Ae){return new oe.y(be=>{for(const Se of Ae)if(be.next(Se),be.closed)return;be.complete()})}(Ae);if((0,De.L)(Ae))return function yt(Ae){return ye((0,De.Q)(Ae))}(Ae)}throw(0,pe.z)(Ae)}function ye(Ae){return new oe.y(be=>{(function pt(Ae,be){var Se,$e,ze,le;return(0,i.mG)(this,void 0,void 0,function*(){try{for(Se=(0,i.KL)(Ae);!($e=yield Se.next()).done;)if(be.next($e.value),be.closed)return}catch(Ye){ze={error:Ye}}finally{try{$e&&!$e.done&&(le=Se.return)&&(yield le.call(Se))}finally{if(ze)throw ze.error}}be.complete()})})(Ae,be).catch(Se=>be.error(Se))})}},6451:(wt,Oe,V)=>{V.d(Oe,{T:()=>_e});var i=V(8189),B=V(8421),R=V(515),oe=V(7669),de=V(8996);function _e(...pe){const ve=(0,oe.yG)(pe),De=(0,oe._6)(pe,1/0),z=pe;return z.length?1===z.length?(0,B.Xf)(z[0]):(0,i.J)(De)((0,de.D)(z,ve)):R.E}},5403:(wt,Oe,V)=>{V.d(Oe,{x:()=>B});var i=V(2961);function B(oe,de,_e,pe,ve){return new R(oe,de,_e,pe,ve)}class R extends i.Lv{constructor(de,_e,pe,ve,De,z){super(de),this.onFinalize=De,this.shouldUnsubscribe=z,this._next=_e?function($){try{_e($)}catch(Q){de.error(Q)}}:super._next,this._error=ve?function($){try{ve($)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch($){de.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(wt,Oe,V)=>{V.d(Oe,{U:()=>R});var i=V(4482),B=V(5403);function R(oe,de){return(0,i.e)((_e,pe)=>{let ve=0;_e.subscribe((0,B.x)(pe,De=>{pe.next(oe.call(de,De,ve++))}))})}},8189:(wt,Oe,V)=>{V.d(Oe,{J:()=>R});var i=V(5577),B=V(4671);function R(oe=1/0){return(0,i.z)(B.y,oe)}},5577:(wt,Oe,V)=>{V.d(Oe,{z:()=>ve});var i=V(4004),B=V(8421),R=V(4482),oe=V(9672),de=V(5403),pe=V(576);function ve(De,z,$=1/0){return(0,pe.m)(z)?ve((Q,Ge)=>(0,i.U)((Pe,xe)=>z(Q,Pe,Ge,xe))((0,B.Xf)(De(Q,Ge))),$):("number"==typeof z&&($=z),(0,R.e)((Q,Ge)=>function _e(De,z,$,Q,Ge,Pe,xe,rt){const Ce=[];let ye=0,yt=0,pt=!1;const Ae=()=>{pt&&!Ce.length&&!ye&&z.complete()},be=$e=>ye<Q?Se($e):Ce.push($e),Se=$e=>{Pe&&z.next($e),ye++;let ze=!1;(0,B.Xf)($($e,yt++)).subscribe((0,de.x)(z,le=>{Ge?.(le),Pe?be(le):z.next(le)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ye--;Ce.length&&ye<Q;){const le=Ce.shift();xe?(0,oe.f)(z,xe,()=>Se(le)):Se(le)}Ae()}catch(le){z.error(le)}}))};return De.subscribe((0,de.x)(z,be,()=>{pt=!0,Ae()})),()=>{rt?.()}}(Q,Ge,De,$)))}},5363:(wt,Oe,V)=>{V.d(Oe,{Q:()=>oe});var i=V(9672),B=V(4482),R=V(5403);function oe(de,_e=0){return(0,B.e)((pe,ve)=>{pe.subscribe((0,R.x)(ve,De=>(0,i.f)(ve,de,()=>ve.next(De),_e),()=>(0,i.f)(ve,de,()=>ve.complete(),_e),De=>(0,i.f)(ve,de,()=>ve.error(De),_e)))})}},3099:(wt,Oe,V)=>{V.d(Oe,{B:()=>de});var i=V(8421),B=V(7579),R=V(2961),oe=V(4482);function de(pe={}){const{connector:ve=(()=>new B.x),resetOnError:De=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=pe;return Q=>{let Ge,Pe,xe,rt=0,Ce=!1,ye=!1;const yt=()=>{Pe?.unsubscribe(),Pe=void 0},pt=()=>{yt(),Ge=xe=void 0,Ce=ye=!1},Ae=()=>{const be=Ge;pt(),be?.unsubscribe()};return(0,oe.e)((be,Se)=>{rt++,!ye&&!Ce&&yt();const $e=xe=xe??ve();Se.add(()=>{rt--,0===rt&&!ye&&!Ce&&(Pe=_e(Ae,$))}),$e.subscribe(Se),!Ge&&rt>0&&(Ge=new R.Hp({next:ze=>$e.next(ze),error:ze=>{ye=!0,yt(),Pe=_e(pt,De,ze),$e.error(ze)},complete:()=>{Ce=!0,yt(),Pe=_e(pt,z),$e.complete()}}),(0,i.Xf)(be).subscribe(Ge))})(Q)}}function _e(pe,ve,...De){if(!0===ve)return void pe();if(!1===ve)return;const z=new R.Hp({next:()=>{z.unsubscribe(),pe()}});return ve(...De).subscribe(z)}},9468:(wt,Oe,V)=>{V.d(Oe,{R:()=>B});var i=V(4482);function B(R,oe=0){return(0,i.e)((de,_e)=>{_e.add(R.schedule(()=>de.subscribe(_e),oe))})}},8505:(wt,Oe,V)=>{V.d(Oe,{b:()=>de});var i=V(576),B=V(4482),R=V(5403),oe=V(4671);function de(_e,pe,ve){const De=(0,i.m)(_e)||pe||ve?{next:_e,error:pe,complete:ve}:_e;return De?(0,B.e)((z,$)=>{var Q;null===(Q=De.subscribe)||void 0===Q||Q.call(De);let Ge=!0;z.subscribe((0,R.x)($,Pe=>{var xe;null===(xe=De.next)||void 0===xe||xe.call(De,Pe),$.next(Pe)},()=>{var Pe;Ge=!1,null===(Pe=De.complete)||void 0===Pe||Pe.call(De),$.complete()},Pe=>{var xe;Ge=!1,null===(xe=De.error)||void 0===xe||xe.call(De,Pe),$.error(Pe)},()=>{var Pe,xe;Ge&&(null===(Pe=De.unsubscribe)||void 0===Pe||Pe.call(De)),null===(xe=De.finalize)||void 0===xe||xe.call(De)}))}):oe.y}},4408:(wt,Oe,V)=>{V.d(Oe,{o:()=>de});var i=V(727);class B extends i.w0{constructor(pe,ve){super()}schedule(pe,ve=0){return this}}const R={setInterval(_e,pe,...ve){const{delegate:De}=R;return De?.setInterval?De.setInterval(_e,pe,...ve):setInterval(_e,pe,...ve)},clearInterval(_e){const{delegate:pe}=R;return(pe?.clearInterval||clearInterval)(_e)},delegate:void 0};var oe=V(8737);class de extends B{constructor(pe,ve){super(pe,ve),this.scheduler=pe,this.work=ve,this.pending=!1}schedule(pe,ve=0){var De;if(this.closed)return this;this.state=pe;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,ve)),this.pending=!0,this.delay=ve,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId($,this.id,ve),this}requestAsyncId(pe,ve,De=0){return R.setInterval(pe.flush.bind(pe,this),De)}recycleAsyncId(pe,ve,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ve;null!=ve&&R.clearInterval(ve)}execute(pe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(pe,ve);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ve){let z,De=!1;try{this.work(pe)}catch($){De=!0,z=$||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ve}=this,{actions:De}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(De,this),null!=pe&&(this.id=this.recycleAsyncId(ve,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Oe,V)=>{V.d(Oe,{v:()=>R});var i=V(6063);class B{constructor(de,_e=B.now){this.schedulerActionCtor=de,this.now=_e}schedule(de,_e=0,pe){return new this.schedulerActionCtor(this,de).schedule(pe,_e)}}B.now=i.l.now;class R extends B{constructor(de,_e=B.now){super(de,_e),this.actions=[],this._active=!1}flush(de){const{actions:_e}=this;if(this._active)return void _e.push(de);let pe;this._active=!0;do{if(pe=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this._active=!1,pe){for(;de=_e.shift();)de.unsubscribe();throw pe}}}},4986:(wt,Oe,V)=>{V.d(Oe,{z:()=>R});var i=V(4408);const R=new(V(7565).v)(i.o)},6063:(wt,Oe,V)=>{V.d(Oe,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(wt,Oe,V)=>{V.d(Oe,{z:()=>i});const i={setTimeout(B,R,...oe){const{delegate:de}=i;return de?.setTimeout?de.setTimeout(B,R,...oe):setTimeout(B,R,...oe)},clearTimeout(B){const{delegate:R}=i;return(R?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(wt,Oe,V)=>{V.d(Oe,{h:()=>B});const B=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Oe,V)=>{V.d(Oe,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,Oe,V)=>{V.d(Oe,{_6:()=>_e,jO:()=>oe,yG:()=>de});var i=V(576);function R(pe){return pe[pe.length-1]}function oe(pe){return(0,i.m)(R(pe))?pe.pop():void 0}function de(pe){return function B(pe){return pe&&(0,i.m)(pe.schedule)}(R(pe))?pe.pop():void 0}function _e(pe,ve){return"number"==typeof R(pe)?pe.pop():ve}},8737:(wt,Oe,V)=>{function i(B,R){if(B){const oe=B.indexOf(R);0<=oe&&B.splice(oe,1)}}V.d(Oe,{P:()=>i})},3888:(wt,Oe,V)=>{function i(B){const oe=B(de=>{Error.call(de),de.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(Oe,{d:()=>i})},2806:(wt,Oe,V)=>{V.d(Oe,{O:()=>oe,x:()=>R});var i=V(2416);let B=null;function R(de){if(i.v.useDeprecatedSynchronousErrorHandling){const _e=!B;if(_e&&(B={errorThrown:!1,error:null}),de(),_e){const{errorThrown:pe,error:ve}=B;if(B=null,pe)throw ve}}else de()}function oe(de){i.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=de)}},9672:(wt,Oe,V)=>{function i(B,R,oe,de=0,_e=!1){const pe=R.schedule(function(){oe(),_e?B.add(this.schedule(null,de)):this.unsubscribe()},de);if(B.add(pe),!_e)return pe}V.d(Oe,{f:()=>i})},4671:(wt,Oe,V)=>{function i(B){return B}V.d(Oe,{y:()=>i})},1144:(wt,Oe,V)=>{V.d(Oe,{z:()=>i});const i=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(wt,Oe,V)=>{V.d(Oe,{D:()=>B});var i=V(576);function B(R){return Symbol.asyncIterator&&(0,i.m)(R?.[Symbol.asyncIterator])}},576:(wt,Oe,V)=>{function i(B){return"function"==typeof B}V.d(Oe,{m:()=>i})},3670:(wt,Oe,V)=>{V.d(Oe,{c:()=>R});var i=V(8822),B=V(576);function R(oe){return(0,B.m)(oe[i.L])}},6495:(wt,Oe,V)=>{V.d(Oe,{T:()=>R});var i=V(2202),B=V(576);function R(oe){return(0,B.m)(oe?.[i.h])}},8239:(wt,Oe,V)=>{V.d(Oe,{t:()=>B});var i=V(576);function B(R){return(0,i.m)(R?.then)}},3260:(wt,Oe,V)=>{V.d(Oe,{L:()=>oe,Q:()=>R});var i=V(7582),B=V(576);function R(de){return(0,i.FC)(this,arguments,function*(){const pe=de.getReader();try{for(;;){const{value:ve,done:De}=yield(0,i.qq)(pe.read());if(De)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(ve)}}finally{pe.releaseLock()}})}function oe(de){return(0,B.m)(de?.getReader)}},4482:(wt,Oe,V)=>{V.d(Oe,{A:()=>B,e:()=>R});var i=V(576);function B(oe){return(0,i.m)(oe?.lift)}function R(oe){return de=>{if(B(de))return de.lift(function(_e){try{return oe(_e,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(wt,Oe,V)=>{V.d(Oe,{U:()=>R,z:()=>B});var i=V(4671);function B(...oe){return R(oe)}function R(oe){return 0===oe.length?i.y:1===oe.length?oe[0]:function(_e){return oe.reduce((pe,ve)=>ve(pe),_e)}}},7849:(wt,Oe,V)=>{V.d(Oe,{h:()=>R});var i=V(2416),B=V(3410);function R(oe){B.z.setTimeout(()=>{const{onUnhandledError:de}=i.v;if(!de)throw oe;de(oe)})}},4532:(wt,Oe,V)=>{function i(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>i})},4650:(wt,Oe,V)=>{V.d(Oe,{$8M:()=>Zd,$Z:()=>NC,AFp:()=>JE,AaK:()=>ve,AsE:()=>op,BQk:()=>Cu,CHM:()=>el,CRH:()=>Lm,CZH:()=>Bm,CqO:()=>zl,D6c:()=>OA,EJc:()=>rA,EiD:()=>ey,EpF:()=>Wy,F4k:()=>Yy,FYo:()=>NT,FiY:()=>So,G48:()=>wN,GfV:()=>Ng,Gpc:()=>$,JOm:()=>Yn,JVY:()=>W_,KtG:()=>Rc,L6k:()=>BD,LAX:()=>GD,LFG:()=>ci,LSH:()=>ty,Lbi:()=>tA,Lck:()=>fI,MAs:()=>ep,MMx:()=>ln,NdJ:()=>Qy,OlP:()=>vn,Oqu:()=>Vw,PXZ:()=>mN,Q6J:()=>$y,QGY:()=>am,QP$:()=>we,QbO:()=>nA,Qsj:()=>PT,R0b:()=>Fs,RDi:()=>rT,Rgc:()=>mp,SBq:()=>Nf,Sil:()=>sA,Suo:()=>jv,TTD:()=>qu,TgZ:()=>Ky,Tol:()=>hm,Udp:()=>Dh,VKq:()=>td,WLB:()=>Ht,X6Q:()=>CN,XFs:()=>ut,Xpm:()=>Pn,Xts:()=>rC,Y36:()=>hc,YKP:()=>xE,YNc:()=>pw,Yjl:()=>L,Yz7:()=>Me,Z0I:()=>kt,ZZ4:()=>f0,_Bn:()=>TE,_UZ:()=>Jy,_Vd:()=>kf,_c5:()=>pb,_uU:()=>bx,aQg:()=>zm,c2e:()=>iA,cJS:()=>xt,cg1:()=>lp,d8E:()=>uv,dDg:()=>fN,dqk:()=>nn,eBb:()=>HD,eFA:()=>gA,ekj:()=>dm,eoX:()=>qm,f3M:()=>vl,g9A:()=>YE,h0i:()=>vc,hGG:()=>PA,hij:()=>av,iGM:()=>wp,ifc:()=>bt,ip1:()=>KE,jDz:()=>Eu,kEZ:()=>Dc,kL8:()=>_m,lG2:()=>H,lqb:()=>Ul,lri:()=>Gm,mCW:()=>xg,n5z:()=>Ja,oAB:()=>vi,oJD:()=>fT,oxw:()=>yw,pB0:()=>Fl,q3G:()=>Fi,q4F:()=>ac,qLn:()=>Dr,qOj:()=>ss,qZA:()=>sm,qzn:()=>rh,rWj:()=>r0,sBO:()=>EN,sIi:()=>Yf,s_b:()=>Om,soG:()=>Xv,tb:()=>QE,tp0:()=>ta,uIk:()=>By,vHH:()=>xe,vpe:()=>Da,wAp:()=>Zt,xp6:()=>uc,ynx:()=>Du,z2F:()=>a0,z3N:()=>ha,zSh:()=>iy,zs3:()=>Zl});var i=V(7579),B=V(727),R=V(9751),oe=V(6451),de=V(3099);function _e(s){for(let c in s)if(s[c]===_e)return c;throw Error("Could not find renamed property on target object.")}function pe(s,c){for(const u in c)c.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=c[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const c=s.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function De(s,c){return null==s||""===s?null===c?"":c:null==c||""===c?s:s+" "+c}const z=_e({__forward_ref__:_e});function $(s){return s.__forward_ref__=$,s.toString=function(){return ve(this())},s}function Q(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class xe extends Error{constructor(c,u){super(function rt(s,c){return`NG0${Math.abs(s)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,c){throw new xe(-201,!1)}function ae(s,c){null==s&&function ne(s,c,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${c} <=Actual]`))}(c,s,null,"!=")}function Me(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return on(s,Sn)||on(s,mi)}function kt(s){return null!==tn(s)}function on(s,c){return s.hasOwnProperty(c)?s[c]:null}function Qn(s){return s&&(s.hasOwnProperty(Zn)||s.hasOwnProperty(Tr))?s[Zn]:null}const Sn=_e({\u0275prov:_e}),Zn=_e({\u0275inj:_e}),mi=_e({ngInjectableDef:_e}),Tr=_e({ngInjectorDef:_e});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let _i;function $n(s){const c=_i;return _i=s,c}function Br(s,c,u){const d=tn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ut.Optional?null:void 0!==c?c:void be(ve(s))}function On(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ri={},St=[],zn=_e({\u0275cmp:_e}),zt=_e({\u0275dir:_e}),ao=_e({\u0275pipe:_e}),sn=_e({\u0275mod:_e}),jn=_e({\u0275fac:_e}),En=_e({__NG_ELEMENT_ID__:_e});let ei=0;function Pn(s){return On(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+ei++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,y=s.features;return h.inputs=G(s.inputs,d),h.outputs=G(s.outputs),y&&y.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ti).filter(xr):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(W).filter(xr):null,h})}function ti(s){return O(s)||N(s)}function xr(s){return null!==s}function vi(s){return On(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,c){if(null==s)return ri;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,c&&(c[h]=g)}return u}const H=Pn;function L(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[zn]||null}function N(s){return s[zt]||null}function W(s){return s[ao]||null}function we(s){const c=O(s)||N(s)||W(s);return null!==c&&c.standalone}function We(s,c){const u=s[sn]||null;if(!u&&!0===c)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function Gi(s){return Array.isArray(s)&&!0===s[1]}function Sa(s){return 0!=(8&s.flags)}function bo(s){return 2==(2&s.flags)}function Ma(s){return 1==(1&s.flags)}function Ir(s){return null!==s.template}function ka(s){return 0!=(256&s[2])}function gs(s,c){return s.hasOwnProperty(jn)?s[jn]:null}class co{constructor(c,u,d){this.previousValue=c,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function qu(){return Sc}function Sc(s){return s.type.prototype.ngOnChanges&&(s.setInput=Pa),$u}function $u(){const s=zu(this),c=s?.current;if(c){const u=s.previous;if(u===ri)s.previous=c;else for(let d in c)u[d]=c[d];s.current=null,this.ngOnChanges(c)}}function Pa(s,c,u,d){const h=zu(s)||function xd(s,c){return s[Td]=c}(s,{previous:ri,current:null}),g=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[u],b=y[E];g[E]=new co(b&&b.currentValue,c,y===ri),s[d]=c}qu.ngInherit=!0;const Td="__ngSimpleChanges__";function zu(s){return s[Td]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function ms(s,c){return xn(c[s])}function dr(s,c){return xn(c[s.index])}function Wu(s,c){return s.data[c]}function ki(s,c){const u=c[s];return Ti(u)?u:u[0]}function kc(s){return 64==(64&s[2])}function Ar(s,c){return null==c?null:s[c]}function xi(s){s[18]=0}function Gs(s,c){s[5]+=c;let u=s,d=s[3];for(;null!==d&&(1===c&&1===u[5]||-1===c&&0===u[5]);)d[5]+=c,u=d,d=d[3]}const Pt={lFrame:Za(null),bindingsEnabled:!0};function Pc(){return Pt.bindingsEnabled}function ke(){return Pt.lFrame.lView}function en(){return Pt.lFrame.tView}function el(s){return Pt.lFrame.contextLView=s,s[8]}function Rc(s){return Pt.lFrame.contextLView=null,s}function Jn(){let s=Ra();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ra(){return Pt.lFrame.currentTNode}function Sr(s,c){const u=Pt.lFrame;u.currentTNode=s,u.isParent=c}function Fa(){return Pt.lFrame.isParent}function Fc(){Pt.lFrame.isParent=!1}function hr(){const s=Pt.lFrame;let c=s.bindingRootIndex;return-1===c&&(c=s.bindingRootIndex=s.tView.bindingStartIndex),c}function _s(){return Pt.lFrame.bindingIndex++}function pr(s){const c=Pt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+s,u}function kd(s,c){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ua(c)}function Ua(s){Pt.lFrame.currentDirectiveIndex=s}function nl(s){const c=Pt.lFrame.currentDirectiveIndex;return-1===c?null:s[c]}function qs(){return Pt.lFrame.currentQueryIndex}function tr(s){Pt.lFrame.currentQueryIndex=s}function Uc(s){const c=s[1];return 2===c.type?c.declTNode:1===c.type?s[6]:null}function il(s,c,u){if(u&ut.SkipSelf){let h=c,g=s;for(;!(h=h.parent,null!==h||u&ut.Host||(h=Uc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;c=h,s=g}const d=Pt.lFrame=Va();return d.currentTNode=c,d.lView=s,!0}function ys(s){const c=Va(),u=s[1];Pt.lFrame=c,c.currentTNode=u.firstChild,c.lView=s,c.tView=u,c.contextLView=s,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function Va(){const s=Pt.lFrame,c=null===s?null:s.child;return null===c?Za(s):c}function Za(s){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=c),c}function rl(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Nd=rl;function $o(){const s=rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hn(){return Pt.lFrame.selectedIndex}function vs(s){Pt.lFrame.selectedIndex=s}function An(){const s=Pt.lFrame;return Wu(s.tView,s.selectedIndex)}function Ba(s,c){for(let u=c.directiveStart,d=c.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:k}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function Ds(s,c,u){ol(s,c,3,u)}function jc(s,c,u,d){(3&s[2])===u&&ol(s,c,u,d)}function Bc(s,c){let u=s[2];(3&u)===c&&(u&=2047,u+=1,s[2]=u)}function ol(s,c,u,d){const g=d??-1,y=c.length-1;let E=0;for(let b=void 0!==d?65535&s[18]:0;b<y;b++)if("number"==typeof c[b+1]){if(E=c[b],null!=d&&E>=d)break}else c[b]<0&&(s[18]+=65536),(E<g||-1==g)&&(cf(s,u,c,b),s[18]=(4294901760&s[18])+b+2),b++}function cf(s,c,u,d){const h=u[d]<0,g=u[d+1],E=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===c){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class $s{constructor(c,u,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function al(s,c,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],y=u[d++],E=u[d++];s.setAttribute(c,y,E,g)}else{const g=h,y=u[++d];Ud(g)?s.setProperty(c,g,y):s.setAttribute(c,g,y),d++}}return d}function Gc(s){return 3===s||4===s||6===s}function Ud(s){return 64===s.charCodeAt(0)}function Ks(s,c){if(null!==c&&0!==c.length)if(null===s||0===s.length)s=c.slice();else{let u=-1;for(let d=0;d<c.length;d++){const h=c[d];"number"==typeof h?u=h:0===u||lf(s,u,h,null,-1===u||2===u?c[++d]:null)}}return s}function lf(s,c,u,d,h){let g=0,y=s.length;if(-1===c)y=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===c){y=-1;break}if(E>c){y=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,c),g=y+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function cl(s){return-1!==s}function Ha(s){return 32767&s}function lo(s,c){let u=function df(s){return s>>16}(s),d=c;for(;u>0;)d=d[15],u--;return d}let zo=!0;function gr(s){const c=zo;return zo=s,c}let Ga=0;const $r={};function Js(s,c){const u=ws(s,c);if(-1!==u)return u;const d=c[1];d.firstCreatePass&&(s.injectorIndex=c.length,qa(d.data,s),qa(c,null),qa(d.blueprint,null));const h=$a(s,c),g=s.injectorIndex;if(cl(h)){const y=Ha(h),E=lo(h,c),b=E[1].data;for(let A=0;A<8;A++)c[g+A]=E[y+A]|b[y+A]}return c[g+8]=h,g}function qa(s,c){s.push(0,0,0,0,0,0,0,0,c)}function ws(s,c){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===c[s.injectorIndex+8]?-1:s.injectorIndex}function $a(s,c){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=c;for(;null!==h;){if(d=hl(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Jo(s,c,u){!function $c(s,c,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(En)&&(d=u[En]),null==d&&(d=u[En]=Ga++);const h=255&d;c.data[s+(h>>5)]|=1<<h}(s,c,u)}function ll(s,c,u){if(u&ut.Optional||void 0!==s)return s;be()}function hf(s,c,u,d){if(u&ut.Optional&&void 0===d&&(d=null),0==(u&(ut.Self|ut.Host))){const h=s[9],g=$n(void 0);try{return h?h.get(c,d,u&ut.Optional):Br(c,d,u&ut.Optional)}finally{$n(g)}}return ll(d,0,u)}function Ws(s,c,u,d=ut.Default,h){if(null!==s){if(1024&c[2]){const y=function dl(s,c,u,d,h){let g=s,y=c;for(;null!==g&&null!==y&&1024&y[2]&&!(256&y[2]);){const E=Ka(g,y,u,d|ut.Self,$r);if(E!==$r)return E;let b=g.parent;if(!b){const A=y[21];if(A){const k=A.get(u,$r,d);if(k!==$r)return k}b=hl(y),y=y[15]}g=b}return h}(s,c,u,d,$r);if(y!==$r)return y}const g=Ka(s,c,u,d,$r);if(g!==$r)return g}return hf(c,u,d,h)}function Ka(s,c,u,d,h){const g=function ug(s){if("string"==typeof s)return s.charCodeAt(0)||0;const c=s.hasOwnProperty(En)?s[En]:void 0;return"number"==typeof c?c>=0?255&c:oi:c}(u);if("function"==typeof g){if(!il(c,s,d))return d&ut.Host?ll(h,0,d):hf(c,u,d,h);try{const y=g(d);if(null!=y||d&ut.Optional)return y;be()}finally{Nd()}}else if("number"==typeof g){let y=null,E=ws(s,c),b=-1,A=d&ut.Host?c[16][6]:null;for((-1===E||d&ut.SkipSelf)&&(b=-1===E?$a(s,c):c[E+8],-1!==b&&Yo(d,!1)?(y=c[1],E=Ha(b),c=lo(b,c)):E=-1);-1!==E;){const k=c[1];if(ff(g,E,k.data)){const Z=Vd(E,c,u,y,d,A);if(Z!==$r)return Z}b=c[E+8],-1!==b&&Yo(d,c[1].data[E+8]===A)&&ff(g,E,c)?(y=k,E=Ha(b),c=lo(b,c)):E=-1}}return h}function Vd(s,c,u,d,h,g){const y=c[1],E=y.data[s+8],k=Ys(E,y,u,null==d?bo(E)&&zo:d!=y&&0!=(3&E.type),h&ut.Host&&g===E);return null!==k?Wo(c,y,k,E):$r}function Ys(s,c,u,d,h){const g=s.providerIndexes,y=c.data,E=1048575&g,b=s.directiveStart,k=g>>20,J=h?E+k:s.directiveEnd;for(let ie=d?E:E+k;ie<J;ie++){const Te=y[ie];if(ie<b&&u===Te||ie>=b&&Te.type===u)return ie}if(h){const ie=y[b];if(ie&&Ir(ie)&&ie.type===u)return b}return null}function Wo(s,c,u,d){let h=s[u];const g=c.data;if(function Rd(s){return s instanceof $s}(h)){const y=h;y.resolving&&function yt(s,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(g[u]));const E=gr(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?$n(y.injectImpl):null;il(s,d,ut.Default);try{h=s[u]=y.factory(void 0,g,s,d),c.firstCreatePass&&u>=d.directiveStart&&function ja(s,c,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=c.type.prototype;if(d){const y=Sc(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],c)}finally{null!==b&&$n(b),gr(E),y.resolving=!1,Nd()}}return h}function ff(s,c,u){return!!(u[c+(s>>5)]&1<<s)}function Yo(s,c){return!(s&ut.Self||s&ut.Host&&c)}class Qs{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,d){return Ws(this._tNode,this._lView,c,d,u)}}function oi(){return new Qs(Jn(),ke())}function Ja(s){return On(()=>{const c=s.prototype.constructor,u=c[jn]||Wa(c),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[jn]||Wa(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Wa(s){return Ge(s)?()=>{const c=Wa(Q(s));return c&&c()}:gs(s)}function hl(s){const c=s[1],u=c.type;return 2===u?c.declTNode:1===u?s[6]:null}function Zd(s){return function za(s,c){if("class"===c)return s.classes;if("style"===c)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Gc(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===c)return u[h+1];h+=2}}}return null}(Jn(),s)}const Fn="__parameters__";function Mr(s,c,u){return On(()=>{const d=function zc(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(c);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(b,A,k){const Z=b.hasOwnProperty(Fn)?b[Fn]:Object.defineProperty(b,Fn,{value:[]})[Fn];for(;Z.length<=k;)Z.push(null);return(Z[k]=Z[k]||[]).push(y),b}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class vn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Me({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(s,c){void 0===c&&(c=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(c===s&&(c=s.slice(0,u)),Ii(d,c)):c!==s&&c.push(d)}return c}function zr(s,c){s.forEach(u=>Array.isArray(u)?zr(u,c):c(u))}function pl(s,c,u){c>=s.length?s.push(u):s.splice(c,0,u)}function Qa(s,c){return c>=s.length-1?s.pop():s.splice(c,1)[0]}function mr(s,c,u){let d=Es(s,c);return d>=0?s[1|d]=u:(d=~d,function hg(s,c,u,d){let h=s.length;if(h==c)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>c;)s[h]=s[h-2],h--;s[c]=u,s[c+1]=d}}(s,d,c,u)),d}function Xc(s,c){const u=Es(s,c);if(u>=0)return s[1|u]}function Es(s,c){return function ml(s,c,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<u];if(c===y)return g<<u;y>c?h=g:d=g+1}return~(h<<u)}(s,c,1)}const _r={},ec="__NG_DI_FLAG__",yr="ngTempTokenPath",Kd=/\n/gm,Ao="__source";let Gn;function ht(s){const c=Gn;return Gn=s,c}function tc(s,c=ut.Default){if(void 0===Gn)throw new xe(-203,!1);return null===Gn?Br(s,void 0,c):Gn.get(s,c&ut.Optional?null:void 0,c)}function ci(s,c=ut.Default){return(function Xn(){return _i}()||tc)(Q(s),c)}function vl(s,c=ut.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),ci(s,c)}function tu(s){const c=[];for(let u=0;u<s.length;u++){const d=Q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let h,g=ut.Default;for(let y=0;y<d.length;y++){const E=d[y],b=bs(E);"number"==typeof b?-1===b?h=E.token:g|=b:h=E}c.push(ci(h,g))}else c.push(ci(d))}return c}function Qo(s,c){return s[ec]=c,s.prototype[ec]=c,s}function bs(s){return s[ec]}const So=Qo(Mr("Optional"),8),ta=Qo(Mr("SkipSelf"),4);var Yn=(()=>((Yn=Yn||{})[Yn.Important=1]="Important",Yn[Yn.DashCase=2]="DashCase",Yn))();const S=new Map;let U=0;const Oi="__ngContext__";function fn(s,c){Ti(c)?(s[Oi]=c[20],function ee(s){S.set(s[20],s)}(c)):s[Oi]=c}function Qd(s,c){return undefined(s,c)}function eh(s){const c=s[3];return Gi(c)?c[3]:c}function Pl(s){return p(s[13])}function D(s){return p(s[4])}function p(s){for(;null!==s&&!Gi(s);)s=s[4];return s}function w(s,c,u,d,h){if(null!=d){let g,y=!1;Gi(d)?g=d:Ti(d)&&(y=!0,d=d[0]);const E=xn(d);0===s&&null!==u?null==h?sc(c,u,E):xs(c,u,E,h||null,!0):1===s&&null!==u?xs(c,u,E,h||null,!0):2===s?function Cg(s,c,u){const d=lu(s,c);d&&function nh(s,c,u,d){s.removeChild(c,u,d)}(s,d,c,u)}(c,E,y):3===s&&c.destroyNode(E),null!=g&&function eT(s,c,u,d,h){const g=u[7];g!==xn(u)&&w(c,s,d,g,h);for(let E=10;E<u.length;E++){const b=u[E];Nr(b[1],b,s,c,d,g)}}(c,s,g,u,h)}}function he(s,c,u){return s.createElement(c,u)}function cu(s,c){const u=s[9],d=u.indexOf(c),h=c[3];512&c[2]&&(c[2]&=-513,Gs(h,-1)),u.splice(d,1)}function bf(s,c){if(s.length<=10)return;const u=10+c,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&cu(h,d),c>0&&(s[u-1][4]=d[4]);const g=Qa(s,10+c);!function qe(s,c){Nr(s,c,c[11],2,null,null),c[0]=null,c[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function uu(s,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&Nr(s,c,u,3,null,null),function cn(s){let c=s[13];if(!c)return th(s[1],s);for(;c;){let u=null;if(Ti(c))u=c[13];else{const d=c[10];d&&(u=d)}if(!u){for(;c&&!c[4]&&c!==s;)Ti(c)&&th(c[1],c),c=c[3];null===c&&(c=s),Ti(c)&&th(c[1],c),u=c&&c[4]}c=u}}(c)}}function th(s,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function Ol(s,c){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=c[u[d]];if(!(h instanceof $s)){const g=u[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],b=g[y+1];try{b.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,c),function Tf(s,c){const u=s.cleanup,d=c[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+1],E="function"==typeof y?y(c):xn(c[y]),b=d[h=u[g+2]],A=u[g+3];"boolean"==typeof A?E.removeEventListener(u[g],b,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const y=d[h=u[g+1]];u[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();c[7]=null}}(s,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&Gi(c[3])){u!==c[3]&&cu(u,c);const d=c[19];null!==d&&d.detachView(s)}!function Qe(s){S.delete(s[20])}(c)}}function xf(s,c,u){return function vg(s,c,u){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return dr(d,u)}(s,c.parent,u)}function xs(s,c,u,d,h){s.insertBefore(c,u,d,h)}function sc(s,c,u){s.appendChild(c,u)}function go(s,c,u,d,h){null!==d?xs(s,c,u,d,h):sc(s,c,u)}function lu(s,c){return s.parentNode(c)}let If,hu,bg,Y1=function j_(s,c,u){return 40&s.type?dr(s,u):null};function B_(s,c,u,d){const h=xf(s,d,c),g=c[11],E=function LD(s,c,u){return Y1(s,c,u)}(d.parent||c[6],d,c);if(null!=h)if(Array.isArray(u))for(let b=0;b<u.length;b++)go(g,h,u[b],E,!1);else go(g,h,u,E,!1)}function Dg(s,c){if(null!==c){const u=c.type;if(3&u)return dr(c,s);if(4&u)return G_(-1,s[c.index]);if(8&u){const d=c.child;if(null!==d)return Dg(s,d);{const h=s[c.index];return Gi(h)?G_(-1,h):xn(h)}}if(32&u)return Qd(c,s)()||xn(s[c.index]);{const d=H_(s,c);return null!==d?Array.isArray(d)?d[0]:Dg(eh(s[16]),d):Dg(s,c.next)}}return null}function H_(s,c){return null!==c?s[16][6].projection[c.projection]:null}function G_(s,c){const u=10+s+1;if(u<c.length){const d=c[u],h=d[1].firstChild;if(null!==h)return Dg(d,h)}return c[7]}function No(s,c,u,d,h,g,y){for(;null!=u;){const E=d[u.index],b=u.type;if(y&&0===c&&(E&&fn(xn(E),d),u.flags|=4),64!=(64&u.flags))if(8&b)No(s,c,u.child,d,h,g,!1),w(c,s,h,E,g);else if(32&b){const A=Qd(u,d);let k;for(;k=A();)w(c,s,h,k,g);w(c,s,h,E,g)}else 16&b?wg(s,c,d,u,h,g):w(c,s,h,E,g);u=y?u.projectionNext:u.next}}function Nr(s,c,u,d,h,g){No(u,d,s.firstChild,c,h,g,!1)}function wg(s,c,u,d,h,g){const y=u[16],b=y[6].projection[d.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)w(c,s,h,b[A],g);else No(s,c,b,y[3],h,g,!0)}function q_(s,c,u){s.setAttribute(c,"style",u)}function $_(s,c,u){""===u?s.removeAttribute(c,"class"):s.setAttribute(c,"class",u)}function du(s){return function z_(){if(void 0===If&&(If=null,nn.trustedTypes))try{If=nn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return If}()?.createHTML(s)||s}function rT(s){hu=s}function J_(s){return function Af(){if(void 0===bg&&(bg=null,nn.trustedTypes))try{bg=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bg}()?.createHTML(s)||s}class Rl{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ZD extends Rl{getTypeName(){return"HTML"}}class oT extends Rl{getTypeName(){return"Style"}}class Tg extends Rl{getTypeName(){return"Script"}}class jD extends Rl{getTypeName(){return"URL"}}class sT extends Rl{getTypeName(){return"ResourceURL"}}function ha(s){return s instanceof Rl?s.changingThisBreaksApplicationSecurity:s}function rh(s,c){const u=function ak(s){return s instanceof Rl&&s.getTypeName()||null}(s);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function W_(s){return new ZD(s)}function BD(s){return new oT(s)}function HD(s){return new Tg(s)}function GD(s){return new jD(s)}function Fl(s){return new sT(s)}class $D{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(du(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class aT{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=du(c),u;const d=this.inertDocument.createElement("body");return d.innerHTML=du(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(c){const u=c.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&c.removeAttribute(y)}let d=c.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const cT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function xg(s){return(s=String(s)).match(cT)?s:"unsafe:"+s}function rr(s){const c={};for(const u of s.split(","))c[u]=!0;return c}function oh(...s){const c={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(c[d]=!0);return c}const KD=rr("area,br,col,hr,img,wbr"),Y_=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JD=rr("rp,rt"),Q_=oh(KD,oh(Y_,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oh(JD,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oh(JD,Y_)),Ig=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lT=oh(Ig,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YD=rr("script,style,template");class dT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Q_.hasOwnProperty(u))return this.sanitizedSomething=!0,!YD.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=c.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),y=g.name,E=y.toLowerCase();if(!lT.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=g.value;Ig[E]&&(b=xg(b)),this.buf.push(" ",y,'="',hT(b),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Q_.hasOwnProperty(u)&&!KD.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(hT(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const QD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XD=/([^\#-~ |!])/g;function hT(s){return s.replace(/&/g,"&amp;").replace(QD,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(XD,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let X_;function ey(s,c){let u=null;try{X_=X_||function qD(s){const c=new aT(s);return function zD(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch{return!1}}()?new $D(c):c}(s);let d=c?String(c):"";u=X_.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=X_.getInertBodyElement(d)}while(d!==g);return du((new dT).sanitizeChildren(Sf(u)||u))}finally{if(u){const d=Sf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Sf(s){return"content"in s&&function uk(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fi=(()=>((Fi=Fi||{})[Fi.NONE=0]="NONE",Fi[Fi.HTML=1]="HTML",Fi[Fi.STYLE=2]="STYLE",Fi[Fi.SCRIPT=3]="SCRIPT",Fi[Fi.URL=4]="URL",Fi[Fi.RESOURCE_URL=5]="RESOURCE_URL",Fi))();function fT(s){const c=sh();return c?J_(c.sanitize(Fi.HTML,s)||""):rh(s,"HTML")?J_(ha(s)):ey(function Eg(){return void 0!==hu?hu:typeof document<"u"?document:void 0}(),Ce(s))}function ty(s){const c=sh();return c?c.sanitize(Fi.URL,s)||"":rh(s,"URL")?ha(s):xg(Ce(s))}function sh(){const s=ke();return s&&s[12]}const rC=new vn("ENVIRONMENT_INITIALIZER"),gT=new vn("INJECTOR",-1),mT=new vn("INJECTOR_DEF_TYPES");class _T{get(c,u=_r){if(u===_r){const d=new Error(`NullInjectorError: No provider for ${ve(c)}!`);throw d.name="NullInjectorError",d}return u}}function dk(...s){return{\u0275providers:ny(0,s)}}function ny(s,...c){const u=[],d=new Set;let h;return zr(c,g=>{const y=g;Ag(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&ah(h,u),u}function ah(s,c){for(let u=0;u<s.length;u++){const{providers:h}=s[u];zr(h,g=>{c.push(g)})}}function Ag(s,c,u,d){if(!(s=Q(s)))return!1;let h=null,g=Qn(s);const y=!g&&O(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const b=s.ngModule;if(g=Qn(b),!g)return!1;h=b}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of b)Ag(A,c,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(h);try{zr(g.imports,k=>{Ag(k,c,u,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&ah(A,c)}if(!E){const A=gs(h)||(()=>new h);c.push({provide:h,useFactory:A,deps:St},{provide:mT,useValue:h,multi:!0},{provide:rC,useValue:()=>ci(h),multi:!0})}const b=g.providers;null==b||E||zr(b,k=>{c.push(k)})}}return h!==s&&void 0!==s.providers}const hk=_e({provide:String,useValue:_e});function Sg(s){return null!==s&&"object"==typeof s&&hk in s}function Ll(s){return"function"==typeof s}const iy=new vn("Set Injector scope."),Mg={},vT={};let ry;function kg(){return void 0===ry&&(ry=new _T),ry}class Ul{}class DT extends Ul{constructor(c,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sy(c,y=>this.processProvider(y)),this.records.set(gT,ch(void 0,this)),h.has("environment")&&this.records.set(Ul,ch(void 0,this));const g=this.records.get(iy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(mT.multi,St,ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=ht(this),d=$n(void 0);try{return c()}finally{ht(u),$n(d)}}get(c,u=_r,d=ut.Default){this.assertNotDestroyed();const h=ht(this),g=$n(void 0);try{if(!(d&ut.SkipSelf)){let E=this.records.get(c);if(void 0===E){const b=function TT(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(c)&&tn(c);E=b&&this.injectableDefInScope(b)?ch(oy(c),Mg):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(d&ut.Self?kg():this.parent).get(c,u=d&ut.Optional&&u===_r?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[yr]=y[yr]||[]).unshift(ve(c)),h)throw y;return function Ni(s,c,u,d){const h=s[yr];throw c[Ao]&&h.unshift(c[Ao]),s.message=function gg(s,c,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ve(c);if(Array.isArray(c))h=c.map(ve).join(" -> ");else if("object"==typeof c){let g=[];for(let y in c)if(c.hasOwnProperty(y)){let E=c[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Kd,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[yr]=null,s}(y,c,"R3InjectorError",this.source)}throw y}finally{$n(g),ht(h)}}resolveInjectorInitializers(){const c=ht(this),u=$n(void 0);try{const d=this.get(rC.multi,St,ut.Self);for(const h of d)h()}finally{ht(c),$n(u)}}toString(){const c=[],u=this.records;for(const d of u.keys())c.push(ve(d));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=Ll(c=Q(c))?c:Q(c&&c.provide);const d=function wT(s){return Sg(s)?ch(void 0,s.useValue):ch(cC(s),Mg)}(c);if(Ll(c)||!0!==c.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=ch(void 0,Mg,!0),h.factory=()=>tu(h.multi),this.records.set(u,h)),u=c,h.multi.push(c)}this.records.set(u,d)}hydrate(c,u){return u.value===Mg&&(u.value=vT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function bT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=Q(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function oy(s){const c=tn(s),u=null!==c?c.factory:gs(s);if(null!==u)return u;if(s instanceof vn)throw new xe(204,!1);if(s instanceof Function)return function CT(s){const c=s.length;if(c>0)throw function Qc(s,c){const u=[];for(let d=0;d<s;d++)u.push(c);return u}(c,"?"),new xe(204,!1);const u=function Nn(s){const c=s&&(s[Sn]||s[mi]);if(c){const u=function gn(s){if(s.hasOwnProperty("name"))return s.name;const c=(""+s).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new xe(204,!1)}function cC(s,c,u){let d;if(Ll(s)){const h=Q(s);return gs(h)||oy(h)}if(Sg(s))d=()=>Q(s.useValue);else if(function aC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...tu(s.deps||[]));else if(function sC(s){return!(!s||!s.useExisting)}(s))d=()=>ci(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function ET(s){return!!s.deps}(s))return gs(h)||oy(h);d=()=>new h(...tu(s.deps))}return d}function ch(s,c,u=!1){return{factory:s,value:c,multi:u?[]:void 0}}function xT(s){return!!s.\u0275providers}function sy(s,c){for(const u of s)Array.isArray(u)?sy(u,c):xT(u)?sy(u.\u0275providers,c):c(u)}class uC{}class ST{resolveComponentFactory(c){throw function AT(s){const c=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=s,c}(c)}}let kf=(()=>{class s{}return s.NULL=new ST,s})();function MT(){return uh(Jn(),ke())}function uh(s,c){return new Nf(dr(s,c))}let Nf=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=MT,s})();function kT(s){return s instanceof Nf?s.nativeElement:s}class NT{}let PT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function OT(){const s=ke(),u=ki(Jn().index,s);return(Ti(u)?u:s)[11]}(),s})(),RT=(()=>{class s{}return s.\u0275prov=Me({token:s,providedIn:"root",factory:()=>null}),s})();class Ng{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ac=new Ng("14.3.0"),Pg={};function Of(s){return s.ngOriginalError}class Dr{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&Of(c);for(;u&&Of(u);)u=Of(u);return u||null}}function pa(s){return s instanceof Function?s():s}function dy(s,c,u){let d=s.length;for(;;){const h=s.indexOf(c,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=c.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const gC="ng-template";function mC(s,c,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==dy(h.toLowerCase(),c,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===c)return!0;return!1}}return!1}function _C(s){return 4===s.type&&s.value!==gC}function hy(s,c,u){return c===(4!==s.type||u?s.value:gC)}function Og(s,c,u){let d=4;const h=s.attrs||[],g=function cc(s){for(let c=0;c<s.length;c++)if(Gc(s[c]))return c;return s.length}(h);let y=!1;for(let E=0;E<c.length;E++){const b=c[E];if("number"!=typeof b){if(!y)if(4&d){if(d=2|1&d,""!==b&&!hy(s,b,u)||""===b&&1===c.length){if(mo(d))return!1;y=!0}}else{const A=8&d?b:c[++E];if(8&d&&null!==s.attrs){if(!mC(s.attrs,A,u)){if(mo(d))return!1;y=!0}continue}const Z=Rg(8&d?"class":b,h,_C(s),u);if(-1===Z){if(mo(d))return!1;y=!0;continue}if(""!==A){let J;J=Z>g?"":h[Z+1].toLowerCase();const ie=8&d?J:null;if(ie&&-1!==dy(ie,A,0)||2&d&&A!==J){if(mo(d))return!1;y=!0}}}}else{if(!y&&!mo(d)&&!mo(b))return!1;if(y&&mo(b))continue;y=!1,d=b|1&d}}return mo(d)||y}function mo(s){return 0==(1&s)}function Rg(s,c,u,d){if(null===c)return-1;let h=0;if(d||!u){let g=!1;for(;h<c.length;){const y=c[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=c[++h];for(;"string"==typeof E;)E=c[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function gy(s,c){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===c)return u;u++}return-1}(c,s)}function fy(s,c,u=!1){for(let d=0;d<c.length;d++)if(Og(s,c[d],u))return!0;return!1}function yC(s,c){return s?":not("+c.trim()+")":c}function Rf(s){let c=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const E=s[++u];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!mo(y)&&(c+=yC(g,h),h=""),d=y,g=g||!mo(d);u++}return""!==h&&(c+=yC(g,h)),c}const Jt={};function uc(s){my(en(),ke(),hn()+s,!1)}function my(s,c,u,d){if(!d)if(3==(3&c[2])){const g=s.preOrderCheckHooks;null!==g&&Ds(c,g,u)}else{const g=s.preOrderHooks;null!==g&&jc(c,g,0,u)}vs(u)}function CC(s,c=null,u=null,d){const h=Ug(s,c,u,d);return h.resolveInjectorInitializers(),h}function Ug(s,c=null,u=null,d,h=new Set){const g=[u||St,dk(s)];return d=d||("object"==typeof s?void 0:ve(s)),new DT(g,c||kg(),d||null,h)}let Zl=(()=>{class s{static create(u,d){if(Array.isArray(u))return CC({name:""},d,u,"");{const h=u.name??"";return CC({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=_r,s.NULL=new _T,s.\u0275prov=Me({token:s,providedIn:"any",factory:()=>ci(gT)}),s.__NG_ELEMENT_ID__=-1,s})();function hc(s,c=ut.Default){const u=ke();return null===u?ci(s,c):Ws(Jn(),u,Q(s),c)}function NC(){throw new Error("invalid")}function jg(s,c){return s<<17|c<<2}function Is(s){return s>>17&32767}function xy(s){return 2|s}function ns(s){return(131068&s)>>2}function Uf(s,c){return-131069&s|c<<2}function Iy(s){return 1|s}function Po(s,c){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],g=u[d+1];if(-1!==g){const y=s.data[g];tr(h),y.contentQueries(2,c[g],g)}}}function qg(s,c,u,d,h,g,y,E,b,A,k){const Z=c.blueprint.slice();return Z[0]=h,Z[2]=76|d,(null!==k||s&&1024&s[2])&&(Z[2]|=1024),xi(Z),Z[3]=Z[15]=s,Z[8]=u,Z[10]=y||s&&s[10],Z[11]=E||s&&s[11],Z[12]=b||s&&s[12]||null,Z[9]=A||s&&s[9]||null,Z[6]=g,Z[20]=function K(){return U++}(),Z[21]=k,Z[16]=2==c.type?s[16]:Z,Z}function jl(s,c,u,d,h){let g=s.data[c];if(null===g)g=function Oy(s,c,u,d,h){const g=Ra(),y=Fa(),b=s.data[c]=function JC(s,c,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,c,d,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,c,u,d,h),function La(){return Pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const y=function qo(){const s=Pt.lFrame,c=s.currentTNode;return s.isParent?c:c.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Sr(g,!0),g}function Bl(s,c,u,d){if(0===u)return-1;const h=c.length;for(let g=0;g<u;g++)c.push(d),s.blueprint.push(d),s.data.push(null);return h}function fh(s,c,u){ys(c);try{const d=s.viewQuery;null!==d&&Ci(1,d,u);const h=s.template;null!==h&&$C(s,c,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Po(s,c),s.staticViewQueries&&Ci(2,s.viewQuery,u);const g=s.components;null!==g&&function XT(s,c){for(let u=0;u<c.length;u++)$f(s,c[u])}(c,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{c[2]&=-5,$o()}}function $g(s,c,u,d){const h=c[2];if(128!=(128&h)){ys(c);try{xi(c),function fr(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&$C(s,c,u,2,d);const y=3==(3&h);if(y){const A=s.preOrderCheckHooks;null!==A&&Ds(c,A,null)}else{const A=s.preOrderHooks;null!==A&&jc(c,A,0,null),Bc(c,0)}if(function nw(s){for(let c=Pl(s);null!==c;c=D(c)){if(!c[2])continue;const u=c[9];for(let d=0;d<u.length;d++){const h=u[d],g=h[3];0==(512&h[2])&&Gs(g,1),h[2]|=512}}}(c),function Uy(s){for(let c=Pl(s);null!==c;c=D(c))for(let u=10;u<c.length;u++){const d=c[u],h=d[1];kc(d)&&$g(h,d,h.template,d[8])}}(c),null!==s.contentQueries&&Po(s,c),y){const A=s.contentCheckHooks;null!==A&&Ds(c,A)}else{const A=s.contentHooks;null!==A&&jc(c,A,1),Bc(c,1)}!function qC(s,c){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)vs(~h);else{const g=h,y=u[++d],E=u[++d];kd(y,g),E(2,c[g])}}}finally{vs(-1)}}(s,c);const E=s.components;null!==E&&function hh(s,c){for(let u=0;u<c.length;u++)ax(s,c[u])}(c,E);const b=s.viewQuery;if(null!==b&&Ci(2,b,d),y){const A=s.viewCheckHooks;null!==A&&Ds(c,A)}else{const A=s.viewHooks;null!==A&&jc(c,A,2),Bc(c,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Gs(c[3],-1))}finally{$o()}}}function $C(s,c,u,d,h){const g=hn(),y=2&d;try{vs(-1),y&&c.length>22&&my(s,c,22,!1),u(d,h)}finally{vs(g)}}function zg(s,c,u){if(Sa(c)){const h=c.directiveEnd;for(let g=c.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}function Ry(s,c,u){!Pc()||(function rx(s,c,u,d){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Js(u,c),fn(d,c);const y=u.initialInputs;for(let E=h;E<g;E++){const b=s.data[E],A=Ir(b);A&&Gf(c,u,b);const k=Wo(c,s,E,u);fn(k,c),null!==y&&sx(0,E-h,k,b,0,y),A&&(ki(u.index,c)[8]=k)}}(s,c,u,dr(u,c)),128==(128&u.flags)&&function Nk(s,c,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,y=function Lc(){return Pt.lFrame.currentDirectiveIndex}();try{vs(g);for(let E=d;E<h;E++){const b=s.data[E],A=c[E];Ua(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&ox(b,A)}}finally{vs(-1),Ua(y)}}(s,c,u))}function Kg(s,c,u=dr){const d=c.localNames;if(null!==d){let h=c.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],E=-1===y?u(c,s):s[y];s[h++]=E}}}function zC(s){const c=s.tView;return null===c||c.incompleteFirstPass?s.tView=Fy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):c}function Fy(s,c,u,d,h,g,y,E,b,A){const k=22+d,Z=k+h,J=function ex(s,c){const u=[];for(let d=0;d<c;d++)u.push(d<s?null:Jt);return u}(k,Z),ie="function"==typeof A?A():A;return J[1]={type:s,blueprint:J,template:u,queries:null,viewQuery:E,declTNode:c,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:ie,incompleteFirstPass:!1}}function Bf(s,c,u,d){const h=Kf(c);null===u?h.push(d):(h.push(u),s.firstCreatePass&&rs(s).push(d,h.length-1))}function WC(s,c,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(c,h):u[d]=[c,h]}return u}function Ly(s,c){const d=c.directiveEnd,h=s.data,g=c.attrs,y=[];let E=null,b=null;for(let A=c.directiveStart;A<d;A++){const k=h[A],Z=k.inputs,J=null===g||_C(c)?null:ew(Z,g);y.push(J),E=WC(Z,A,E),b=WC(k.outputs,A,b)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=16),E.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=y,c.inputs=E,c.outputs=b}function Oo(s,c,u,d,h,g,y,E){const b=dr(c,u);let k,A=c.inputs;!E&&null!=A&&(k=A[d])?(em(s,u,k,d,h),bo(c)&&YC(u,c.index)):3&c.type&&(d=function tx(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,c.value||"",d):h,g.setProperty(b,d,h))}function YC(s,c){const u=ki(c,s);16&u[2]||(u[2]|=32)}function Jg(s,c,u,d){let h=!1;if(Pc()){const g=function Pk(s,c,u){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];fy(u,y.selectors,!1)&&(h||(h=[]),Jo(Js(u,c),s,y.type),Ir(y)?(Ct(s,u),h.unshift(y)):h.push(y))}return h}(s,c,u),y=null===d?null:{"":-1};if(null!==g){h=!0,XC(u,s.data.length,g.length);for(let k=0;k<g.length;k++){const Z=g[k];Z.providersResolver&&Z.providersResolver(Z)}let E=!1,b=!1,A=Bl(s,c,g.length,null);for(let k=0;k<g.length;k++){const Z=g[k];u.mergedAttrs=Ks(u.mergedAttrs,Z.hostAttrs),Hf(s,u,c,A,Z),Ss(A,Z,y),null!==Z.contentQueries&&(u.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(u.flags|=128);const J=Z.type.prototype;!E&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!b&&(J.ngOnChanges||J.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),A++}Ly(s,u)}y&&function Pr(s,c,u){if(c){const d=s.localNames=[];for(let h=0;h<c.length;h+=2){const g=u[c[h+1]];if(null==g)throw new xe(-301,!1);d.push(c[h],g)}}}(u,d,y)}return u.mergedAttrs=Ks(u.mergedAttrs,u.attrs),h}function Wg(s,c,u,d,h,g){const y=g.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~c.index;(function QC(s){let c=s.length;for(;c>0;){const u=s[--c];if("number"==typeof u&&u<0)return u}return 0})(E)!=b&&E.push(b),E.push(d,h,y)}}function ox(s,c){null!==s.hostBindings&&s.hostBindings(1,c)}function Ct(s,c){c.flags|=2,(s.components||(s.components=[])).push(c.index)}function Ss(s,c,u){if(u){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)u[c.exportAs[d]]=s;Ir(c)&&(u[""]=s)}}function XC(s,c,u){s.flags|=1,s.directiveStart=c,s.directiveEnd=c+u,s.providerIndexes=c}function Hf(s,c,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=gs(h.type)),y=new $s(g,Ir(h),hc);s.blueprint[d]=y,u[d]=y,Wg(s,c,0,d,Bl(s,u,h.hostVars,Jt),h)}function Gf(s,c,u){const d=dr(c,s),h=zC(u),g=s[10],y=zf(s,qg(s,h,null,u.onPush?32:16,d,c,g,g.createRenderer(d,u),null,null,null));s[c.index]=y}function ma(s,c,u,d,h,g){const y=dr(s,c);!function Yg(s,c,u,d,h,g,y){if(null==g)s.removeAttribute(c,h,u);else{const E=null==y?Ce(g):y(g,d||"",h);s.setAttribute(c,h,E,u)}}(c[11],y,g,s.value,u,d,h)}function sx(s,c,u,d,h,g){const y=g[c];if(null!==y){const E=d.setInput;for(let b=0;b<y.length;){const A=y[b++],k=y[b++],Z=y[b++];null!==E?d.setInput(u,Z,A,k):u[k]=Z}}}function ew(s,c){let u=null,d=0;for(;d<c.length;){const h=c[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],c[d+1])),d+=2}else d+=2;else d+=4}return u}function tw(s,c,u,d){return new Array(s,!0,!1,c,null,0,d,u,null,null)}function ax(s,c){const u=ki(c,s);if(kc(u)){const d=u[1];48&u[2]?$g(d,u,d.template,u[8]):u[5]>0&&qf(u)}}function qf(s){for(let d=Pl(s);null!==d;d=D(d))for(let h=10;h<d.length;h++){const g=d[h];if(kc(g))if(512&g[2]){const y=g[1];$g(y,g,y.template,g[8])}else g[5]>0&&qf(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=ki(u[d],s);kc(h)&&h[5]>0&&qf(h)}}function $f(s,c){const u=ki(c,s),d=u[1];(function Hl(s,c){for(let u=c.length;u<s.blueprint.length;u++)c.push(s.blueprint[u])})(d,u),fh(d,u,u[8])}function zf(s,c){return s[13]?s[14][4]=c:s[13]=c,s[14]=c,c}function or(s){for(;s;){s[2]|=32;const c=eh(s);if(ka(s)&&!c)return s;s=c}return null}function ph(s,c,u,d=!0){const h=c[10];h.begin&&h.begin();try{$g(s,c,s.template,u)}catch(y){throw d&&Jf(c,y),y}finally{h.end&&h.end()}}function Ci(s,c,u){tr(0),c(s,u)}function Kf(s){return s[7]||(s[7]=[])}function rs(s){return s.cleanup||(s.cleanup=[])}function Jf(s,c){const u=s[9],d=u?u.get(Dr,null):null;d&&d.handleError(c)}function em(s,c,u,d,h){for(let g=0;g<u.length;){const y=u[g++],E=u[g++],b=c[y],A=s.data[y];null!==A.setInput?A.setInput(b,h,d,E):b[E]=h}}function fc(s,c,u){const d=ms(c,s);!function P(s,c,u){s.setValue(c,u)}(s[11],d,u)}function os(s,c,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==c)for(let y=0;y<c.length;y++){const E=c[y];"number"==typeof E?g=E:1==g?h=De(h,E):2==g&&(d=De(d,E+": "+c[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function _a(s,c,u,d,h=!1){for(;null!==u;){const g=c[u.index];if(null!==g&&d.push(xn(g)),Gi(g))for(let E=10;E<g.length;E++){const b=g[E],A=b[1].firstChild;null!==A&&_a(b[1],b,A,d)}const y=u.type;if(8&y)_a(s,c,u.child,d);else if(32&y){const E=Qd(u,c);let b;for(;b=E();)d.push(b)}else if(16&y){const E=H_(c,u);if(Array.isArray(E))d.push(...E);else{const b=eh(c[16]);_a(b[1],b,E,d,!0)}}u=h?u.projectionNext:u.next}return d}class Li{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return _a(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Gi(c)){const u=c[8],d=u?u.indexOf(this):-1;d>-1&&(bf(c,d),Qa(u,d))}this._attachedToViewContainer=!1}uu(this._lView[1],this._lView)}onDestroy(c){Bf(this._lView[1],this._lView,null,c)}markForCheck(){or(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ph(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vt(s,c){Nr(s,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class pu extends Li{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;ph(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class Vy extends kf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=O(c);return new Wf(u,this.ngModule)}}function gh(s){const c=[];for(let u in s)s.hasOwnProperty(u)&&c.push({propName:s[u],templateName:u});return c}class iw{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,d){const h=this.injector.get(c,Pg,d);return h!==Pg||u===Pg?h:this.parentInjector.get(c,u,d)}}class Wf extends uC{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function vC(s){return s.map(Rf).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gh(this.componentDef.inputs)}get outputs(){return gh(this.componentDef.outputs)}create(c,u,d,h){let g=(h=h||this.ngModule)instanceof Ul?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new iw(c,g):c,E=y.get(NT,null);if(null===E)throw new xe(407,!1);const b=y.get(RT,null),A=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",Z=d?function KC(s,c,u){return s.selectRootElement(c,u===bt.ShadowDom)}(A,d,this.componentDef.encapsulation):he(A,k,function Zy(s){const c=s.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(k)),J=this.componentDef.onPush?288:272,ie=Fy(0,null,null,1,0,null,null,null,null,null),Te=qg(null,ie,null,J,null,null,E,A,b,y,null);let He,Xe;ys(Te);try{const _t=function lx(s,c,u,d,h,g){const y=u[1];u[22]=s;const b=jl(y,22,2,"#host",null),A=b.mergedAttrs=c.hostAttrs;null!==A&&(os(b,A,!0),null!==s&&(al(h,s,A),null!==b.classes&&$_(h,s,b.classes),null!==b.styles&&q_(h,s,b.styles)));const k=d.createRenderer(s,c),Z=qg(u,zC(c),null,c.onPush?32:16,u[22],b,d,k,g||null,null,null);return y.firstCreatePass&&(Jo(Js(b,u),y,c.type),Ct(y,b),XC(b,u.length,1)),zf(u,Z),u[22]=Z}(Z,this.componentDef,Te,E,A);if(Z)if(d)al(A,Z,["ng-version",ac.full]);else{const{attrs:Ot,classes:Fe}=function VT(s){const c=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&c.push(g,s[++d]):8===h&&u.push(g);else{if(!mo(h))break;h=g}d++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Ot&&al(A,Z,Ot),Fe&&Fe.length>0&&$_(A,Z,Fe.join(" "))}if(Xe=Wu(ie,22),void 0!==u){const Ot=Xe.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Dt=u[Fe];Ot.push(null!=Dt?Array.from(Dt):null)}}He=function mh(s,c,u,d){const h=u[1],g=function ix(s,c,u){const d=Jn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Hf(s,d,c,Bl(s,c,1,null),u),Ly(s,d));const h=Wo(c,s,d.directiveStart,d);fn(h,c);const g=dr(d,c);return g&&fn(g,c),h}(h,u,c);if(s[8]=u[8]=g,null!==d)for(const E of d)E(g,c);if(c.contentQueries){const E=Jn();c.contentQueries(1,g,E.directiveStart)}const y=Jn();return!h.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(vs(y.index),Wg(u[1],y,0,y.directiveStart,y.directiveEnd,c),ox(c,g)),g}(_t,this.componentDef,Te,[dx]),fh(ie,Te,null)}finally{$o()}return new un(this.componentType,He,uh(Xe,Te),Te,Xe)}}class un extends class IT{}{constructor(c,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new pu(h),this.componentType=c}setInput(c,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[c])){const g=this._rootLView;em(g[1],g,h,c,u),YC(g,this._tNode.index)}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function dx(){const s=Jn();Ba(ke()[1],s)}function ss(s){let c=function rw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;c;){let h;if(Ir(s))h=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);h=c.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=nm(s.inputs),y.declaredInputs=nm(s.declaredInputs),y.outputs=nm(s.outputs);const E=h.hostBindings;E&&Cr(s,E);const b=h.viewQuery,A=h.contentQueries;if(b&&sw(s,b),A&&Ok(s,A),pe(s.inputs,h.inputs),pe(s.declaredInputs,h.declaredInputs),pe(s.outputs,h.outputs),Ir(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(s),E===ss&&(u=!1)}}c=Object.getPrototypeOf(c)}!function ow(s){let c=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=c+=h.hostVars,h.hostAttrs=Ks(h.hostAttrs,u=Ks(u,h.hostAttrs))}}(d)}function nm(s){return s===ri?{}:s===St?[]:s}function sw(s,c){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{c(d,h),u(d,h)}:c}function Ok(s,c){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{c(d,h,g),u(d,h,g)}:c}function Cr(s,c){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{c(d,h),u(d,h)}:c}let im=null;function _u(){if(!im){const s=nn.Symbol;if(s&&s.iterator)im=s.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const d=c[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(im=d)}}}return im}function Yf(s){return!!rm(s)&&(Array.isArray(s)||!(s instanceof Map)&&_u()in s)}function rm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ro(s,c,u){return s[c]=u}function Lt(s,c,u){return!Object.is(s[c],u)&&(s[c]=u,!0)}function ks(s,c,u,d){const h=Lt(s,c,u);return Lt(s,c+1,d)||h}function By(s,c,u,d){const h=ke();return Lt(h,_s(),c)&&(en(),ma(An(),h,s,c,u,d)),By}function _h(s,c,u,d,h,g){const E=ks(s,function qi(){return Pt.lFrame.bindingIndex}(),u,h);return pr(2),E?c+Ce(u)+d+Ce(h)+g:Jt}function pw(s,c,u,d,h,g,y,E){const b=ke(),A=en(),k=s+22,Z=A.firstCreatePass?function mx(s,c,u,d,h,g,y,E,b){const A=c.consts,k=jl(c,s,4,y||null,Ar(A,E));Jg(c,u,k,Ar(A,b)),Ba(c,k);const Z=k.tViews=Fy(2,k,d,h,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,A);return null!==c.queries&&(c.queries.template(c,k),Z.queries=c.queries.embeddedTView(k)),k}(k,A,b,c,u,d,h,g,y):A.data[k];Sr(Z,!1);const J=b[11].createComment("");B_(A,b,J,Z),fn(J,b),zf(b,b[k]=tw(J,b,J,Z)),Ma(Z)&&Ry(A,b,Z),null!=y&&Kg(b,Z,E)}function ep(s){return function Gr(s,c){return s[c]}(function Rn(){return Pt.lFrame.contextLView}(),22+s)}function $y(s,c,u){const d=ke();return Lt(d,_s(),c)&&Oo(en(),An(),d,s,c,d[11],u,!1),$y}function mc(s,c,u,d,h){const y=h?"class":"style";em(s,u,c.inputs[y],y,d)}function Ky(s,c,u,d){const h=ke(),g=en(),y=22+s,E=h[11],b=h[y]=he(E,c,function Od(){return Pt.lFrame.currentNamespace}()),A=g.firstCreatePass?function zy(s,c,u,d,h,g,y){const E=c.consts,A=jl(c,s,2,h,Ar(E,g));return Jg(c,u,A,Ar(E,y)),null!==A.attrs&&os(A,A.attrs,!1),null!==A.mergedAttrs&&os(A,A.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,A),A}(y,g,h,0,c,u,d):g.data[y];Sr(A,!0);const k=A.mergedAttrs;null!==k&&al(E,b,k);const Z=A.classes;null!==Z&&$_(E,b,Z);const J=A.styles;return null!==J&&q_(E,b,J),64!=(64&A.flags)&&B_(g,h,b,A),0===function Xu(){return Pt.lFrame.elementDepthCount}()&&fn(b,h),function Ad(){Pt.lFrame.elementDepthCount++}(),Ma(A)&&(Ry(g,h,A),zg(g,A,h)),null!==d&&Kg(h,A),Ky}function sm(){let s=Jn();Fa()?Fc():(s=s.parent,Sr(s,!1));const c=s;!function sf(){Pt.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(Ba(u,s),Sa(s)&&u.queries.elementEnd(s)),null!=c.classesWithoutHost&&function Ld(s){return 0!=(16&s.flags)}(c)&&mc(u,c,ke(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function uf(s){return 0!=(32&s.flags)}(c)&&mc(u,c,ke(),c.stylesWithoutHost,!1),sm}function Jy(s,c,u,d){return Ky(s,c,u,d),sm(),Jy}function Du(s,c,u){const d=ke(),h=en(),g=s+22,y=h.firstCreatePass?function _x(s,c,u,d,h){const g=c.consts,y=Ar(g,d),E=jl(c,s,8,"ng-container",y);return null!==y&&os(E,y,!0),Jg(c,u,E,Ar(g,h)),null!==c.queries&&c.queries.elementStart(c,E),E}(g,h,d,c,u):h.data[g];Sr(y,!0);const E=d[g]=d[11].createComment("");return B_(h,d,E,y),fn(E,d),Ma(y)&&(Ry(h,d,y),zg(h,y,d)),null!=u&&Kg(d,y),Du}function Cu(){let s=Jn();const c=en();return Fa()?Fc():(s=s.parent,Sr(s,!1)),c.firstCreatePass&&(Ba(c,s),Sa(s)&&c.queries.elementEnd(s)),Cu}function Wy(){return ke()}function am(s){return!!s&&"function"==typeof s.then}function Yy(s){return!!s&&"function"==typeof s.subscribe}const zl=Yy;function Qy(s,c,u,d){const h=ke(),g=en(),y=Jn();return function _w(s,c,u,d,h,g,y,E){const b=Ma(d),k=s.firstCreatePass&&rs(s),Z=c[8],J=Kf(c);let ie=!0;if(3&d.type||E){const Xe=dr(d,c),_t=E?E(Xe):Xe,Ot=J.length,Fe=E?wn=>E(xn(wn[d.index])):d.index;let Dt=null;if(!E&&b&&(Dt=function mw(s,c,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===u&&h[g+1]===d){const E=c[7],b=h[g+2];return E.length>b?E[b]:null}"string"==typeof y&&(g+=2)}return null}(s,c,h,d.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=g,Dt.__ngLastListenerFn__=g,ie=!1;else{g=vh(d,c,Z,g,!1);const wn=u.listen(_t,h,g);J.push(g,wn),k&&k.push(h,Fe,Ot,Ot+1)}}else g=vh(d,c,Z,g,!1);const Te=d.outputs;let He;if(ie&&null!==Te&&(He=Te[h])){const Xe=He.length;if(Xe)for(let _t=0;_t<Xe;_t+=2){const qn=c[He[_t]][He[_t+1]].subscribe(g),Iu=J.length;J.push(g,qn),k&&k.push(h,d.index,Iu,-(Iu+1))}}}(g,h,h[11],y,s,c,0,d),Qy}function cm(s,c,u,d){try{return!1!==u(d)}catch(h){return Jf(s,h),!1}}function vh(s,c,u,d,h){return function g(y){if(y===Function)return d;or(2&s.flags?ki(s.index,c):c);let b=cm(c,0,d,y),A=g.__ngNextListenerFn__;for(;A;)b=cm(c,0,A,y)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function yw(s=1){return function Pd(s){return(Pt.lFrame.contextLView=function ag(s,c){for(;s>0;)c=c[15],s--;return c}(s,Pt.lFrame.contextLView))[8]}(s)}function bw(s,c,u,d,h){const g=s[u+1],y=null===c;let E=d?Is(g):ns(g),b=!1;for(;0!==E&&(!1===b||y);){const k=s[E+1];Cx(s[E],c)&&(b=!0,s[E+1]=d?Iy(k):xy(k)),E=d?Is(k):ns(k)}b&&(s[u+1]=d?xy(g):Iy(g))}function Cx(s,c){return null===s||null==c||(Array.isArray(s)?s[1]:s)===c||!(!Array.isArray(s)||"string"!=typeof c)&&Es(s,c)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tw(s){return s.substring(zi.key,zi.keyEnd)}function nv(s,c){const u=zi.textEnd;return u===c?-1:(c=zi.keyEnd=function Iw(s,c,u){for(;c<u&&s.charCodeAt(c)>32;)c++;return c}(s,zi.key=c,u),Ps(s,c,u))}function Ps(s,c,u){for(;c<u&&s.charCodeAt(c)<=32;)c++;return c}function Dh(s,c,u){return Os(s,c,u,!1),Dh}function dm(s,c){return Os(s,c,null,!0),dm}function hm(s){!function Wr(s,c,u,d){const h=en(),g=pr(2);h.firstUpdatePass&&Nw(h,null,g,d);const y=ke();if(u!==Jt&&Lt(y,g,u)){const E=h.data[hn()];if(Ex(E,d)&&!kw(h,g)){let b=d?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(u=De(b,u||"")),mc(h,E,y,u,d)}else!function sv(s,c,u,d,h,g,y,E){h===Jt&&(h=St);let b=0,A=0,k=0<h.length?h[0]:null,Z=0<g.length?g[0]:null;for(;null!==k||null!==Z;){const J=b<h.length?h[b+1]:void 0,ie=A<g.length?g[A+1]:void 0;let He,Te=null;k===Z?(b+=2,A+=2,J!==ie&&(Te=Z,He=ie)):null===Z||null!==k&&k<Z?(b+=2,Te=k):(A+=2,Te=Z,He=ie),null!==Te&&Fw(s,c,u,d,Te,He,y,E),k=b<h.length?h[b]:null,Z=A<g.length?g[A]:null}}(h,E,y,y[11],y[g+1],y[g+1]=function ip(s,c,u){if(null==u||""===u)return St;const d=[],h=ha(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&c(d,h);return d}(s,c,u),d,g)}}(mr,cs,s,!0)}function cs(s,c){for(let u=function wx(s){return function va(s){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=s.length}(s),nv(s,Ps(s,0,zi.textEnd))}(c);u>=0;u=nv(c,u))mr(s,Tw(c),!0)}function Os(s,c,u,d){const h=ke(),g=en(),y=pr(2);g.firstUpdatePass&&Nw(g,s,y,d),c!==Jt&&Lt(h,y,c)&&Fw(g,g.data[hn()],h,h[11],s,h[y+1]=function Uw(s,c){return null==s||("string"==typeof c?s+=c:"object"==typeof s&&(s=ve(ha(s)))),s}(c,u),d,y)}function kw(s,c){return c>=s.expandoStartIndex}function Nw(s,c,u,d){const h=s.data;if(null===h[u+1]){const g=h[hn()],y=kw(s,u);Ex(g,d)&&null===c&&!y&&(c=!1),c=function ov(s,c,u,d){const h=nl(s);let g=d?c.residualClasses:c.residualStyles;if(null===h)0===(d?c.classBindings:c.styleBindings)&&(u=np(u=fm(null,s,c,u,d),c.attrs,d),g=null);else{const y=c.directiveStylingLast;if(-1===y||s[y]!==h)if(u=fm(h,s,c,u,d),null===g){let b=function Pw(s,c,u){const d=u?c.classBindings:c.styleBindings;if(0!==ns(d))return s[Is(d)]}(s,c,d);void 0!==b&&Array.isArray(b)&&(b=fm(null,s,c,b[1],d),b=np(b,c.attrs,d),function Ow(s,c,u,d){s[Is(u?c.classBindings:c.styleBindings)]=d}(s,c,d,b))}else g=function Rw(s,c,u){let d;const h=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<h;g++)d=np(d,s[g].hostAttrs,u);return np(d,c.attrs,u)}(s,c,d)}return void 0!==g&&(d?c.residualClasses=g:c.residualStyles=g),u}(h,g,c,d),function vx(s,c,u,d,h,g){let y=g?c.classBindings:c.styleBindings,E=Is(y),b=ns(y);s[d]=u;let k,A=!1;if(Array.isArray(u)){const Z=u;k=Z[1],(null===k||Es(Z,k)>0)&&(A=!0)}else k=u;if(h)if(0!==b){const J=Is(s[E+1]);s[d+1]=jg(J,E),0!==J&&(s[J+1]=Uf(s[J+1],d)),s[E+1]=function Ty(s,c){return 131071&s|c<<17}(s[E+1],d)}else s[d+1]=jg(E,0),0!==E&&(s[E+1]=Uf(s[E+1],d)),E=d;else s[d+1]=jg(b,0),0===E?E=d:s[b+1]=Uf(s[b+1],d),b=d;A&&(s[d+1]=xy(s[d+1])),bw(s,k,d,!0),bw(s,k,d,!1),function Dx(s,c,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof c&&Es(g,c)>=0&&(u[d+1]=Iy(u[d+1]))}(c,k,s,d,g),y=jg(E,b),g?c.classBindings=y:c.styleBindings=y}(h,g,c,u,y,d)}}function fm(s,c,u,d,h){let g=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(g=c[E],d=np(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(u.directiveStylingLast=E),d}function np(s,c,u){const d=u?1:2;let h=-1;if(null!==c)for(let g=0;g<c.length;g++){const y=c[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mr(s,y,!!u||c[++g]))}return void 0===s?null:s}function Fw(s,c,u,d,h,g,y,E){if(!(3&c.type))return;const b=s.data,A=b[E+1];Ch(function Vf(s){return 1==(1&s)}(A)?Lw(b,c,u,h,ns(A),y):void 0)||(Ch(g)||function OC(s){return 2==(2&s)}(A)&&(g=Lw(b,null,u,h,E,y)),function sk(s,c,u,d,h){if(c)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Yn.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yn.Important),s.setStyle(u,d,h,g))}}(d,y,ms(hn(),u),h,g))}function Lw(s,c,u,d,h,g){const y=null===c;let E;for(;h>0;){const b=s[h],A=Array.isArray(b),k=A?b[1]:b,Z=null===k;let J=u[h+1];J===Jt&&(J=Z?St:void 0);let ie=Z?Xc(J,d):k===d?J:void 0;if(A&&!Ch(ie)&&(ie=Xc(b,d)),Ch(ie)&&(E=ie,y))return E;const Te=s[h+1];h=y?Is(Te):ns(Te)}if(null!==c){let b=g?c.residualClasses:c.residualStyles;null!=b&&(E=Xc(b,d))}return E}function Ch(s){return void 0!==s}function Ex(s,c){return 0!=(s.flags&(c?16:32))}function bx(s,c=""){const u=ke(),d=en(),h=s+22,g=d.firstCreatePass?jl(d,h,1,c,null):d.data[h],y=u[h]=function M(s,c){return s.createText(c)}(u[11],c);B_(d,u,y,g),Sr(g,!1)}function Vw(s){return av("",s,""),Vw}function av(s,c,u){const d=ke(),h=function yu(s,c,u,d){return Lt(s,_s(),u)?c+Ce(u)+d:Jt}(d,s,c,u);return h!==Jt&&fc(d,hn(),h),av}function op(s,c,u,d,h){const g=ke(),y=_h(g,s,c,u,d,h);return y!==Jt&&fc(g,hn(),y),op}function uv(s,c,u){const d=ke();if(Lt(d,_s(),c)){const g=en(),y=An();Oo(g,y,d,s,c,function Or(s,c,u){return(null===s||Ir(s))&&(u=function Hs(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[c.index])),u[11]}(nl(g.data),y,d),u,!0)}return uv}const Jl=void 0;var Vx=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ux(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Wl={};function lp(s){const c=function jx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=dp(c);if(u)return u;const d=c.split("-")[0];if(u=dp(d),u)return u;if("en"===d)return Vx;throw new xe(701,!1)}function _m(s){return lp(s)[Zt.PluralCase]}function dp(s){return s in Wl||(Wl[s]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[s]),Wl[s]}var Zt=(()=>((Zt=Zt||{})[Zt.LocaleId=0]="LocaleId",Zt[Zt.DayPeriodsFormat=1]="DayPeriodsFormat",Zt[Zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zt[Zt.DaysFormat=3]="DaysFormat",Zt[Zt.DaysStandalone=4]="DaysStandalone",Zt[Zt.MonthsFormat=5]="MonthsFormat",Zt[Zt.MonthsStandalone=6]="MonthsStandalone",Zt[Zt.Eras=7]="Eras",Zt[Zt.FirstDayOfWeek=8]="FirstDayOfWeek",Zt[Zt.WeekendRange=9]="WeekendRange",Zt[Zt.DateFormat=10]="DateFormat",Zt[Zt.TimeFormat=11]="TimeFormat",Zt[Zt.DateTimeFormat=12]="DateTimeFormat",Zt[Zt.NumberSymbols=13]="NumberSymbols",Zt[Zt.NumberFormats=14]="NumberFormats",Zt[Zt.CurrencyCode=15]="CurrencyCode",Zt[Zt.CurrencySymbol=16]="CurrencySymbol",Zt[Zt.CurrencyName=17]="CurrencyName",Zt[Zt.Currencies=18]="Currencies",Zt[Zt.Directionality=19]="Directionality",Zt[Zt.PluralCase=20]="PluralCase",Zt[Zt.ExtraData=21]="ExtraData",Zt))();const Yl="en-US";let lv=Yl;function _v(s,c,u,d,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)_v(s[g],c,u,d,h);else{const g=en(),y=ke();let E=Ll(s)?s:Q(s.provide),b=cC(s);const A=Jn(),k=1048575&A.providerIndexes,Z=A.directiveStart,J=A.providerIndexes>>20;if(Ll(s)||!s.multi){const ie=new $s(b,h,hc),Te=vv(E,c,h?k:k+J,Z);-1===Te?(Jo(Js(A,y),g,E),yv(g,s,c.length),c.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(ie),y.push(ie)):(u[Te]=ie,y[Te]=ie)}else{const ie=vv(E,c,k+J,Z),Te=vv(E,c,k,k+J),He=ie>=0&&u[ie],Xe=Te>=0&&u[Te];if(h&&!Xe||!h&&!He){Jo(Js(A,y),g,E);const _t=function $k(s,c,u,d,h){const g=new $s(s,u,hc);return g.multi=[],g.index=c,g.componentProviders=0,EE(g,h,d&&!u),g}(h?bE:hI,u.length,h,d,b);!h&&Xe&&(u[Te].providerFactory=_t),yv(g,s,c.length,0),c.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(_t),y.push(_t)}else yv(g,s,ie>-1?ie:Te,EE(u[h?Te:ie],b,!h&&d));!h&&d&&Xe&&u[Te].componentProviders++}}}function yv(s,c,u,d){const h=Ll(c),g=function yT(s){return!!s.useClass}(c);if(h||g){const b=(g?Q(c.useClass):c).prototype.ngOnDestroy;if(b){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&c.multi){const k=A.indexOf(u);-1===k?A.push(u,[d,b]):A[k+1].push(d,b)}else A.push(u,b)}}}function EE(s,c,u){return u&&s.componentProviders++,s.multi.push(c)-1}function vv(s,c,u,d){for(let h=u;h<d;h++)if(c[h]===s)return h;return-1}function hI(s,c,u,d){return Dv(this.multi,[])}function bE(s,c,u,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Wo(u,u[1],this.providerFactory.index,d);g=E.slice(0,y),Dv(h,g);for(let b=y;b<E.length;b++)g.push(E[b])}else g=[],Dv(h,g);return g}function Dv(s,c){for(let u=0;u<s.length;u++)c.push((0,s[u])());return c}function TE(s,c=[]){return u=>{u.providersResolver=(d,h)=>function wE(s,c,u){const d=en();if(d.firstCreatePass){const h=Ir(s);_v(u,d.data,d.blueprint,h,!0),_v(c,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,c)}}class vc{}class xE{}function fI(s,c){return new Cv(s,c??null)}class Cv extends vc{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vy(this);const d=We(c);this._bootstrapComponents=pa(d.bootstrap),this._r3Injector=Ug(c,u,[{provide:vc,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],ve(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Am extends xE{constructor(c){super(),this.moduleType=c}create(c){return new Cv(this.moduleType,c)}}class wv extends vc{constructor(c,u,d){super(),this.componentFactoryResolver=new Vy(this),this.instance=null;const h=new DT([...c,{provide:vc,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],u||kg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function ln(s,c,u=null){return new wv(s,c,u).injector}let Yr=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=ny(0,u.type),h=d.length>0?ln([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Me({token:s,providedIn:"environment",factory:()=>new s(ci(Ul))}),s})();function Eu(s){s.getStandaloneInjector=c=>c.get(Yr).getOrCreateStandaloneInjector(s)}function td(s,c,u,d){return function ME(s,c,u,d,h,g){const y=c+u;return Lt(s,y,h)?Ro(s,y+1,g?d.call(g,h):d(h)):nd(s,y+1)}(ke(),hr(),s,c,u,d)}function Ht(s,c,u,d,h){return function kE(s,c,u,d,h,g,y){const E=c+u;return ks(s,E,h,g)?Ro(s,E+2,y?d.call(y,h,g):d(h,g)):nd(s,E+2)}(ke(),hr(),s,c,u,d,h)}function Dc(s,c,u,d,h,g){return function NE(s,c,u,d,h,g,y,E){const b=c+u;return function om(s,c,u,d,h){const g=ks(s,c,u,d);return Lt(s,c+2,h)||g}(s,b,h,g,y)?Ro(s,b+3,E?d.call(E,h,g,y):d(h,g,y)):nd(s,b+3)}(ke(),hr(),s,c,u,d,h,g)}function nd(s,c){const u=s[c];return u===Jt?void 0:u}function Sv(s){return c=>{setTimeout(s,void 0,c)}}const Da=class Av extends i.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,d){let h=c,g=u||(()=>null),y=d;if(c&&"object"==typeof c){const b=c;h=b.next?.bind(b),g=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(g=Sv(g),h&&(h=Sv(h)),y&&(y=Sv(y)));const E=super.subscribe({next:h,error:g,complete:y});return c instanceof B.w0&&c.add(E),E}};function OE(){return this._results[_u()]()}class Mv{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=_u(),d=Mv.prototype;d[u]||(d[u]=OE)}get changes(){return this._changes||(this._changes=new Da)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const d=this;d.dirty=!1;const h=Ii(c);(this._changesDetected=!function Yc(s,c,u){if(s.length!==c.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=c[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pm,s})();const _p=mp,RE=class extends _p{constructor(c,u,d){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(c,u){const d=this._declarationTContainer.tViews,h=qg(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),fh(d,h,c),new Li(h)}};function Pm(){return yp(Jn(),ke())}function yp(s,c){return 4&s.type?new RE(c,s,uh(s,c)):null}let Om=(()=>{class s{}return s.__NG_ELEMENT_ID__=TI,s})();function TI(){return Nv(Jn(),ke())}const xI=Om,FE=class extends xI{constructor(c,u,d){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=d}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const c=$a(this._hostTNode,this._hostLView);if(cl(c)){const u=lo(c,this._hostLView),d=Ha(c);return new Qs(u[1].data[d+8],u)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=kv(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=c.createEmbeddedView(u||{},g);return this.insert(y,h),y}createComponent(c,u,d,h,g){const y=c&&!function kr(s){return"function"==typeof s}(c);let E;if(y)E=u;else{const Z=u||{};E=Z.index,d=Z.injector,h=Z.projectableNodes,g=Z.environmentInjector||Z.ngModuleRef}const b=y?c:new Wf(O(c)),A=d||this.parentInjector;if(!g&&null==b.ngModule){const J=(y?A:this.parentInjector).get(Ul,null);J&&(g=J)}const k=b.create(A,h,void 0,g);return this.insert(k.hostView,E),k}insert(c,u){const d=c._lView,h=d[1];if(function Oa(s){return Gi(s[3])}(d)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const Z=d[3],J=new FE(Z,Z[6],Z[3]);J.detach(J.indexOf(c))}}const g=this._adjustIndex(u),y=this._lContainer;!function Kr(s,c,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=c),d<g-10?(c[4]=u[h],pl(u,10+d,c)):(u.push(c),c[4]=null),c[3]=u;const y=c[17];null!==y&&u!==y&&function da(s,c){const u=s[9];c[16]!==c[3][3][16]&&(s[2]=!0),null===u?s[9]=[c]:u.push(c)}(y,c);const E=c[19];null!==E&&E.insertView(s),c[2]|=64}(h,d,y,g);const E=G_(g,y),b=d[11],A=lu(b,y[7]);return null!==A&&function nt(s,c,u,d,h,g){d[0]=h,d[6]=c,Nr(s,d,u,1,h,g)}(h,y[6],b,d,A,E),c.attachToViewContainerRef(),pl(vp(y),g,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=kv(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),d=bf(this._lContainer,u);d&&(Qa(vp(this._lContainer),u),uu(d[1],d))}detach(c){const u=this._adjustIndex(c,-1),d=bf(this._lContainer,u);return d&&null!=Qa(vp(this._lContainer),u)?new Li(d):null}_adjustIndex(c,u=0){return c??this.length+u}};function kv(s){return s[8]}function vp(s){return s[8]||(s[8]=[])}function Nv(s,c){let u;const d=c[s.index];if(Gi(d))u=d;else{let h;if(8&s.type)h=xn(d);else{const g=c[11];h=g.createComment("");const y=dr(s,c);xs(g,lu(g,y),h,function ok(s,c){return s.nextSibling(c)}(g,y),!1)}c[s.index]=u=tw(d,c,h,s),zf(c,u)}return new FE(u,s,c)}class Ov{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dp{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const d=null!==c.contentQueries?c.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const y=u.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Dp(h)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Gv(c,u).matches&&this.queries[u].setDirty()}}class Fm{constructor(c,u,d=null){this.predicate=c,this.flags=u,this.read=d}}class Rv{constructor(c=[]){this.queries=c}elementStart(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(c,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Rv(u):null}template(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Cp{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new Cp(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(c,u,Fv(u,g)),this.matchTNodeWithReadOption(c,u,Ys(u,c,g,!1,!1))}else d===mp?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Ys(u,c,d,!1,!1))}matchTNodeWithReadOption(c,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Nf||h===Om||h===mp&&4&u.type)this.addMatch(u.index,-2);else{const g=Ys(u,c,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function Fv(s,c){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===c)return u[d+1];return null}function Uv(s,c,u,d){return-1===u?function Lv(s,c){return 11&s.type?uh(s,c):4&s.type?yp(s,c):null}(c,s):-2===u?function II(s,c,u){return u===Nf?uh(c,s):u===mp?yp(c,s):u===Om?Nv(c,s):void 0}(s,c,d):Wo(s,s[1],u,c)}function UE(s,c,u,d){const h=c[19].queries[d];if(null===h.matches){const g=s.data,y=u.matches,E=[];for(let b=0;b<y.length;b+=2){const A=y[b];E.push(A<0?null:Uv(c,g[A],y[b+1],u.metadata.read))}h.matches=E}return h.matches}function Vv(s,c,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const y=UE(s,c,h,u);for(let E=0;E<g.length;E+=2){const b=g[E];if(b>0)d.push(y[E/2]);else{const A=g[E+1],k=c[-b];for(let Z=10;Z<k.length;Z++){const J=k[Z];J[17]===J[3]&&Vv(J[1],J,A,d)}if(null!==k[9]){const Z=k[9];for(let J=0;J<Z.length;J++){const ie=Z[J];Vv(ie[1],ie,A,d)}}}}}return d}function wp(s){const c=ke(),u=en(),d=qs();tr(d+1);const h=Gv(u,d);if(s.dirty&&function Yu(s){return 4==(4&s[2])}(c)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Vv(u,c,d,[]):UE(u,c,h,d);s.reset(g,kT),s.notifyOnChanges()}return!0}return!1}function jv(s,c,u,d){const h=en();if(h.firstCreatePass){const g=Jn();(function Hv(s,c,u){null===s.queries&&(s.queries=new Rv),s.queries.track(new Cp(c,u))})(h,new Fm(c,u,d),g.index),function AI(s,c){const u=s.contentQueries||(s.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,c)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function Um(s,c,u){const d=new Mv(4==(4&u));Bf(s,c,d,d.destroy),null===c[19]&&(c[19]=new Dp),c[19].queries.push(new Ov(d))}(h,ke(),u)}function Lm(){return function Bv(s,c){return s[19].queries[c].queryList}(ke(),qs())}function Gv(s,c){return s.queries.getByIndex(c)}function jm(...s){}const KE=new vn("Application Initializer");let Bm=(()=>{class s{constructor(u){this.appInits=u,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(am(g))u.push(g);else if(zl(g)){const y=new Promise((E,b)=>{g.subscribe({complete:E,error:b})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(ci(KE,8))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const JE=new vn("AppId",{providedIn:"root",factory:function WE(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YE=new vn("Platform Initializer"),tA=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QE=new vn("appBootstrapListener"),nA=new vn("AnimationModuleType");let iA=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Xv=new vn("LocaleId",{providedIn:"root",factory:()=>vl(Xv,ut.Optional|ut.SkipSelf)||function cN(){return typeof $localize<"u"&&$localize.locale||Yl}()}),rA=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XE{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let sA=(()=>{class s{compileModuleSync(u){return new Am(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=pa(We(u).declarations).reduce((y,E)=>{const b=O(E);return b&&y.push(new Wf(b)),y},[]);return new XE(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uA=(()=>Promise.resolve(0))();function t0(s){typeof Zone>"u"?uA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dN(){let s=nn.requestAnimationFrame,c=nn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&c){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Hm(s){const c=()=>{!function lA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,n0(s),s.isCheckStableRunning=!0,nb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),n0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,y,E)=>{try{return ib(s),u.invokeTask(h,g,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&c(),dA(s)}},onInvoke:(u,d,h,g,y,E,b)=>{try{return ib(s),u.invoke(h,g,y,E,b)}finally{s.shouldCoalesceRunChangeDetection&&c(),dA(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,n0(s),nb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new xe(909,!1)}run(c,u,d){return this._inner.run(c,u,d)}runTask(c,u,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,c,hN,jm,jm);try{return g.runTask(y,u,d)}finally{g.cancelTask(y)}}runGuarded(c,u,d){return this._inner.runGuarded(c,u,d)}runOutsideAngular(c){return this._outer.run(c)}}const hN={};function nb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function n0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ib(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function dA(s){s._nesting--,nb(s)}class rb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(c,u,d){return c.apply(u,d)}runGuarded(c,u,d){return c.apply(u,d)}runOutsideAngular(c){return c()}runTask(c,u,d,h){return c.apply(u,d)}}const Gm=new vn(""),r0=new vn("");let o0,fN=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o0||(function hA(s){o0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),t0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())t0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(ci(Fs),ci(qm),ci(r0))},s.\u0275prov=Me({token:s,factory:s.\u0275fac}),s})(),qm=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return o0?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),id=null;const fA=new vn("AllowMultipleToken"),s0=new vn("PlatformDestroyListeners");class mN{constructor(c,u){this.name=c,this.token=u}}function gA(s,c,u=[]){const d=`Platform: ${c}`,h=new vn(d);return(g=[])=>{let y=ob();if(!y||y.injector.get(fA,!1)){const E=[...u,...g,{provide:h,useValue:!0}];s?s(E):function _N(s){if(id&&!id.get(fA,!1))throw new xe(400,!1);id=s;const c=s.get(_A);(function pA(s){const c=s.get(YE,null);c&&c.forEach(u=>u())})(s)}(function mA(s=[],c){return Zl.create({name:c,providers:[{provide:iy,useValue:"platform"},{provide:s0,useValue:new Set([()=>id=null])},...s]})}(E,d))}return function vN(s){const c=ob();if(!c)throw new xe(401,!1);return c}()}}function ob(){return id?.get(_A)??null}let _A=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function vA(s,c){let u;return u="noop"===s?new rb:("zone.js"===s?void 0:s)||new Fs(c),u}(d?.ngZone,function yA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Fs,useValue:h}];return h.run(()=>{const y=Zl.create({providers:g,parent:this.injector,name:u.moduleType.name}),E=u.create(y),b=E.injector.get(Dr,null);if(!b)throw new xe(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{b.handleError(k)}});E.onDestroy(()=>{c0(this._modules,E),A.unsubscribe()})}),function DA(s,c,u){try{const d=u();return am(d)?d.catch(h=>{throw c.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw c.runOutsideAngular(()=>s.handleError(d)),d}}(b,h,()=>{const A=E.injector.get(Bm);return A.runInitializers(),A.donePromise.then(()=>(function Yw(s){ae(s,"Expected localeId to be defined"),"string"==typeof s&&(lv=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Xv,Yl)||Yl),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,d=[]){const h=CA({},d);return function pN(s,c,u){const d=new Am(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(a0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new xe(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(s0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(ci(Zl))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function CA(s,c){return Array.isArray(c)?c.reduce(CA,s):{...s,...c}}let a0=(()=>{class s{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new R.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),t0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(g,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof uC;if(!this._injector.get(Bm).done)throw!h&&we(u),new xe(405,false);let y;y=h?u:this._injector.get(kf).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const E=function gN(s){return s.isBoundToModule}(y)?void 0:this._injector.get(vc),A=y.create(Zl.NULL,[],d||y.selector,E),k=A.location.nativeElement,Z=A.injector.get(Gm,null);return Z?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),c0(this.components,A),Z?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;c0(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(QE,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>c0(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(ci(Fs),ci(Ul),ci(Dr))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function c0(s,c){const u=s.indexOf(c);u>-1&&s.splice(u,1)}let EA=!0,bA=!1;function CN(){return bA=!0,EA}function wN(){if(bA)throw new Error("Cannot enable prod mode after platform setup.");EA=!1}let EN=(()=>{class s{}return s.__NG_ELEMENT_ID__=bN,s})();function bN(s){return function TN(s,c,u){if(bo(s)&&!u){const d=ki(s.index,c);return new Li(d,d)}return 47&s.type?new Li(c[16],c):null}(Jn(),ke(),16==(16&s))}class d0{constructor(){}supports(c){return Yf(c)}create(c){return new AA(c)}}const lb=(s,c)=>c;class AA{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||lb}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const y=!d||u&&u.currentIndex<Ln(d,h,g)?u:d,E=Ln(y,h,g),b=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{g||(g=[]);const A=E-h,k=b-h;if(A!=k){for(let J=0;J<A;J++){const ie=J<g.length?g[J]:g[J]=0,Te=ie+J;k<=Te&&Te<A&&(g[J]=ie+1)}g[y.previousIndex]=k-A}}E!==b&&c(y,E,b)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Yf(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h,g,y,u=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)g=c[E],y=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,g,y,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,E),d=!0),u=u._next}else h=0,function px(s,c){if(Array.isArray(s))for(let u=0;u<s.length;u++)c(s[u]);else{const u=s[_u()]();let d;for(;!(d=u.next()).done;)c(d.value)}}(c,E=>{y=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,E,y,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,d,h){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,g,h)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,g,h)):c=this._addAfter(new SA(u,d),g,h),c}_verifyReinsertion(c,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?c=this._reinsertAfter(g,c._prev,h):c.currentIndex!=h&&(c.currentIndex=h,this._addToMoves(c,h)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const h=c._prevRemoved,g=c._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(c,u,d),this._addToMoves(c,d),c}_moveAfter(c,u,d){return this._unlink(c),this._insertAfter(c,u,d),this._addToMoves(c,d),c}_addAfter(c,u,d){return this._insertAfter(c,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,d){const h=null===u?this._itHead:u._next;return c._next=h,c._prev=u,null===h?this._itTail=c:h._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new ni),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,d=c._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ni),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class SA{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MA{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const u=c._prevDup,d=c._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ni{constructor(){this.map=new Map}put(c){const u=c.trackById;let d=this.map.get(u);d||(d=new MA,this.map.set(u,d)),d.add(c)}get(c,u){const h=this.map.get(c);return h?h.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ln(s,c,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+c+h}class $m{constructor(){}supports(c){return c instanceof Map||rm(c)}create(){return new h0}}class h0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||rm(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const d=c._prev;return u._next=c,u._prev=d,c._prev=u,d&&(d._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const h=this._records.get(c);this._maybeAddToChanges(h,u);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new kA(c);return this._records.set(c,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(d=>u(c[d],d))}}class kA{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new f0([new d0])}let f0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||db()),deps:[[s,new ta,new So]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:db}),s})();function hb(){return new zm([new $m])}let zm=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||hb()),deps:[[s,new ta,new So]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:hb}),s})();const pb=gA(null,"core",[]);let PA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(ci(a0))},s.\u0275mod=vi({type:s}),s.\u0275inj=xt({}),s})();function OA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(wt,Oe,V)=>{V.d(Oe,{Z:()=>xe});var i=V(2090),B=V(4859),R=V(6881),oe=V(1877);class de{constructor(Ce,ye){this._delegate=Ce,this.firebase=ye,(0,R._addComponent)(Ce,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ce,ye=R._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ce);return!pt.isInitialized()&&"EXPLICIT"===(null===(yt=pt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:ye})}_removeServiceInstance(Ce,ye=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ye)}_addComponent(Ce){(0,R._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,R._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function De(){const rt=function ve(rt){const Ce={},ye={__esModule:!0,initializeApp:function Ae(ze,le={}){const Ye=R.initializeApp(ze,le);if((0,i.r3)(Ce,Ye.name))return Ce[Ye.name];const At=new rt(Ye,ye);return Ce[Ye.name]=At,At},app:pt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Se(ze){const le=ze.name,Ye=le.replace("-compat","");if(R._registerComponent(ze)&&"PUBLIC"===ze.type){const At=(gt=pt())=>{if("function"!=typeof gt[Ye])throw pe.create("invalid-app-argument",{appName:le});return gt[Ye]()};void 0!==ze.serviceProps&&(0,i.ZB)(At,ze.serviceProps),ye[Ye]=At,rt.prototype[Ye]=function(...gt){return this._getService.bind(this,le).apply(this,ze.multipleInstances?gt:[])}}return"PUBLIC"===ze.type?ye[Ye]:null},removeApp:function yt(ze){delete Ce[ze]},useAsService:function $e(ze,le){return"serverAuth"===le?null:le},modularAPIs:R}};function pt(ze){if(!(0,i.r3)(Ce,ze=ze||R._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ze});return Ce[ze]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function be(){return Object.keys(Ce).map(ze=>Ce[ze])}}),pt.App=rt,ye}(de);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Ce(ye){(0,i.ZB)(rt,ye)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),rt}(),$=new oe.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=z;!function Pe(rt){(0,R.registerVersion)("@firebase/app-compat","0.2.13",rt)}()},6881:(wt,Oe,V)=>{V.r(Oe),V.d(Oe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ao,_DEFAULT_ENTRY_NAME:()=>Yi,_addComponent:()=>dt,_addOrOverwriteComponent:()=>bt,_apps:()=>Mn,_clearComponents:()=>ri,_components:()=>$t,_getProvider:()=>Qi,_registerComponent:()=>nn,_removeServiceInstance:()=>yi,deleteApp:()=>ei,getApp:()=>jn,getApps:()=>En,initializeApp:()=>sn,onLog:()=>ti,registerVersion:()=>Xi,setLogLevel:()=>xr});var i=V(5861),B=V(4859),R=V(1877),oe=V(2090);let _e,pe;const z=new WeakMap,$=new WeakMap,Q=new WeakMap,Ge=new WeakMap,Pe=new WeakMap;let Ce={get(ce,re,Le){if(ce instanceof IDBTransaction){if("done"===re)return $.get(ce);if("objectStoreNames"===re)return ce.objectStoreNames||Q.get(ce);if("store"===re)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Ae(ce[re])},set:(ce,re,Le)=>(ce[re]=Le,!0),has:(ce,re)=>ce instanceof IDBTransaction&&("done"===re||"store"===re)||re in ce};function pt(ce){return"function"==typeof ce?function yt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...re){return ce.apply(be(this),re),Ae(z.get(this))}:function(...re){return Ae(ce.apply(be(this),re))}:function(re,...Le){const Ue=ce.call(be(this),re,...Le);return Q.set(Ue,re.sort?re.sort():[re]),Ae(Ue)}}(ce):(ce instanceof IDBTransaction&&function rt(ce){if($.has(ce))return;const re=new Promise((Le,Ue)=>{const Mt=()=>{ce.removeEventListener("complete",Bt),ce.removeEventListener("error",mn),ce.removeEventListener("abort",mn)},Bt=()=>{Le(),Mt()},mn=()=>{Ue(ce.error||new DOMException("AbortError","AbortError")),Mt()};ce.addEventListener("complete",Bt),ce.addEventListener("error",mn),ce.addEventListener("abort",mn)});$.set(ce,re)}(ce),((ce,re)=>re.some(Le=>ce instanceof Le))(ce,function ve(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ce):ce)}function Ae(ce){if(ce instanceof IDBRequest)return function xe(ce){const re=new Promise((Le,Ue)=>{const Mt=()=>{ce.removeEventListener("success",Bt),ce.removeEventListener("error",mn)},Bt=()=>{Le(Ae(ce.result)),Mt()},mn=()=>{Ue(ce.error),Mt()};ce.addEventListener("success",Bt),ce.addEventListener("error",mn)});return re.then(Le=>{Le instanceof IDBCursor&&z.set(Le,ce)}).catch(()=>{}),Pe.set(re,ce),re}(ce);if(Ge.has(ce))return Ge.get(ce);const re=pt(ce);return re!==ce&&(Ge.set(ce,re),Pe.set(re,ce)),re}const be=ce=>Pe.get(ce),ze=["get","getKey","getAll","getAllKeys","count"],le=["put","add","delete","clear"],Ye=new Map;function At(ce,re){if(!(ce instanceof IDBDatabase)||re in ce||"string"!=typeof re)return;if(Ye.get(re))return Ye.get(re);const Le=re.replace(/FromIndex$/,""),Ue=re!==Le,Mt=le.includes(Le);if(!(Le in(Ue?IDBIndex:IDBObjectStore).prototype)||!Mt&&!ze.includes(Le))return;const Bt=function(){var mn=(0,i.Z)(function*(Bn,...Xt){const Hi=this.transaction(Bn,Mt?"readwrite":"readonly");let Hr=Hi.store;return Ue&&(Hr=Hr.index(Xt.shift())),(yield Promise.all([Hr[Le](...Xt),Mt&&Hi.done]))[0]});return function(Xt){return mn.apply(this,arguments)}}();return Ye.set(re,Bt),Bt}!function ye(ce){Ce=ce(Ce)}(ce=>({...ce,get:(re,Le,Ue)=>At(re,Le)||ce.get(re,Le,Ue),has:(re,Le)=>!!At(re,Le)||ce.has(re,Le)}));class gt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function qt(ce){return"VERSION"===ce.getComponent()?.type}(Le)){const Ue=Le.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Le=>Le).join(" ")}}const lt="@firebase/app",gi=new R.Yd("@firebase/app"),Yi="[DEFAULT]",On={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,$t=new Map;function dt(ce,re){try{ce.container.addComponent(re)}catch(Le){gi.debug(`Component ${re.name} failed to register with FirebaseApp ${ce.name}`,Le)}}function bt(ce,re){ce.container.addOrOverwriteComponent(re)}function nn(ce){const re=ce.name;if($t.has(re))return gi.debug(`There were multiple attempts to register component ${re}.`),!1;$t.set(re,ce);for(const Le of Mn.values())dt(Le,ce);return!0}function Qi(ce,re){const Le=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ce.container.getProvider(re)}function yi(ce,re,Le=Yi){Qi(ce,re).clearInstance(Le)}function ri(){$t.clear()}const zn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zt{constructor(re,Le,Ue){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const ao="9.23.0";function sn(ce,re={}){let Le=ce;"object"!=typeof re&&(re={name:re});const Ue=Object.assign({name:Yi,automaticDataCollectionEnabled:!1},re),Mt=Ue.name;if("string"!=typeof Mt||!Mt)throw zn.create("bad-app-name",{appName:String(Mt)});if(Le||(Le=(0,oe.aH)()),!Le)throw zn.create("no-options");const Bt=Mn.get(Mt);if(Bt){if((0,oe.vZ)(Le,Bt.options)&&(0,oe.vZ)(Ue,Bt.config))return Bt;throw zn.create("duplicate-app",{appName:Mt})}const mn=new B.H0(Mt);for(const Xt of $t.values())mn.addComponent(Xt);const Bn=new zt(Le,Ue,mn);return Mn.set(Mt,Bn),Bn}function jn(ce=Yi){const re=Mn.get(ce);if(!re&&ce===Yi&&(0,oe.aH)())return sn();if(!re)throw zn.create("no-app",{appName:ce});return re}function En(){return Array.from(Mn.values())}function ei(ce){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,i.Z)(function*(ce){const re=ce.name;Mn.has(re)&&(Mn.delete(re),yield Promise.all(ce.container.getProviders().map(Le=>Le.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function Xi(ce,re,Le){var Ue;let Mt=null!==(Ue=On[ce])&&void 0!==Ue?Ue:ce;Le&&(Mt+=`-${Le}`);const Bt=Mt.match(/\s|\//),mn=re.match(/\s|\//);if(Bt||mn){const Bn=[`Unable to register library "${Mt}" with version "${re}":`];return Bt&&Bn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Bt&&mn&&Bn.push("and"),mn&&Bn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void gi.warn(Bn.join(" "))}nn(new B.wA(`${Mt}-version`,()=>({library:Mt,version:re}),"VERSION"))}function ti(ce,re){if(null!==ce&&"function"!=typeof ce)throw zn.create("invalid-log-argument");(0,R.Am)(ce,re)}function xr(ce){(0,R.Ub)(ce)}const G="firebase-heartbeat-store";let H=null;function L(){return H||(H=function Se(ce,re,{blocked:Le,upgrade:Ue,blocking:Mt,terminated:Bt}={}){const mn=indexedDB.open(ce,re),Bn=Ae(mn);return Ue&&mn.addEventListener("upgradeneeded",Xt=>{Ue(Ae(mn.result),Xt.oldVersion,Xt.newVersion,Ae(mn.transaction),Xt)}),Le&&mn.addEventListener("blocked",Xt=>Le(Xt.oldVersion,Xt.newVersion,Xt)),Bn.then(Xt=>{Bt&&Xt.addEventListener("close",()=>Bt()),Mt&&Xt.addEventListener("versionchange",Hi=>Mt(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),Bn}("firebase-heartbeat-database",1,{upgrade:(ce,re)=>{0===re&&ce.createObjectStore(G)}}).catch(ce=>{throw zn.create("idb-open",{originalErrorMessage:ce.message})})),H}function N(){return(N=(0,i.Z)(function*(ce){try{return yield(yield L()).transaction(G).objectStore(G).get(We(ce))}catch(re){if(re instanceof oe.ZR)gi.warn(re.message);else{const Le=zn.create("idb-get",{originalErrorMessage:re?.message});gi.warn(Le.message)}}})).apply(this,arguments)}function W(ce,re){return we.apply(this,arguments)}function we(){return(we=(0,i.Z)(function*(ce,re){try{const Ue=(yield L()).transaction(G,"readwrite");yield Ue.objectStore(G).put(re,We(ce)),yield Ue.done}catch(Le){if(Le instanceof oe.ZR)gi.warn(Le.message);else{const Ue=zn.create("idb-set",{originalErrorMessage:Le?.message});gi.warn(Ue.message)}}})).apply(this,arguments)}function We(ce){return`${ce.name}!${ce.options.appId}`}class tt{constructor(re){this.container=re,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ut(Le),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var re=this;return(0,i.Z)(function*(){const Ue=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=at();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!re._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Mt))return re._heartbeatsCache.heartbeats.push({date:Mt,agent:Ue}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(Bt=>{const mn=new Date(Bt.date).valueOf();return Date.now()-mn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,i.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Le=at(),{heartbeatsToSend:Ue,unsentEntries:Mt}=function Qt(ce,re=1024){const Le=[];let Ue=ce.slice();for(const Mt of ce){const Bt=Le.find(mn=>mn.agent===Mt.agent);if(Bt){if(Bt.dates.push(Mt.date),an(Le)>re){Bt.dates.pop();break}}else if(Le.push({agent:Mt.agent,dates:[Mt.date]}),an(Le)>re){Le.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ue}}(re._heartbeatsCache.heartbeats),Bt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ue}));return re._heartbeatsCache.lastSentHeartbeatDate=Le,Mt.length>0?(re._heartbeatsCache.heartbeats=Mt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),Bt})()}}function at(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,i.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function O(ce){return N.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const Bt=yield Le.read();return W(Le.app,{lastSentHeartbeatDate:null!==(Ue=re.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Bt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const Bt=yield Le.read();return W(Le.app,{lastSentHeartbeatDate:null!==(Ue=re.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...re.heartbeats]})}})()}}function an(ce){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Bi(ce){nn(new B.wA("platform-logger",re=>new gt(re),"PRIVATE")),nn(new B.wA("heartbeat",re=>new tt(re),"PRIVATE")),Xi(lt,"0.9.13",ce),Xi(lt,"0.9.13","esm2017"),Xi("fire-js","")}("")},4859:(wt,Oe,V)=>{V.d(Oe,{H0:()=>ve,wA:()=>R});var i=V(5861),B=V(2090);class R{constructor(z,$,Q){this.name=z,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class de{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const Q=new B.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&Q.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const Q=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Pe){if(Ge)return null;throw Pe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function pe(De){return"EAGER"===De.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const Pe=this.getOrInitializeService({instanceIdentifier:Ge});Q.resolve(Pe)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,i.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Pe,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Pe)&&xe.resolve(Ge);return Ge}onInit(z,$){var Q;const Ge=this.normalizeInstanceIdentifier($),Pe=null!==(Q=this.onInitCallbacks.get(Ge))&&void 0!==Q?Q:new Set;Pe.add(z),this.onInitCallbacks.set(Ge,Pe);const xe=this.instances.get(Ge);return xe&&z(xe,Ge),()=>{Pe.delete(z)}}invokeOnInitCallbacks(z,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ge of Q)try{Ge(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(De=z,De===oe?void 0:De),options:$}),this.instances.set(z,Q),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var De;return Q||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new de(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Oe,V)=>{V.d(Oe,{Am:()=>De,Ub:()=>ve,Yd:()=>pe,in:()=>B});const i=[];var B=(()=>{return(z=B||(B={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",B;var z})();const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},oe=B.INFO,de={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},_e=(z,$,...Q)=>{if($<z.logLevel)return;const Ge=(new Date).toISOString(),Pe=de[$];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Pe](`[${Ge}]  ${z.name}:`,...Q)};class pe{constructor($){this.name=$,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?R[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function ve(z){i.forEach($=>{$.setLogLevel(z)})}function De(z,$){for(const Q of i){let Ge=null;$&&$.level&&(Ge=R[$.level]),Q.userLogHandler=null===z?null:(Pe,xe,...rt)=>{const Ce=rt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");xe>=(Ge??Pe.logLevel)&&z({level:B[xe].toLowerCase(),message:Ce,args:rt,type:Pe.name})}}}},259:(wt,Oe,V)=>{V.d(Oe,{C6:()=>i.getApps,KN:()=>i.registerVersion,Mq:()=>i.getApp,ZF:()=>i.initializeApp});var i=V(6881);(0,i.registerVersion)("firebase","9.23.0","app")},9260:(wt,Oe,V)=>{V.d(Oe,{Z:()=>i.Z});var i=V(3942);i.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(wt,Oe,V)=>{V.r(Oe);var i=V(5861),B=V(3942),R=V(1389),oe=V(2090),pe=(V(6881),V(1877),V(4859));function ve(){return window}function $(){return($=(0,i.Z)(function*(L,O,N){var W;const{BuildInfo:we}=ve();(0,R.as)(O.sessionId,"AuthEvent did not contain a session ID");const We=yield ye(O.sessionId),mt={};return(0,R.at)()?mt.ibi=we.packageName:(0,R.au)()?mt.apn=we.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),we.displayName&&(mt.appDisplayName=we.displayName),mt.sessionId=We,(0,R.aw)(L,N,O.type,void 0,null!==(W=O.eventId)&&void 0!==W?W:void 0,mt)})).apply(this,arguments)}function Ge(){return(Ge=(0,i.Z)(function*(L){const{BuildInfo:O}=ve(),N={};(0,R.at)()?N.iosBundleId=O.packageName:(0,R.au)()?N.androidPackageName=O.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),yield(0,R.ax)(L,N)})).apply(this,arguments)}function rt(){return(rt=(0,i.Z)(function*(L,O,N){const{cordova:W}=ve();let we=()=>{};try{yield new Promise((We,mt)=>{let Ee=null;function tt(){var Ut;We();const an=null===(Ut=W.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof an&&an(),"function"==typeof N?.close&&N.close()}function at(){Ee||(Ee=window.setTimeout(()=>{mt((0,R.az)(L,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&at()}O.addPassiveListener(tt),document.addEventListener("resume",at,!1),(0,R.au)()&&document.addEventListener("visibilitychange",Qt,!1),we=()=>{O.removePassiveListener(tt),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Qt,!1),Ee&&window.clearTimeout(Ee)}})}finally{we()}})).apply(this,arguments)}function ye(L){return yt.apply(this,arguments)}function yt(){return(yt=(0,i.Z)(function*(L){const O=pt(L),N=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(N)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(L){if((0,R.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const O=new ArrayBuffer(L.length),N=new Uint8Array(O);for(let W=0;W<L.length;W++)N[W]=L.charCodeAt(W);return N}class be extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(O)),super.onEvent(O)}initialized(){var O=this;return(0,i.Z)(function*(){yield O.initPromise})()}}function ze(L){return le.apply(this,arguments)}function le(){return(le=(0,i.Z)(function*(L){const O=yield gt()._get(qt(L));return O&&(yield gt()._remove(qt(L))),O})).apply(this,arguments)}function At(){const L=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const W=Math.floor(Math.random()*O.length);L.push(O.charAt(W))}return L.join("")}function gt(){return(0,R.aC)(R.b)}function qt(L){return(0,R.aD)("authEvent",L.config.apiKey,L.name)}function gi(L){if(!L?.includes("?"))return{};const[O,...N]=L.split("?");return(0,oe.zd)(N.join("?"))}function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function ct(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function tn(L=(0,oe.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const L=self.localStorage,O=R.aL();if(L)return L.setItem(O,"1"),L.removeItem(O),!function gn(L=(0,oe.z$)()){return function on(){return(0,oe.w1)()&&11===document?.documentMode}()||function Nn(L=(0,oe.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,oe.hl)()}catch{return Sn()&&(0,oe.hl)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function xt(){return"http:"===ct()||"https:"===ct()}()||(0,oe.ru)()||tn())&&!function kt(){return(0,oe.b$)()||(0,oe.UG)()}()&&Qn()&&!Sn()}function mi(){return tn()&&typeof document<"u"}function ut(){return(ut=(0,i.Z)(function*(){return!!mi()&&new Promise(L=>{const O=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),L(!0)})})})).apply(this,arguments)}const Xn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=R.aA,Br="persistence";function On(L){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,i.Z)(function*(L){yield L._initializationPromise;const O=dt(),N=R.aD(Br,L.config.apiKey,L.name);O&&O.setItem(N,L._getPersistence())})).apply(this,arguments)}function dt(){var L;try{return(null===(L=function _i(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const bt=R.aA;class nn{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(class so{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){const W=O._key();let we=N.eventManagers.get(W);return we||(we=new be(O),N.eventManagers.set(W,we),N.attachCallbackListeners(O,we)),we})()}_openPopup(O){(0,R.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,N,W,we){var We=this;return(0,i.Z)(function*(){!function Ce(L){var O,N,W,we,We,mt,Ee,tt,at,Qt;const Ut=ve();(0,R.aA)("function"==typeof(null===(O=Ut?.universalLinks)||void 0===O?void 0:O.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(N=Ut?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(We=null===(we=null===(W=Ut?.cordova)||void 0===W?void 0:W.plugins)||void 0===we?void 0:we.browsertab)||void 0===We?void 0:We.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(tt=null===(Ee=null===(mt=Ut?.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===tt?void 0:tt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(Qt=null===(at=Ut?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Qt?void 0:Qt.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const mt=yield We._initialize(O);yield mt.initialized(),mt.resetRedirect(),(0,R.aG)(),yield We._originValidation(O);const Ee=function Se(L,O,N=null){return{type:O,eventId:N,urlResponse:null,sessionId:At(),postBody:null,tenantId:L.tenantId,error:(0,R.az)(L,"no-auth-event")}}(O,W,we);yield function $e(L,O){return gt()._set(qt(L),O)}(O,Ee);const tt=yield function z(L,O,N){return $.apply(this,arguments)}(O,Ee,N),at=yield function Pe(L){const{cordova:O}=ve();return new Promise(N=>{O.plugins.browsertab.isAvailable(W=>{let we=null;W?O.plugins.browsertab.openUrl(L):we=O.InAppBrowser.open(L,(0,R.ay)()?"_blank":"_system","location=yes"),N(we)})})}(tt);return function xe(L,O,N){return rt.apply(this,arguments)}(O,mt,at)})()}_isIframeWebStorageSupported(O,N){throw new Error("Method not implemented.")}_originValidation(O){const N=O._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Q(L){return Ge.apply(this,arguments)}(O)),this.originValidationPromises[N]}attachCallbackListeners(O,N){const{universalLinks:W,handleOpenURL:we,BuildInfo:We}=ve(),mt=setTimeout((0,i.Z)(function*(){yield ze(O),N.onEvent(ne())}),500),Ee=function(){var Qt=(0,i.Z)(function*(Ut){clearTimeout(mt);const an=yield ze(O);let Bi=null;an&&Ut?.url&&(Bi=function Ye(L,O){var N,W;const we=function oo(L){const O=gi(L),N=O.link?decodeURIComponent(O.link):void 0,W=gi(N).link,we=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return gi(we).link||we||W||N||L}(O);if(we.includes("/__/auth/callback")){const We=gi(we),mt=We.firebaseError?function lt(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,Ee=null===(W=null===(N=mt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===W?void 0:W[1],tt=Ee?(0,R.az)(Ee):null;return tt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:we,postBody:null}}return null}(an,Ut.url)),N.onEvent(Bi||ne())});return function(an){return Qt.apply(this,arguments)}}();typeof W<"u"&&"function"==typeof W.subscribe&&W.subscribe(null,Ee);const tt=we,at=`${We.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Qt=(0,i.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(at)&&Ee({url:Ut}),"function"==typeof tt)try{tt(Ut)}catch(an){console.error(an)}});return function(Ut){return Qt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,N,W,we){var We=this;return(0,i.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(O,N,W,we)})()}_openRedirect(O,N,W,we){var We=this;return(0,i.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(O,N,W,we)})()}_isIframeWebStorageSupported(O,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,N)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return mi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,i.Z)(function*(){if(O.underlyingResolver)return;const N=yield function Tr(){return ut.apply(this,arguments)}();O.underlyingResolver=N?O.cordovaResolver:O.browserResolver})()}}function Qi(L){return L.unwrap()}function ri(L){return zn(L)}function zn(L){const{_tokenResponse:O}=L instanceof oe.ZR?L.customData:L;if(!O)return null;if(!(L instanceof oe.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return R.P.credentialFromResult(L);const N=O.providerId;if(!N||N===R.p.PASSWORD)return null;let W;switch(N){case R.p.GOOGLE:W=R.V;break;case R.p.FACEBOOK:W=R.U;break;case R.p.GITHUB:W=R.W;break;case R.p.TWITTER:W=R.Z;break;default:const{oauthIdToken:we,oauthAccessToken:We,oauthTokenSecret:mt,pendingToken:Ee,nonce:tt}=O;return We||mt||we||Ee?Ee?N.startsWith("saml.")?R.aO._create(N,Ee):R.L._fromParams({providerId:N,signInMethod:N,pendingToken:Ee,idToken:we,accessToken:We}):new R.X(N).credential({idToken:we,accessToken:We,rawNonce:tt}):null}return L instanceof oe.ZR?W.credentialFromError(L):W.credentialFromResult(L)}function zt(L,O){return O.catch(N=>{throw N instanceof oe.ZR&&function St(L,O){var N;const W=null===(N=O.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new jn(L,R.aq(L,O));else if(W){const we=zn(O),We=O;we&&(We.credential=we,We.tenantId=W.tenantId||void 0,We.email=W.email||void 0,We.phoneNumber=W.phoneNumber||void 0)}}(L,N),N}).then(N=>{const we=N.user;return{operationType:N.operationType,credential:ri(N),additionalUserInfo:R.ao(N),user:En.getOrCreate(we)}})}function ao(L,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(L,O){const N=yield O;return{verificationId:N.verificationId,confirm:W=>zt(L,N.confirm(W))}})).apply(this,arguments)}class jn{constructor(O,N){this.resolver=N,this.auth=function yi(L){return L.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return zt(Qi(this.auth),this.resolver.resolveSignIn(O))}}class En{constructor(O){this._delegate=O,this.multiFactor=R.ar(O)}static getOrCreate(O){return En.USER_MAP.has(O)||En.USER_MAP.set(O,new En(O)),En.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a0(N._delegate,O))})()}linkWithPhoneNumber(O,N){var W=this;return(0,i.Z)(function*(){return ao(W.auth,R.l(W._delegate,O,N))})()}linkWithPopup(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.d(N._delegate,O,nn))})()}linkWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.g(N._delegate,O,nn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a1(N._delegate,O))})()}reauthenticateWithPhoneNumber(O,N){return ao(this.auth,R.r(this._delegate,O,N))}reauthenticateWithPopup(O){return zt(this.auth,R.e(this._delegate,O,nn))}reauthenticateWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.h(N._delegate,O,nn)})()}sendEmailVerification(O){return R.ae(this._delegate,O)}unlink(O){var N=this;return(0,i.Z)(function*(){return yield R.an(N._delegate,O),N})()}updateEmail(O){return R.aj(this._delegate,O)}updatePassword(O){return R.ak(this._delegate,O)}updatePhoneNumber(O){return R.u(this._delegate,O)}updateProfile(O){return R.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,N){return R.af(this._delegate,O,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}En.USER_MAP=new WeakMap;const ei=R.aA;let Pn=(()=>{class L{constructor(N,W){if(this.app=N,W.isInitialized())return this._delegate=W.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:we}=N.options;ei(we,"invalid-api-key",{appName:N.name}),ei(we,"invalid-api-key",{appName:N.name});const We=typeof window<"u"?nn:void 0;this._delegate=W.initialize({options:{persistence:ti(we,N.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?En.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,W){R.I(this._delegate,N,W)}applyActionCode(N){return R.a5(this._delegate,N)}checkActionCode(N){return R.a6(this._delegate,N)}confirmPasswordReset(N,W){return R.a4(this._delegate,N,W)}createUserWithEmailAndPassword(N,W){var we=this;return(0,i.Z)(function*(){return zt(we._delegate,R.a8(we._delegate,N,W))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.ad(this._delegate,N)}isSignInWithEmailLink(N){return R.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,i.Z)(function*(){ei(Zn(),N._delegate,"operation-not-supported-in-this-environment");const W=yield R.j(N._delegate,nn);return W?zt(N._delegate,Promise.resolve(W)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ie(L,O){(0,R.aH)(L)._logFramework(O)}(this._delegate,N)}onAuthStateChanged(N,W,we){const{next:We,error:mt,complete:Ee}=Xi(N,W,we);return this._delegate.onAuthStateChanged(We,mt,Ee)}onIdTokenChanged(N,W,we){const{next:We,error:mt,complete:Ee}=Xi(N,W,we);return this._delegate.onIdTokenChanged(We,mt,Ee)}sendSignInLinkToEmail(N,W){return R.aa(this._delegate,N,W)}sendPasswordResetEmail(N,W){return R.a3(this._delegate,N,W||void 0)}setPersistence(N){var W=this;return(0,i.Z)(function*(){let we;switch(function Yi(L,O){$n(Object.values(Xn).includes(O),L,"invalid-persistence-type"),(0,oe.b$)()?$n(O!==Xn.SESSION,L,"unsupported-persistence-type"):(0,oe.UG)()?$n(O===Xn.NONE,L,"unsupported-persistence-type"):Sn()?$n(O===Xn.NONE||O===Xn.LOCAL&&(0,oe.hl)(),L,"unsupported-persistence-type"):$n(O===Xn.NONE||Qn(),L,"unsupported-persistence-type")}(W._delegate,N),N){case Xn.SESSION:we=R.a;break;case Xn.LOCAL:we=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Xn.NONE:we=R.N;break;default:return R.av("argument-error",{appName:W._delegate.name})}return W._delegate.setPersistence(we)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return zt(this._delegate,R._(this._delegate))}signInWithCredential(N){return zt(this._delegate,R.$(this._delegate,N))}signInWithCustomToken(N){return zt(this._delegate,R.a2(this._delegate,N))}signInWithEmailAndPassword(N,W){return zt(this._delegate,R.a9(this._delegate,N,W))}signInWithEmailLink(N,W){return zt(this._delegate,R.ac(this._delegate,N,W))}signInWithPhoneNumber(N,W){return ao(this._delegate,R.s(this._delegate,N,W))}signInWithPopup(N){var W=this;return(0,i.Z)(function*(){return ei(Zn(),W._delegate,"operation-not-supported-in-this-environment"),zt(W._delegate,R.c(W._delegate,N,nn))})()}signInWithRedirect(N){var W=this;return(0,i.Z)(function*(){return ei(Zn(),W._delegate,"operation-not-supported-in-this-environment"),yield On(W._delegate),R.f(W._delegate,N,nn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Xn,L})();function Xi(L,O,N){let W=L;"function"!=typeof L&&({next:W,error:O,complete:N}=L);const we=W;return{next:mt=>we(mt&&En.getOrCreate(mt)),error:O,complete:N}}function ti(L,O){const N=function $t(L,O){const N=dt();if(!N)return[];const W=R.aD(Br,L,O);switch(N.getItem(W)){case Xn.NONE:return[R.N];case Xn.LOCAL:return[R.i,R.a];case Xn.SESSION:return[R.a];default:return[]}}(L,O);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const W of[R.b,R.a])N.includes(W)||N.push(W);return N.includes(R.N)||N.push(R.N),N}class xr{constructor(){this.providerId="phone",this._delegate=new R.P(Qi(B.Z.auth()))}static credential(O,N){return R.P.credential(O,N)}verifyPhoneNumber(O,N){return this._delegate.verifyPhoneNumber(O,N)}unwrap(){return this._delegate}}xr.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,xr.PROVIDER_ID=R.P.PROVIDER_ID;const vi=R.aA;class ji{constructor(O,N,W=B.Z.app()){var we;vi(null===(we=W.options)||void 0===we?void 0:we.apiKey,"invalid-api-key",{appName:W.name}),this._delegate=new R.R(O,N,W.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(L){L.INTERNAL.registerComponent(new pe.wA("auth-compat",O=>{const N=O.getProvider("app-compat").getImmediate(),W=O.getProvider("auth");return new Pn(N,W)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:xr,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:ji,TwitterAuthProvider:R.Z,Auth:Pn,AuthCredential:R.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(wt,Oe,V)=>{function i(R,oe,de,_e,pe,ve,De){try{var z=R[ve](De),$=z.value}catch(Q){return void de(Q)}z.done?oe($):Promise.resolve($).then(_e,pe)}function B(R){return function(){var oe=this,de=arguments;return new Promise(function(_e,pe){var ve=R.apply(oe,de);function De($){i(ve,_e,pe,De,z,"next",$)}function z($){i(ve,_e,pe,De,z,"throw",$)}De(void 0)})}}V.d(Oe,{Z:()=>B})},7582:(wt,Oe,V)=>{function oe(ae,ne){var Ie={};for(var fe in ae)Object.prototype.hasOwnProperty.call(ae,fe)&&ne.indexOf(fe)<0&&(Ie[fe]=ae[fe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(fe=Object.getOwnPropertySymbols(ae);Ne<fe.length;Ne++)ne.indexOf(fe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(ae,fe[Ne])&&(Ie[fe[Ne]]=ae[fe[Ne]])}return Ie}function Q(ae,ne,Ie,fe){return new(Ie||(Ie=Promise))(function(Me,ct){function xt(on){try{kt(fe.next(on))}catch(Nn){ct(Nn)}}function tn(on){try{kt(fe.throw(on))}catch(Nn){ct(Nn)}}function kt(on){on.done?Me(on.value):function Ne(Me){return Me instanceof Ie?Me:new Ie(function(ct){ct(Me)})}(on.value).then(xt,tn)}kt((fe=fe.apply(ae,ne||[])).next())})}function Ae(ae){return this instanceof Ae?(this.v=ae,this):new Ae(ae)}function be(ae,ne,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,fe=Ie.apply(ae,ne||[]),Me=[];return Ne={},ct("next"),ct("throw"),ct("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ct(gn){fe[gn]&&(Ne[gn]=function(Qn){return new Promise(function(Sn,Zn){Me.push([gn,Qn,Sn,Zn])>1||xt(gn,Qn)})})}function xt(gn,Qn){try{!function tn(gn){gn.value instanceof Ae?Promise.resolve(gn.value.v).then(kt,on):Nn(Me[0][2],gn)}(fe[gn](Qn))}catch(Sn){Nn(Me[0][3],Sn)}}function kt(gn){xt("next",gn)}function on(gn){xt("throw",gn)}function Nn(gn,Qn){gn(Qn),Me.shift(),Me.length&&xt(Me[0][0],Me[0][1])}}function $e(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ne=ae[Symbol.asyncIterator];return ne?ne.call(ae):(ae=function rt(ae){var ne="function"==typeof Symbol&&Symbol.iterator,Ie=ne&&ae[ne],fe=0;if(Ie)return Ie.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&fe>=ae.length&&(ae=void 0),{value:ae&&ae[fe++],done:!ae}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ie={},fe("next"),fe("throw"),fe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function fe(Me){Ie[Me]=ae[Me]&&function(ct){return new Promise(function(xt,tn){!function Ne(Me,ct,xt,tn){Promise.resolve(tn).then(function(kt){Me({value:kt,done:xt})},ct)}(xt,tn,(ct=ae[Me](ct)).done,ct.value)})}}}V.d(Oe,{FC:()=>be,KL:()=>$e,_T:()=>oe,mG:()=>Q,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=2849)}]);