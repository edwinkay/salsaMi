"use strict";(self.webpackChunkasi_somos_asi_bailamos=self.webpackChunkasi_somos_asi_bailamos||[]).push([[179],{2011:(Et,Oe,V)=>{V.d(Oe,{Dh:()=>ve,GT:()=>_e,cc:()=>Pe,hO:()=>He,on:()=>z,pX:()=>de,xv:()=>De});var i=V(4650),j=V(9260),R=V(4976);Et=V.hmd(Et);const oe=["ngOnDestroy"],de=(ye,yt,pt,Ae={})=>new Proxy(ye,{get:(be,Se)=>pt.runOutsideAngular(()=>{var $e;if(ye[Se])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(Se,ye[Se]),ye[Se];if(oe.indexOf(Se)>-1)return()=>{};const ze=yt.toPromise().then(le=>{const Ye=le&&le[Se];return"function"==typeof Ye?Ye.bind(le):Ye&&Ye.then?Ye.then(At=>pt.run(()=>At)):pt.run(()=>Ye)});return new Proxy(()=>{},{get:(le,Ye)=>ze[Ye],apply:(le,Ye,At)=>ze.then(gt=>{var qt;const lt=gt&&gt(...At);return!(null===(qt=Ae?.spy)||void 0===qt)&&qt.apply&&Ae.spy.apply(Se,At,lt),lt})})})}),_e=(ye,yt)=>{yt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ae=>{Object.defineProperty(ye.prototype,Ae,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ae))})})};class pe{constructor(yt){return yt}}const ve=new i.OlP("angularfire2.app.options"),De=new i.OlP("angularfire2.app.name");function z(ye,yt,pt){const be="object"==typeof pt&&pt||{};be.name=be.name||"string"==typeof pt&&pt||"[DEFAULT]";const $e=j.Z.apps.filter(ze=>ze&&ze.name===be.name)[0]||yt.runOutsideAngular(()=>j.Z.initializeApp(ye,be));try{JSON.stringify(ye)!==JSON.stringify($e.options)&&q("error",`${$e.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe($e)}const q=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)},Q={provide:pe,useFactory:z,deps:[ve,i.R0b,[new i.FiY,De]]};let He=(()=>{class ye{constructor(pt){j.Z.registerVersion("angularfire",R.q4.full,"core"),j.Z.registerVersion("angularfire",R.q4.full,"app-compat"),j.Z.registerVersion("angular",i.q4F.full,pt.toString())}static initializeApp(pt,Ae){return{ngModule:ye,providers:[{provide:ve,useValue:pt},{provide:De,useValue:Ae}]}}}return ye.\u0275fac=function(pt){return new(pt||ye)(i.LFG(i.Lbi))},ye.\u0275mod=i.oAB({type:ye}),ye.\u0275inj=i.cJS({providers:[Q]}),ye})();function Pe(ye,yt,pt,Ae,be){const[,Se,$e]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ye)||[];if(Se)return function xe(ye,yt){try{return ye.toString()===yt.toString()}catch{return ye===yt}}(be,$e)||(Ce("error",`${yt} was already initialized on the ${pt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:be,was:$e})),Se;{const ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ye,ze,be]),ze}}const it=!!Et.hot,Ce=(ye,...yt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ye](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Et,Oe,V)=>{V.d(Oe,{q4:()=>su,iC:()=>$r,fc:()=>Ef,HU:()=>sc,vb:()=>Yd,JM:()=>ua,u3:()=>ca});var i=V(4650),j=V(259),R=V(5861),oe=V(6881),de=V(2090),_e=V(4859),pe=V(1877);let De,z;const He=new WeakMap,Pe=new WeakMap,xe=new WeakMap,it=new WeakMap,Ce=new WeakMap;let pt={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Pe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xe.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return $e(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Se(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(ze(this),T),$e(He.get(this))}:function(...T){return $e(C.apply(ze(this),T))}:function(T,...S){const U=C.call(ze(this),T,...S);return xe.set(U,T.sort?T.sort():[T]),$e(U)}}(C):(C instanceof IDBTransaction&&function yt(C){if(Pe.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",me),C.removeEventListener("abort",me)},X=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",X),C.addEventListener("error",me),C.addEventListener("abort",me)});Pe.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function q(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,pt):C)}function $e(C){if(C instanceof IDBRequest)return function ye(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",X),C.removeEventListener("error",me)},X=()=>{S($e(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",X),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&He.set(S,C)}).catch(()=>{}),Ce.set(T,C),T}(C);if(it.has(C))return it.get(C);const T=Se(C);return T!==C&&(it.set(C,T),Ce.set(T,C)),T}const ze=C=>Ce.get(C),At=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],qt=new Map;function lt(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(qt.get(T))return qt.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=gt.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!At.includes(S))return;const X=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Lt=et.store;return U&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return qt.set(T,X),X}!function Ae(C){pt=C(pt)}(C=>({...C,get:(T,S,U)=>lt(T,S)||C.get(T,S,U),has:(T,S)=>!!lt(T,S)||C.has(T,S)}));const so="@firebase/installations",ao="w:0.6.4",se="FIS_v2",ut=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function kt(C){return{token:C.token,requestStatus:2,expiresIn:mr(C.expiresIn),creationTime:Date.now()}}function on(C,T){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(C,T){const U=(yield T.json()).error;return ut.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function pn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Qn(C,{refreshToken:T}){const S=pn(C);return S.append("Authorization",function Ti(C){return`${se} ${C}`}(T)),S}function Sn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function mr(C){return Number(C.replace("s","000"))}function ct(C,T){return _r.apply(this,arguments)}function _r(){return(_r=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:S}){const U=tn(C),K=pn(C),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:se,appId:C.appId,sdkVersion:ao})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok){const et=yield Ke.json();return{fid:et.fid||S,registrationStatus:2,refreshToken:et.refreshToken,authToken:kt(et.authToken)}}throw yield on("Create Installation",Ke)})).apply(this,arguments)}function Xn(C){return new Promise(T=>{setTimeout(T,C)})}const ji=/^[cdef][\w-]{21}$/;function On(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Mn(C){return function $n(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ji.test(S)?S:""}catch{return""}}function $t(C){return`${C.appName}!${C.appId}`}const dt=new Map;function bt(C,T){const S=$t(C);yr(S,T),function ir(C,T){const S=function zn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=C=>{yr(C.data.key,C.data.fid)}),St}();S&&S.postMessage({key:C,fid:T}),function zt(){0===dt.size&&St&&(St.close(),St=null)}()}(S,T)}function yr(C,T){const S=dt.get(C);if(S)for(const U of S)U(T)}let St=null;const Bn="firebase-installations-store";let wn=null;function er(){return wn||(wn=function le(C,T,{blocked:S,upgrade:U,blocking:K,terminated:X}={}){const me=indexedDB.open(C,T),Qe=$e(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U($e(me.result),Ke.oldVersion,Ke.newVersion,$e(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Bn)}})),wn}function Pn(C,T){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield er()).transaction(Bn,"readwrite"),X=K.objectStore(Bn),me=yield X.get(S);return yield X.put(T,S),yield K.done,(!me||me.fid!==T.fid)&&bt(C,T.fid),T})).apply(this,arguments)}function tr(C){return xi.apply(this,arguments)}function xi(){return(xi=(0,R.Z)(function*(C){const T=$t(C),U=(yield er()).transaction(Bn,"readwrite");yield U.objectStore(Bn).delete(T),yield U.done})).apply(this,arguments)}function vr(C,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.Z)(function*(C,T){const S=$t(C),K=(yield er()).transaction(Bn,"readwrite"),X=K.objectStore(Bn),me=yield X.get(S),Qe=T(me);return void 0===Qe?yield X.delete(S):yield X.put(Qe,S),yield K.done,Qe&&(!me||me.fid!==Qe.fid)&&bt(C,Qe.fid),Qe})).apply(this,arguments)}function G(C){return H.apply(this,arguments)}function H(){return(H=(0,R.Z)(function*(C){let T;const S=yield vr(C.appConfig,U=>{const K=F(U),X=O(C,K);return T=X.registrationPromise,X.installationEntry});return""===S.fid?{installationEntry:yield T}:{installationEntry:S,registrationPromise:T}})).apply(this,arguments)}function F(C){return we(C||{fid:On(),registrationStatus:0})}function O(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ut.create("app-offline"))};const S={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(C,T){return J.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ee(C)}:{installationEntry:T}}function J(){return(J=(0,R.Z)(function*(C,T){try{const S=yield ct(C,T);return Pn(C.appConfig,S)}catch(S){throw xt(S)&&409===S.customData.serverCode?yield tr(C.appConfig):yield Pn(C.appConfig,{fid:T.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Ee(C){return Je.apply(this,arguments)}function Je(){return(Je=(0,R.Z)(function*(C){let T=yield mt(C.appConfig);for(;1===T.registrationStatus;)yield Xn(100),T=yield mt(C.appConfig);if(0===T.registrationStatus){const{installationEntry:S,registrationPromise:U}=yield G(C);return U||S}return T})).apply(this,arguments)}function mt(C){return vr(C,T=>{if(!T)throw ut.create("installation-not-found");return we(T)})}function we(C){return function tt(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function at(C,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:T},S){const U=Ft(C,S),K=Qn(C,S),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&K.append("x-firebase-client",et)}const Qe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:ao,appId:C.appId}})},Ke=yield Sn(()=>fetch(U,Qe));if(Ke.ok)return kt(yield Ke.json());throw yield on("Generate Auth Token",Ke)})).apply(this,arguments)}function Ft(C,{fid:T}){return`${tn(C)}/${T}/authTokens:generate`}function an(C){return jr.apply(this,arguments)}function jr(){return(jr=(0,R.Z)(function*(C,T=!1){let S;const U=yield vr(C.appConfig,X=>{if(!jt(X))throw ut.create("not-registered");const me=X.authToken;if(!T&&gn(me))return X;if(1===me.requestStatus)return S=ue(C,T),X;{if(!navigator.onLine)throw ut.create("app-offline");const Qe=Qt(X);return S=Ue(C,Qe),Qe}});return S?yield S:U.authToken})).apply(this,arguments)}function ue(C,T){return ie.apply(this,arguments)}function ie(){return(ie=(0,R.Z)(function*(C,T){let S=yield Le(C.appConfig);for(;1===S.authToken.requestStatus;)yield Xn(100),S=yield Le(C.appConfig);const U=S.authToken;return 0===U.requestStatus?an(C,T):U})).apply(this,arguments)}function Le(C){return vr(C,T=>{if(!jt(T))throw ut.create("not-registered");return function Hr(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ue(C,T){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,R.Z)(function*(C,T){try{const S=yield at(C,T),U=Object.assign(Object.assign({},T),{authToken:S});return yield Pn(C.appConfig,U),S}catch(S){if(!xt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Pn(C.appConfig,U)}else yield tr(C.appConfig);throw S}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function gn(C){return 2===C.requestStatus&&!function jn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Qt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function li(){return(li=(0,R.Z)(function*(C){const T=C,{installationEntry:S,registrationPromise:U}=yield G(T);return U?U.catch(console.error):an(T).catch(console.error),S.fid})).apply(this,arguments)}function Aa(){return(Aa=(0,R.Z)(function*(C,T=!1){const S=C;return yield Xt(S),(yield an(S,T)).token})).apply(this,arguments)}function Xt(C){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(C){const{registrationPromise:T}=yield G(C);T&&(yield T)})).apply(this,arguments)}function Tr(C){return ut.create("missing-app-config-values",{valueName:C})}const Gr="installations",To=C=>{const T=C.getProvider("app").getImmediate(),S=function vd(C){if(!C||!C.options)throw Tr("App Configuration");if(!C.name)throw Tr("App Name");const T=["projectId","apiKey","appId"];for(const S of T)if(!C.options[S])throw Tr(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ka=C=>{const T=C.getProvider("app").getImmediate(),S=(0,oe._getProvider)(T,Gr).getImmediate();return{getId:()=>function Hi(C){return li.apply(this,arguments)}(S),getToken:K=>function Ia(C){return Aa.apply(this,arguments)}(S,K)}};(function Ii(){(0,oe._registerComponent)(new _e.wA(Gr,To,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("installations-internal",ka,"PRIVATE"))})(),(0,oe.registerVersion)(so,"0.6.4"),(0,oe.registerVersion)(so,"0.6.4","esm2017");const Na="@firebase/remote-config",kn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gc{constructor(T,S,U,K){this.client=T,this.storage=S,this.storageCache=U,this.logger=K}isCachedDataFresh(T,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-S,K=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(T.cacheMaxAgeMillis,U))return K;T.eTag=K&&K.eTag;const X=yield S.client.fetch(T),me=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&me.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(me),X})()}}function Su(C=navigator){return C.languages&&C.languages[0]||C.language}class qc{constructor(T,S,U,K,X,me){this.firebaseInstallations=T,this.sdkVersion=S,this.namespace=U,this.projectId=K,this.apiKey=X,this.appId=me}fetch(T){var S=this;return(0,R.Z)(function*(){const[U,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ke={sdk_version:S.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:S.appId,language_code:Su()},et={method:"POST",headers:Qe,body:JSON.stringify(Ke)},Lt=fetch(me,et),Ot=new Promise((ri,Rr)=>{T.signal.addEventListener(()=>{const da=new Error("The operation was aborted.");da.name="AbortError",Rr(da)})});let Or;try{yield Promise.race([Lt,Ot]),Or=yield Lt}catch(ri){let Rr="fetch-client-network";throw"AbortError"===ri?.name&&(Rr="fetch-timeout"),kn.create(Rr,{originalErrorMessage:ri?.message})}let fn=Or.status;const po=Or.headers.get("ETag")||void 0;let la,go;if(200===Or.status){let ri;try{ri=yield Or.json()}catch(Rr){throw kn.create("fetch-client-parse",{originalErrorMessage:Rr?.message})}la=ri.entries,go=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===go?fn=500:"NO_CHANGE"===go?fn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(la={}),304!==fn&&200!==fn)throw kn.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:po,config:la}})()}}class $c{constructor(T,S){this.client=T,this.storage=S}fetch(T){var S=this;return(0,R.Z)(function*(){const U=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:S,backoffCount:U}){var K=this;return(0,R.Z)(function*(){yield function Oa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(X),U(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,S);try{const X=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),X}catch(X){if(!function xd(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const me={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(me),K.attemptFetch(T,me)}})()}}class zc{constructor(T,S,U,K,X){this.app=T,this._client=S,this._storageCache=U,this._storage=K,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kn(C,T){const S=C.target.error||void 0;return kn.create(T,{originalErrorMessage:S&&S?.message})}const xo="app_namespace_store";class sf{constructor(T,S,U,K=function L_(){return new Promise((C,T)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=U=>{T(Kn(U,"storage-open"))},S.onsuccess=U=>{C(U.target.result)},S.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(xo,{keyPath:"compositeKey"})}}catch(S){T(kn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=T,this.appName=S,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,X)=>{const Qe=U.transaction([xo],"readonly").objectStore(xo),Ke=S.createCompositeKey(T);try{const et=Qe.get(Ke);et.onerror=Lt=>{X(Kn(Lt,"storage-get"))},et.onsuccess=Lt=>{const Ot=Lt.target.result;K(Ot?Ot.value:void 0)}}catch(et){X(kn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,S){var U=this;return(0,R.Z)(function*(){const K=yield U.openDbPromise;return new Promise((X,me)=>{const Ke=K.transaction([xo],"readwrite").objectStore(xo),et=U.createCompositeKey(T);try{const Lt=Ke.put({compositeKey:et,value:S});Lt.onerror=Ot=>{me(Kn(Ot,"storage-set"))},Lt.onsuccess=()=>{X()}}catch(Lt){me(kn.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(T){var S=this;return(0,R.Z)(function*(){const U=yield S.openDbPromise;return new Promise((K,X)=>{const Qe=U.transaction([xo],"readwrite").objectStore(xo),Ke=S.createCompositeKey(T);try{const et=Qe.delete(Ke);et.onerror=Lt=>{X(Kn(Lt,"storage-delete"))},et.onsuccess=()=>{K()}}catch(et){X(kn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const S=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),X=yield S;X&&(T.lastFetchStatus=X);const me=yield U;me&&(T.lastSuccessfulFetchTimestampMillis=me);const Qe=yield K;Qe&&(T.activeConfig=Qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function di(){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,R.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let Gi,kr;!function Gs(){(0,oe._registerComponent)(new _e.wA("remote-config",function C(T,{instanceIdentifier:S}){const U=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!(0,de.hl)())throw kn.create("indexed-db-unavailable");const{projectId:X,apiKey:me,appId:Qe}=U.options;if(!X)throw kn.create("registration-project-id");if(!me)throw kn.create("registration-api-key");if(!Qe)throw kn.create("registration-app-id");const Ke=new sf(Qe,U.name,S=S||"firebase"),et=new xn(Ke),Lt=new pe.Yd(Na);Lt.logLevel=pe.in.ERROR;const Ot=new qc(K,oe.SDK_VERSION,S,X,me,Qe),Or=new $c(Ot,Ke),fn=new Gc(Or,Ke,et,Lt),po=new zc(U,fn,et,Ke,Lt);return function Td(C){const T=(0,de.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Na,"0.4.4"),(0,oe.registerVersion)(Na,"0.4.4","esm2017")}();const Ra=new WeakMap,Ai=new WeakMap,xr=new WeakMap,qs=new WeakMap,Nt=new WeakMap;let Qc={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return Ai.get(C);if("objectStoreNames"===T)return C.objectStoreNames||xr.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return qi(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Pu(C){return"function"==typeof C?function af(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ku(){return kr||(kr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Ou(this),T),qi(Ra.get(this))}:function(...T){return qi(C.apply(Ou(this),T))}:function(T,...S){const U=C.call(Ou(this),T,...S);return xr.set(U,T.sort?T.sort():[T]),qi(U)}}(C):(C instanceof IDBTransaction&&function Yc(C){if(Ai.has(C))return;const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",me),C.removeEventListener("abort",me)},X=()=>{S(),K()},me=()=>{U(C.error||new DOMException("AbortError","AbortError")),K()};C.addEventListener("complete",X),C.addEventListener("error",me),C.addEventListener("abort",me)});Ai.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,function Jc(){return Gi||(Gi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Qc):C)}function qi(C){if(C instanceof IDBRequest)return function Nu(C){const T=new Promise((S,U)=>{const K=()=>{C.removeEventListener("success",X),C.removeEventListener("error",me)},X=()=>{S(qi(C.result)),K()},me=()=>{U(C.error),K()};C.addEventListener("success",X),C.addEventListener("error",me)});return T.then(S=>{S instanceof IDBCursor&&Ra.set(S,C)}).catch(()=>{}),Nt.set(T,C),T}(C);if(qs.has(C))return qs.get(C);const T=Pu(C);return T!==C&&(qs.set(C,T),Nt.set(T,C)),T}const Ou=C=>Nt.get(C);function ke(C,T,{blocked:S,upgrade:U,blocking:K,terminated:X}={}){const me=indexedDB.open(C,T),Qe=qi(me);return U&&me.addEventListener("upgradeneeded",Ke=>{U(qi(me.result),Ke.oldVersion,Ke.newVersion,qi(me.transaction))}),S&&me.addEventListener("blocked",()=>S()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),K&&Ke.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}function en(C,{blocked:T}={}){const S=indexedDB.deleteDatabase(C);return T&&S.addEventListener("blocked",()=>T()),qi(S).then(()=>{})}const Xc=["get","getKey","getAll","getAllKeys","count"],Ru=["put","add","delete","clear"],Wn=new Map;function Fa(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const S=T.replace(/FromIndex$/,""),U=T!==S,K=Ru.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!Xc.includes(S))return;const X=function(){var me=(0,R.Z)(function*(Qe,...Ke){const et=this.transaction(Qe,K?"readwrite":"readonly");let Lt=et.store;return U&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[S](...Ke),K&&et.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return Wn.set(T,X),X}!function Sd(C){Qc=C(Qc)}(C=>({...C,get:(T,S,U)=>Fa(T,S)||C.get(T,S,U),has:(T,S)=>!!Fa(T,S)||C.has(T,S)}));const $o="/firebase-messaging-sw.js",Si="/firebase-cloud-messaging-push-scope",La="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Md="google.c.a.c_id",Rn="google.c.a.c_l",U_="google.c.a.ts",el="google.c.a.e";var qr=(()=>{return(C=qr||(qr={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",qr;var C})();function fi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ys(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(S),K=new Uint8Array(U.length);for(let X=0;X<U.length;++X)K[X]=U.charCodeAt(X);return K}const pi="fcm_token_details_db",kd="fcm_token_object_Store";function Nd(C){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(pi))return null;let T=null;return(yield ke(pi,5,{upgrade:(U=(0,R.Z)(function*(K,X,me,Qe){var Ke;if(X<2||!K.objectStoreNames.contains(kd))return;const et=Qe.objectStore(kd),Lt=yield et.index("fcmSenderId").get(C);if(yield et.clear(),Lt)if(2===X){const Ot=Lt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(Ke=Ot.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:fi(Ot.vapidKey)}}}else if(3===X){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:fi(Ot.auth),p256dh:fi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:fi(Ot.vapidKey)}}}else if(4===X){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:fi(Ot.auth),p256dh:fi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:fi(Ot.vapidKey)}}}}),function(X,me,Qe,Ke){return U.apply(this,arguments)})})).close(),yield en(pi),yield en("fcm_vapid_details_db"),yield en("undefined"),Va(T)?T:null;var U}),Lu.apply(this,arguments)}function Va(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ti="firebase-messaging-store";let Uu=null;function nl(){return Uu||(Uu=ke("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ti)}})),Uu}function vs(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,R.Z)(function*(C){const T=Od(C),U=yield(yield nl()).transaction(ti).objectStore(ti).get(T);if(U)return U;{const K=yield Nd(C.appConfig.senderId);if(K)return yield Ba(C,K),K}})).apply(this,arguments)}function Ba(C,T){return rl.apply(this,arguments)}function rl(){return(rl=(0,R.Z)(function*(C,T){const S=Od(C),K=(yield nl()).transaction(ti,"readwrite");return yield K.objectStore(ti).put(T,S),yield K.done,T})).apply(this,arguments)}function Pd(C){return zo.apply(this,arguments)}function zo(){return(zo=(0,R.Z)(function*(C){const T=Od(C),U=(yield nl()).transaction(ti,"readwrite");yield U.objectStore(ti).delete(T),yield U.done})).apply(this,arguments)}function Od({appConfig:C}){return C.appId}const hn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ds(C,T){return An.apply(this,arguments)}function An(){return(An=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Cs(T),K={method:"POST",headers:S,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(Rd(C.appConfig),K)).json()}catch(me){throw hn.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(X.error)throw hn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw hn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function cg(C,T){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,R.Z)(function*(C,T){const S=yield ja(C),U=Cs(T.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(`${Rd(C.appConfig)}/${T.token}`,K)).json()}catch(me){throw hn.create("token-update-failed",{errorInfo:me?.toString()})}if(X.error)throw hn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw hn.create("token-update-no-token");return X.token})).apply(this,arguments)}function uf(C,T){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,R.Z)(function*(C,T){const U={method:"DELETE",headers:yield ja(C)};try{const X=yield(yield fetch(`${Rd(C.appConfig)}/${T}`,U)).json();if(X.error)throw hn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(K){throw hn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Rd({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ja(C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,R.Z)(function*({appConfig:C,installations:T}){const S=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Cs({p256dh:C,auth:T,endpoint:S,vapidKey:U}){const K={web:{endpoint:S,auth:T,p256dh:C}};return U!==La&&(K.web.applicationPubKey=U),K}const Bu=6048e5;function ju(C){return il.apply(this,arguments)}function il(){return(il=(0,R.Z)(function*(C){const T=yield Ld(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:fi(T.getKey("auth")),p256dh:fi(T.getKey("p256dh"))},U=yield vs(C.firebaseDependencies);if(U){if(lf(U.subscriptionOptions,S))return Date.now()>=U.createTime+Bu?zs(C,{token:U.token,createTime:Date.now(),subscriptionOptions:S}):U.token;try{yield uf(C.firebaseDependencies,U.token)}catch(K){console.warn(K)}return Ks(C.firebaseDependencies,S)}return Ks(C.firebaseDependencies,S)})).apply(this,arguments)}function cf(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(C){const T=yield vs(C.firebaseDependencies);T&&(yield uf(C.firebaseDependencies,T.token),yield Pd(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function zs(C,T){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,R.Z)(function*(C,T){try{const S=yield cg(C.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:S,createTime:Date.now()});return yield Ba(C.firebaseDependencies,U),S}catch(S){throw yield cf(C),S}})).apply(this,arguments)}function Ks(C,T){return Es.apply(this,arguments)}function Es(){return(Es=(0,R.Z)(function*(C,T){const U={token:yield Ds(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Ba(C,U),U.token})).apply(this,arguments)}function Ld(C,T){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,R.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ys(T)})})).apply(this,arguments)}function lf(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function ol(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Hu(C,T){if(!T.notification)return;C.notification={};const S=T.notification.title;S&&(C.notification.title=S);const U=T.notification.body;U&&(C.notification.body=U);const K=T.notification.image;K&&(C.notification.image=K);const X=T.notification.icon;X&&(C.notification.icon=X)}(T,C),function sl(C,T){!T.data||(C.data=T.data)}(T,C),function Gu(C,T){var S,U,K,X,me;if(!(T.fcmOptions||null!==(S=T.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Qe=null!==(K=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==K?K:null===(X=T.notification)||void 0===X?void 0:X.click_action;Qe&&(C.fcmOptions.link=Qe);const Ke=null===(me=T.fcmOptions)||void 0===me?void 0:me.analytics_label;Ke&&(C.fcmOptions.analyticsLabel=Ke)}(T,C),T}function Vd(C){return"object"==typeof C&&!!C&&Md in C}function Ws(C,T){const S=[];for(let U=0;U<C.length;U++)S.push(C.charAt(U)),U<T.length&&S.push(T.charAt(U));return S.join("")}function al(C){return hn.create("missing-app-config-values",{valueName:C})}Ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ga{constructor(T,S,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function df(C){if(!C||!C.options)throw al("App Configuration Object");if(!C.name)throw al("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const U of T)if(!S[U])throw al(U);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:S,analyticsProvider:U}}_delete(){return Promise.resolve()}}function hf(C){return ho.apply(this,arguments)}function ho(){return(ho=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register($o,{scope:Si}),C.swRegistration.update().catch(()=>{})}catch(T){throw hn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Ko(C,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,R.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield hf(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function ul(C,T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,R.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=La)})).apply(this,arguments)}function qa(){return(qa=(0,R.Z)(function*(C,T){if(!navigator)throw hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hn.create("permission-blocked");return yield ul(C,T?.vapidKey),yield Ko(C,T?.serviceWorkerRegistration),ju(C)})).apply(this,arguments)}function $i(C,T,S){return $u.apply(this,arguments)}function $u(){return($u=(0,R.Z)(function*(C,T,S){const U=Js(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:S[Md],message_name:S[Rn],message_time:S[U_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Js(C){switch(C){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ws(){return(ws=(0,R.Z)(function*(C,T){const S=T.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===qr.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ol(S)):C.onMessageHandler.next(ol(S)));const U=S.data;Vd(U)&&"1"===U[el]&&(yield $i(C,S.messageType,U))})).apply(this,arguments)}const za="@firebase/messaging",Ka=C=>{const T=new Ga(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function $a(C,T){return ws.apply(this,arguments)}(T,S)),T},cl=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:U=>function qu(C,T){return qa.apply(this,arguments)}(T,U)}};function Ys(){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,R.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ff(){(0,oe._registerComponent)(new _e.wA("messaging",Ka,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("messaging-internal",cl,"PRIVATE")),(0,oe.registerVersion)(za,"0.12.4"),(0,oe.registerVersion)(za,"0.12.4","esm2017")}();const Ja="analytics",Ya="firebase_id",Bd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Io="https://www.googletagmanager.com/gtag/js",Fn=new pe.Yd("@firebase/analytics"),sr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zu(C){if(!C.startsWith(Io)){const T=sr.create("invalid-gtag-resource",{gtagURL:C});return Fn.warn(T.message),""}return C}function Mi(C){return Promise.all(C.map(T=>T.catch(S=>S)))}function jd(C,T){const S=function hl(C,T){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,T)),S}("firebase-js-sdk-policy",{createScriptURL:zu}),U=document.createElement("script"),K=`${Io}?l=${C}&id=${T}`;U.src=S?S?.createScriptURL(K):K,U.async=!0,document.head.appendChild(U)}function Hd(C,T,S,U,K,X){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,R.Z)(function*(C,T,S,U,K,X){const me=U[K];try{if(me)yield T[me];else{const Ke=(yield Mi(S)).find(et=>et.measurementId===K);Ke&&(yield T[Ke.appId])}}catch(Qe){Fn.error(Qe)}C("config",K,X)})).apply(this,arguments)}function V_(C,T,S,U,K){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,R.Z)(function*(C,T,S,U,K){try{let X=[];if(K&&K.send_to){let me=K.send_to;Array.isArray(me)||(me=[me]);const Qe=yield Mi(S);for(const Ke of me){const et=Qe.find(Ot=>Ot.measurementId===Ke),Lt=et&&T[et.appId];if(!Lt){X=[];break}X.push(Lt)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),C("event",U,K||{})}catch(X){Fn.error(X)}})).apply(this,arguments)}function gf(C){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Io)&&S.src.includes(C))return S;return null}const ar=new class Z_{constructor(T={},S=1e3){this.throttleMetadata=T,this.intervalMillis=S}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,S){this.throttleMetadata[T]=S}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ju(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ki(C){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,R.Z)(function*(C){var T;const{appId:S,apiKey:U}=C,K={method:"GET",headers:Ju(U)},X=Bd.replace("{app-id}",S),me=yield fetch(X,K);if(200!==me.status&&304!==me.status){let Qe="";try{const Ke=yield me.json();null!==(T=Ke.error)&&void 0!==T&&T.message&&(Qe=Ke.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Qe})}return me.json()})).apply(this,arguments)}function Yu(C){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,R.Z)(function*(C,T=ar,S){const{appId:U,apiKey:K,measurementId:X}=C.options;if(!U)throw sr.create("no-app-id");if(!K){if(X)return{measurementId:X,appId:U};throw sr.create("no-api-key")}const me=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new qd;return setTimeout((0,R.Z)(function*(){Qe.abort()}),void 0!==S?S:6e4),zi({appId:U,apiKey:K,measurementId:X},me,Qe,T)})).apply(this,arguments)}function zi(C,T,S){return fl.apply(this,arguments)}function fl(){return(fl=(0,R.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:S},U,K=ar){var X;const{appId:me,measurementId:Qe}=C;try{yield Xa(U,T)}catch(Ke){if(Qe)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:me,measurementId:Qe};throw Ke}try{const Ke=yield ki(C);return K.deleteThrottleMetadata(me),Ke}catch(Ke){const et=Ke;if(!Qu(et)){if(K.deleteThrottleMetadata(me),Qe)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:me,measurementId:Qe};throw Ke}const Lt=503===Number(null===(X=et?.customData)||void 0===X?void 0:X.httpStatus)?(0,de.$s)(S,K.intervalMillis,30):(0,de.$s)(S,K.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Lt,backoffCount:S+1};return K.setThrottleMetadata(me,Ot),Fn.debug(`Calling attemptFetch again in ${Lt} millis`),zi(C,Ot,U,K)}})).apply(this,arguments)}function Xa(C,T){return new Promise((S,U)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(X),U(sr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Qu(C){if(!(C instanceof de.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class qd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let $d,eu;function _f(){return(_f=(0,R.Z)(function*(C,T,S,U,K){if(K&&K.global)C("event",S,U);else{const X=yield T;C("event",S,Object.assign(Object.assign({},U),{send_to:X}))}})).apply(this,arguments)}function ta(C){eu=C}function ml(C){$d=C}function _n(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,R.Z)(function*(){if(!(0,de.hl)())return Fn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return Fn.warn(sr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _i(){return(_i=(0,R.Z)(function*(C,T,S,U,K,X,me){var Qe;const Ke=Yu(C);Ke.then(fn=>{S[fn.measurementId]=fn.appId,C.options.measurementId&&fn.measurementId!==C.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Fn.error(fn)),T.push(Ke);const et=_n().then(fn=>{if(fn)return U.getId()}),[Lt,Ot]=yield Promise.all([Ke,et]);gf(X)||jd(X,Lt.measurementId),eu&&(K("consent","default",eu),ta(void 0)),K("js",new Date);const Or=null!==(Qe=me?.config)&&void 0!==Qe?Qe:{};return Or.origin="firebase",Or.update=!0,null!=Ot&&(Or[Ya]=Ot),K("config",Lt.measurementId,Or),$d&&(K("set",$d),ml(void 0)),Lt.measurementId})).apply(this,arguments)}class tu{constructor(T){this.app=T}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},_l=[];const Wd={};let Gn,ht,Ao="dataLayer",nu=!1;function yl(C,T,S){!function ru(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((U,K)=>`(${K+1}) ${U}`).join(" "),S=sr.create("invalid-analytics-context",{errorInfo:T});Fn.warn(S.message)}}();const U=C.options.appId;if(!U)throw sr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw sr.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yi[U])throw sr.create("already-exists",{id:U});if(!nu){!function yn(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Ao);const{wrappedGtag:X,gtagCore:me}=function hg(C,T,S,U,K){let X=function(...me){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(X=window[K]),window[K]=function dg(C,T,S,U){function X(){return(X=(0,R.Z)(function*(me,...Qe){try{if("event"===me){const[Ke,et]=Qe;yield V_(C,T,S,Ke,et)}else if("config"===me){const[Ke,et]=Qe;yield Hd(C,T,S,U,Ke,et)}else if("consent"===me){const[Ke]=Qe;C("consent","update",Ke)}else if("get"===me){const[Ke,et,Lt]=Qe;C("get",Ke,et,Lt)}else if("set"===me){const[Ke]=Qe;C("set",Ke)}else C(me,...Qe)}catch(Ke){Fn.error(Ke)}})).apply(this,arguments)}return function K(me){return X.apply(this,arguments)}}(X,C,T,S),{gtagCore:X,wrappedGtag:window[K]}}(yi,_l,Wd,Ao,"gtag");ht=X,Gn=me,nu=!0}return yi[U]=function gg(C,T,S,U,K,X,me){return _i.apply(this,arguments)}(C,_l,Wd,T,Gn,Ao,S),new tu(C)}function Ts(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Dr="@firebase/analytics";!function Cl(){(0,oe._registerComponent)(new _e.wA(Ja,(T,{options:S})=>yl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new _e.wA("analytics-internal",function C(T){try{const S=T.getProvider(Ja).getImmediate();return{logEvent:(U,K,X)=>function vi(C,T,S,U){C=(0,de.m9)(C),function fg(C,T,S,U,K){return _f.apply(this,arguments)}(ht,yi[C.app.options.appId],T,S,U).catch(K=>Fn.error(K))}(S,U,K,X)}}catch(S){throw sr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(Dr,"0.10.0"),(0,oe.registerVersion)(Dr,"0.10.0","esm2017")}();var Pr=V(4408),nc=V(7565);const El=new class vf extends nc.v{}(class ra extends Pr.o{constructor(T,S){super(T,S),this.scheduler=T,this.work=S}schedule(T,S=0){return S>0?super.schedule(T,S):(this.delay=S,this.state=T,this.scheduler.flush(this),this)}execute(T,S){return S>0||this.closed?super.execute(T,S):this._execute(T,S)}requestAsyncId(T,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,S,U):(T.flush(this),0)}});var Df=V(4986),ou=V(9751),rc=V(8505),es=V(5363),xs=V(9468);const su=new i.GfV("7.6.1"),ic="__angularfire_symbol__analyticsIsSupportedValue",ia="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",oa="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",sa="__angularfire_symbol__messagingIsSupported";function ua(C,T,S){if(T){if(1===T.length)return T[0];const X=T.filter(me=>me.app===S);if(1===X.length)return X[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[ia]||(globalThis[ia]=Ts().then(C=>globalThis[ic]=C).catch(()=>globalThis[ic]=!1)),globalThis[sa]||(globalThis[sa]=Ys().then(C=>globalThis[Tl]=C).catch(()=>globalThis[Tl]=!1)),globalThis[oa]||(globalThis[oa]=di().then(C=>globalThis[bl]=C).catch(()=>globalThis[bl]=!1));const Yd=(C,T)=>{const S=T?[T]:(0,j.C6)(),U=[];return S.forEach(K=>{K.container.getProvider(C).instances.forEach(me=>{U.includes(me)||U.push(me)})}),U};function ts(){}class xl{constructor(T,S=El){this.zone=T,this.delegate=S}now(){return this.delegate.now()}schedule(T,S,U){const K=this.zone;return this.delegate.schedule(function(me){K.runGuarded(()=>{T.apply(this,[me])})},S,U)}}class Cf{constructor(T){this.zone=T,this.task=null}call(T,S){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),S.pipe((0,rc.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sc=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=S.run(()=>new xl(Zone.current,Df.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(i.LFG(i.R0b))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Jn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function No(C){return Jn().ngZone.runOutsideAngular(()=>C())}function fo(C){return Jn().ngZone.run(()=>C())}function Ef(C){return C.pipe((0,es.Q)(Jn().outsideAngular))}function $r(C){return Jn(),function Yn(C){return function(S){return(S=S.lift(new Cf(C.ngZone))).pipe((0,xs.R)(C.outsideAngular),(0,es.Q)(C.insideAngular))}}(Jn())(C)}const Il=(C,T)=>function(){const U=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),fo(()=>C.apply(void 0,U))},ca=(C,T)=>function(){let S;const U=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof U[X]&&(T&&(S||(S=fo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)))),U[X]=Il(U[X],S));const K=No(()=>C.apply(this,U));if(!T){if(K instanceof ou.y){const X=Jn();return K.pipe((0,xs.R)(X.outsideAngular),(0,es.Q)(X.insideAngular))}return fo(()=>K)}return K instanceof ou.y?K.pipe($r):K instanceof Promise?fo(()=>new Promise((X,me)=>K.then(Qe=>fo(()=>X(Qe)),Qe=>fo(()=>me(Qe))))):"function"==typeof K&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),K.apply(this,arguments)}:fo(()=>K)}},1389:(Et,Oe,V)=>{V.d(Oe,{$:()=>$o,A:()=>q,D:()=>Pe,I:()=>mn,J:()=>To,L:()=>co,N:()=>vr,P:()=>gg,Q:()=>sf,R:()=>mi,U:()=>_s,V:()=>di,W:()=>Ad,X:()=>Kc,Y:()=>Jc,Z:()=>ku,_:()=>Nt,a:()=>Yo,a0:()=>La,a1:()=>Md,a2:()=>hi,a3:()=>kd,a4:()=>Lu,a5:()=>tl,a6:()=>ti,a7:()=>nl,a8:()=>Za,a9:()=>rl,aA:()=>le,aB:()=>ia,aC:()=>tr,aD:()=>Br,aE:()=>rc,aF:()=>Jd,aG:()=>ni,aH:()=>Hn,aL:()=>Qo,aO:()=>Gi,aa:()=>Pd,ab:()=>Od,ac:()=>ug,ad:()=>cg,ae:()=>uf,af:()=>Rd,ai:()=>Bu,aj:()=>il,ak:()=>cf,an:()=>af,ao:()=>Hu,aq:()=>Wo,ar:()=>za,as:()=>At,at:()=>we,au:()=>Ee,av:()=>Ae,aw:()=>Ot,ax:()=>sa,ay:()=>tt,az:()=>be,b:()=>Zd,c:()=>ht,d:()=>yl,e:()=>ur,f:()=>Dr,g:()=>vf,h:()=>Pr,i:()=>mf,j:()=>Df,k:()=>go,l:()=>zd,m:()=>da,p:()=>ve,r:()=>ec,s:()=>yf,u:()=>_n});var i=V(5861),j=V(2090),R=V(6881),oe=V(7582),de=V(1877),_e=V(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new de.Yd("@firebase/auth");function pt(D,...p){ye.logLevel<=de.in.ERROR&&ye.error(`Auth (${R.SDK_VERSION}): ${D}`,...p)}function Ae(D,...p){throw ze(D,...p)}function be(D,...p){return ze(D,...p)}function Se(D,p,_){const E=Object.assign(Object.assign({},xe()),{[p]:_});return new j.LL("auth","Firebase",E).create(p,{appName:D.name})}function $e(D,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ae(D,"argument-error"),Se(D,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(D,...p){if("string"!=typeof D){const _=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=D.name),D._errorFactory.create(_,...E)}return it.create(D,...p)}function le(D,p,..._){if(!D)throw ze(p,..._)}function Ye(D){const p="INTERNAL ASSERTION FAILED: "+D;throw pt(p),new Error(p)}function At(D,p){D||Ye(p)}function gt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function qt(){return"http:"===lt()||"https:"===lt()}function lt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ci{constructor(p,_){this.shortDelay=p,this.longDelay=_,At(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function so(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ao(D,p){At(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class se{static initialize(p,_,E){this.fetchImpl=p,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new ci(3e4,6e4);function fe(D,p){return D.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:D.tenantId}):p}function Ne(D,p,_,E){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(D,p,_,E,M={}){return ut(D,M,(0,i.Z)(function*(){let P={},Y={};E&&("GET"===p?Y=E:P={body:JSON.stringify(E)});const he=(0,j.xO)(Object.assign({key:D.config.apiKey},Y)).slice(1),Ge=yield D._getAdditionalHeaders();return Ge["Content-Type"]="application/json",D.languageCode&&(Ge["X-Firebase-Locale"]=D.languageCode),se.fetch()(on(D,D.config.apiHost,_,he),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function ut(D,p,_){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.Z)(function*(D,p,_){D._canInitEmulator=!1;const E=Object.assign(Object.assign({},ne),p);try{const M=new Nn(D),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw pn(D,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const he=P.ok?Y.errorMessage:Y.error.message,[Ge,nt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw pn(D,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Ge)throw pn(D,"email-already-in-use",Y);if("USER_DISABLED"===Ge)throw pn(D,"user-disabled",Y);const vt=E[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Se(D,vt,nt);Ae(D,vt)}}catch(M){if(M instanceof j.ZR)throw M;Ae(D,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function tn(D,p,_,E){return kt.apply(this,arguments)}function kt(){return(kt=(0,i.Z)(function*(D,p,_,E,M={}){const P=yield Ne(D,p,_,E,M);return"mfaPendingCredential"in P&&Ae(D,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function on(D,p,_,E){const M=`${p}${_}?${E}`;return D.config.emulator?ao(D.config,M):`${D.config.apiScheme}://${M}`}class Nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(be(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(D,p,_){const E={appName:D.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=be(D,p,E);return M.customData._tokenResponse=_,M}function Sn(){return(Sn=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(D,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ti(D,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(D){if(D)try{const p=new Date(Number(D));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ji(){return(ji=(0,i.Z)(function*(D,p=!1){const _=(0,j.m9)(D),E=yield _.getIdToken(p),M=On(E);le(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,Y=P?.sign_in_provider;return{claims:M,token:E,authTime:_r(Yr(M.auth_time)),issuedAtTime:_r(Yr(M.iat)),expirationTime:_r(Yr(M.exp)),signInProvider:Y||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Yr(D){return 1e3*Number(D)}function On(D){const[p,_,E]=D.split(".");if(void 0===p||void 0===_||void 0===E)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(pt("Failed to decode base64 JWT payload"),null)}catch(M){return pt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function $t(D,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)(function*(D,p,_=!1){if(_)return p;try{return yield p}catch(E){throw E instanceof j.ZR&&bt(E)&&D.auth.currentUser===D&&(yield D.auth.signOut()),E}})).apply(this,arguments)}function bt({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class nn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield _.iteration()}),E)}iteration(){var p=this;return(0,i.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Qr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(D){return ir.apply(this,arguments)}function ir(){return(ir=(0,i.Z)(function*(D){var p;const _=D.auth,E=yield D.getIdToken(),M=yield $t(D,Ti(_,{idToken:E}));le(M?.users.length,_,"internal-error");const P=M.users[0];D._notifyReloadListener(P);const Y=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?uo(P.providerUserInfo):[],he=zt(D.providerData,Y),vt=!!D.isAnonymous&&!(D.email&&P.passwordHash||he?.length),un={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:he,metadata:new Qr(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(D,un)})).apply(this,arguments)}function zn(){return(zn=(0,i.Z)(function*(D){const p=(0,j.m9)(D);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zt(D,p){return[...D.filter(E=>!p.some(M=>M.providerId===E.providerId)),...p]}function uo(D){return D.map(p=>{var{providerId:_}=p,E=(0,oe._T)(p,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Bn(){return(Bn=(0,i.Z)(function*(D,p){const _=yield ut(D,{},(0,i.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:P}=D.config,Y=on(D,M,"/v1/token",`key=${P}`),he=yield D._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",se.fetch()(Y,{method:"POST",headers:he,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class wn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mn(D){const p=On(D);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var E=this;return(0,i.Z)(function*(){return le(!E.accessToken||E.refreshToken,p,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var E=this;return(0,i.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:Y}=yield function sn(D,p){return Bn.apply(this,arguments)}(p,_);E.updateTokensAndExpiration(M,P,Number(Y))})()}updateTokensAndExpiration(p,_,E){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,_){const{refreshToken:E,accessToken:M,expirationTime:P}=_,Y=new wn;return E&&(le("string"==typeof E,"internal-error",{appName:p}),Y.refreshToken=E),M&&(le("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),P&&(le("number"==typeof P,"internal-error",{appName:p}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new wn,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function er(D,p){le("string"==typeof D||typeof D>"u","internal-error",{appName:p})}class Pn{constructor(p){var{uid:_,auth:E,stsTokenManager:M}=p,P=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Qr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,i.Z)(function*(){const E=yield $t(_,_.stsTokenManager.getToken(_.auth,p));return le(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(p){return function $n(D){return ji.apply(this,arguments)}(this,p)}reload(){return function St(D){return zn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Pn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var E=this;return(0,i.Z)(function*(){let M=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield yr(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,i.Z)(function*(){const _=yield p.getIdToken();return yield $t(p,function Qn(D,p){return Sn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var E,M,P,Y,he,Ge,nt,vt;const un=null!==(E=_.displayName)&&void 0!==E?E:void 0,Ki=null!==(M=_.email)&&void 0!==M?M:void 0,ha=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,uc=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,Tf=null!==(he=_.tenantId)&&void 0!==he?he:void 0,cc=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,nh=null!==(nt=_.createdAt)&&void 0!==nt?nt:void 0,xf=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Pl,emailVerified:If,isAnonymous:Dg,providerData:Is,stsTokenManager:au}=_;le(Pl&&au,p,"internal-error");const mo=wn.fromJSON(this.name,au);le("string"==typeof Pl,p,"internal-error"),er(un,p.name),er(Ki,p.name),le("boolean"==typeof If,p,"internal-error"),le("boolean"==typeof Dg,p,"internal-error"),er(ha,p.name),er(uc,p.name),er(Tf,p.name),er(cc,p.name),er(nh,p.name),er(xf,p.name);const rh=new Pn({uid:Pl,auth:p,email:Ki,emailVerified:If,displayName:un,isAnonymous:Dg,photoURL:uc,phoneNumber:ha,tenantId:Tf,stsTokenManager:mo,createdAt:nh,lastLoginAt:xf});return Is&&Array.isArray(Is)&&(rh.providerData=Is.map(B_=>Object.assign({},B_))),cc&&(rh._redirectEventId=cc),rh}static _fromIdTokenResponse(p,_,E=!1){return(0,i.Z)(function*(){const M=new wn;M.updateFromServerResponse(_);const P=new Pn({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:E});return yield yr(P),P})()}}const Xr=new Map;function tr(D){At(D instanceof Function,"Expected a class definition");let p=Xr.get(D);return p?(At(p instanceof D,"Instance stored in cache mismatched with class"),p):(p=new D,Xr.set(D,p),p)}const vr=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,i.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,i.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,i.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return D.type="NONE",D})();function Br(D,p,_){return`firebase:${D}:${p}:${_}`}class G{constructor(p,_,E){this.persistence=p,this.auth=_,this.userKey=E;const{config:M,name:P}=this.auth;this.fullUserKey=Br(this.userKey,M.apiKey,P),this.fullPersistenceKey=Br("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Pn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,i.Z)(function*(){if(_.persistence===p)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,E="authUser"){return(0,i.Z)(function*(){if(!_.length)return new G(tr(vr),p,E);const M=(yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=M[0]||tr(vr);const Y=Br(E,p.config.apiKey,p.name);let he=null;for(const nt of _)try{const vt=yield nt._get(Y);if(vt){const un=Pn._fromJSON(p,vt);nt!==P&&(he=un),P=nt;break}}catch{}const Ge=M.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&Ge.length?(P=Ge[0],he&&(yield P._set(Y,he.toJSON())),yield Promise.all(_.map(function(){var nt=(0,i.Z)(function*(vt){if(vt!==P)try{yield vt._remove(Y)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new G(P,p,E)):new G(P,p,E)})()}}function H(D){const p=D.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Je(p))return"Blackberry";if(mt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(Ee(p))return"Android";{const E=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function F(D=(0,j.z$)()){return/firefox\//i.test(D)}function O(D=(0,j.z$)()){const p=D.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(D=(0,j.z$)()){return/crios\//i.test(D)}function J(D=(0,j.z$)()){return/iemobile/i.test(D)}function Ee(D=(0,j.z$)()){return/android/i.test(D)}function Je(D=(0,j.z$)()){return/blackberry/i.test(D)}function mt(D=(0,j.z$)()){return/webos/i.test(D)}function we(D=(0,j.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function tt(D=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Ft(D=(0,j.z$)()){return we(D)||Ee(D)||mt(D)||Je(D)||/windows phone/i.test(D)||J(D)}function jr(D,p=[]){let _;switch(D){case"Browser":_=H((0,j.z$)());break;case"Worker":_=`${H((0,j.z$)())}-${D}`;break;default:_=D}const E=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${E}`}function ie(){return(ie=(0,i.Z)(function*(D){return(yield Ne(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(D,p){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,i.Z)(function*(D,p){return Ne(D,"GET","/v2/recaptchaConfig",fe(D,p))})).apply(this,arguments)}function Mt(D){return void 0!==D&&void 0!==D.getResponse}function jt(D){return void 0!==D&&void 0!==D.enterprise}class gn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Qt(D){return new Promise((p,_)=>{const E=document.createElement("script");E.setAttribute("src",D),E.onload=p,E.onerror=M=>{const P=be("internal-error");P.customData=M,_(P)},E.type="text/javascript",E.charset="UTF-8",function jn(){var D,p;return null!==(p=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==p?p:document}().appendChild(E)})}function Hr(D){return`__${D}${Math.floor(1e6*Math.random())}`}class Aa{constructor(p){this.type="recaptcha-enterprise",this.auth=Hn(p)}verify(p="verify",_=!1){var E=this;return(0,i.Z)(function*(){function P(){return P=(0,i.Z)(function*(he){if(!_){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var Ge=(0,i.Z)(function*(nt,vt){Le(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(un=>{if(void 0!==un.recaptchaKey){const Ki=new gn(un);return null==he.tenantId?he._agentRecaptchaConfig=Ki:he._tenantRecaptchaConfigs[he.tenantId]=Ki,nt(Ki.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(un=>{vt(un)})});return function(nt,vt){return Ge.apply(this,arguments)}}())}),P.apply(this,arguments)}function Y(he,Ge,nt){const vt=window.grecaptcha;jt(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(he,{action:p}).then(un=>{Ge(un)}).catch(()=>{Ge("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,Ge)=>{(function M(he){return P.apply(this,arguments)})(E.auth).then(nt=>{if(!_&&jt(window.grecaptcha))Y(nt,he,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Y(nt,he,Ge)}).catch(vt=>{Ge(vt)})}}).catch(nt=>{Ge(nt)})})})()}}function Xt(D,p,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,i.Z)(function*(D,p,_,E=!1){const M=new Aa(D);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const Y=Object.assign({},p);return Object.assign(Y,E?{captchaResp:P}:{captchaResponse:P}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class yd{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const E=P=>new Promise((Y,he)=>{try{Y(p(P))}catch(Ge){he(Ge)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,i.Z)(function*(){if(_.auth.currentUser===p)return;const E=[];try{for(const M of _.queue)yield M(p),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const P of E)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class fs{constructor(p,_,E,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new yd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var E=this;return _&&(this._popupRedirectResolver=tr(_)),this._initializationPromise=this.queue((0,i.Z)(function*(){var M,P;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,i.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let P=M,Y=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Ge=P?._redirectEventId,nt=yield _.tryRedirectSignIn(p);(!he||he===Ge)&&nt?.user&&(P=nt.user,Y=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(P)}catch(he){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var _=this;return(0,i.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,i.Z)(function*(){try{yield yr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gr(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,i.Z)(function*(){const E=p?(0,j.m9)(p):null;return E&&le(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(p,_=!1){var E=this;return(0,i.Z)(function*(){if(!E._deleted)return p&&le(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,i.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,i.Z)(function*(){yield _.assertedPersistence.setPersistence(tr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,i.Z)(function*(){const _=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new gn(_);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Aa(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,E){return this.registerStateListener(this.authStateSubscription,p,_,E)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,E){return this.registerStateListener(this.idTokenSubscription,p,_,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var E=this;return(0,i.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,i.Z)(function*(){if(!_.redirectPersistenceManager){const E=p&&tr(p)||_._popupRedirectResolver;le(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[tr(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,i.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,i.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,i.Z)(function*(){if(p===_.currentUser)return _.queue((0,i.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,E,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof _?p.addObserver(_,E,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,i.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var _;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const P=yield p._getAppCheckToken();return P&&(E["X-Firebase-AppCheck"]=P),E})()}_getAppCheckToken(){var p=this;return(0,i.Z)(function*(){var _;const E=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function yt(D,...p){ye.logLevel<=de.in.WARN&&ye.warn(`Auth (${R.SDK_VERSION}): ${D}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Hn(D){return(0,j.m9)(D)}class ei{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(D,p,_){const E=Hn(D);le(E._canInitEmulator,E,"emulator-config-failed"),le(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=vd(p),{host:Y,port:he}=function Tr(D){const p=vd(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(p.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const P=M[1];return{host:P,port:Gr(E.substr(P.length+1))}}{const[P,Y]=E.split(":");return{host:P,port:Gr(Y)}}}(p);E.config.emulator={url:`${P}//${Y}${null===he?"":`:${he}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Y,port:he,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ma(){function D(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function vd(D){const p=D.indexOf(":");return p<0?"":D.substr(0,p+1)}function Gr(D){if(!D)return null;const p=Number(D);return isNaN(p)?null:p}class To{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ye("not implemented")}_getIdTokenResponse(p){return Ye("not implemented")}_linkToIdToken(p,_){return Ye("not implemented")}_getReauthenticationResolver(p){return Ye("not implemented")}}function ka(D,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:resetPassword",fe(D,p))})).apply(this,arguments)}function Na(D,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dd(D,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",fe(D,p))})).apply(this,arguments)}function tf(D,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPassword",fe(D,p))})).apply(this,arguments)}function Bc(D,p){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendOobCode",fe(D,p))})).apply(this,arguments)}function og(D,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,i.Z)(function*(D,p){return Bc(D,p)})).apply(this,arguments)}function Ed(D,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,i.Z)(function*(D,p){return Bc(D,p)})).apply(this,arguments)}function nf(D,p){return wd.apply(this,arguments)}function wd(){return(wd=(0,i.Z)(function*(D,p){return Bc(D,p)})).apply(this,arguments)}function bd(D,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,i.Z)(function*(D,p){return Bc(D,p)})).apply(this,arguments)}function Iu(){return(Iu=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}function Au(){return(Au=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithEmailLink",fe(D,p))})).apply(this,arguments)}class Hc extends To{constructor(p,_,E,M=null){super("password",E),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Hc(p,_,"password")}static _fromEmailAndCode(p,_,E=null){return new Hc(p,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,i.Z)(function*(){var E;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const P=yield Xt(p,M,"signInWithPassword");return tf(p,P)}return tf(p,M).catch(function(){var P=(0,i.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const he=yield Xt(p,M,"signInWithPassword");return tf(p,he)}return Promise.reject(Y)});return function(Y){return P.apply(this,arguments)}}());case"emailLink":return function sg(D,p){return Iu.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,_){var E=this;return(0,i.Z)(function*(){switch(E.signInMethod){case"password":return Na(p,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function rf(D,p){return Au.apply(this,arguments)}(p,{idToken:_,email:E._email,oobCode:E._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function gs(D,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithIdp",fe(D,p))})).apply(this,arguments)}class co extends To{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new co(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:M}=_,P=(0,oe._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const Y=new co(E,M);return Y.idToken=P.idToken||void 0,Y.accessToken=P.accessToken||void 0,Y.secret=P.secret,Y.nonce=P.nonce,Y.pendingToken=P.pendingToken||null,Y}_getIdTokenResponse(p){return gs(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,gs(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,gs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function Gc(D,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:sendVerificationCode",fe(D,p))})).apply(this,arguments)}function Oa(){return(Oa=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p))})).apply(this,arguments)}function $c(){return($c=(0,i.Z)(function*(D,p){const _=yield tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,p));if(_.temporaryProof)throw pn(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Id={USER_NOT_FOUND:"user-not-found"};function zc(){return(zc=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithPhoneNumber",fe(D,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Id)})).apply(this,arguments)}class Kn extends To{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Kn({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Kn({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function qc(D,p){return Oa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function xd(D,p){return $c.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Mu(D,p){return zc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}=p;return E||_||M||P?new Kn({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:P}):null}}class qo{constructor(p){var _,E,M,P,Y,he;const Ge=(0,j.zd)((0,j.pd)(p)),nt=null!==(_=Ge.apiKey)&&void 0!==_?_:null,vt=null!==(E=Ge.oobCode)&&void 0!==E?E:null,un=function xo(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ge.mode)&&void 0!==M?M:null);le(nt&&vt&&un,"argument-error"),this.apiKey=nt,this.operation=un,this.code=vt,this.continueUrl=null!==(P=Ge.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=Ge.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(he=Ge.tenantId)&&void 0!==he?he:null}static parseLink(p){const _=function ag(D){const p=(0,j.zd)((0,j.pd)(D)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(D)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||_||p||D}(p);try{return new qo(_)}catch{return null}}}let sf=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,E){return Hc._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=qo.parseLink(E);return le(M,"argument-error"),Hc._fromEmailAndCode(_,M.code,M.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class xn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Gs extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Kc extends Gs{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return le("providerId"in _&&"signInMethod"in _,"argument-error"),co._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Kc.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Kc.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:P,nonce:Y,providerId:he}=p;if(!E&&!M&&!_&&!P||!he)return null;try{return new Kc(he)._credential({idToken:_,accessToken:E,nonce:Y,pendingToken:P})}catch{return null}}}let _s=(()=>{class D extends Gs{constructor(){super("facebook.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),di=(()=>{class D extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return D.credential(E,M)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Ad=(()=>{class D extends Gs{constructor(){super("github.com")}static credential(_){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Gi extends To{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return gs(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,gs(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,gs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:M,pendingToken:P}=_;return E&&M&&P&&E===M?new Gi(E,P):null}static _create(p,_){return new Gi(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jc extends xn{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Jc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Jc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Gi.fromJSON(p);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:E}=p;if(!_||!E)return null;try{return Gi._create(E,_)}catch{return null}}}let ku=(()=>{class D extends Gs{constructor(){super("twitter.com")}static credential(_,E){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return D.credential(E,M)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Ra(D,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signUp",fe(D,p))})).apply(this,arguments)}class xr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,E,M=!1){return(0,i.Z)(function*(){const P=yield Pn._fromIdTokenResponse(p,E,M),Y=qs(E);return new xr({user:P,providerId:Y,_tokenResponse:E,operationType:_})})()}static _forOperation(p,_,E){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const M=qs(E);return new xr({user:p,providerId:M,_tokenResponse:E,operationType:_})})()}}function qs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Nt(D){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,i.Z)(function*(D){var p;const _=Hn(D);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new xr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Ra(_,{returnSecureToken:!0}),M=yield xr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Yc extends j.ZR{constructor(p,_,E,M){var P;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,_,E,M){return new Yc(p,_,E,M)}}function Qc(D,p,_,E){return("reauthenticate"===p?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Yc._fromErrorAndOperation(D,P,p,E):P})}function Sd(D){return new Set(D.map(({providerId:p})=>p).filter(p=>!!p))}function af(D,p){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,i.Z)(function*(D,p){const _=(0,j.m9)(D);yield ke(!0,_,p);const{providerUserInfo:E}=yield Zn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Sd(E||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function qi(D,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,i.Z)(function*(D,p,_=!1){const E=yield $t(D,p._linkToIdToken(D.auth,yield D.getIdToken()),_);return xr._forOperation(D,"link",E)})).apply(this,arguments)}function ke(D,p,_){return en.apply(this,arguments)}function en(){return(en=(0,i.Z)(function*(D,p,_){yield yr(p);const M=!1===D?"provider-already-linked":"no-such-provider";le(Sd(p.providerData).has(_)===D,p.auth,M)})).apply(this,arguments)}function Xc(D,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,i.Z)(function*(D,p,_=!1){const{auth:E}=D,M="reauthenticate";try{const P=yield $t(D,Qc(E,M,p,D),_);le(P.idToken,E,"internal-error");const Y=On(P.idToken);le(Y,E,"internal-error");const{sub:he}=Y;return le(D.uid===he,E,"user-mismatch"),xr._forOperation(D,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ae(E,"user-mismatch"),P}})).apply(this,arguments)}function Wn(D,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,i.Z)(function*(D,p,_=!1){const E="signIn",M=yield Qc(D,E,p),P=yield xr._fromIdTokenResponse(D,E,M);return _||(yield D._updateCurrentUser(P.user)),P})).apply(this,arguments)}function $o(D,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,i.Z)(function*(D,p){return Wn(Hn(D),p)})).apply(this,arguments)}function La(D,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,i.Z)(function*(D,p){const _=(0,j.m9)(D);return yield ke(!1,_,p.providerId),qi(_,p)})).apply(this,arguments)}function Md(D,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,i.Z)(function*(D,p){return Xc((0,j.m9)(D),p)})).apply(this,arguments)}function U_(D,p){return el.apply(this,arguments)}function el(){return(el=(0,i.Z)(function*(D,p){return tn(D,"POST","/v1/accounts:signInWithCustomToken",fe(D,p))})).apply(this,arguments)}function hi(D,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,i.Z)(function*(D,p){const _=Hn(D),E=yield U_(_,{token:p,returnSecureToken:!0}),M=yield xr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class fi{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ys._fromServerResponse(p,_):"totpInfo"in _?pi._fromServerResponse(p,_):Ae(p,"internal-error")}}class ys extends fi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ys(_)}}class pi extends fi{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new pi(_)}}function Ua(D,p,_){var E;le((null===(E=_.url)||void 0===E?void 0:E.length)>0,D,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,D,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function kd(D,p,_){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Y=yield Xt(M,P,"getOobCode",!0);_&&Ua(M,Y,_),yield Ed(M,Y)}else _&&Ua(M,P,_),yield Ed(M,P).catch(function(){var Y=(0,i.Z)(function*(he){if("auth/missing-recaptcha-token"!==he.code)return Promise.reject(he);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ge=yield Xt(M,P,"getOobCode",!0);_&&Ua(M,Ge,_),yield Ed(M,Ge)}});return function(he){return Y.apply(this,arguments)}}())}),Nd.apply(this,arguments)}function Lu(D,p,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,i.Z)(function*(D,p,_){yield ka((0,j.m9)(D),{oobCode:p,newPassword:_})})).apply(this,arguments)}function tl(D,p){return $s.apply(this,arguments)}function $s(){return($s=(0,i.Z)(function*(D,p){yield Dd((0,j.m9)(D),{oobCode:p})})).apply(this,arguments)}function ti(D,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,i.Z)(function*(D,p){const _=(0,j.m9)(D),E=yield ka(_,{oobCode:p}),M=E.requestType;switch(le(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(E.mfaInfo,_,"internal-error");default:le(E.email,_,"internal-error")}let P=null;return E.mfaInfo&&(P=fi._fromServerResponse(Hn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function nl(D,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,i.Z)(function*(D,p){const{data:_}=yield ti((0,j.m9)(D),p);return _.email})).apply(this,arguments)}function Za(D,p,_){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const nt=yield Xt(M,P,"signUpPassword");Y=Ra(M,nt)}else Y=Ra(M,P).catch(function(){var nt=(0,i.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const un=yield Xt(M,P,"signUpPassword");return Ra(M,un)}return Promise.reject(vt)});return function(vt){return nt.apply(this,arguments)}}());const he=yield Y.catch(nt=>Promise.reject(nt)),Ge=yield xr._fromIdTokenResponse(M,"signIn",he);return yield M._updateCurrentUser(Ge.user),Ge}),Ba.apply(this,arguments)}function rl(D,p,_){return $o((0,j.m9)(D),sf.credential(p,_))}function Pd(D,p,_){return zo.apply(this,arguments)}function zo(){return zo=(0,i.Z)(function*(D,p,_){var E;const M=Hn(D),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Y(he,Ge){le(Ge.handleCodeInApp,M,"argument-error"),Ge&&Ua(M,he,Ge)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const he=yield Xt(M,P,"getOobCode",!0);Y(he,_),yield nf(M,he)}else Y(P,_),yield nf(M,P).catch(function(){var he=(0,i.Z)(function*(Ge){if("auth/missing-recaptcha-token"!==Ge.code)return Promise.reject(Ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Xt(M,P,"getOobCode",!0);Y(nt,_),yield nf(M,nt)}});return function(Ge){return he.apply(this,arguments)}}())}),zo.apply(this,arguments)}function Od(D,p){return"EMAIL_SIGNIN"===qo.parseLink(p)?.operation}function ug(D,p,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D),M=sf.credentialWithLink(p,_||gt());return le(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),$o(E,M)})).apply(this,arguments)}function Ds(D,p){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:createAuthUri",fe(D,p))})).apply(this,arguments)}function cg(D,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,i.Z)(function*(D,p){const E={identifier:p,continueUri:qt()?gt():"http://localhost"},{signinMethods:M}=yield Ds((0,j.m9)(D),E);return M||[]})).apply(this,arguments)}function uf(D,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,i.Z)(function*(D,p){const _=(0,j.m9)(D),M={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};p&&Ua(_.auth,M,p);const{email:P}=yield og(_.auth,M);P!==D.email&&(yield D.reload())})).apply(this,arguments)}function Rd(D,p,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:p};_&&Ua(E.auth,P,_);const{email:Y}=yield bd(E.auth,P);Y!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ha(D,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,i.Z)(function*(D,p){return Ne(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bu(D,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,i.Z)(function*(D,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const E=(0,j.m9)(D),P={idToken:yield E.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Y=yield $t(E,Ha(E.auth,P));E.displayName=Y.displayName||null,E.photoURL=Y.photoUrl||null;const he=E.providerData.find(({providerId:Ge})=>"password"===Ge);he&&(he.displayName=E.displayName,he.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Y)})).apply(this,arguments)}function il(D,p){return lo((0,j.m9)(D),p,null)}function cf(D,p){return lo((0,j.m9)(D),null,p)}function lo(D,p,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,i.Z)(function*(D,p,_){const{auth:E}=D,P={idToken:yield D.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const Y=yield $t(D,Na(E,P));yield D._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Ks{constructor(p,_,E={}){this.isNewUser=p,this.providerId=_,this.profile=E}}class Es extends Ks{constructor(p,_,E,M){super(p,_,E),this.username=M}}class Ld extends Ks{constructor(p,_){super(p,"facebook.com",_)}}class Ud extends Es{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class lf extends Ks{constructor(p,_){super(p,"google.com",_)}}class ol extends Es{constructor(p,_,E){super(p,"twitter.com",_,E)}}function Hu(D){const{user:p,_tokenResponse:_}=D;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Fd(D){var p,_;if(!D)return null;const{providerId:E}=D,M=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},P=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!E&&D?.idToken){const Y=null===(_=null===(p=On(D.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new Ks(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!E)return null;switch(E){case"facebook.com":return new Ld(P,M);case"github.com":return new Ud(P,M);case"google.com":return new lf(P,M);case"twitter.com":return new ol(P,M,D.screenName||null);case"custom":case"anonymous":return new Ks(P,null);default:return new Ks(P,E,M)}}(_)}class gi{constructor(p,_,E){this.type=p,this.credential=_,this.auth=E}static _fromIdtoken(p,_){return new gi("enroll",p,_)}static _fromMfaPendingCredential(p){return new gi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,E;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return gi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return gi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ul{constructor(p,_,E){this.session=p,this.hints=_,this.signInResolver=E}static _fromError(p,_){const E=Hn(p),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(he=>fi._fromServerResponse(E,he));le(M.mfaPendingCredential,E,"internal-error");const Y=gi._fromMfaPendingCredential(M.mfaPendingCredential);return new ul(Y,P,function(){var he=(0,i.Z)(function*(Ge){const nt=yield Ge._process(E,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(_.operationType){case"signIn":const un=yield xr._fromIdTokenResponse(E,_.operationType,vt);return yield E._updateCurrentUser(un.user),un;case"reauthenticate":return le(_.user,E,"internal-error"),xr._forOperation(_.user,_.operationType,vt);default:Ae(E,"internal-error")}});return function(Ge){return he.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,i.Z)(function*(){return _.signInResolver(p)})()}}function Wo(D,p){var _;const E=(0,j.m9)(D),M=p;return le(p.customData.operationType,E,"argument-error"),le(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ul._fromError(E,M)}function qu(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:start",fe(D,p))}class $a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>fi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new $a(p)}getSession(){var p=this;return(0,i.Z)(function*(){return gi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var E=this;return(0,i.Z)(function*(){const M=p,P=yield E.getSession(),Y=yield $t(E.user,M._process(E.user.auth,P,_));return yield E.user._updateTokensIfNecessary(Y),E.user.reload()})()}unenroll(p){var _=this;return(0,i.Z)(function*(){const E="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const P=yield $t(_.user,function Js(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(D,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==E),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const ws=new WeakMap;function za(D){const p=(0,j.m9)(D);return ws.has(p)||ws.set(p,$a._fromUser(p)),ws.get(p)}const Jo="__sak";class Ka{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zd=(()=>{class D extends Ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cl(){const D=(0,j.z$)();return O(D)||we(D)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),P=this.localCache[E];M!==P&&_(E,P,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((he,Ge,nt)=>{this.notifyListeners(he,nt)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(M);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const P=()=>{const he=this.storage.getItem(M);!E&&this.localCache[M]===he||this.notifyListeners(M,he)},Y=this.storage.getItem(M);!function Yt(){return(0,j.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,P=this;return(0,i.Z)(function*(){yield M().call(P,_,E),P.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,i.Z)(function*(){const P=yield E().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var E=()=>super._remove,M=this;return(0,i.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return D.type="LOCAL",D})(),Yo=(()=>{class D extends Ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return D.type="SESSION",D})();let pf=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(P=>P.isListeningto(_));if(E)return E;const M=new D(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,i.Z)(function*(){const M=_,{eventId:P,eventType:Y,data:he}=M.data,Ge=E.handlersMap[Y];if(!Ge?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const nt=Array.from(Ge).map(function(){var un=(0,i.Z)(function*(Ki){return Ki(M.origin,he)});return function(Ki){return un.apply(this,arguments)}}()),vt=yield function lg(D){return Promise.all(D.map(function(){var p=(0,i.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:vt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Qo(D="",p=10){let _="";for(let E=0;E<p;E++)_+=Math.floor(10*Math.random());return D+_}class Xs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,E=50){var M=this;return(0,i.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,he;return new Promise((Ge,nt)=>{const vt=Qo("",20);P.port1.start();const un=setTimeout(()=>{nt(new Error("unsupported_event"))},E);he={messageChannel:P,onMessage(Ki){const ha=Ki;if(ha.data.eventId===vt)switch(ha.data.status){case"ack":clearTimeout(un),Y=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Ge(ha.data.response);break;default:clearTimeout(un),clearTimeout(Y),nt(new Error("invalid_response"))}}},M.handlers.add(he),P.port1.addEventListener("message",he.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:_},[P.port2])}).finally(()=>{he&&M.removeMessageHandler(he)})})()}}function or(){return window}function Ya(){return typeof or().WorkerGlobalScope<"u"&&"function"==typeof or().importScripts}function dl(){return(dl=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",sr="firebaseLocalStorage",zu="fbase_key";class Mi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function hl(D,p){return D.transaction([sr],p?"readwrite":"readonly").objectStore(sr)}function yn(){const D=indexedDB.open(Fn,1);return new Promise((p,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const E=D.result;try{E.createObjectStore(sr,{keyPath:zu})}catch(M){_(M)}}),D.addEventListener("success",(0,i.Z)(function*(){const E=D.result;E.objectStoreNames.contains(sr)?p(E):(E.close(),yield function jd(){const D=indexedDB.deleteDatabase(Fn);return new Mi(D).toPromise()}(),p(yield yn()))}))})}function Hd(D,p,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,i.Z)(function*(D,p,_){const E=hl(D,!0).put({[zu]:p,value:_});return new Mi(E).toPromise()})).apply(this,arguments)}function Ku(){return(Ku=(0,i.Z)(function*(D,p){const _=hl(D,!1).get(p),E=yield new Mi(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function dg(D,p){const _=hl(D,!0).delete(p);return new Mi(_).toPromise()}const mf=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,i.Z)(function*(){return _.db||(_.db=yield yn()),_.db})()}_withRetries(_){var E=this;return(0,i.Z)(function*(){let M=0;for(;;)try{const P=yield E._openDb();return yield _(P)}catch(P){if(M++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,i.Z)(function*(){return Ya()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,i.Z)(function*(){_.receiver=pf._getInstance(function Io(){return Ya()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,i.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,i.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,i.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function ll(){return dl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Xs(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=P[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,i.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Bd(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const _=yield yn();return yield Hd(_,Jo,"1"),yield dg(_,Jo),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,i.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,i.Z)(function*(){return M._withPendingWrite((0,i.Z)(function*(){return yield M._withRetries(P=>Hd(P,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,i.Z)(function*(){const M=yield E._withRetries(P=>function V_(D,p){return Ku.apply(this,arguments)}(P,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,i.Z)(function*(){return E._withPendingWrite((0,i.Z)(function*(){return yield E._withRetries(M=>dg(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,i.Z)(function*(){const E=yield _._withRetries(Y=>{const he=hl(Y,!1).getAll();return new Mi(he).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:Y,value:he}of E)P.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(he)&&(_.notifyListeners(Y,he),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!P.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Z_(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:start",fe(D,p))}const Yu=1e12;class Ir{constructor(p){this.auth=p,this.counter=Yu,this._widgets=new Map}render(p,_){const E=this.counter;return this._widgets.set(E,new zi(p,this.auth.name,_||{})),this.counter++,E}reset(p){var _;const E=p||Yu;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Yu))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,i.Z)(function*(){var E;return null===(E=_._widgets.get(p||Yu))||void 0===E||E.execute(),""})()}}class zi{constructor(p,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;le(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fl(D){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<D;E++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xa=Hr("rcb"),Qu=new ci(3e4,6e4);class $d{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=or().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return le(function fg(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Mt(or().grecaptcha)?Promise.resolve(or().grecaptcha):new Promise((E,M)=>{const P=or().setTimeout(()=>{M(be(p,"network-request-failed"))},Qu.get());or()[Xa]=()=>{or().clearTimeout(P),delete or()[Xa];const he=or().grecaptcha;if(!he||!Mt(he))return void M(be(p,"internal-error"));const Ge=he.render;he.render=(nt,vt)=>{const un=Ge(nt,vt);return this.counter++,un},this.hostLanguage=_,E(he)},Qt(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Xa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=or().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _f{load(p){return(0,i.Z)(function*(){return new Ir(p)})()}clearedOneInstance(){}}const pg="recaptcha",pl={theme:"light",type:"image"};class mi{constructor(p,_=Object.assign({},pl),E){this.parameters=_,this.type=pg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(E),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;le(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _f:new $d,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(_)||new Promise(P=>{const Y=he=>{!he||(p.tokenChangeListeners.delete(Y),P(he))};p.tokenChangeListeners.add(Y),p.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof p)p(_);else if("string"==typeof p){const E=or()[p];"function"==typeof E&&E(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){le(qt()&&!Ya(),p.auth,"internal-error"),yield function Xu(){let D=null;return new Promise(p=>{"complete"!==document.readyState?(D=()=>p(),window.addEventListener("load",D)):p()}).catch(p=>{throw D&&window.removeEventListener("load",D),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ue(D){return ie.apply(this,arguments)}(p.auth);le(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bs{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Kn._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function yf(D,p,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,i.Z)(function*(D,p,_){const E=Hn(D),M=yield ta(E,p,(0,j.m9)(_));return new bs(M,P=>$o(E,P))})).apply(this,arguments)}function zd(D,p,_){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D);yield ke(!1,E,"phone");const M=yield ta(E.auth,p,(0,j.m9)(_));return new bs(M,P=>La(E,P))})).apply(this,arguments)}function ec(D,p,_){return eu.apply(this,arguments)}function eu(){return(eu=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D),M=yield ta(E.auth,p,(0,j.m9)(_));return new bs(M,P=>Md(E,P))})).apply(this,arguments)}function ta(D,p,_){return ml.apply(this,arguments)}function ml(){return(ml=(0,i.Z)(function*(D,p,_){var E;const M=yield _.verify();try{let P;if(le("string"==typeof M,D,"argument-error"),le(_.type===pg,D,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Y=P.session;if("phoneNumber"in P)return le("enroll"===Y.type,D,"internal-error"),(yield qu(D,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{le("signin"===Y.type,D,"internal-error");const he=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return le(he,D,"missing-multi-factor-info"),(yield Z_(D,{mfaPendingCredential:Y.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Gc(D,{phoneNumber:P.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}})).apply(this,arguments)}function _n(D,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,i.Z)(function*(D,p){yield qi((0,j.m9)(D),p)})).apply(this,arguments)}let gg=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=Hn(_)}verifyPhoneNumber(_,E){return ta(this.auth,_,(0,j.m9)(E))}static credential(_,E){return Kn._fromVerification(_,E)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?Kn._fromTokenResponse(E,M):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _i(D,p){return p?tr(p):(le(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class tu extends To{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return gs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return gs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return gs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function yi(D){return Wn(D.auth,new tu(D),D.bypassAuthState)}function _l(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),Xc(_,new tu(D),D.bypassAuthState)}function Wd(D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,i.Z)(function*(D){const{auth:p,user:_}=D;return le(_,p,"internal-error"),qi(_,new tu(D),D.bypassAuthState)})).apply(this,arguments)}class So{constructor(p,_,E,M,P=!1){this.auth=p,this.resolver=E,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,i.Z)(function*(E,M){p.pendingPromise={resolve:E,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,i.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:P,tenantId:Y,error:he,type:Ge}=p;if(he)return void _.reject(he);const nt={auth:_.auth,requestUri:E,sessionId:M,tenantId:Y||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(nt))}catch(vt){_.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return yi;case"linkViaPopup":case"linkViaRedirect":return Wd;case"reauthViaPopup":case"reauthViaRedirect":return _l;default:Ae(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gn=new ci(2e3,1e4);function ht(D,p,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,i.Z)(function*(D,p,_){const E=Hn(D);$e(D,p,xn);const M=_i(E,_);return new Xo(E,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function ur(D,p,_){return ru.apply(this,arguments)}function ru(){return(ru=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D);$e(E.auth,p,xn);const M=_i(E.auth,_);return new Xo(E.auth,"reauthViaPopup",p,M,E).executeNotNull()})).apply(this,arguments)}function yl(D,p,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D);$e(E.auth,p,xn);const M=_i(E.auth,_);return new Xo(E.auth,"linkViaPopup",p,M,E).executeNotNull()})).apply(this,arguments)}let Xo=(()=>{class D extends So{constructor(_,E,M,P,Y){super(_,E,P,Y),this.provider=M,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,i.Z)(function*(){const E=yield _.execute();return le(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,i.Z)(function*(){At(1===_.filter.length,"Popup operations only handle one event");const E=Qo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Gn.get())};_()}}return D.currentPopupAction=null,D})();const Nr=new Map;class mg extends So{constructor(p,_,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,i.Z)(function*(){let E=Nr.get(_.auth._key());if(!E){try{const P=(yield function vl(D,p){return Mo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;E=()=>Promise.resolve(P)}catch(M){E=()=>Promise.reject(M)}Nr.set(_.auth._key(),E)}return _.bypassAuthState||Nr.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,E=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(E,p);if("unknown"!==p.type){if(p.eventId){const M=yield E.auth._redirectUserForId(p.eventId);if(M)return E.user=M,_().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Mo(){return(Mo=(0,i.Z)(function*(D,p){const _=iu(p),E=vi(D);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Dl(D,p){return na.apply(this,arguments)}function na(){return(na=(0,i.Z)(function*(D,p){return vi(D)._set(iu(p),"true")})).apply(this,arguments)}function ni(){Nr.clear()}function Jd(D,p){Nr.set(D._key(),p)}function vi(D){return tr(D._redirectPersistence)}function iu(D){return Br("pendingRedirect",D.config.apiKey,D.name)}function Dr(D,p,_){return function ko(D,p,_){return Cl.apply(this,arguments)}(D,p,_)}function Cl(){return(Cl=(0,i.Z)(function*(D,p,_){const E=Hn(D);$e(D,p,xn),yield E._initializationPromise;const M=_i(E,_);return yield Dl(M,E),M._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Pr(D,p,_){return function ra(D,p,_){return nc.apply(this,arguments)}(D,p,_)}function nc(){return(nc=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D);$e(E.auth,p,xn),yield E.auth._initializationPromise;const M=_i(E.auth,_);yield Dl(M,E.auth);const P=yield xs(E);return M._openRedirect(E.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function vf(D,p,_){return function El(D,p,_){return wl.apply(this,arguments)}(D,p,_)}function wl(){return(wl=(0,i.Z)(function*(D,p,_){const E=(0,j.m9)(D);$e(E.auth,p,xn),yield E.auth._initializationPromise;const M=_i(E.auth,_);yield ke(!1,E,p.providerId),yield Dl(M,E.auth);const P=yield xs(E);return M._openRedirect(E.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Df(D,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,i.Z)(function*(D,p){return yield Hn(D)._initializationPromise,rc(D,p,!1)})).apply(this,arguments)}function rc(D,p){return es.apply(this,arguments)}function es(){return(es=(0,i.Z)(function*(D,p,_=!1){const E=Hn(D),M=_i(E,p),Y=yield new mg(E,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield E._persistUserIfCurrent(Y.user),yield E._setRedirectUser(null,p)),Y})).apply(this,arguments)}function xs(D){return su.apply(this,arguments)}function su(){return(su=(0,i.Z)(function*(D){const p=Qo(`${D.uid}:::`);return D._redirectEventId=p,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),p})).apply(this,arguments)}class ia{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(_=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Tl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(D);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var E;if(p.error&&!oa(p)){const M=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(be(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const E=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(p))}saveEventToCache(p){this.cachedEventUids.add(bl(p)),this.lastProcessedEventTime=Date.now()}}function bl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(p=>p).join("-")}function oa({type:D,error:p}){return"unknown"===D&&"auth/no-auth-event"===p?.code}function sa(D){return aa.apply(this,arguments)}function aa(){return(aa=(0,i.Z)(function*(D,p={}){return Ne(D,"GET","/v1/projects",p)})).apply(this,arguments)}const oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_g=/^https?/;function ua(){return(ua=(0,i.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:p}=yield sa(D);for(const _ of p)try{if(Yd(_))return}catch{}Ae(D,"unauthorized-domain")})).apply(this,arguments)}function Yd(D){const p=gt(),{protocol:_,hostname:E}=new URL(p);if(D.startsWith("chrome-extension://")){const Y=new URL(D);return""===Y.hostname&&""===E?"chrome-extension:"===_&&D.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===E}if(!_g.test(_))return!1;if(oc.test(D))return E===D;const M=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const ts=new ci(3e4,6e4);function xl(){const D=or().___jsl;if(D?.H)for(const p of Object.keys(D.H))if(D.H[p].r=D.H[p].r||[],D.H[p].L=D.H[p].L||[],D.H[p].r=[...D.H[p].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let sc=null;function Jn(D){return sc=sc||function Cf(D){return new Promise((p,_)=>{var E,M,P;function Y(){xl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xl(),_(be(D,"network-request-failed"))},timeout:ts.get()})}if(null!==(M=null===(E=or().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(P=or().gapi)||void 0===P||!P.load){const he=Hr("iframefcb");return or()[he]=()=>{gapi.load?Y():_(be(D,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${he}`).catch(Ge=>_(Ge))}Y()}}).catch(p=>{throw sc=null,p})}(D),sc}const No=new ci(5e3,15e3),vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$r=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yn(D){const p=D.config;le(p.authDomain,D,"auth-domain-config-required");const _=p.emulator?ao(p,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:D.name,v:R.SDK_VERSION},M=$r.get(D.config.apiHost);M&&(E.eid=M);const P=D._getFrameworks();return P.length&&(E.fw=P.join(",")),`${_}?${(0,j.xO)(E).slice(1)}`}function ca(){return ca=(0,i.Z)(function*(D){const p=yield Jn(D),_=or().gapi;return le(_,D,"internal-error"),p.open({where:document.body,url:Yn(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vg,dontclear:!0},E=>new Promise(function(){var M=(0,i.Z)(function*(P,Y){yield E.restyle({setHideOnLeave:!1});const he=be(D,"network-request-failed"),Ge=or().setTimeout(()=>{Y(he)},No.get());function nt(){or().clearTimeout(Ge),P(E)}E.ping(nt).then(nt,()=>{Y(he)})});return function(P,Y){return M.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lt=encodeURIComponent("fac");function Ot(D,p,_,E,M,P){return Or.apply(this,arguments)}function Or(){return(Or=(0,i.Z)(function*(D,p,_,E,M,P){le(D.config.authDomain,D,"auth-domain-config-required"),le(D.config.apiKey,D,"invalid-api-key");const Y={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:E,v:R.SDK_VERSION,eventId:M};if(p instanceof xn){p.setDefaultLanguage(D.languageCode),Y.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,un]of Object.entries(P||{}))Y[vt]=un}if(p instanceof Gs){const vt=p.getScopes().filter(un=>""!==un);vt.length>0&&(Y.scopes=vt.join(","))}D.tenantId&&(Y.tid=D.tenantId);const he=Y;for(const vt of Object.keys(he))void 0===he[vt]&&delete he[vt];const Ge=yield D._getAppCheckToken(),nt=Ge?`#${Lt}=${encodeURIComponent(Ge)}`:"";return`${fn(D)}?${(0,j.xO)(he).slice(1)}${nt}`})).apply(this,arguments)}function fn({config:D}){return D.emulator?ao(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}const po="webStorageSupport",go=class la{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yo,this._completeRedirectFn=rc,this._overrideRedirectResult=Jd}_openPopup(p,_,E,M){var P=this;return(0,i.Z)(function*(){var Y;At(null===(Y=P.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const he=yield Ot(p,_,E,gt(),M);return function me(D,p,_,E=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-E)/2,0).toString();let he="";const Ge=Object.assign(Object.assign({},C),{width:E.toString(),height:M.toString(),top:P,left:Y}),nt=(0,j.z$)().toLowerCase();_&&(he=N(nt)?"_blank":_),F(nt)&&(p=p||"http://localhost",Ge.scrollbars="yes");const vt=Object.entries(Ge).reduce((Ki,[ha,uc])=>`${Ki}${ha}=${uc},`,"");if(function at(D=(0,j.z$)()){var p;return we(D)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==he)return function Qe(D,p){const _=document.createElement("a");_.href=D,_.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(p||"",he),new X(null);const un=window.open(p||"",he,vt);le(un,D,"popup-blocked");try{un.focus()}catch{}return new X(un)}(p,he,Qo())})()}_openRedirect(p,_,E,M){var P=this;return(0,i.Z)(function*(){return yield P._originValidation(p),function Ja(D){or().location.href=D}(yield Ot(p,_,E,gt(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(At(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(p);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(p){var _=this;return(0,i.Z)(function*(){const E=yield function Il(D){return ca.apply(this,arguments)}(p),M=new ia(p);return E.register("authEvent",P=>(le(P?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=E,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(po,{type:po},M=>{var P;const Y=null===(P=M?.[0])||void 0===P?void 0:P[po];void 0!==Y&&_(!!Y),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function yg(D){return ua.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ft()||O()||we()}};class Rr extends class ri{constructor(p){this.factorId=p}_process(p,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,E);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Rr(p)}_finalizeEnroll(p,_,E){return function qa(D,p){return Ne(D,"POST","/v2/accounts/mfaEnrollment:finalize",fe(D,p))}(p,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ar(D,p){return Ne(D,"POST","/v2/accounts/mfaSignIn:finalize",fe(D,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let da=(()=>{class D{constructor(){}static assertion(_){return Rr._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var Ml="@firebase/auth";class Xd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,i.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function ac(D){(0,R._registerComponent)(new _e.wA("auth",(p,{options:_})=>{const E=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:Y,authDomain:he}=E.options;le(Y&&!Y.includes(":"),"invalid-api-key",{appName:E.name});const Ge={apiKey:Y,authDomain:he,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(D)},nt=new fs(E,M,P,Ge);return function Hs(D,p){const _=p?.persistence||[],E=(Array.isArray(_)?_:[_]).map(tr);p?.errorMap&&D._updateErrorMap(p.errorMap),D._initializeWithPersistence(E,p?.popupRedirectResolver)}(nt,_),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,E)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.wA("auth-internal",p=>{const _=Hn(p.getProvider("auth").getImmediate());return new Xd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ml,"0.23.2",function eh(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(Ml,"0.23.2","esm2017")}("Browser")},2090:(Et,Oe,V)=>{V.d(Oe,{$s:()=>tr,BH:()=>Se,G6:()=>ao,L:()=>De,LL:()=>Me,P0:()=>pt,Pz:()=>be,Sg:()=>$e,UG:()=>Ye,US:()=>_e,ZB:()=>Q,ZR:()=>Ne,aH:()=>Ae,b$:()=>qt,eu:()=>ne,hl:()=>se,jU:()=>At,m9:()=>Br,ne:()=>$t,pd:()=>On,r3:()=>Zn,ru:()=>gt,tV:()=>z,uI:()=>le,vZ:()=>_r,w1:()=>so,xO:()=>ji,xb:()=>Ti,z$:()=>ze,zI:()=>Ie,zd:()=>Yr});const oe=function(G){const H=[];let F=0;for(let O=0;O<G.length;O++){let N=G.charCodeAt(O);N<128?H[F++]=N:N<2048?(H[F++]=N>>6|192,H[F++]=63&N|128):55296==(64512&N)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++O)),H[F++]=N>>18|240,H[F++]=N>>12&63|128,H[F++]=N>>6&63|128,H[F++]=63&N|128):(H[F++]=N>>12|224,H[F++]=N>>6&63|128,H[F++]=63&N|128)}return H},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let N=0;N<G.length;N+=3){const J=G[N],Ee=N+1<G.length,Je=Ee?G[N+1]:0,mt=N+2<G.length,we=mt?G[N+2]:0;let Yt=(15&Je)<<2|we>>6,Ft=63&we;mt||(Ft=64,Ee||(Yt=64)),O.push(F[J>>2],F[(3&J)<<4|Je>>4],F[Yt],F[Ft])}return O.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(oe(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let F=0,O=0;for(;F<G.length;){const N=G[F++];if(N<128)H[O++]=String.fromCharCode(N);else if(N>191&&N<224){const J=G[F++];H[O++]=String.fromCharCode((31&N)<<6|63&J)}else if(N>239&&N<365){const mt=((7&N)<<18|(63&G[F++])<<12|(63&G[F++])<<6|63&G[F++])-65536;H[O++]=String.fromCharCode(55296+(mt>>10)),H[O++]=String.fromCharCode(56320+(1023&mt))}else{const J=G[F++],Ee=G[F++];H[O++]=String.fromCharCode((15&N)<<12|(63&J)<<6|63&Ee)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const F=H?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let N=0;N<G.length;){const J=F[G.charAt(N++)],Je=N<G.length?F[G.charAt(N)]:0;++N;const we=N<G.length?F[G.charAt(N)]:64;++N;const at=N<G.length?F[G.charAt(N)]:64;if(++N,null==J||null==Je||null==we||null==at)throw new pe;O.push(J<<2|Je>>4),64!==we&&(O.push(Je<<4&240|we>>2),64!==at&&O.push(we<<6&192|at))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(G){return function(G){const H=oe(G);return _e.encodeByteArray(H,!0)}(G).replace(/\./g,"")},z=function(G){try{return _e.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Q(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const F in H)!H.hasOwnProperty(F)||!He(F)||(G[F]=Q(G[F],H[F]));return G}function He(G){return"__proto__"!==G}const ye=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&z(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},pt=G=>{const H=(G=>{var H,F;return null===(F=null===(H=ye())||void 0===H?void 0:H.emulatorHosts)||void 0===F?void 0:F[G]})(G);if(!H)return;const F=H.lastIndexOf(":");if(F<=0||F+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const O=parseInt(H.substring(F+1),10);return"["===H[0]?[H.substring(1,F-1),O]:[H.substring(0,F),O]},Ae=()=>{var G;return null===(G=ye())||void 0===G?void 0:G.config},be=G=>{var H;return null===(H=ye())||void 0===H?void 0:H[`_${G}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,F)=>{this.resolve=H,this.reject=F})}wrapCallback(H){return(F,O)=>{F?this.reject(F):this.resolve(O),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(F):H(F,O))}}}function $e(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=H||"demo-project",N=G.iat||0,J=G.sub||G.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:N,exp:N+3600,auth_time:N,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},G);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(Ee)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ye(){var G;const H=null===(G=ye())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function gt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function so(){const G=ze();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ao(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((G,H)=>{try{let F=!0;const O="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(O);N.onsuccess=()=>{N.result.close(),F||self.indexedDB.deleteDatabase(O),G(!0)},N.onupgradeneeded=()=>{F=!1},N.onerror=()=>{var J;H((null===(J=N.error)||void 0===J?void 0:J.message)||"")}}catch(F){H(F)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(H,F,O){super(F),this.code=H,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(H,F,O){this.service=H,this.serviceName=F,this.errors=O}create(H,...F){const O=F[0]||{},N=`${this.service}/${H}`,J=this.errors[H],Ee=J?function ut(G,H){return G.replace(xt,(F,O)=>{const N=H[O];return null!=N?String(N):`<${O}?>`})}(J,O):"Error";return new Ne(N,`${this.serviceName}: ${Ee} (${N}).`,O)}}const xt=/\{\$([^}]+)}/g;function Zn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function Ti(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function _r(G,H){if(G===H)return!0;const F=Object.keys(G),O=Object.keys(H);for(const N of F){if(!O.includes(N))return!1;const J=G[N],Ee=H[N];if(Xn(J)&&Xn(Ee)){if(!_r(J,Ee))return!1}else if(J!==Ee)return!1}for(const N of O)if(!F.includes(N))return!1;return!0}function Xn(G){return null!==G&&"object"==typeof G}function ji(G){const H=[];for(const[F,O]of Object.entries(G))Array.isArray(O)?O.forEach(N=>{H.push(encodeURIComponent(F)+"="+encodeURIComponent(N))}):H.push(encodeURIComponent(F)+"="+encodeURIComponent(O));return H.length?"&"+H.join("&"):""}function Yr(G){const H={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[N,J]=O.split("=");H[decodeURIComponent(N)]=decodeURIComponent(J)}}),H}function On(G){const H=G.indexOf("?");if(!H)return"";const F=G.indexOf("#",H);return G.substring(H,F>0?F:void 0)}function $t(G,H){const F=new dt(G,H);return F.subscribe.bind(F)}class dt{constructor(H,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{H(this)}).catch(O=>{this.error(O)})}next(H){this.forEachObserver(F=>{F.next(H)})}error(H){this.forEachObserver(F=>{F.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,F,O){let N;if(void 0===H&&void 0===F&&void 0===O)throw new Error("Missing Observer.");N=function nn(G,H){if("object"!=typeof G||null===G)return!1;for(const F of H)if(F in G&&"function"==typeof G[F])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:F,complete:O},void 0===N.next&&(N.next=Qr),void 0===N.error&&(N.error=Qr),void 0===N.complete&&(N.complete=Qr);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),J}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,H)}sendOne(H,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{F(this.observers[H])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qr(){}function tr(G,H=1e3,F=2){const O=H*Math.pow(F,G),N=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+N)}function Br(G){return G&&G._delegate?G._delegate:G}},959:(Et,Oe,V)=>{var i=V(4650);let j=null;function R(){return j}const pe=new i.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function De(){return(0,i.LFG)(q)}()},providedIn:"platform"}),n})();const z=new i.OlP("Location Initialized");let q=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function He(){return new q((0,i.LFG)(pe))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(yt)},providedIn:"root"}),n})();const ye=new i.OlP("appBaseHref");let yt=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+it(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+it(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pt=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+it(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+it(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ve),i.LFG(ye,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=xe($e(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=it,n.joinWithSlash=Pe,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(i.LFG(Ce))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function be(){return new Ae((0,i.LFG)(Ce))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}let Xt=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hn{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Hn(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),ps(f,o)}});for(let o=0,u=r.length;o<u;o++){const f=r.get(o).context;f.index=o,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ps(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ps(n,e){n.context.$implicit=e.item}let mn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vd{constructor(){this.$implicit=null,this.ngIf=null}}function Tr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}let Dd=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,u]=t.split("."),l=-1===o.indexOf("-")?void 0:i.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,u?`${r}${u}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,o,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function qo(n){return"server"===n}let Gs=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new Kc((0,i.LFG)(pe),window)}),n})();class Kc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function di(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_s(this.window.history)||_s(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _s(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ol extends class lf extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){j||(j=n)}(new ol)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sl(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}();return null==t?null:function Vd(n){Gu=Gu||document.createElement("a"),Gu.setAttribute("href",n);const e=Gu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Aa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Gu,Hu=null;const Ws=new i.OlP("TRANSITION_ID"),al=[{provide:i.ip1,useFactory:function df(n,e,t){return()=>{t.get(i.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Ws,pe,i.zs3],multi:!0}];let hf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const ho=new i.OlP("EventManagerPlugins");let Ko=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const l=o[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ho),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class gi{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ul=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Wo=(()=>{class n extends ul{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,o.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qu))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function qu(n){R().remove(n)}const qa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$i=/%COMP%/g;function Ka(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ka(n,o,t):(o=o.replace($i,n),t.push(o))}return t}function cl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ys=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Wa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new lg(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case i.ifc.ShadowDom:return new pf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ka(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ko),i.LFG(Wo),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(qa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Yo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Yo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=qa[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=qa[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,r,o&i.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,cl(r)):this.eventManager.addEventListener(e,t,cl(r))}}function Yo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class lg extends Wa{constructor(e,t,r,o){super(e),this.component=r;const u=Ka(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function za(n){return"_ngcontent-%COMP%".replace($i,n)}(o+"-"+r.id),this.hostAttr=function Jo(n){return"_nghost-%COMP%".replace($i,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pf extends Wa{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ka(o.id,o.styles,[]);for(let l=0;l<u.length;l++){const f=document.createElement("style");f.textContent=u[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qo=(()=>{class n extends gi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=["alt","control","meta","shift"],or={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ja={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ya=(()=>{class n extends gi{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Xs.forEach(v=>{const x=r.indexOf(v);x>-1&&(r.splice(x,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let o=or[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Xs.forEach(l=>{l!==o&&(0,Ja[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function ea(){ol.makeCurrent()},multi:!0},{provide:pe,useFactory:function zu(){return(0,i.RDi)(document),document},deps:[]}]),jd=new i.OlP(""),yn=[{provide:i.rWj,useClass:class Ga{addToWindow(e){i.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const f=function(m){l=l||m,u--,0==u&&r(l)};o.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],Hd=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function sr(){return new i.qLn},deps:[]},{provide:ho,useClass:Qo,multi:!0,deps:[pe,i.R0b,i.Lbi]},{provide:ho,useClass:Ya,multi:!0,deps:[pe]},{provide:Ys,useClass:Ys,deps:[Ko,Wo,i.AFp]},{provide:i.FYo,useExisting:Ys},{provide:ul,useExisting:Wo},{provide:Wo,useClass:Wo,deps:[pe]},{provide:Ko,useClass:Ko,deps:[ho,i.R0b]},{provide:class Wc{},useClass:hf,deps:[]},[]];let Qa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:i.AFp,useValue:t.appId},{provide:Ws,useExisting:i.AFp},al]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(jd,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...Hd,...yn],imports:[Id,i.hGG]}),n})(),gf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function hg(){return new gf((0,i.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):i.LFG(ta),r},providedIn:"root"}),n})(),ta=(()=>{class n extends ec{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function eu(n){return new ta(n.get(pe))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();var _n=V(8996),Ar=V(9751);const{isArray:gg}=Array,{getPrototypeOf:_i,prototype:tu,keys:yi}=Object;function _l(n){if(1===n.length){const e=n[0];if(gg(e))return{args:e,keys:null};if(function Wd(n){return n&&"object"==typeof n&&_i(n)===tu}(e)){const t=yi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ao=V(8421),So=V(7669),Gn=V(5403),ht=V(4004);const{isArray:nu}=Array;function ru(n){return(0,ht.U)(e=>function ur(n,e){return nu(e)?n(...e):n(e)}(n,e))}function yl(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Xo=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),Ts=(()=>{class n extends Xo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Nr=new i.OlP("NgValueAccessor"),Mo={provide:Nr,useExisting:(0,i.Gpc)(()=>ni),multi:!0},na=new i.OlP("CompositionEventMode");let ni=(()=>{class n extends Xo{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(na,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[i._Bn([Mo]),i.qOj]}),n})();function vi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function iu(n){return null!=n&&"number"==typeof n.length}const Dr=new i.OlP("NgValidators"),ko=new i.OlP("NgAsyncValidators"),Cl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pr{static min(e){return function ra(n){return e=>{if(vi(e.value)||vi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function nc(n){return e=>{if(vi(e.value)||vi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return vf(e)}static requiredTrue(e){return function El(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wl(n){return vi(n.value)||Cl.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Df(n){return e=>vi(e.value)||!iu(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return ou(e)}static pattern(e){return function rc(n){if(!n)return es;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vi(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Tl(e)}static composeAsync(e){return aa(e)}}function vf(n){return vi(n.value)?{required:!0}:null}function ou(n){return e=>iu(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function es(n){return null}function xs(n){return null!=n}function su(n){return(0,i.QGY)(n)?(0,_n.D)(n):n}function ic(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ia(n,e){return e.map(t=>t(n))}function oa(n){return n.map(e=>function bl(n){return!n.validate}(e)?e:t=>e.validate(t))}function Tl(n){if(!n)return null;const e=n.filter(xs);return 0==e.length?null:function(t){return ic(ia(t,e))}}function sa(n){return null!=n?Tl(oa(n)):null}function aa(n){if(!n)return null;const e=n.filter(xs);return 0==e.length?null:function(t){return function tc(...n){const e=(0,So.jO)(n),{args:t,keys:r}=_l(n),o=new Ar.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let m=l,v=l;for(let x=0;x<l;x++){let I=!1;(0,Ao.Xf)(t[x]).subscribe((0,Gn.x)(u,L=>{I||(I=!0,v--),f[x]=L},()=>m--,void 0,()=>{(!m||!I)&&(v||u.next(r?yl(r,f):f),u.complete())}))}});return e?o.pipe(ru(e)):o}(ia(t,e).map(su)).pipe((0,ht.U)(ic))}}function oc(n){return null!=n?aa(oa(n)):null}function _g(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yg(n){return n._rawValidators}function ua(n){return n._rawAsyncValidators}function Yd(n){return n?Array.isArray(n)?n:[n]:[]}function ts(n,e){return Array.isArray(n)?n.includes(e):n===e}function xl(n,e){const t=Yd(e);return Yd(n).forEach(o=>{ts(t,o)||t.push(o)}),t}function Cf(n,e){return Yd(e).filter(t=>!ts(n,t))}class sc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Jn extends sc{get formDirective(){return null}get path(){return null}}class No extends sc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fo{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $r=(()=>{class n extends fo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(No,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),Yn=(()=>{class n extends fo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Jn,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const go="VALID",ri="INVALID",Rr="PENDING",da="DISABLED";function wf(n){return(Ml(n)?n.validators:n)||null}function Qd(n){return Array.isArray(n)?sa(n):n||null}function Al(n,e){return(Ml(e)?e.asyncValidators:n)||null}function Sl(n){return Array.isArray(n)?oc(n):n||null}function Ml(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function kl(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[t])throw new i.vHH(1001,"")}function Xd(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new i.vHH(1002,"")})}class eh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Qd(this._rawValidators),this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===go}get invalid(){return this.status===ri}get pending(){return this.status==Rr}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Qd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Sl(e)}addValidators(e){this.setValidators(xl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cf(e,this._rawAsyncValidators))}hasValidator(e){return ts(this._rawValidators,e)}hasAsyncValidator(e){return ts(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=go,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===go||this.status===Rr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:go}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator=!0;const t=su(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(ri)?ri:go}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ml(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ac extends eh{constructor(e,t,r){super(wf(t),Al(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xd(this,0,e),Object.keys(e).forEach(r=>{kl(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class bf extends ac{}function Nl(n,e){return[...e.path,n]}function D(n,e){M(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Y(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ge(n,e)})}(n,e),function nt(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function he(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ge(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function E(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function p(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),P(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M(n,e){const t=yg(n);null!==e.validator?n.setValidators(_g(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ua(n);null!==e.asyncValidator?n.setAsyncValidators(_g(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_(e._rawValidators,o),_(e._rawAsyncValidators,o)}function P(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=yg(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=ua(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return _(e._rawValidators,r),_(e._rawAsyncValidators,r),t}function Ge(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vt(n,e){M(n,e)}function cc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function xf(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Pl(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===ni?t=u:function nh(n){return Object.getPrototypeOf(n.constructor)===Ts}(u)?r=u:o=u}),o||r||t||null}const Is={provide:Jn,useExisting:(0,i.Gpc)(()=>mo)},au=(()=>Promise.resolve())();let mo=(()=>{class n extends Jn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.vpe,this.form=new ac({},sa(t),oc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){au.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),D(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){au.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){au.then(()=>{const r=this._findContainer(t.path),o=new ac({});vt(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){au.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){au.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xf(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Dr,10),i.Y36(ko,10))},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&i.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([Is]),i.qOj]}),n})();function rh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function B_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lc=class extends eh{constructor(e=null,t,r){super(wf(t),Al(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ml(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=B_(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){B_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},q_={provide:No,useExisting:(0,i.Gpc)(()=>Po)},Eg=(()=>Promise.resolve())();let Po=(()=>{class n extends No{constructor(t,r,o,u,l){super(),this._changeDetectorRef=l,this.control=new lc,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Pl(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Eg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,i.D6c)(r);Eg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Nl(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Jn,9),i.Y36(Dr,10),i.Y36(ko,10),i.Y36(Nr,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([q_]),i.qOj,i.TTD]}),n})(),Ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const X1={provide:Nr,useExisting:(0,i.Gpc)(()=>wg),multi:!0};let wg=(()=>{class n extends Ts{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([X1]),i.qOj]}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const W_=new i.OlP("NgModelWithFormControlWarning"),rT={provide:Jn,useExisting:(0,i.Gpc)(()=>hc)};let hc=(()=>{class n extends Jn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return D(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){p(t.control||null,t,!1),function If(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,xf(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(p(r||null,t),(n=>n instanceof lc)(o)&&(D(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);vt(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function un(n,e){return P(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&P(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Dr,10),i.Y36(ko,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&i.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([rT]),i.qOj,i.TTD]}),n})();const ZD={provide:No,useExisting:(0,i.Gpc)(()=>ih)};let ih=(()=>{class n extends No{constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Pl(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),cc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Nl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(i.Y36(Jn,13),i.Y36(Dr,10),i.Y36(ko,10),i.Y36(Nr,10),i.Y36(W_,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([ZD]),i.qOj,i.TTD]}),n})();const Ol={provide:Nr,useExisting:(0,i.Gpc)(()=>xg),multi:!0};function BD(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let xg=(()=>{class n extends Ts{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=BD(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function oT(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([Ol]),i.qOj]}),n})(),jD=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(BD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(xg,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const sT={provide:Nr,useExisting:(0,i.Gpc)(()=>Y_),multi:!0};function fa(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Y_=(()=>{class n extends Ts{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);o.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);o.push(v)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function oh(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([sT]),i.qOj]}),n})(),HD=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(fa(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(fa(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Y_,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Rl=(()=>{class n{constructor(){this._validator=es}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):es,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const uT={provide:Dr,useExisting:(0,i.Gpc)(()=>ii),multi:!0};let ii=(()=>{class n extends Rl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.D6c,this.createValidator=t=>vf}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&i.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[i._Bn([uT]),i.qOj]}),n})();const u2={provide:Dr,useExisting:(0,i.Gpc)(()=>YD),multi:!0};let YD=(()=>{class n extends Rl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function GD(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>ou(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&i.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i._Bn([u2]),i.qOj]}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[$_]}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[QD]}),n})(),XD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:W_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[QD]}),n})();class eC extends eh{constructor(e,t,r){super(wf(t),Al(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Xd(this,0,e),e.forEach((r,o)=>{kl(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ty(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Mf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return ty(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new ac(o,u)}record(t,r=null){const o=this._reduceControls(t);return new bf(o,r)}control(t,r,o){let u={};return this.useNonNullable?(ty(r)?u=r:(u.validators=r,u.asyncValidators=o),new lc(t,{...u,nonNullable:!0})):new lc(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new eC(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof lc||t instanceof eh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:XD}),n})();class tC{}const pa="*";function pT(n,e){return{type:7,name:n,definitions:e,options:{}}}function nC(n,e=null){return{type:4,styles:e,timings:n}}function rC(n,e=null){return{type:2,steps:n,options:e}}function kf(n){return{type:6,styles:n,offset:null}}function iC(n,e,t){return{type:0,name:n,styles:e,options:t}}function ah(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ry(n){Promise.resolve().then(n)}class uh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ry(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?ry(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Mg(n){return new i.vHH(3e3,!1)}function RT(){return typeof window<"u"&&typeof window.document<"u"}function Pg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function uu(n){switch(n.length){case 0:return new uh;case 1:return n[0];default:return new Sg(n)}}function Og(n,e,t,r,o=new Map,u=new Map){const l=[],f=[];let m=-1,v=null;if(r.forEach(x=>{const I=x.get("offset"),L=I==m,B=L&&v||new Map;x.forEach(($,ee)=>{let ae=ee,Ve=$;if("offset"!==ee)switch(ae=e.normalizePropertyName(ae,l),Ve){case"!":Ve=o.get(ee);break;case pa:Ve=u.get(ee);break;default:Ve=e.normalizeStyleValue(ee,ae,Ve,l)}B.set(ae,Ve)}),L||f.push(B),v=B,m=I}),l.length)throw function AT(n){return new i.vHH(3502,!1)}();return f}function Of(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&uy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&uy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&uy(t,"destroy",n)))}}function uy(n,e,t){const u=Rf(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function Rf(n,e,t,r,o="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!l}}function Di(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function hC(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let cy=(n,e)=>!1,fC=(n,e,t)=>[],pC=null;function ly(n){const e=n.parentNode||n.host;return e===pC?null:e}(Pg()||typeof Element<"u")&&(RT()?(pC=(()=>document.documentElement)(),cy=(n,e)=>{for(;e;){if(e===n)return!0;e=ly(e)}return!1}):cy=(n,e)=>n.contains(e),fC=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ns=null,ga=!1;const UT=cy,dy=fC;let hy=(()=>{class n{validateStyleProperty(t){return function LT(n){ns||(ns=function _2(){return typeof document<"u"?document.body:null}()||{},ga=!!ns.style&&"WebkitAppearance"in ns.style);let e=!0;return ns.style&&!function FT(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ns.style,!e&&ga&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ns.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return UT(t,r)}getParentElement(t){return ly(t)}query(t,r,o){return dy(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,l,f=[],m){return new uh(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),gC=(()=>{class n{}return n.NOOP=new hy,n})();const fy="ng-enter",Rg="ng-leave",_o="ng-trigger",Fg=".ng-trigger",py="ng-animating",gy=".ng-animating";function cu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:my(parseFloat(e[1]),e[2])}function my(n,e){return"s"===e?1e3*n:n}function Lg(n,e,t){return n.hasOwnProperty("duration")?n:function vC(n,e,t){let o,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Mg()),{duration:0,delay:0,easing:""};o=my(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(u=my(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else o=n;if(!t){let f=!1,m=e.length;o<0&&(e.push(function aC(){return new i.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function uC(){return new i.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,Mg())}return{duration:o,delay:u,easing:l}}(n,e,t)}function Ff(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function DC(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function lu(n,e=new Map,t){if(t)for(let[r,o]of t)e.set(r,o);for(let[r,o]of n)e.set(r,o);return e}function _y(n,e,t){return t?e+":"+t+";":""}function yy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=_y(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=_y(0,Vl(t),n.style[t]));n.setAttribute("style",e)}function ma(n,e,t){n.style&&(e.forEach((r,o)=>{const u=Vg(o);t&&!t.has(o)&&t.set(o,n.style[u]),n.style[u]=r}),Pg()&&yy(n))}function Ul(n,e){n.style&&(e.forEach((t,r)=>{const o=Vg(r);n.style[o]=""}),Pg()&&yy(n))}function dh(n){return Array.isArray(n)?1==n.length?n[0]:rC(n):n}const Ug=new RegExp("{{\\s*(.+?)\\s*}}","g");function CC(n){let e=[];if("string"==typeof n){let t;for(;t=Ug.exec(n);)e.push(t[1]);Ug.lastIndex=0}return e}function Lf(n,e,t){const r=n.toString(),o=r.replace(Ug,(u,l)=>{let f=e[l];return null==f&&(t.push(function yT(n){return new i.vHH(3003,!1)}()),f=""),f.toString()});return o==r?n:o}function vy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const EC=/-+([a-z0-9])/g;function Vg(n){return n.replace(EC,(...e)=>e[1].toUpperCase())}function Vl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function iy(n){return new i.vHH(3004,!1)}()}}function wC(n,e){return window.getComputedStyle(n)[e]}function HT(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function TC(n,e,t){if(":"==n[0]){const m=function Zg(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function xT(n){return new i.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function TT(n){return new i.vHH(3015,!1)}()),e;const o=r[1],u=r[2],l=r[3];e.push(xC(o,l));"<"==u[0]&&!("*"==o&&"*"==l)&&e.push(xC(l,o))}(r,t,e)):t.push(n),t}const Bg=new Set(["true","1"]),Uf=new Set(["false","0"]);function xC(n,e){const t=Bg.has(n)||Uf.has(n),r=Bg.has(e)||Uf.has(e);return(o,u)=>{let l="*"==n||n==o,f="*"==e||e==u;return!l&&t&&"boolean"==typeof o&&(l=o?Bg.has(n):Uf.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?Bg.has(e):Uf.has(e)),l&&f}}const GT=new RegExp("s*:selfs*,?","g");function wy(n,e,t,r){return new SC(n).build(e,t,r)}class SC{constructor(e){this._driver=e}build(e,t,r){const o=new kC(t);return this._resetContextStyleTimingState(o),Wi(this,dh(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function vT(){return new i.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,u.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,o+=m.depCount,l.push(m)}else t.errors.push(function oy(){return new i.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=o||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{CC(m).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(vy(u.values()),t.errors.push(function Ng(n,e){return new i.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wi(this,dh(e.animation),t);return{type:1,matchers:HT(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:hu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wi(this,r,t)),options:hu(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(l=>{t.currentTime=r;const f=Wi(this,l,t);return o=Math.max(o,t.currentTime),f});return t.currentTime=o,{type:3,steps:u,options:hu(e.options)}}visitAnimate(e,t){const r=function D2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ty(Lg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Ty(0,0,"");return u.dynamic=!0,u.strValue=t,u}const o=Lg(t,e);return Ty(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:kf({});if(5==u.type)o=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=kf(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=f,o=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of o)"string"==typeof f?f===pa?r.push(f):t.errors.push(new i.vHH(3002,!1)):r.push(DC(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let m of f.values())if(m.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),x=v.get(m);let I=!0;x&&(u!=o&&u>=x.startTime&&o<=x.endTime&&(t.errors.push(function sy(n,e,t,r,o){return new i.vHH(3010,!1)}()),I=!1),u=x.startTime),I&&v.set(m,{startTime:u,endTime:o}),t.options&&function ZT(n,e,t){const r=e.params||{},o=CC(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(function Fl(n){return new i.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function CT(){return new i.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,m=!1,v=0;const x=e.steps.map(Ve=>{const qe=this._makeStyleAst(Ve,t);let Be=null!=qe.offset?qe.offset:function by(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(qe.styles),We=0;return null!=Be&&(u++,We=qe.offset=Be),m=m||We<0||We>1,f=f||We<v,v=We,l.push(We),qe});m&&t.errors.push(function ET(){return new i.vHH(3012,!1)}()),f&&t.errors.push(function cC(){return new i.vHH(3200,!1)}());const I=e.steps.length;let L=0;u>0&&u<I?t.errors.push(function ch(){return new i.vHH(3202,!1)}()):0==u&&(L=1/(I-1));const B=I-1,$=t.currentTime,ee=t.currentAnimateTimings,ae=ee.duration;return x.forEach((Ve,qe)=>{const Be=L>0?qe==B?1:L*qe:l[qe],We=Be*ae;t.currentTime=$+ee.delay+We,ee.duration=We,this._validateStyleAst(Ve,t),Ve.offset=Be,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:Wi(this,dh(e.animation),t),options:hu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function qT(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GT,"")),n=n.replace(/@\*/g,Fg).replace(/@\w+/g,t=>Fg+"-"+t.slice(1)).replace(/:animating/g,gy),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Di(t.collectedStyles,t.currentQuerySelector,new Map);const f=Wi(this,dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:hu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wT(){return new i.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Lg(e.timings,t.errors,!0);return{type:12,animation:Wi(this,dh(e.animation),t),timings:r,options:null}}}class kC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hu(n){return n?(n=Ff(n)).params&&(n.params=function MC(n){return n?Ff(n):null}(n.params)):n={},n}function Ty(n,e,t){return{duration:n,delay:e,easing:t}}function NC(n,e,t,r,o,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:l,subTimeline:f}}class fu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const jg=new RegExp(":enter","g"),RC=new RegExp(":leave","g");function xy(n,e,t,r,o,u=new Map,l=new Map,f,m,v=[]){return(new Iy).buildKeyframes(n,e,t,r,o,u,l,f,m,v)}class Iy{buildKeyframes(e,t,r,o,u,l,f,m,v,x=[]){v=v||new fu;const I=new Vf(e,t,v,o,u,x,[]);I.options=m;const L=m.delay?cu(m.delay):0;I.currentTimeline.delayNextStep(L),I.currentTimeline.setStyles([l],null,I.errors,m),Wi(this,r,I);const B=I.timelines.filter($=>$.containsAnimation());if(B.length&&f.size){let $;for(let ee=B.length-1;ee>=0;ee--){const ae=B[ee];if(ae.element===t){$=ae;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,I.errors,m)}return B.length?B.map($=>$.buildKeyframes()):[NC(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const o of e){const u=o?.delay;if(u){const l="number"==typeof u?u:cu(Lf(u,o?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?cu(r.duration):null,f=null!=r.delay?cu(r.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Wi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=rs);const l=cu(u.delay);o.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Wi(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?cu(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Wi(this,l,f),o=Math.max(o,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Lg(t.params?Lf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*u),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?cu(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rs);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,x)=>{t.currentQueryIndex=x;const I=t.createSubContext(e.options,v);u&&I.delayNextStep(u),v===t.element&&(m=I.currentTimeline),Wi(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const x=t.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;Wi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-I+(o.startTime-r.currentTimeline.startTime)}}const rs={};class Vf{constructor(e,t,r,o,u,l,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Zf(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=cu(r.duration)),null!=r.delay&&(o.delay=cu(r.delay));const u=r.params;if(u){let l=o.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Lf(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new Vf(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=rs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new Ay(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,l){let f=[];if(o&&f.push(this.element),e.length>0){e=(e=e.replace(jg,"."+this._enterClassName)).replace(RC,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function bT(n){return new i.vHH(3014,!1)}()),f}}class Zf{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||pa),this._currentKeyframe.set(t,pa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&this._previousKeyframe.set("easing",t);const u=o&&o.params||{},l=function FC(n,e){const t=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||e.keys();for(let u of r)t.set(u,pa)}else lu(o,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of l){const v=Lf(m,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??pa),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const o=this._styleSummary.get(r);(!o||t.time>o.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,m)=>{const v=lu(f,new Map,this._backFill);v.forEach((x,I)=>{"!"===x?e.add(I):x===pa&&t.add(I)}),r||v.set("offset",m/this.duration),o.push(v)});const u=e.size?vy(e.values()):[],l=t.size?vy(t.values()):[];if(r){const f=o[0],m=new Map(f);f.set("offset",0),m.set("offset",1),o=[f,m]}return NC(this.element,o,u,l,this.duration,this.startTime,this.easing,!1)}}class Ay extends Zf{constructor(e,t,r,o,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,m=lu(e[0]);m.set("offset",0),u.push(m);const v=lu(e[0]);v.set("offset",$T(f)),u.push(v);const x=e.length-1;for(let I=1;I<=x;I++){let L=lu(e[I]);const B=L.get("offset");L.set("offset",$T((t+B*r)/l)),u.push(L)}r=l,t=0,o="",e=u}return NC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function $T(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class hh{}const My=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ky extends hh{normalizePropertyName(e,t){return Vg(e)}normalizeStyleValue(e,t,r,o){let u="";const l=r.toString().trim();if(My.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(function kg(n,e){return new i.vHH(3005,!1)}())}return l+u}}function Hg(n,e,t,r,o,u,l,f,m,v,x,I,L){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:I,errors:L}}const LC={};class UC{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function zT(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,r):new Map}build(e,t,r,o,u,l,f,m,v,x){const I=[],L=this.ast.options&&this.ast.options.params||LC,$=this.buildStyles(r,f&&f.params||LC,I),ee=m&&m.params||LC,ae=this.buildStyles(o,ee,I),Ve=new Set,qe=new Map,Be=new Map,We="void"===o,Vt={params:KT(ee,L),delay:this.ast.options?.delay},Zt=x?[]:xy(e,t,this.ast.animation,u,l,$,ae,Vt,v,I);let Cn=0;if(Zt.forEach(wo=>{Cn=Math.max(wo.duration+wo.delay,Cn)}),I.length)return Hg(t,this._triggerName,r,o,We,$,ae,[],[],qe,Be,Cn,I);Zt.forEach(wo=>{const _d=wo.element,vL=Di(qe,_d,new Set);wo.preStyleProps.forEach(rg=>vL.add(rg));const RD=Di(Be,_d,new Set);wo.postStyleProps.forEach(rg=>RD.add(rg)),_d!==t&&Ve.add(_d)});const Sr=vy(Ve.values());return Hg(t,this._triggerName,r,o,We,$,ae,Zt,Sr,qe,Be,Cn)}}function KT(n,e){const t=Ff(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class VC{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,o=Ff(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(o[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=Lf(l,o,t));const m=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,m,l,t),r.set(m,l)})}),r}}class WT{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new VC(o.style,o.options&&o.options.params||{},r))}),Ny(this.states,"true","1"),Ny(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new UC(e,o,this.states))}),this.fallbackTransition=function w2(n,e,t){return new UC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(l=>l.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Ny(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ZC=new fu;class JT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=wy(this._driver,t,r,[]);if(r.length)throw function dC(n){return new i.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const o=e.element,u=Og(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=xy(this._driver,t,u,fy,Rg,new Map,new Map,r,ZC,o),l.forEach(x=>{const I=Di(f,x.element,new Map);x.postStyleProps.forEach(L=>I.set(L,null))})):(o.push(function f2(){return new i.vHH(3300,!1)}()),l=[]),o.length)throw function ST(n){return new i.vHH(3504,!1)}();f.forEach((x,I)=>{x.forEach((L,B)=>{x.set(B,this._driver.computeStyle(I,B,pa))})});const v=uu(l.map(x=>{const I=f.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Nf(n){return new i.vHH(3301,!1)}();return t}listen(e,t,r,o){const u=Rf(t,"","","");return Of(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Gg="ng-animate-queued",BC="ng-animate-disabled",A2=[],YT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ss="__ng_removed";class jC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Py(n){return n??null}(r?e.value:e),r){const u=Ff(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const is="void",Bf=new jC(is);class QT{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oo(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.has(t))throw function MT(n,e){return new i.vHH(3302,!1)}();if(null==r||0==r.length)throw function lh(n){return new i.vHH(3303,!1)}();if(!function fc(n){return"start"==n||"done"==n}(r))throw function Pf(n,e){return new i.vHH(3400,!1)}();const u=Di(this._elementListeners,e,[]),l={name:t,phase:r,callback:o};u.push(l);const f=Di(this._engine.statesByElement,e,new Map);return f.has(t)||(Oo(e,_o),Oo(e,_o+"-"+t),f.set(t,Bf)),()=>{this._engine.afterFlush(()=>{const m=u.indexOf(l);m>=0&&u.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function kT(n){return new i.vHH(3401,!1)}();return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),l=new jf(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oo(e,_o),Oo(e,_o+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new jC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=Bf),v.value!==is&&m.value===v.value){if(!function Ry(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(m.params,v.params)){const ee=[],ae=u.matchStyles(m.value,m.params,ee),Ve=u.matchStyles(v.value,v.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{Ul(e,ae),ma(e,Ve)})}return}const L=Di(this._engine.playersByElement,e,[]);L.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=u.matchTransition(m.value,v.value,e,v.params),$=!1;if(!B){if(!o)return;B=u.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:m,toState:v,player:l,isFallbackTransition:$}),$||(Oo(e,Gg),l.onStart(()=>{fh(e,Gg)})),l.onDone(()=>{let ee=this.players.indexOf(l);ee>=0&&this.players.splice(ee,1);const ae=this._engine.playersByElement.get(e);if(ae){let Ve=ae.indexOf(l);Ve>=0&&ae.splice(Ve,1)}}),this.players.push(l),L.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Fg,!0);r.forEach(o=>{if(o[Ss])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(l=>l.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const x=this.trigger(e,v,is,o);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&uu(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const l=u.name;if(o.has(l))return;o.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||Bf,x=new jC(is),I=new jf(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ss];(!u||u===YT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Oo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=Rf(u,r.triggerName,r.fromState.value,r.toState.value);m._data=e,Of(r.player,f.phase,m,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class HC{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new QT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const m=o.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let o of r.values())if(o.namespaceId){const u=this._fetchNamespace(o.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,o){if(qg(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!qg(t))return;const u=t[Ss];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oo(e,BC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fh(e,BC))}removeNode(e,t,r,o){if(qg(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,u){this.collectedLeaveElements.push(t),t[Ss]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,o,u){return qg(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Fg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gy,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ss];if(t&&t.setForRemoval){if(e[Ss]=YT,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(BC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Oo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?uu(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function p2(n){return new i.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new fu,o=[],u=new Map,l=[],f=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(wt=>{x.add(wt);const Bt=this.driver.query(wt,".ng-animate-queued",!0);for(let Gt=0;Gt<Bt.length;Gt++)x.add(Bt[Gt])});const I=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=$C(L,this.collectedEnterElements),$=new Map;let ee=0;B.forEach((wt,Bt)=>{const Gt=fy+ee++;$.set(Bt,Gt),wt.forEach(In=>Oo(In,Gt))});const ae=[],Ve=new Set,qe=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Bt=this.collectedLeaveElements[wt],Gt=Bt[Ss];Gt&&Gt.setForRemoval&&(ae.push(Bt),Ve.add(Bt),Gt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(In=>Ve.add(In)):qe.add(Bt))}const Be=new Map,We=$C(L,Array.from(Ve));We.forEach((wt,Bt)=>{const Gt=Rg+ee++;Be.set(Bt,Gt),wt.forEach(In=>Oo(In,Gt))}),e.push(()=>{B.forEach((wt,Bt)=>{const Gt=$.get(Bt);wt.forEach(In=>fh(In,Gt))}),We.forEach((wt,Bt)=>{const Gt=Be.get(Bt);wt.forEach(In=>fh(In,Gt))}),ae.forEach(wt=>{this.processLeaveNode(wt)})});const Vt=[],Zt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Gt=>{const In=Gt.player,Bi=Gt.element;if(Vt.push(In),this.collectedEnterElements.length){const bo=Bi[Ss];if(bo&&bo.setForMove){if(bo.previousTriggersValues&&bo.previousTriggersValues.has(Gt.triggerName)){const ig=bo.previousTriggersValues.get(Gt.triggerName),xa=this.statesByElement.get(Gt.element);if(xa&&xa.has(Gt.triggerName)){const J1=xa.get(Gt.triggerName);J1.value=ig,xa.set(Gt.triggerName,J1)}}return void In.destroy()}}const Vc=!I||!this.driver.containsElement(I,Bi),js=Be.get(Bi),ef=$.get(Bi),Mr=this._buildInstruction(Gt,r,ef,js,Vc);if(Mr.errors&&Mr.errors.length)return void Zt.push(Mr);if(Vc)return In.onStart(()=>Ul(Bi,Mr.fromStyles)),In.onDestroy(()=>ma(Bi,Mr.toStyles)),void o.push(In);if(Gt.isFallbackTransition)return In.onStart(()=>Ul(Bi,Mr.fromStyles)),In.onDestroy(()=>ma(Bi,Mr.toStyles)),void o.push(In);const EL=[];Mr.timelines.forEach(bo=>{bo.stretchStartingKeyframe=!0,this.disabledNodes.has(bo.element)||EL.push(bo)}),Mr.timelines=EL,r.append(Bi,Mr.timelines),l.push({instruction:Mr,player:In,element:Bi}),Mr.queriedElements.forEach(bo=>Di(f,bo,[]).push(In)),Mr.preStyleProps.forEach((bo,ig)=>{if(bo.size){let xa=m.get(ig);xa||m.set(ig,xa=new Set),bo.forEach((J1,i2)=>xa.add(i2))}}),Mr.postStyleProps.forEach((bo,ig)=>{let xa=v.get(ig);xa||v.set(ig,xa=new Set),bo.forEach((J1,i2)=>xa.add(i2))})});if(Zt.length){const wt=[];Zt.forEach(Bt=>{wt.push(function PT(n,e){return new i.vHH(3505,!1)}())}),Vt.forEach(Bt=>Bt.destroy()),this.reportError(wt)}const Cn=new Map,Sr=new Map;l.forEach(wt=>{const Bt=wt.element;r.has(Bt)&&(Sr.set(Bt,Bt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,Cn))}),o.forEach(wt=>{const Bt=wt.element;this._getPreviousPlayers(Bt,!1,wt.namespaceId,wt.triggerName,null).forEach(In=>{Di(Cn,Bt,[]).push(In),In.destroy()})});const wo=ae.filter(wt=>Bl(wt,m,v)),_d=new Map;qC(_d,this.driver,qe,v,pa).forEach(wt=>{Bl(wt,m,v)&&wo.push(wt)});const RD=new Map;B.forEach((wt,Bt)=>{qC(RD,this.driver,new Set(wt),m,"!")}),wo.forEach(wt=>{const Bt=_d.get(wt),Gt=RD.get(wt);_d.set(wt,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const rg=[],DL=[],CL={};l.forEach(wt=>{const{element:Bt,player:Gt,instruction:In}=wt;if(r.has(Bt)){if(x.has(Bt))return Gt.onDestroy(()=>ma(Bt,In.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(In.totalTime),void o.push(Gt);let Bi=CL;if(Sr.size>1){let js=Bt;const ef=[];for(;js=js.parentNode;){const Mr=Sr.get(js);if(Mr){Bi=Mr;break}ef.push(js)}ef.forEach(Mr=>Sr.set(Mr,Bi))}const Vc=this._buildAnimation(Gt.namespaceId,In,Cn,u,RD,_d);if(Gt.setRealPlayer(Vc),Bi===CL)rg.push(Gt);else{const js=this.playersByElement.get(Bi);js&&js.length&&(Gt.parentPlayer=uu(js)),o.push(Gt)}}else Ul(Bt,In.fromStyles),Gt.onDestroy(()=>ma(Bt,In.toStyles)),DL.push(Gt),x.has(Bt)&&o.push(Gt)}),DL.forEach(wt=>{const Bt=u.get(wt.element);if(Bt&&Bt.length){const Gt=uu(Bt);wt.setRealPlayer(Gt)}}),o.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<ae.length;wt++){const Bt=ae[wt],Gt=Bt[Ss];if(fh(Bt,Rg),Gt&&Gt.hasAnimation)continue;let In=[];if(f.size){let Vc=f.get(Bt);Vc&&Vc.length&&In.push(...Vc);let js=this.driver.query(Bt,gy,!0);for(let ef=0;ef<js.length;ef++){let Mr=f.get(js[ef]);Mr&&Mr.length&&In.push(...Mr)}}const Bi=In.filter(Vc=>!Vc.destroyed);Bi.length?XT(this,Bt,Bi):this.processLeaveNode(Bt)}return ae.length=0,rg.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Bt=this.players.indexOf(wt);this.players.splice(Bt,1)}),wt.play()}),rg}elementContainsData(e,t){let r=!1;const o=t[Ss];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const m=!u||u==is;f.forEach(v=>{v.queued||!m&&v.triggerName!=o||l.push(v)})}}return(r||o)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||o&&o!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,x=v!==u,I=Di(r,v,[]);this._getPreviousPlayers(v,x,l,f,t.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),I.push(B)})}Ul(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,l){const f=t.triggerName,m=t.element,v=[],x=new Set,I=new Set,L=t.timelines.map($=>{const ee=$.element;x.add(ee);const ae=ee[Ss];if(ae&&ae.removedBeforeQueried)return new uh($.duration,$.delay);const Ve=ee!==m,qe=function $g(n){const e=[];return Zl(n,e),e}((r.get(ee)||A2).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===ee),Be=u.get(ee),We=l.get(ee),Vt=Og(0,this._normalizer,0,$.keyframes,Be,We),Zt=this._buildPlayer($,Vt,qe);if($.subTimeline&&o&&I.add(ee),Ve){const Cn=new jf(e,f,ee);Cn.setRealPlayer(Zt),v.push(Cn)}return Zt});v.forEach($=>{Di(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function GC(n,e,t){let r=n.get(e);if(r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),x.forEach($=>Oo($,py));const B=uu(L);return B.onDestroy(()=>{x.forEach($=>fh($,py)),ma(m,t.toStyles)}),I.forEach($=>{Di(o,$,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new uh(e.duration,e.delay)}}class jf{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new uh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(o=>Of(e,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Di(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qg(n){return n&&1===n.nodeType}function Oy(n,e){const t=n.style.display;return n.style.display=e??"none",t}function qC(n,e,t,r,o){const u=[];t.forEach(m=>u.push(Oy(m)));const l=[];r.forEach((m,v)=>{const x=new Map;m.forEach(I=>{const L=e.computeStyle(v,I,o);x.set(I,L),(!L||0==L.length)&&(v[Ss]=S2,l.push(v))}),n.set(v,x)});let f=0;return t.forEach(m=>Oy(m,u[f++])),l}function $C(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const o=new Set(e),u=new Map;function l(f){if(!f)return 1;let m=u.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:o.has(v)?1:l(v),u.set(f,m),m}return e.forEach(f=>{const m=l(f);1!==m&&t.get(m).push(f)}),t}function Oo(n,e){n.classList?.add(e)}function fh(n,e){n.classList?.remove(e)}function XT(n,e,t){uu(t).onDone(()=>n.processLeaveNode(e))}function Zl(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Sg?Zl(r.players,e):e.push(r)}}function Bl(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class ph{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new HC(e,t,r),this._timelineEngine=new JT(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const l=e+"-"+o;let f=this._triggerCache[l];if(!f){const m=[],x=wy(this._driver,u,m,[]);if(m.length)throw function lC(n,e){return new i.vHH(3404,!1)}();f=function E2(n,e,t){return new WT(n,e,t)}(o,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,o,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,l]=hC(r);this._timelineEngine.command(u,t,l,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[l,f]=hC(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zC=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ma(this._element,this._initialStyles),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ul(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ul(this._element,this._endStyles),this._endStyles=null),ma(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kg(n){let e=null;return n.forEach((t,r)=>{(function Fy(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Wg{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&e.set(o,this._finished?r:wC(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KC{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return UT(e,t)}getParentElement(e){return ly(e)}query(e,t,r){return dy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,u,l=[]){const m={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(m.easing=u);const v=new Map,x=l.filter(B=>B instanceof Wg);(function BT(n,e){return 0===n||0===e})(r,o)&&x.forEach(B=>{B.currentSnapshot.forEach(($,ee)=>v.set(ee,$))});let I=function VT(n){return n.length?n[0]instanceof Map?n:n.map(e=>DC(e)):[]}(t).map(B=>lu(B));I=function Dy(n,e,t){if(t.size&&e.length){let r=e[0],o=[];if(t.forEach((u,l)=>{r.has(l)||o.push(l),r.set(l,u)}),o.length)for(let u=1;u<e.length;u++){let l=e[u];o.forEach(f=>l.set(f,wC(n,f)))}}return e}(e,I,v);const L=function zg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Kg(e[0]),e.length>1&&(r=Kg(e[e.length-1]))):e instanceof Map&&(t=Kg(e)),t||r?new zC(n,t,r):null}(e,I);return new Wg(e,I,m,L)}}let Ly=(()=>{class n extends tC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?rC(t):t;return WC(this._renderer,null,r,"register",[o]),new ex(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class ex extends class ny{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new M2(this._id,e,t||{},this._renderer)}}class M2{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WC(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const JC="@.disabled";let YC=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(u);return x||(x=new Uy("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,x)),x}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(l,f,t,x.name,x)};return r.data.animation.forEach(m),new tx(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(ph),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Uy{constructor(e,t,r,o){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==JC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tx extends Uy{constructor(e,t,r,o,u){super(t,r,o,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==JC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function Ro(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function QC(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let nx=(()=>{class n extends ph{constructor(t,r,o,u){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe),i.LFG(gC),i.LFG(hh),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Jg=[{provide:tC,useClass:Ly},{provide:hh,useFactory:function k2(){return new ky}},{provide:ph,useClass:nx},{provide:i.FYo,useFactory:function rx(n,e,t){return new YC(n,e,t)},deps:[Ys,ph,i.R0b]}],Yg=[{provide:gC,useFactory:()=>new KC},{provide:i.QbO,useValue:"BrowserAnimations"},...Jg],XC=[{provide:gC,useClass:hy},{provide:i.QbO,useValue:"NoopAnimations"},...Jg];let ix=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?XC:Yg}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:Yg,imports:[Qa]}),n})();function Ct(...n){const e=(0,So.yG)(n);return(0,_n.D)(n,e)}var Pi=V(7579);class Ms extends Pi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Gf=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qf=V(4671),_a=V(9672);function Qg(...n){const e=(0,So.yG)(n),t=(0,So.jO)(n),{args:r,keys:o}=_l(n);if(0===r.length)return(0,_n.D)([],e);const u=new Ar.y(function sx(n,e,t=qf.y){return r=>{tE(e,()=>{const{length:o}=n,u=new Array(o);let l=o,f=o;for(let m=0;m<o;m++)tE(e,()=>{const v=(0,_n.D)(n[m],e);let x=!1;v.subscribe((0,Gn.x)(r,I=>{u[m]=I,x||(x=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>yl(o,l):qf.y));return t?u.pipe(ru(t)):u}function tE(n,e,t){n?(0,_a.f)(t,n,e):e()}var Xg=V(8189);function Vy(...n){return function nE(){return(0,Xg.J)(1)}()((0,_n.D)(n,(0,So.yG)(n)))}function rE(n){return new Ar.y(e=>{(0,Ao.Xf)(n()).subscribe(e)})}var ax=V(9635),$f=V(576);function zf(n,e){const t=(0,$f.m)(n)?n:()=>n,r=o=>o.error(t());return new Ar.y(e?o=>e.schedule(r,0,o):r)}var jl=V(515),Kf=V(727),oi=V(4482);function gh(){return(0,oi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ux extends Ar.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,oi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kf.w0.EMPTY)}return e}refCount(){return gh()(this)}}function Cr(n,e){return(0,oi.e)((t,r)=>{let o=null,u=0,l=!1;const f=()=>l&&!o&&r.complete();t.subscribe((0,Gn.x)(r,m=>{o?.unsubscribe();let v=0;const x=u++;(0,Ao.Xf)(n(m,x)).subscribe(o=(0,Gn.x)(r,I=>r.next(e?e(m,I,x,v++):I),()=>{o=null,f()}))},()=>{l=!0,f()}))})}function em(n){return n<=0?()=>jl.E:(0,oi.e)((e,t)=>{let r=0;e.subscribe((0,Gn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Wf(...n){const e=(0,So.yG)(n);return(0,oi.e)((t,r)=>{(e?Vy(n,t,e):Vy(n,t)).subscribe(r)})}function os(n,e){return(0,oi.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Oi=V(5577);function Jf(n){return(0,oi.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function tm(n=pu){return(0,oi.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function pu(){return new Gf}function ss(n,e){const t=arguments.length>=2;return r=>r.pipe(n?os((o,u)=>n(o,u,r)):qf.y,em(1),t?Jf(e):tm(()=>new Gf))}function ya(n,e){return(0,$f.m)(e)?(0,Oi.z)(n,e,1):(0,Oi.z)(n,1)}var Lr=V(8505);function pc(n){return(0,oi.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,l=>{u=(0,Ao.Xf)(n(l,pc(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Zy(n,e,t,r,o){return(u,l)=>{let f=t,m=e,v=0;u.subscribe((0,Gn.x)(l,x=>{const I=v++;m=f?n(m,x,I):(f=!0,x),r&&l.next(m)},o&&(()=>{f&&l.next(m),l.complete()})))}}function mh(n,e){return(0,oi.e)(Zy(n,e,arguments.length>=2,!0))}function By(n){return n<=0?()=>jl.E:(0,oi.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function iE(n,e){const t=arguments.length>=2;return r=>r.pipe(n?os((o,u)=>n(o,u,r)):qf.y,By(1),t?Jf(e):tm(()=>new Gf))}function Hl(n){return(0,oi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const cn="primary",nm=Symbol("RouteTitle");class lx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _h(n){return new lx(n)}function dx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))o[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function as(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!sE(n[o],e[o]))return!1;return!0}function sE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function rm(n){return Array.prototype.concat.apply([],n)}function aE(n){return n.length>0?n[n.length-1]:null}function Ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gc(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,_n.D)(Promise.resolve(n)):Ct(n)}const im={exact:function uE(n,e,t){if(!si(n.segments,e.segments)||!Fo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!uE(n.children[r],e.children[r],t))return!1;return!0},subset:om},mc={exact:function Qf(n,e){return as(n,e)},subset:function px(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sE(n[t],e[t]))},ignored:()=>!0};function fx(n,e,t){return im[t.paths](n.root,e.root,t.matrixParams)&&mc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function om(n,e,t){return cE(n,e,e.segments,t)}function cE(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!si(o,t)||e.hasChildren()||!Fo(o,t,r))}if(n.segments.length===t.length){if(!si(n.segments,t)||!Fo(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!om(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(si(n.segments,o)&&Fo(n.segments,o,r)&&n.children[cn])&&cE(n.children[cn],e,u,r)}}function Fo(n,e,t){return e.every((r,o)=>mc[t](n[o].parameters,r.parameters))}class ks{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return yh.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ci(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gu(this)}}class Ns{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_h(this.parameters)),this._parameterMap}toString(){return qy(this)}}function si(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new _c},providedIn:"root"}),n})();class _c{parse(e){const t=new gE(e);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${va(e.root,!0)}`,r=function dE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${mu(t)}=${mu(o)}`).join("&"):`${mu(t)}=${mu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function vh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yh=new _c;function gu(n){return n.segments.map(e=>qy(e)).join("/")}function va(n,e){if(!n.hasChildren())return gu(n);if(e){const t=n.children[cn]?va(n.children[cn],!1):"",r=[];return Ci(n.children,(o,u)=>{u!==cn&&r.push(`${u}:${va(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hy(n,e){let t=[];return Ci(n.children,(r,o)=>{o===cn&&(t=t.concat(e(r,o)))}),Ci(n.children,(r,o)=>{o!==cn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===cn?[va(n.children[cn],!1)]:[`${o}:${va(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${gu(n)}/${t[0]}`:`${gu(n)}/(${t.join("//")})`}}function ql(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mu(n){return ql(n).replace(/%3B/gi,";")}function yc(n){return ql(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(n){return decodeURIComponent(n)}function Gy(n){return Xf(n.replace(/\+/g,"%20"))}function qy(n){return`${yc(n.path)}${function lE(n){return Object.keys(n).map(e=>`;${yc(e)}=${yc(n[e])}`).join("")}(n.parameters)}`}const hE=/^[^\/()?;=#]+/;function ep(n){const e=n.match(hE);return e?e[0]:""}const fE=/^[^=?&#]+/,gx=/^[^&#]+/;class gE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[cn]=new Rt(e,t)),r}parseSegment(){const e=ep(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(e),new Ns(Xf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ep(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ep(this.remaining);o&&(r=o,this.capture(r))}e[Xf(t)]=Xf(r)}parseQueryParam(e){const t=function pE(n){const e=n.match(fE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function mx(n){const e=n.match(gx);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Gy(t),u=Gy(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ep(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=cn);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[cn]:new Rt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new i.vHH(4011,!1)}}function $y(n){return n.segments.length>0?new Rt([],{[cn]:n}):n}function tp(n){const e={};for(const r of Object.keys(n.children)){const u=tp(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function zy(n){if(1===n.numberOfChildren&&n.children[cn]){const e=n.children[cn];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}function _u(n){return n instanceof ks}function _x(n,e,t,r,o){if(0===t.length)return $l(e.root,e.root,e.root,r,o);const u=function Qy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new um(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Ci(u.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...o,{outlets:f}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&o.push(f))}),o):[...o,u]},[]);return new um(t,e,r)}(t);return u.toRoot()?$l(e.root,e.root,new Rt([],{}),r,o):function l(m){const v=function mE(n,e,t,r){if(n.isAbsolute)return new zl(e.root,!0,0);if(-1===r)return new zl(t,t===e.root,0);return function _E(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new i.vHH(4005,!1);o=r.segments.length}return new zl(r,!1,o-u)}(t,r+(vc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,m),x=v.processChildren?Dh(v.segmentGroup,v.index,u.commands):cm(v.segmentGroup,v.index,u.commands);return $l(e.root,v.segmentGroup,x,r,o)}(n.snapshot?._lastPathIndex)}function vc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dc(n){return"object"==typeof n&&null!=n&&n.outlets}function $l(n,e,t,r,o){let l,u={};r&&Ci(r,(m,v)=>{u[v]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=n===e?t:Yy(n,e,t);const f=$y(tp(l));return new ks(f,u,o)}function Yy(n,e,t){const r={};return Ci(n.children,(o,u)=>{r[u]=o===e?t:Yy(o,e,t)}),new Rt(n.segments,r)}class um{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vc(r[0]))throw new i.vHH(4003,!1);const o=r.find(Dc);if(o&&o!==aE(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cm(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return Dh(n,e,t);const r=function vE(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],f=t[r];if(Dc(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(o>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!tv(m,v,l))return u;r+=2}else{if(!tv(m,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Rt(n.segments.slice(0,r.pathIndex),{});return u.children[cn]=new Rt(n.segments.slice(r.pathIndex),n.children),Dh(u,0,o)}return r.match&&0===o.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?ev(n,e,t):r.match?Dh(n,0,o):ev(n,e,t)}function Dh(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const r=function yE(n){return Dc(n[0])?n[0].outlets:{[cn]:n}}(t),o={};return Ci(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=cm(n.children[l],e,u))}),Ci(n.children,(u,l)=>{void 0===r[l]&&(o[l]=u)}),new Rt(n.segments,o)}}function ev(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Dc(u)){const m=yx(u.outlets);return new Rt(r,m)}if(0===o&&vc(t[0])){r.push(new Ns(n.segments[e].path,DE(t[0]))),o++;continue}const l=Dc(u)?u.outlets[cn]:`${u}`,f=o<t.length-1?t[o+1]:null;l&&f&&vc(f)?(r.push(new Ns(l,DE(f))),o+=2):(r.push(new Ns(l,{})),o++)}return new Rt(r,{})}function yx(n){const e={};return Ci(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ev(new Rt([],{}),0,t))}),e}function DE(n){const e={};return Ci(n,(t,r)=>e[r]=`${t}`),e}function tv(n,e,t){return n==t.path&&as(e,t.parameters)}class Ps{constructor(e,t){this.id=e,this.url=t}}class lm extends Ps{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cc extends Ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class np extends Ps{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nv extends Ps{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CE extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EE extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wE extends Ps{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bE extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R2 extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return dm(e,this._root).map(t=>t.value)}}function iv(n,e){if(n===e.value)return e;for(const t of e.children){const r=iv(n,t);if(r)return r}return null}function dm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=dm(n,t);if(r.length)return r.unshift(e),r}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Os(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class AE extends rv{constructor(e,t){super(e),this.snapshot=t,us(this,e)}toString(){return this.snapshot.toString()}}function SE(n,e){const t=function ME(n,e){const l=new Ch([],{},{},"",{},cn,e,null,n.root,-1,{});return new hm("",new Da(l,[]))}(n,e),r=new Ms([new Ns("",{})]),o=new Ms({}),u=new Ms({}),l=new Ms({}),f=new Ms(""),m=new yu(r,o,l,f,u,cn,e,t.root);return m.snapshot=t.root,new AE(new Da(m,[]),t)}class yu{constructor(e,t,r,o,u,l,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,ht.U)(v=>v[nm]))??Ct(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>_h(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>_h(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ov(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function F2(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ch{constructor(e,t,r,o,u,l,f,m,v,x,I,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=f,this.title=this.data?.[nm],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._correctedLastPathIndex=L??x,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hm extends rv{constructor(e,t){super(t),this.url=e,us(this,t)}toString(){return kE(this._root)}}function us(n,e){e.value._routerState=n,e.children.forEach(t=>us(n,t))}function kE(n){const e=n.children.length>0?` { ${n.children.map(kE).join(", ")} } `:"";return`${n.value}${e}`}function fm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,as(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),as(e.params,t.params)||n.params.next(t.params),function oE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!as(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),as(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cs(n,e){const t=as(n.params,e.params)&&function sm(n,e){return si(n,e)&&n.every((t,r)=>as(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cs(n.parent,e.parent))}function Ji(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function NE(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ji(n,r,o);return Ji(n,r)})}(n,e,t);return new Da(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Ji(n,f)),l}}const r=function PE(n){return new yu(new Ms(n.url),new Ms(n.params),new Ms(n.queryParams),new Ms(n.fragment),new Ms(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ji(n,u));return new Da(r,o)}}const sv="ngNavigationCancelingError";function OE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=_u(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=RE(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function RE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[sv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function FE(n){return pm(n)&&_u(n.url)}function pm(n){return n&&n[sv]}class rp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ip,this.attachRef=null}}let ip=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rp,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const op=!1;let av=(()=>{class n{constructor(t,r,o,u,l){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=o||cn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,op);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,op);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,op);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new i.vHH(4013,op);this._activatedRoute=t;const o=this.location,l=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new LE(t,f,o.injector);if(r&&function UE(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=o.createComponent(v,o.length,m)}else this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ip),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class LE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yu?this.route:e===ip?this.childContexts:this.parent.get(e,t)}}let Eh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},dependencies:[av],encapsulation:2}),n})();function VE(n,e){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gm(n){const e=n.children&&n.children.map(gm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==cn&&(t.component=Eh),t}function Lo(n){return n.outlet||cn}function cv(n,e){const t=n.filter(r=>Lo(r)===e);return t.push(...n.filter(r=>Lo(r)!==e)),t}function wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class xx{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Os(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Ci(o,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Os(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Os(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Os(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new xE(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Cx(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(fm(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),fm(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=wh(o.snapshot),m=f?.get(i._Vd)??null;l.attachRef=null,l.route=o,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class GE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mm{constructor(e,t){this.component=e,this.route=t}}function Ix(n,e,t){const r=n._root;return ap(r,e?e._root:null,t,[r.value])}function bh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,i.Z0I)(n)?e.get(n):n:r}function ap(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Os(e);return n.children.forEach(l=>{(function Sx(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const m=function Mx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!si(n.url,e.url)||!as(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cs(n,e)||!as(n.queryParams,e.queryParams);default:return!cs(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new GE(r)):(u.data=l.data,u._resolvedData=l._resolvedData),ap(n,e,u.component?f?f.children:null:t,r,o),m&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new mm(f.outlet.component,l))}else l&&up(e,f,o),o.canActivateChecks.push(new GE(r)),ap(n,null,u.component?f?f.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Ci(u,(l,f)=>up(l,t.getContext(f),o)),o}function up(n,e,t){const r=Os(n),o=n.value;Ci(r,(u,l)=>{up(u,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new mm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function cp(n){return"function"==typeof n}function _m(n){return n instanceof Gf||"EmptyError"===n?.name}const lp=Symbol("INITIAL_VALUE");function Kl(){return Cr(n=>Qg(n.map(e=>e.pipe(em(1),Wf(lp)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===lp)return lp;if(!1===t||t instanceof ks)return t}return!0}),os(e=>e!==lp),em(1)))}function Jl(n){return(0,ax.z)((0,Lr.b)(e=>{if(_u(e))throw OE(0,e)}),(0,ht.U)(e=>!0===e))}const dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zx(n,e,t,r,o){const u=ym(n,e,t);return u.matched?function L2(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Ct(o.map(l=>{const f=bh(l,n);return gc(function Fx(n){return n&&cp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Kl(),Jl()):Ct(!0)}(r=VE(e,r),e,t).pipe((0,ht.U)(l=>!0===l?u:{...dp})):Ct(u)}function ym(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||dx)(t,n,e);if(!o)return{...dp};const u={};Ci(o.posParams,(f,m)=>{u[m]=f.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function hp(n,e,t,r,o="corrected"){if(t.length>0&&function Bx(n,e,t){return t.some(r=>vm(n,e,r)&&Lo(r)!==cn)}(n,t,r)){const l=new Rt(e,function Ut(n,e,t,r){const o={};o[cn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Lo(u)!==cn){const l=new Rt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,o[Lo(u)]=l}return o}(n,e,r,new Rt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function jx(n,e,t){return t.some(r=>vm(n,e,r))}(n,t,r)){const l=new Rt(n.segments,function U2(n,e,t,r,o,u){const l={};for(const f of r)if(vm(n,t,f)&&!o[Lo(f)]){const m=new Rt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[Lo(f)]=m}return{...o,...l}}(n,e,t,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new Rt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function vm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Yl(n,e,t,r){return!!(Lo(n)===r||r!==cn&&vm(e,t,n))&&("**"===n.path||ym(e,n,t).matched)}function YE(n,e,t){return 0===e.length&&!n.children[t]}const Ql=!1;class Xl{constructor(e){this.segmentGroup=e||null}}class cr{constructor(e){this.urlTree=e}}function Dm(n){return zf(new Xl(n))}function dv(n){return zf(new cr(n))}class ew{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=hp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,cn).pipe((0,ht.U)(u=>this.createUrlTree(tp(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pc(u=>{if(u instanceof cr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xl?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,cn).pipe((0,ht.U)(o=>this.createUrlTree(tp(o),e.queryParams,e.fragment))).pipe(pc(o=>{throw o instanceof Xl?this.noMatchError(o):o}))}noMatchError(e){return new i.vHH(4002,Ql)}createUrlTree(e,t,r){const o=$y(e);return new ks(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ht.U)(u=>new Rt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,_n.D)(o).pipe(ya(u=>{const l=r.children[u],f=cv(t,u);return this.expandSegmentGroup(e,f,l,u).pipe((0,ht.U)(m=>({segment:m,outlet:u})))}),mh((u,l)=>(u[l.outlet]=l.segment,u),{}),iE())}expandSegment(e,t,r,o,u,l){return(0,_n.D)(r).pipe(ya(f=>this.expandSegmentAgainstRoute(e,t,r,f,o,u,l).pipe(pc(v=>{if(v instanceof Xl)return Ct(null);throw v}))),ss(f=>!!f),pc((f,m)=>{if(_m(f))return YE(t,o,u)?Ct(new Rt([],{})):Dm(t);throw f}))}expandSegmentAgainstRoute(e,t,r,o,u,l,f){return Yl(o,t,u,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l):Dm(t):Dm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dv(u):this.lineralizeSegments(r,u).pipe((0,Oi.z)(l=>{const f=new Rt(l,{});return this.expandSegment(e,f,t,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=ym(t,o,u);if(!f)return Dm(t);const I=this.applyRedirectCommands(m,o.redirectTo,x);return o.redirectTo.startsWith("/")?dv(I):this.lineralizeSegments(o,I).pipe((0,Oi.z)(L=>this.expandSegment(e,t,r,L.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=VE(r,e),r.loadChildren?(r._loadedRoutes?Ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ht.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Rt(o,{})))):Ct(new Rt(o,{}))):Zx(t,r,o,e).pipe(Cr(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Oi.z)(x=>{const I=x.injector??e,L=x.routes,{segmentGroup:B,slicedSegments:$}=hp(t,f,m,L),ee=new Rt(B.segments,B.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(I,L,ee).pipe((0,ht.U)(Be=>new Rt(f,Be)));if(0===L.length&&0===$.length)return Ct(new Rt(f,{}));const ae=Lo(r)===u;return this.expandSegment(I,ee,L,$,ae?cn:u,!0).pipe((0,ht.U)(qe=>new Rt(f.concat(qe.segments),qe.children)))})):Dm(t)))}getChildConfig(e,t,r){return t.children?Ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function Vx(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Ct(!0):Ct(o.map(l=>{const f=bh(l,n);return gc(function Nx(n){return n&&cp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Kl(),Jl())}(e,t,r).pipe((0,Oi.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Lr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Hx(n){return zf(RE(Ql,3))}())):Ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ct(r);if(o.numberOfChildren>1||!o.children[cn])return zf(new i.vHH(4e3,Ql));o=o.children[cn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ks(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ci(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[u]=t[f]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Ci(t.children,(f,m)=>{l[m]=this.createSegmentGroup(e,f,r,o)}),new Rt(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new i.vHH(4001,Ql);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class Gx{}class pp{constructor(e,t,r,o,u,l,f,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=m}recognize(){const e=hp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe((0,ht.U)(t=>{if(null===t)return null;const r=new Ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Da(r,t),u=new hm(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=ov(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,_n.D)(Object.keys(r.children)).pipe(ya(o=>{const u=r.children[o],l=cv(t,o);return this.processSegmentGroup(e,l,u,o)}),mh((o,u)=>o&&u?(o.push(...u),o):null),function Yf(n,e=!1){return(0,oi.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,u=>{const l=n(u,o++);(l||e)&&r.next(u),!l&&r.complete()}))})}(o=>null!==o),Jf(null),iE(),(0,ht.U)(o=>{if(null===o)return null;const u=gp(o);return function zx(n){n.sort((e,t)=>e.value.outlet===cn?-1:t.value.outlet===cn?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,_n.D)(t).pipe(ya(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,o,u)),ss(l=>!!l),pc(l=>{if(_m(l))return YE(r,o,u)?Ct([]):Ct(null);throw l}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!Yl(t,r,o,u))return Ct(null);let l;if("**"===t.path){const f=o.length>0?aE(o).parameters:{},m=fv(r)+o.length;l=Ct({snapshot:new Ch(o,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Th(t),Lo(t),t.component??t._loadedComponent??null,t,hv(r),m,xh(t),m),consumedSegments:[],remainingSegments:[]})}else l=Zx(r,t,o,e).pipe((0,ht.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:x})=>{if(!f)return null;const I=fv(r)+m.length;return{snapshot:new Ch(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Th(t),Lo(t),t.component??t._loadedComponent??null,t,hv(r),I,xh(t),I),consumedSegments:m,remainingSegments:v}}));return l.pipe(Cr(f=>{if(null===f)return Ct(null);const{snapshot:m,consumedSegments:v,remainingSegments:x}=f;e=t._injector??e;const I=t._loadedInjector??e,L=function Kx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:$}=hp(r,v,x,L.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===$.length&&B.hasChildren())return this.processChildren(I,L,B).pipe((0,ht.U)(ae=>null===ae?null:[new Da(m,ae)]));if(0===L.length&&0===$.length)return Ct([new Da(m,[])]);const ee=Lo(t)===u;return this.processSegment(I,L,B,$,ee?cn:u).pipe((0,ht.U)(ae=>null===ae?null:[new Da(m,ae)]))}))}}function Wx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gp(n){const e=[],t=new Set;for(const r of n){if(!Wx(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=gp(r.children);e.push(new Da(r.value,o))}return e.filter(r=>!t.has(r))}function hv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Th(n){return n.data||{}}function xh(n){return n.resolve||{}}function aw(n){return"string"==typeof n.title||null===n.title}function Cm(n){return Cr(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,ht.U)(()=>e)):Ct(e)})}let uw=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===cn);return r}getResolvedTitleForRoute(t){return t.data[nm]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(cw)},providedIn:"root"}),n})(),cw=(()=>{class n extends uw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(gf))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class V2{}class B2 extends class Z2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ed=new i.OlP("",{providedIn:"root",factory:()=>({})}),pv=new i.OlP("ROUTES");let Em=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=gc(t.loadComponent()).pipe((0,Lr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Hl(()=>{this.componentLoaders.delete(t)})),o=new ux(r,()=>new Pi.x).pipe(gh());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,x=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=rm(m.get(pv,[],i.XFs.Self|i.XFs.Optional)));return{routes:v.map(gm),injector:m}}),Hl(()=>{this.childrenLoaders.delete(r)})),l=new ux(u,()=>new Pi.x).pipe(gh());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return gc(t()).pipe((0,Oi.z)(r=>r instanceof i.YKP||Array.isArray(r)?Ct(r):(0,_n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mp{}class Xx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function eI(n){throw n}function tI(n,e,t){return e.parse("/")}const nI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fw(){const n=(0,i.f3M)(Gl),e=(0,i.f3M)(ip),t=(0,i.f3M)(Ae),r=(0,i.f3M)(i.zs3),o=(0,i.f3M)(i.Sil),u=(0,i.f3M)(pv,{optional:!0})??[],l=(0,i.f3M)(ed,{optional:!0})??{},f=(0,i.f3M)(cw),m=(0,i.f3M)(uw,{optional:!0}),v=(0,i.f3M)(mp,{optional:!0}),x=(0,i.f3M)(V2,{optional:!0}),I=new dn(null,n,e,t,r,o,rm(u));return v&&(I.urlHandlingStrategy=v),x&&(I.routeReuseStrategy=x),I.titleStrategy=m??f,function rI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,I),I}let dn=(()=>{class n{constructor(t,r,o,u,l,f,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pi.x,this.errorHandler=eI,this.malformedUriErrorHandler=tI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ct(void 0),this.urlHandlingStrategy=new Xx,this.routeReuseStrategy=new B2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(Em),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new Dx(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new vx(L)),this.ngModule=l.get(i.h0i),this.console=l.get(i.c2e);const I=l.get(i.R0b);this.isNgZoneEnabled=I instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function hx(){return new ks(new Rt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SE(this.currentUrlTree,this.rootComponentType),this.transitions=new Ms({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(os(o=>0!==o.id),(0,ht.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cr(o=>{let u=!1,l=!1;return Ct(o).pipe((0,Lr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cr(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return gv(f.source)&&(this.browserUrlTree=f.extractedUrl),Ct(f).pipe(Cr(I=>{const L=this.transitions.getValue();return r.next(new lm(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),L!==this.transitions.getValue()?jl.E:Promise.resolve(I)}),function tw(n,e,t,r){return Cr(o=>function XE(n,e,t,r,o){return new ew(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ht.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Lr.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},o.urlAfterRedirects=I.urlAfterRedirects}),function Jx(n,e,t,r,o,u){return(0,Oi.z)(l=>function $x(n,e,t,r,o,u,l="emptyOnly",f="legacy"){return new pp(n,e,t,r,o,l,f,u).recognize().pipe(Cr(m=>null===m?function qx(n){return new Ar.y(e=>e.error(n))}(new Gx):Ct(m)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,o,u).pipe((0,ht.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Lr.b)(I=>{if(o.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(B,I)}this.browserUrlTree=I.urlAfterRedirects}const L=new CE(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(L)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:$,restoredState:ee,extras:ae}=f,Ve=new lm(L,this.serializeUrl(B),$,ee);r.next(Ve);const qe=SE(B,this.rootComponentType).snapshot;return Ct(o={...f,targetSnapshot:qe,urlAfterRedirects:B,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),jl.E}),(0,Lr.b)(f=>{const m=new EE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,ht.U)(f=>o={...f,guards:Ix(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function $E(n,e){return(0,Oi.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Ct({...t,guardsResult:!0}):function zE(n,e,t,r){return(0,_n.D)(n).pipe((0,Oi.z)(o=>function Ux(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ct(u.map(f=>{const m=wh(e)??o,v=bh(f,m);return gc(function Rx(n){return n&&cp(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(ss())})).pipe(Kl()):Ct(!0)}(o.component,o.route,t,e,r)),ss(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Oi.z)(f=>f&&function kx(n){return"boolean"==typeof n}(f)?function KE(n,e,t,r){return(0,_n.D)(e).pipe(ya(o=>Vy(function JE(n,e){return null!==n&&e&&e(new TE(n)),Ct(!0)}(o.route.parent,r),function WE(n,e){return null!==n&&e&&e(new zr(n)),Ct(!0)}(o.route,r),function Wl(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function Ax(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>rE(()=>Ct(l.guards.map(m=>{const v=wh(l.node)??t,x=bh(m,v);return gc(function Ox(n){return n&&cp(n.canActivateChild)}(x)?x.canActivateChild(r,n):v.runInContext(()=>x(r,n))).pipe(ss())})).pipe(Kl())));return Ct(u).pipe(Kl())}(n,o.path,t),function lv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const o=r.map(u=>rE(()=>{const l=wh(e)??t,f=bh(u,l);return gc(function Px(n){return n&&cp(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(ss())}));return Ct(o).pipe(Kl())}(n,o.route,t))),ss(o=>!0!==o,!0))}(r,u,n,e):Ct(f)),(0,ht.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Lr.b)(f=>{if(o.guardsResult=f.guardsResult,_u(f.guardsResult))throw OE(0,f.guardsResult);const m=new wE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),os(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Cm(f=>{if(f.guards.canActivateChecks.length)return Ct(f).pipe((0,Lr.b)(m=>{const v=new bE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Cr(m=>{let v=!1;return Ct(m).pipe(function Yx(n,e){return(0,Oi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ct(t);let u=0;return(0,_n.D)(o).pipe(ya(l=>function Qx(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!aw(o)&&(u[nm]=o.title),function iw(n,e,t,r){const o=function ow(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ct({});const u={};return(0,_n.D)(o).pipe((0,Oi.z)(l=>function sw(n,e,t,r){const o=wh(e)??r,u=bh(n,o);return gc(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(ss(),(0,Lr.b)(f=>{u[l]=f}))),By(1),function cx(n){return(0,ht.U)(()=>n)}(u),pc(l=>_m(l)?jl.E:zf(l)))}(u,n,e,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=ov(n,t).resolve,o&&aw(o)&&(n.data[nm]=o.title),null)))}(l.route,r,n,e)),(0,Lr.b)(()=>u++),By(1),(0,Oi.z)(l=>u===o.length?Ct(t):jl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Lr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Lr.b)(m=>{const v=new R2(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Cm(f=>{const m=v=>{const x=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Lr.b)(I=>{v.component=I}),(0,ht.U)(()=>{})));for(const I of v.children)x.push(...m(I));return x};return Qg(m(f.targetSnapshot.root)).pipe(Jf(),em(1))}),Cm(()=>this.afterPreactivation()),(0,ht.U)(f=>{const m=function Rs(n,e,t){const r=Ji(n,e._root,t?t._root:void 0);return new AE(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return o={...f,targetRouterState:m}}),(0,Lr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(r=>(new xx(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Lr.b)({next(){u=!0},complete(){u=!0}}),Hl(()=>{u||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),pc(f=>{if(l=!0,pm(f)){FE(f)||(this.navigated=!0,this.restoreHistory(o,!0));const m=new np(o.id,this.serializeUrl(o.extractedUrl),f.message,f.cancellationCode);if(r.next(m),FE(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gv(o.source)};this.scheduleNavigation(v,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const m=new nv(o.id,this.serializeUrl(o.extractedUrl),f,o.targetSnapshot??void 0);r.next(m);try{o.resolve(this.errorHandler(f))}catch(v){o.reject(v)}}return jl.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const f={...u};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(gm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=o||this.routerState.root,x=m?this.currentUrlTree.fragment:l;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}return null!==I&&(I=this.removeEmptyProps(I)),_x(v,this.currentUrlTree,t,I,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=_u(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function iI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new i.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...nI}:!1===r?{...hw}:r,_u(t))return fx(this.currentUrlTree,t,o);const u=this.parseUrl(t);return fx(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Cc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((L,B)=>{f=L,m=B});const x=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),I=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:x,targetPageId:I,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new np(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return fw()},providedIn:"root"}),n})();function gv(n){return"imperative"!==n}let vu=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Pi.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,i.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,i.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,i.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(dn),i.Y36(yu),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),Fs=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Pi.x,this.subscription=t.events.subscribe(u=>{u instanceof Cc&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,i.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,i.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,i.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,l){return!!(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(dn),i.Y36(yu),i.Y36(Ce))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&i.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})();class gw{}let _w=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(os(t=>t instanceof Cc),ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,i.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,_n.D)(o).pipe((0,Xg.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ct(null);const u=o.pipe((0,Oi.z)(l=>null===l?Ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,_n.D)([u,l]).pipe((0,Xg.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(dn),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(gw),i.LFG(Em))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bm=new i.OlP("");let yw=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof IE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new IE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Ih(n,e){return{\u0275kind:n,\u0275providers:e}}function Im(n){return[{provide:pv,multi:!0,useValue:n}]}function vw(){const n=(0,i.f3M)(i.zs3);return e=>{const t=n.get(i.z2F);if(e!==t.components[0])return;const r=n.get(dn),o=n.get(Dw);1===n.get(mv)&&r.initialNavigation(),n.get(Cw,null,i.XFs.Optional)?.setUpPreloading(),n.get(bm,null,i.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const Dw=new i.OlP("",{factory:()=>new Pi.x}),mv=new i.OlP("",{providedIn:"root",factory:()=>1});const Cw=new i.OlP("");function Ew(n){return Ih(0,[{provide:Cw,useExisting:_w},{provide:gw,useExisting:n}])}const _v=new i.OlP("ROUTER_FORROOT_GUARD"),lI=[Ae,{provide:Gl,useClass:_c},{provide:dn,useFactory:fw},ip,{provide:yu,useFactory:function xm(n){return n.routerState.root},deps:[dn]},Em];function dI(){return new i.PXZ("Router",dn)}let ww=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lI,[],Im(t),{provide:_v,useFactory:Dv,deps:[[dn,new i.FiY,new i.tp0]]},{provide:ed,useValue:r||{}},r?.useHash?{provide:Ce,useClass:pt}:{provide:Ce,useClass:yt},{provide:bm,useFactory:()=>{const n=(0,i.f3M)(dn),e=(0,i.f3M)(Gs),t=(0,i.f3M)(ed);return t.scrollOffset&&e.setOffset(t.scrollOffset),new yw(n,e,t)}},r?.preloadingStrategy?Ew(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:dI},r?.initialNavigation?hI(r):[],[{provide:Tw,useFactory:vw},{provide:i.tb,multi:!0,useExisting:Tw}]]}}static forChild(t){return{ngModule:n,providers:[Im(t)]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_v,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Eh]}),n})();function Dv(n){return"guarded"}function hI(n){return["disabled"===n.initialNavigation?Ih(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const e=(0,i.f3M)(dn);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ih(2,[{provide:mv,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const l=e.get(dn),f=e.get(Dw);(function o(u){e.get(dn).events.pipe(os(f=>f instanceof Cc||f instanceof np||f instanceof nv),(0,ht.U)(f=>f instanceof Cc||f instanceof np&&(0===f.code||1===f.code)&&null),os(f=>null!==f),em(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),l.afterPreactivation=()=>(u(!0),r||f.closed?Ct(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const Tw=new i.OlP("");var xw=V(6451),Du=V(5363),Iw=V(6063);class fI extends Pi.x{constructor(e=1/0,t=1/0,r=Iw.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var z2=V(3099);function Ev(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,z2.B)({connector:()=>new fI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Sm(n,e){return(0,$f.m)(e)?Cr(()=>n,e):Cr(()=>n)}var wv=V(9468),ln=V(4976),Yi=V(2011),Ec=V(259);class wc{constructor(e){return e}}class bv{constructor(){return(0,Ec.C6)()}}const Mm=new i.OlP("angularfire2._apps"),gI={provide:wc,useFactory:function Aw(n){return n&&1===n.length?n[0]:new wc((0,Ec.Mq)())},deps:[[new i.FiY,Mm]]},mI={provide:bv,deps:[[new i.FiY,Mm]]};function _I(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wc(r)}}let yI=(()=>{class n{constructor(t){(0,Ec.KN)("angularfire",ln.q4.full,"core"),(0,Ec.KN)("angularfire",ln.q4.full,"app"),(0,Ec.KN)("angular",i.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.Lbi))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[gI,mI]}),n})();function Sw(n,...e){return{ngModule:yI,providers:[{provide:Mm,useFactory:_I(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,...e]}]}}const DI=(0,ln.u3)(Ec.ZF,!0);var te=V(5861),Uo=V(6881),td=V(4859),Ht=V(2090),bc=V(1877);const Tv=new Map,Mw={activated:!1,tokenObservers:[]},CI={initialized:!1,enabled:!1};function Er(n){return Tv.get(n)||Object.assign({},Mw)}function km(){return CI}class wI{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,te.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function bI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ei=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Iv(n){if(!Er(n).activated)throw Ei.create("use-before-activation",{appName:n.name})}function Tc(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const I=yield o.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(I){throw Ei.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw Ei.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(I){throw Ei.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function Rw(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const yp="firebase-app-check-store";let Om=null;function vp(){return Om||(Om=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ei.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yp,{keyPath:"compositeKey"})}}catch(t){e(Ei.create("storage-open",{originalErrorMessage:t?.message}))}}),Om)}function Dp(){return(Dp=(0,te.Z)(function*(n,e){const r=(yield vp()).transaction(yp,"readwrite"),u=r.objectStore(yp).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Ei.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Fm=new bc.Yd("@firebase/app-check");function Lm(n,e){return(0,Ht.hl)()?function TI(n,e){return function Nv(n,e){return Dp.apply(this,arguments)}(function Uw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lv(){return km().enabled}function Uv(){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,te.Z)(function*(){const n=km();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vw={error:"UNKNOWN_ERROR"};function Zv(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function wp(n){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,te.Z)(function*(n,e=!1){const t=n.app;Iv(t);const r=Er(t);let u,o=r.token;if(o&&!Ah(o)&&(r.token=void 0,o=void 0),!o){const m=yield r.cachedTokenPromise;m&&(Ah(m)?o=m:yield Lm(t,void 0))}if(!e&&o&&Ah(o))return{token:o.token};let f,l=!1;if(Lv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tc(Rw(t,yield Uv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield Lm(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Er(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Fm.warn(m.message):Fm.error(m),u=m}return o?u?f=Ah(o)?{token:o.token,internalError:u}:Ri(u):(f={token:o.token},r.token=o,yield Lm(t,o)):f=Ri(u),l&&qv(t,f),f})).apply(this,arguments)}function Um(){return(Um=(0,te.Z)(function*(n){const e=n.app;Iv(e);const{provider:t}=Er(e);if(Lv()){const r=yield Uv(),{token:o}=yield Tc(Rw(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Vm(n,e){const t=Er(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Gv(n){const{app:e}=n,t=Er(e);let r=t.tokenRefresher;r||(r=function AI(n){const{app:e}=n;return new wI((0,te.Z)(function*(){let r;if(r=Er(e).token?yield wp(n,!0):yield wp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Er(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qv(n,e){const t=Er(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ah(n){return n.expireTimeMillis-Date.now()>0}function Ri(n){return{token:Zv(Vw),error:n}}class Sh{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Er(this.app);for(const t of e)Vm(this.app,t.next);return Promise.resolve()}}const Gw="app-check-internal";!function eN(){(0,Uo._registerComponent)(new td.wA("app-check",n=>function SI(n,e){return new Sh(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Gw).initialize()})),(0,Uo._registerComponent)(new td.wA(Gw,n=>function MI(n){return{getToken:e=>wp(n,e),getLimitedUseToken:()=>function jv(n){return Um.apply(this,arguments)}(n),addTokenListener:e=>function Hv(n,e,t,r){const{app:o}=n,u=Er(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Ah(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),Gv(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Gv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Vm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uo.registerVersion)("@firebase/app-check","0.8.0")}();class Ip{constructor(){return(0,ln.vb)("app-check")}}typeof window<"u"&&window;var oN=V(9260);const zI=new i.OlP("angularfire2.auth.use-emulator"),KI=new i.OlP("angularfire2.auth.settings"),WI=new i.OlP("angularfire2.auth.tenant-id"),JI=new i.OlP("angularfire2.auth.langugage-code"),YI=new i.OlP("angularfire2.auth.use-device-language"),QI=new i.OlP("angularfire.auth.persistence"),XI=(n,e,t,r,o,u,l,f)=>(0,Yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=o,u&&m.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))m.settings[v]=x;return f&&m.setPersistence(f),m},[t,r,o,u,l,f]);let ai=(()=>{class n{constructor(t,r,o,u,l,f,m,v,x,I,L,B){const $=new Pi.x,ee=Ct(void 0).pipe((0,Du.Q)(l.outsideAngular),Cr(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,ht.U)(()=>(0,Yi.on)(t,u,r)),(0,ht.U)(ae=>XI(ae,u,f,v,x,I,m,L)),Ev({bufferSize:1,refCount:!1}));if(qo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ee.pipe(ss()).subscribe();const Ve=ee.pipe(Cr(We=>We.getRedirectResult().then(Vt=>Vt,()=>null)),ln.iC,Ev({bufferSize:1,refCount:!1})),qe=ee.pipe(Cr(We=>new Ar.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>We.onAuthStateChanged(Zt=>Vt.next(Zt),Zt=>Vt.error(Zt),()=>Vt.complete()))})))),Be=ee.pipe(Cr(We=>new Ar.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>We.onIdTokenChanged(Zt=>Vt.next(Zt),Zt=>Vt.error(Zt),()=>Vt.complete()))}))));this.authState=Ve.pipe(Sm(qe),(0,wv.R)(l.outsideAngular),(0,Du.Q)(l.insideAngular)),this.user=Ve.pipe(Sm(Be),(0,wv.R)(l.outsideAngular),(0,Du.Q)(l.insideAngular)),this.idToken=this.user.pipe(Cr(We=>We?(0,_n.D)(We.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Cr(We=>We?(0,_n.D)(We.getIdTokenResult()):Ct(null))),this.credential=(0,xw.T)(Ve,$,this.authState.pipe(os(We=>!We))).pipe((0,ht.U)(We=>We?.user?We:null),(0,wv.R)(l.outsideAngular),(0,Du.Q)(l.insideAngular))}return(0,Yi.pX)(this,ee,u,{spy:{apply:(ae,Ve,qe)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&qe.then(Be=>$.next(Be))}}})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(zI,8),i.LFG(KI,8),i.LFG(WI,8),i.LFG(JI,8),i.LFG(YI,8),i.LFG(QI,8),i.LFG(Ip,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jm=(()=>{class n{constructor(){oN.Z.registerVersion("angularfire",ln.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[ai]}),n})();const eA=["toast-component",""];function Ww(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function Hm(n,e){if(1&n&&(i.ynx(0),i._uU(1),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.hij("[",t.duplicatesCount+1,"]")}}function Jw(n,e){if(1&n&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,Hm,2,1,"ng-container",4),i.qZA()),2&n){const t=i.oxw();i.Tol(t.options.titleClass),i.uIk("aria-label",t.title),i.xp6(1),i.hij(" ",t.title," "),i.xp6(1),i.Q6J("ngIf",t.duplicatesCount)}}function Yw(n,e){if(1&n&&i._UZ(0,"div",7),2&n){const t=i.oxw();i.Tol(t.options.messageClass),i.Q6J("innerHTML",t.message,i.oJD)}}function sN(n,e){if(1&n&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&n){const t=i.oxw();i.Tol(t.options.messageClass),i.uIk("aria-label",t.message),i.xp6(1),i.hij(" ",t.message," ")}}function Xv(n,e){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Udp("width",t.width+"%")}}class iA{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class t0{constructor(e,t,r,o,u,l){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=u,this.toastRef=l,this._onTap=new Pi.x,this._onAction=new Pi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const eb=new i.OlP("ToastConfig");class sA{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Pi.x,this._activate=new Pi.x,this._manualClose=new Pi.x,this._resetTimeout=new Pi.x,this._countDuplicate=new Pi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class aA{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===t0?this._toastPackage:this._parentInjector.get(e,t,r)}}class lN extends class cN{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class uA{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let tb=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nb=(()=>{class n{constructor(t,r,o,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=o,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new lN(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new uA(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(tb),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(pe))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qi=(()=>{class n{constructor(t,r,o,u,l){this.overlay=r,this._injector=o,this.sanitizer=u,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,o={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,u){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const m=l&&f.title===t;if((!l||m)&&f.message===r)return f.toastRef.onDuplicate(o,u),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,u)):this._buildNotification(t,r,o,u)}_buildNotification(t,r,o,u){if(!u.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&u.enableHtml&&(v=this.sanitizer.sanitize(i.q3G.HTML,r));const x=new sA(m),I=new t0(this.index,u,v,o,t,x),L=new aA(I,this._injector),B=new iA(u.toastComponent,L),$=m.attach(B,this.toastrConfig.newestOnTop);x.componentInstance=$.instance;const ee={toastId:this.index,title:o||"",message:r||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:$};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(eb),i.LFG(nb),i.LFG(i.zs3),i.LFG(ec),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Qi),i.Y36(t0),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(i.d8E("@flyInOut",r.state),i.Tol(r.toastClasses),i.Udp("display",r.displayStyle))},attrs:eA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(i.YNc(0,Ww,3,0,"button",0),i.YNc(1,Jw,3,5,"div",1),i.YNc(2,Yw,1,3,"div",2),i.YNc(3,sN,2,4,"div",3),i.YNc(4,Xv,2,2,"div",4)),2&t&&(i.Q6J("ngIf",r.options.closeButton),i.xp6(1),i.Q6J("ngIf",r.title),i.xp6(1),i.Q6J("ngIf",r.message&&r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.message&&!r.options.enableHtml),i.xp6(1),i.Q6J("ngIf",r.options.progressBar))},dependencies:[mn],encapsulation:2,data:{animation:[pT("flyInOut",[iC("inactive",kf({opacity:0})),iC("active",kf({opacity:1})),iC("removed",kf({opacity:0})),ah("inactive => active",nC("{{ easeTime }}ms {{ easing }}")),ah("active => removed",nC("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let n0=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:eb,useValue:{default:cA,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[Id]]}),n})();function lA(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",10)(1,"div",11)(2,"span",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",13)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",14),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",15),i._uU(10,"Registrate"),i.qZA()()()()()}}let Gm=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuarioActual=t?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA(),i.TgZ(14,"a",8),i._uU(15,"MUSICA"),i.qZA()()(),i.TgZ(16,"div"),i.YNc(17,lA,11,0,"div",9),i.qZA()),2&t&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(13),i.Q6J("ngIf",r.modal))},dependencies:[mn,Fs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(76,175,80,.3294117647),rgba(33,150,243,.5490196078));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();const r0=function(n){return{"background-image":n,"background-blend-mode":"soft-light","background-size":"cover","background-position":"center"}};let ib=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.router=r,this.toastr=o,this.imagenesFondo=["https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto1.jpg?alt=media&token=144909e5-fa88-4785-a196-a9e829d644ee","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Ffoto.jpg?alt=media&token=c9dc6d47-fc21-4695-b090-35a8d15279be","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp30.jpg?alt=media&token=8835ef58-75a7-46ed-8d66-182c8b12a5b9","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp37.jpg?alt=media&token=1b507c45-18ad-44ab-9080-fcb944188969","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp45.jpg?alt=media&token=805448f0-c5f8-4c9d-b163-7de9487ea921","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp46.jpg?alt=media&token=52922013-1f5c-413d-8008-5bb74a93bad0","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2Fp62.jpg?alt=media&token=96809e52-9a26-42fb-a0d1-608b0ec80cc4","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10500411_10201454213716073_6332111602942763551_n_10201454213716073.jpg?alt=media&token=6e7caa54-9319-4551-83bf-53cb96bbf047","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F10580144_10201454209915978_1885626682807728120_n_10201454209915978.jpg?alt=media&token=eb7ef51f-afe5-490a-b17d-864642c1136a","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/images%2F164789_1372685215984_2451351_n_1372685215984.jpg?alt=media&token=46c640a2-1a32-458f-ab07-a6dbb2370cc4"],this.indiceImagen=0}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuarioActual=t&&t.displayName?t.displayName:"Invitad@"}),this.cambiarImagenFondo(),setInterval(()=>this.cambiarImagenFondo(),15e3)}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}cambiarImagenFondo(){const t=Math.floor(Math.random()*this.imagenesFondo.length);this.backgroundImage=this.imagenesFondo[t]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main"]],decls:15,vars:3,consts:[[1,"contenedor",2,"user-select","none"],[1,"box",3,"ngStyle"],[1,"titulo"],[1,"align"],[1,"msj"],[1,"pie"],["href","https://www.facebook.com/profile.php?id=100013672369598",1,"foo"],[1,"fab","fa-facebook-square"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"h1",2),i._uU(4,"Asi somos asi Bailamos Corinto"),i.qZA(),i.TgZ(5,"div")(6,"p",3),i._uU(7," Sum\xe9rgete en el coraz\xf3n de Corinto, Cauca, a trav\xe9s de esta conmovedora recopilaci\xf3n de ensayos, presentaciones, eventos, im\xe1genes y m\xfasica, protagonizados por nuestros queridos j\xf3venes. Cada momento capturado refleja la dedicaci\xf3n, el talento y la pasi\xf3n de nuestros muchachos, quienes con su esfuerzo y creatividad han dejado una huella imborrable en nuestra comunidad. "),i.qZA()(),i.TgZ(8,"div",4),i._uU(9,"Gracias a todos espero lo disfruten tanto como yo!!."),i.qZA(),i.TgZ(10,"aside")(11,"footer",5)(12,"a",6),i._UZ(13,"i",7),i._uU(14," by Edwin 2022"),i.qZA()()()()()),2&t&&(i.xp6(1),i.Q6J("ngStyle",i.VKq(1,r0,"url("+r.backgroundImage+")")))},dependencies:[Dd,Gm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:0;overflow:hidden}.log[_ngcontent-%COMP%]{display:flex;justify-content:space-between;animation:moveText .8s ease-in;white-space:nowrap;overflow:hidden}.logout[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.box[_ngcontent-%COMP%]{background-color:#3144c169;display:flex;flex-direction:column;justify-content:space-around;height:90%;width:85%;color:#fff;font-size:20px;padding:20px;border:1px solid white;border-radius:15px;outline:solid #ffffff;background-repeat:no-repeat;background-position:right;background-size:contain;animation:apearText 2s linear}.titulo[_ngcontent-%COMP%]{padding:10px;font-size:30px;text-align:center;background-color:#09ffb340;border-radius:8px;animation:moveText .5s linear}.align[_ngcontent-%COMP%]{padding:12px;text-align:center;border-radius:12px;border:1px solid white;color:#fff;margin-bottom:15px;font-size:17px;animation:moveText 1s linear;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff}.msj[_ngcontent-%COMP%]{color:#fff;margin-bottom:9px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{animation:apearText 2.3s linear;position:relative}.foo[_ngcontent-%COMP%]{color:#fff;text-decoration:none}@media (max-width: 767px){.titulo[_ngcontent-%COMP%]{font-size:22px}.welcome[_ngcontent-%COMP%]{font-size:20px;padding:0;margin:0}.t1[_ngcontent-%COMP%]{animation:moveText 1.2s linear;white-space:nowrap;overflow:hidden}.t2[_ngcontent-%COMP%]{animation:moveText 1.4s linear;white-space:nowrap;overflow:hidden}.t3[_ngcontent-%COMP%]{animation:moveText 1.6s linear;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}.msj[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:20px;animation:apearText 2.3s linear}}@media (max-width: 433px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.msj[_ngcontent-%COMP%]{font-size:13px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:16px;animation:apearText 2.3s linear}}@media (max-width: 348px){.titulo[_ngcontent-%COMP%]{font-size:16px}.align[_ngcontent-%COMP%]{padding:4px}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})();V(1389);class o0{constructor(){return(0,ln.vb)("auth")}}const h0="firebasestorage.googleapis.com",db="storageBucket";class nr extends Ht.ZR{constructor(e,t,r=0){super(zm(e),`Firebase Storage: ${t} (${zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ln=(()=>{return(n=Ln||(Ln={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ln;var n})();function zm(n){return"storage/"+n}function f0(){return new nr(Ln.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Km(){return new nr(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pb(){return new nr(Ln.CANCELED,"User canceled the upload/download.")}function gb(){return new nr(Ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ap(n){return new nr(Ln.INVALID_ARGUMENT,n)}function RA(){return new nr(Ln.APP_DELETED,"The Firebase app was deleted.")}function FA(n){return new nr(Ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wm(n,e){return new nr(Ln.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Sp(n){throw new nr(Ln.INTERNAL_ERROR,"Internal error: "+n)}class Xi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xi.makeFromUrl(e,t)}catch{return new Xi(e,"")}if(""===r.path)return r;throw function kN(n){return new nr(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const I=t.replace(/[.]/g,"\\."),Be=[{regex:f,indices:{bucket:1,path:3},postModify:function u(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===h0?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<Be.length;We++){const Vt=Be[We],Zt=Vt.regex.exec(e);if(Zt){let Sr=Zt[Vt.indices.path];Sr||(Sr=""),r=new Xi(Zt[Vt.indices.bucket],Sr),Vt.postModify(r);break}}if(null==r)throw function NA(n){return new nr(Ln.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class ON{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function a(n){return"string"==typeof n||n instanceof String}function c(n){return d()&&n instanceof Blob}function d(){return typeof Blob<"u"&&!(0,Ht.UG)()}function h(n,e,t,r){if(r<e)throw Ap(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ap(`Invalid value for '${n}'. Expected ${t} or less.`)}function g(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function y(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var w=(()=>{return(n=w||(w={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",w;var n})();function b(n,e){const t=n>=500&&n<600,o=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||o||u}class A{constructor(e,t,r,o,u,l,f,m,v,x,I,L=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=I,this.retry=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,$)=>{this.resolve_=B,this.reject_=$,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,l=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function LN(n){return void 0!==n}(m)?u():u(m)}catch(m){l(m)}else if(null!==f){const m=f0();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(o.canceled?this.appDelete_?RA():pb():Km())};this.canceled_?t(0,new k(!1,null,!0)):this.backoffId_=function RN(n,e,t){let r=1,o=null,u=null,l=!1,f=0;function m(){return 2===f}let v=!1;function x(...ae){v||(v=!0,e.apply(null,ae))}function I(ae){o=setTimeout(()=>{o=null,n(B,m())},ae)}function L(){u&&clearTimeout(u)}function B(ae,...Ve){if(v)return void L();if(ae)return L(),void x.call(null,ae,...Ve);if(m()||l)return L(),void x.call(null,ae,...Ve);let Be;r<64&&(r*=2),1===f?(f=2,Be=0):Be=1e3*(r+Math.random()),I(Be)}let $=!1;function ee(ae){$||($=!0,L(),!v&&(null!==o?(ae||(f=2),clearTimeout(o),I(0)):ae||(f=1)))}return I(0),u=setTimeout(()=>{l=!0,ee(!0)},t),ee}((r,o)=>{if(o)return void r(!1,new k(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const f=u.getErrorCode()===w.NO_ERROR,m=u.getStatus();if(!f||b(m,this.additionalRetryCodes_)&&this.retry){const x=u.getErrorCode()===w.ABORT;return void r(!1,new k(!1,null,x))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new k(v,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function FN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _t(...n){const e=function Xe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(d())return new Blob(n);throw new nr(Ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class En{constructor(e,t){this.data=e,this.contentType=t||null}}function qn(n,e){switch(n){case Dt.RAW:return new En(Ic(e));case Dt.BASE64:case Dt.BASE64URL:return new En(Jm(n,e));case Dt.DATA_URL:return new En(function m0(n){const e=new Ym(n);return e.base64?Jm(Dt.BASE64,e.rest):function g0(n){let e;try{e=decodeURIComponent(n)}catch{throw Wm(Dt.DATA_URL,"Malformed data URL.")}return Ic(e)}(e.rest)}(e),function _0(n){return new Ym(n).contentType}(e))}throw f0()}function Ic(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Jm(n,e){switch(n){case Dt.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw Wm(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dt.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw Wm(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Fe(n){if(typeof atob>"u")throw function PN(n){return new nr(Ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(o){throw o.message.includes("polyfill")?o:Wm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class Ym{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wm(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function y0(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ls{constructor(e,t){let r=0,o="";c(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(c(this.data_)){const o=function Pt(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ls(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ls(r,!0)}}static getBlob(...e){if(d()){const t=e.map(r=>r instanceof ls?r.data_:r);return new ls(_t.apply(null,t))}{const t=e.map(l=>a(l)?qn(Dt.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)o[u++]=l[f]}),new ls(o,!0)}}uploadData(){return this.data_}}function Mp(n){let e;try{e=JSON.parse(n)}catch{return null}return function s(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function VN(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function KL(n,e){return e}class Vo{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||KL}}let mb=null;function D0(){if(mb)return mb;const n=[];n.push(new Vo("bucket")),n.push(new Vo("generation")),n.push(new Vo("metageneration")),n.push(new Vo("name","fullPath",!0));const t=new Vo("name");t.xform=function e(u,l){return function WL(n){return!a(n)||n.length<2?n:VN(n)}(l)},n.push(t);const o=new Vo("size");return o.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(o),n.push(new Vo("timeCreated")),n.push(new Vo("updated")),n.push(new Vo("md5Hash",null,!0)),n.push(new Vo("cacheControl",null,!0)),n.push(new Vo("contentDisposition",null,!0)),n.push(new Vo("contentEncoding",null,!0)),n.push(new Vo("contentLanguage",null,!0)),n.push(new Vo("contentType",null,!0)),n.push(new Vo("metadata","customMetadata",!0)),mb=n,mb}function ZN(n,e,t){const r=Mp(e);return null===r?null:function YL(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function JL(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Xi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function LA(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const BN="prefixes";class Ac{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sc(n){if(!n)throw f0()}function _b(n,e){return function t(r,o){const u=ZN(n,o,e);return Sc(null!==u),u}}function Qm(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function MN(){return new nr(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function p0(){return new nr(Ln.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function hb(n){return new nr(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function fb(n){return new nr(Ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}}function C0(n){const e=Qm(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function kA(n){return new nr(Ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function HN(n,e,t){const o=g(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Ac(o,"GET",_b(n,t),l);return f.errorHandler=C0(e),f}function rU(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=g(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new Ac(f,"GET",function tU(n,e){return function t(r,o){const u=function eU(n,e,t){const r=Mp(t);return null===r?null:function XL(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BN])for(const o of t[BN]){const u=o.replace(/\/$/,""),l=n._makeStorageReference(new Xi(e,u));r.prefixes.push(l)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new Xi(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return Sc(null!==u),u}}(n,e.bucket),v);return x.urlParams=u,x.errorHandler=Qm(e),x}function qN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function aU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function $N(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let Be="";for(let We=0;We<2;We++)Be+=Math.random().toString().slice(2);return Be}();l["Content-Type"]="multipart/related; boundary="+m;const v=qN(e,r,o),x=LA(v,t),B=ls.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===B)throw gb();const $={name:v.fullPath},ee=g(u,n.host,n._protocol),Ve=n.maxUploadRetryTime,qe=new Ac(ee,"POST",_b(n,t),Ve);return qe.urlParams=$,qe.headers=l,qe.body=B.uploadData(),qe.errorHandler=Qm(e),qe}class yb{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function UA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Sc(!1)}return Sc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const dU={STATE_CHANGED:"state_changed"},Zo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VA(n){switch(n){case"running":case"pausing":case"canceling":return Zo.RUNNING;case"paused":return Zo.PAUSED;case"success":return Zo.SUCCESS;case"canceled":return Zo.CANCELED;default:return Zo.ERROR}}class hU{constructor(e,t,r){if(function UN(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Xm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class pU extends class fU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=w.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=w.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=w.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw Sp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Cu(){return new pU}class WN{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=D0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(b(o.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=Km()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ln.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function uU(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),l=qN(e,r,o),f={name:l.fullPath},m=g(u,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},I=LA(l,t),$=new Ac(m,"POST",function B(ee){let ae;UA(ee);try{ae=ee.getResponseHeader("X-Goog-Upload-URL")}catch{Sc(!1)}return Sc(a(ae)),ae},n.maxUploadRetryTime);return $.urlParams=f,$.headers=x,$.body=I,$.errorHandler=Qm(e),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function cU(n,e,t,r){const m=new Ac(t,"POST",function u(v){const x=UA(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Sc(!1)}I||Sc(!1);const L=Number(I);return Sc(!isNaN(L)),new yb(L,r.size(),"final"===x)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Qm(e),m}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,Cu,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new yb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let l;try{l=function lU(n,e,t,r,o,u,l,f){const m=new yb(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function PA(){return new nr(Ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let x=v;o>0&&(x=Math.min(x,o));const I=m.current;let B="";B=0===x?"finalize":v===x?"upload, finalize":"upload";const $={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${m.current}`},ee=r.slice(I,I+x);if(null===ee)throw gb();const Be=new Ac(t,"POST",function ae(We,Vt){const Zt=UA(We,["active","final"]),Cn=m.current+x,Sr=r.size();let wo;return wo="final"===Zt?_b(e,u)(We,Vt):null,new yb(Cn,Sr,"final"===Zt,wo)},e.maxUploadRetryTime);return Be.headers=$,Be.body=ee.uploadData(),Be.progressCallback=f||null,Be.errorHandler=Qm(n),Be}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(l,Cu,o,u,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=HN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Cu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=$N(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cu,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=pb(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=VA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new hU(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(VA(this._state)){case Zo.SUCCESS:Xm(this._resolve.bind(null,this.snapshot))();break;case Zo.CANCELED:case Zo.ERROR:Xm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(VA(this._state)){case Zo.RUNNING:case Zo.PAUSED:e.next&&Xm(e.next.bind(e,this.snapshot))();break;case Zo.SUCCESS:e.complete&&Xm(e.complete.bind(e))();break;default:e.error&&Xm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class kp{constructor(e,t){this._service=e,this._location=t instanceof Xi?t:Xi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kp(e,t)}get root(){const e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VN(this._location.path)}get storage(){return this._service}get parent(){const e=function v0(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Xi(this._location.bucket,e);return new kp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw FA(e)}}function YN(n,e,t){return ZA.apply(this,arguments)}function ZA(){return(ZA=(0,te.Z)(function*(n,e,t){const o=yield QN(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield YN(n,e,o.nextPageToken))})).apply(this,arguments)}function QN(n,e){null!=e&&"number"==typeof e.maxResults&&h("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=rU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Cu)}function xU(n){n._throwIfRoot("getDownloadURL");const e=function iU(n,e,t){const o=g(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Ac(o,"GET",function nU(n,e){return function t(r,o){const u=ZN(n,o,e);return Sc(null!==u),function QL(n,e,t,r){const o=Mp(e);if(null===o||!a(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(v=>{const I=n.fullPath;return g("/b/"+l(n.bucket)+"/o/"+l(I),t,r)+y({alt:"media",token:v})})[0]}(u,o,n.host,n._protocol)}}(n,t),l);return f.errorHandler=C0(e),f}(n.storage,n._location,D0());return n.storage.makeRequestWithTokens(e,Cu).then(t=>{if(null===t)throw function OA(){return new nr(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function XN(n,e){const t=function zL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Xi(n._location.bucket,t);return new kp(n.storage,r)}function eP(n,e){if(n instanceof BA){const t=n;if(null==t._bucket)throw function NN(){return new nr(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+db+"' property when initializing the app?")}();const r=new kp(t,t._bucket);return null!=e?eP(r,e):r}return void 0!==e?XN(n,e):n}function MU(n,e){if(e&&function AU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof BA)return function SU(n,e){return new kp(n,e)}(n,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}return eP(n,e)}function tP(n,e){const t=e?.[db];return null==t?null:Xi.makeFromBucketSpec(t,n)}class BA{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=h0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Xi.makeFromBucketSpec(o,this._host):tP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xi.makeFromBucketSpec(this._url,e):tP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,te.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,te.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kp(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new ON(RA());{const l=function je(n,e,t,r,o,u,l=!0){const f=y(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function re(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function Z(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function W(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,u),function Te(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new A(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l)}(e,this._appId,r,o,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,te.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const nP="@firebase/storage",iP="storage";function NU(n,e,t){return function JN(n,e,t){n._throwIfRoot("uploadBytes");const r=$N(n.storage,n._location,D0(),new ls(e,!0),t);return n.storage.makeRequestWithTokens(r,Cu).then(o=>({metadata:o,ref:n}))}(n=(0,Ht.m9)(n),e,t)}function oP(n){return function wU(n){const e={prefixes:[],items:[]};return YN(n,e).then(()=>e)}(n=(0,Ht.m9)(n))}function sP(n){return xU(n=(0,Ht.m9)(n))}function jA(n,e){return MU(n=(0,Ht.m9)(n),e)}function VU(n=(0,Uo.getApp)(),e){n=(0,Ht.m9)(n);const r=(0,Uo._getProvider)(n,iP).getImmediate({identifier:e}),o=(0,Ht.P0)("storage");return o&&aP(r,...o),r}function aP(n,e,t,r={}){!function kU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Ht.Sg)(o,n.app.options.projectId))}(n,e,t,r)}function ZU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new BA(t,r,o,e,Uo.SDK_VERSION)}!function BU(){(0,Uo._registerComponent)(new td.wA(iP,ZU,"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(nP,"0.11.2",""),(0,Uo.registerVersion)(nP,"0.11.2","esm2017")}();class e_{constructor(e){return e}}const uP="storage",HA=new i.OlP("angularfire2.storage-instances");function GU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new e_(r)}}const qU={provide:class jU{constructor(){return(0,ln.vb)(uP)}},deps:[[new i.FiY,HA]]},$U={provide:e_,useFactory:function HU(n,e){const t=(0,ln.JM)(uP,n,e);return t&&new e_(t)},deps:[[new i.FiY,HA],wc]};let zU=(()=>{class n{constructor(){(0,Ec.KN)("angularfire",ln.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[$U,qU]}),n})();function KU(n,...e){return{ngModule:zU,providers:[{provide:HA,useFactory:GU(n),multi:!0,deps:[i.R0b,i.zs3,ln.HU,bv,[new i.FiY,o0],[new i.FiY,Ip],...e]}]}}const WU=(0,ln.u3)(sP,!0),JU=(0,ln.u3)(VU,!0),YU=(0,ln.u3)(oP,!0),cP=(0,ln.u3)(jA,!0),QU=(0,ln.u3)(NU,!0);var lP=V(4986);function GA(){return(0,oi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function e6(n,e){return n===e}V(9568);var st,dP=V(3942),t6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eu={},qA=qA||{},Jt=t6||self;function vb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function E0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $A="closure_uid_"+(1e9*Math.random()>>>0),r6=0;function i6(n,e,t){return n.call.apply(n.bind,arguments)}function o6(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function yo(n,e,t){return(yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i6:o6).apply(null,arguments)}function Db(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[o].apply(r,l)}}function Nh(){this.s=this.s,this.o=this.o}Nh.prototype.s=!1,Nh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function n6(n){Object.prototype.hasOwnProperty.call(n,$A)&&n[$A]||(n[$A]=++r6)}(this)},Nh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function fP(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vb(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function vo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vo.prototype.h=function(){this.defaultPrevented=!0};var a6=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",()=>{},e),Jt.removeEventListener("test",()=>{},e)}catch{}return n}();function w0(n){return/^[\s\xa0]*$/.test(n)}function Cb(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function Mc(n){return-1!=Cb().indexOf(n)}function KA(n){return KA[" "](n),n}KA[" "]=function(){};var JA,n,c6=Mc("Opera"),t_=Mc("Trident")||Mc("MSIE"),pP=Mc("Edge"),WA=pP||t_,gP=Mc("Gecko")&&!(-1!=Cb().toLowerCase().indexOf("webkit")&&!Mc("Edge"))&&!(Mc("Trident")||Mc("MSIE"))&&!Mc("Edge"),l6=-1!=Cb().toLowerCase().indexOf("webkit")&&!Mc("Edge");function mP(){var n=Jt.document;return n?n.documentMode:void 0}e:{var YA="",QA=(n=Cb(),gP?/rv:([^\);]+)(\)|;)/.exec(n):pP?/Edge\/([\d\.]+)/.exec(n):t_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):l6?/WebKit\/(\S+)/.exec(n):c6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QA&&(YA=QA?QA[1]:""),t_){var XA=mP();if(null!=XA&&XA>parseFloat(YA)){JA=String(XA);break e}}JA=YA}var d6=Jt.document&&t_&&(mP()||parseInt(JA,10))||void 0;function b0(n,e){if(vo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gP){e:{try{KA(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:h6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&b0.$.h.call(this)}}Fi(b0,vo);var h6={2:"touch",3:"pen",4:"mouse"};b0.prototype.h=function(){b0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var T0="closure_listenable_"+(1e6*Math.random()|0),f6=0;function p6(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++f6,this.fa=this.ia=!1}function Eb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yP(n){const e={};for(const t in n)e[t]=n[t];return e}const vP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DP(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<vP.length;u++)t=vP[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wb(n){this.src=n,this.g={},this.h=0}function nS(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=hP(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Eb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rS(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}wb.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=rS(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new p6(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var iS="closure_lm_"+(1e6*Math.random()|0),oS={};function CP(n,e,t,r,o){if(r&&r.once)return wP(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)CP(n,e[u],t,r,o);return null}return t=cS(t),n&&n[T0]?n.O(e,t,E0(r)?!!r.capture:!!r,o):EP(n,e,t,!1,r,o)}function EP(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=E0(o)?!!o.capture:!!o,f=aS(n);if(f||(n[iS]=f=new wb(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function m6(){const e=_6;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)a6||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(TP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wP(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)wP(n,e[u],t,r,o);return null}return t=cS(t),n&&n[T0]?n.P(e,t,E0(r)?!!r.capture:!!r,o):EP(n,e,t,!0,r,o)}function bP(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)bP(n,e[u],t,r,o);else r=E0(r)?!!r.capture:!!r,t=cS(t),n&&n[T0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rS(u=n.g[e],t,r,o))&&(Eb(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=aS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rS(e,t,r,o)),(t=-1<n?e[n]:null)&&sS(t))}function sS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[T0])nS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(TP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=aS(e))?(nS(t,n),0==t.h&&(t.src=null,e[iS]=null)):Eb(n)}}}function TP(n){return n in oS?oS[n]:oS[n]="on"+n}function _6(n,e){if(n.fa)n=!0;else{e=new b0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&sS(n),n=t.call(r,e)}return n}function aS(n){return(n=n[iS])instanceof wb?n:null}var uS="__closure_events_fn_"+(1e9*Math.random()>>>0);function cS(n){return"function"==typeof n?n:(n[uS]||(n[uS]=function(e){return n.handleEvent(e)}),n[uS])}function Li(){Nh.call(this),this.i=new wb(this),this.S=this,this.J=null}function eo(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new vo(e,n);else if(e instanceof vo)e.target=e.target||n;else{var o=e;DP(e=new vo(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=bb(l,r,!0,e)&&o}if(o=bb(l=e.g=n,r,!0,e)&&o,o=bb(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=bb(l=e.g=t[u],r,!1,e)&&o}function bb(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&nS(n.i,l),o=!1!==f.call(m,r)&&o}}return o&&!r.defaultPrevented}Fi(Li,Nh),Li.prototype[T0]=!0,Li.prototype.removeEventListener=function(n,e,t,r){bP(this,n,e,t,r)},Li.prototype.N=function(){if(Li.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eb(t[r]);delete n.g[e],n.h--}}this.J=null},Li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Li.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lS=Jt.JSON.stringify;function v6(){var n=dS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xP=new class y6{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C6,n=>n.reset());class C6{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function E6(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function w6(n){Jt.setTimeout(()=>{throw n},0)}let x0,I0=!1,dS=new class D6{constructor(){this.h=this.g=null}add(e,t){const r=xP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},IP=()=>{const n=Jt.Promise.resolve(void 0);x0=()=>{n.then(b6)}};var b6=()=>{for(var n;n=v6();){try{n.h.call(n.g)}catch(t){w6(t)}var e=xP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}I0=!1};function Tb(n,e){Li.call(this),this.h=n||1,this.g=e||Jt,this.j=yo(this.qb,this),this.l=Date.now()}function hS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fS(n,e,t){if("function"==typeof n)t&&(n=yo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function AP(n){n.g=fS(()=>{n.g=null,n.i&&(n.i=!1,AP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(Tb,Li),(st=Tb.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eo(this,"tick"),this.ga&&(hS(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){Tb.$.N.call(this),hS(this),delete this.g};class T6 extends Nh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AP(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function A0(n){Nh.call(this),this.h=n,this.g={}}Fi(A0,Nh);var SP=[];function MP(n,e,t,r){Array.isArray(t)||(t&&(SP[0]=t.toString()),t=SP);for(var o=0;o<t.length;o++){var u=CP(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function kP(n){tS(n.g,function(e,t){this.g.hasOwnProperty(t)&&sS(e)},n),n.g={}}function xb(){this.g=!0}function n_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function S6(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return lS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}A0.prototype.N=function(){A0.$.N.call(this),kP(this)},A0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xb.prototype.Ea=function(){this.g=!1},xb.prototype.info=function(){};var Np={},NP=null;function Ib(){return NP=NP||new Li}function PP(n){vo.call(this,Np.Ta,n)}function S0(n){const e=Ib();eo(e,new PP(e))}function OP(n,e){vo.call(this,Np.STAT_EVENT,n),this.stat=e}function Bo(n){const e=Ib();eo(e,new OP(e,n))}function RP(n,e){vo.call(this,Np.Ua,n),this.size=e}function M0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}Np.Ta="serverreachability",Fi(PP,vo),Np.STAT_EVENT="statevent",Fi(OP,vo),Np.Ua="timingevent",Fi(RP,vo);var Ab={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pS(){}function UP(){}pS.prototype.h=null;var _S,k0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gS(){vo.call(this,"d")}function mS(){vo.call(this,"c")}function Sb(){}function N0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new A0(this),this.P=M6,this.V=new Tb(n=WA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VP}function VP(){this.i=null,this.g="",this.h=!1}Fi(gS,vo),Fi(mS,vo),Fi(Sb,pS),Sb.prototype.g=function(){return new XMLHttpRequest},Sb.prototype.i=function(){return{}},_S=new Sb;var M6=45e3,yS={},Mb={};function vS(n,e,t){n.L=1,n.v=Ob(id(e)),n.s=t,n.S=!0,ZP(n,null)}function ZP(n,e){n.G=Date.now(),P0(n),n.A=id(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),JP(t.i,"t",r),n.C=0,t=n.l.J,n.h=new VP,n.g=DO(n.l,t?e:null,!n.s),0<n.O&&(n.M=new T6(yo(n.Pa,n,n.g),n.O)),MP(n.U,n.g,"readystatechange",n.nb),e=n.I?yP(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),S0(),function x6(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var x=v[0];v=v[1];var I=x.split("_");l=2<=I.length&&"type"==I[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function BP(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function jP(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=k6(n,t),o==Mb){4==e&&(n.o=4,Bo(14),r=!1),n_(n.j,n.m,null,"[Incomplete Response]");break}if(o==yS){n.o=4,Bo(15),n_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}n_(n.j,n.m,o,null),DS(n,o)}BP(n)&&o!=Mb&&o!=yS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),IS(e),e.M=!0,Bo(11))):(n_(n.j,n.m,t,"[Invalid Chunked Response]"),Pp(n),O0(n))}function k6(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mb:(t=Number(e.substring(t,r)),isNaN(t)?yS:(r+=1)+t>e.length?Mb:(e=e.slice(r,r+t),n.C=r+t,e))}function P0(n){n.Y=Date.now()+n.P,HP(n,n.P)}function HP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=M0(yo(n.lb,n),e)}function kb(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function O0(n){0==n.l.H||n.J||mO(n.l,n)}function Pp(n){kb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,hS(n.V),kP(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function DS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||CS(t.i,n)))if(!n.K&&CS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Zb(t),Ub(t)}xS(t),Bo(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=M0(yo(t.ib,t),6e3));if(1>=XP(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Rp(t,11)}else if((n.K||t.g==n)&&Zb(t),!w0(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let v=o[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const x=v[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const I=v[4];null!=I&&(t.Ga=I,t.l.info("SVER="+t.Ga));const L=v[5];null!=L&&"number"==typeof L&&0<L&&(t.L=r=1.5*L,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var u=r.i;u.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(ES(u,u.h),u.h=null))}if(r.F){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.Da=ee,lr(r.I,r.F,ee))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=vO(r,r.J?r.pa:null,r.Y),l.K){eO(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(kb(f),P0(f)),r.g=l}else pO(r);0<t.j.length&&Vb(t)}else"stop"!=v[0]&&"close"!=v[0]||Rp(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Rp(t,7):TS(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}S0()}catch{}}function GP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function P6(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function N6(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vb(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(st=N0.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const e=this.M;e&&3==kc(n)?e.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const x=kc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||WA||this.g&&(this.h.h||this.g.ja()||uO(this.g)))){this.J||4!=x||7==e||S0(),kb(this);var t=this.g.da();this.ca=t;t:if(BP(this)){var r=uO(this.g);n="";var o=r.length,u=4==kc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pp(this),O0(this);var l="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function I6(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w0(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Bo(12),Pp(this),O0(this);break e}n_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DS(this,t)}this.S?(jP(this,x,l),WA&&this.i&&3==x&&(MP(this.U,this.V,"tick",this.mb),this.V.start())):(n_(this.j,this.m,l,null),DS(this,l)),4==x&&Pp(this),this.i&&!this.J&&(4==x?mO(this.l,this):(this.i=!1,P0(this)))}else(function Y6(n){const e={};n=(n.g&&2<=kc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(w0(n[r]))continue;var t=E6(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function g6(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Bo(12)):(this.o=0,Bo(13)),Pp(this),O0(this)}}}catch{}},st.mb=function(){if(this.g){var n=kc(this.g),e=this.g.ja();this.C<e.length&&(kb(this),jP(this,n,e),this.i&&4!=n&&P0(this))}},st.cancel=function(){this.J=!0,Pp(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function A6(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(S0(),Bo(17)),Pp(this),this.o=2,O0(this)):HP(this,this.Y-n)};var qP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Op(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Op){this.h=n.h,Nb(this,n.j),this.s=n.s,this.g=n.g,Pb(this,n.m),this.l=n.l;var e=n.i,t=new L0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$P(this,t),this.o=n.o}else n&&(e=String(n).match(qP))?(this.h=!1,Nb(this,e[1]||"",!0),this.s=R0(e[2]||""),this.g=R0(e[3]||"",!0),Pb(this,e[4]),this.l=R0(e[5]||"",!0),$P(this,e[6]||"",!0),this.o=R0(e[7]||"")):(this.h=!1,this.i=new L0(null,this.h))}function id(n){return new Op(n)}function Nb(n,e,t){n.j=t?R0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $P(n,e,t){e instanceof L0?(n.i=e,function Z6(n,e){e&&!n.j&&(Ph(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(KP(this,r),JP(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=F0(e,U6)),n.i=new L0(e,n.h))}function lr(n,e,t){n.i.set(e,t)}function Ob(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function R0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function F0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,R6),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function R6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Op.prototype.toString=function(){var n=[],e=this.j;e&&n.push(F0(e,zP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(F0(e,zP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(F0(t,"/"==t.charAt(0)?L6:F6,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",F0(t,V6)),n.join("")};var zP=/[#\/\?@]/g,F6=/[#\?:]/g,L6=/[#\?]/g,U6=/[#\?@]/g,V6=/#/g;function L0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ph(n){n.g||(n.g=new Map,n.h=0,n.i&&function O6(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KP(n,e){Ph(n),e=r_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WP(n,e){return Ph(n),e=r_(n,e),n.g.has(e)}function JP(n,e,t){KP(n,e),0<t.length&&(n.i=null,n.g.set(r_(n,e),zA(t)),n.h+=t.length)}function r_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YP(n){this.l=n||j6,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=L0.prototype).add=function(n,e){Ph(this),this.i=null,n=r_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){Ph(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},st.ta=function(){Ph(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},st.Z=function(n){Ph(this);let e=[];if("string"==typeof n)WP(this,n)&&(e=e.concat(this.g.get(r_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},st.set=function(n,e){return Ph(this),this.i=null,WP(this,n=r_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var j6=10;function QP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XP(n){return n.h?1:n.g?n.g.size:0}function CS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ES(n,e){n.g?n.g.add(e):n.h=e}function eO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return zA(n.i)}function G6(){this.g=new class{stringify(n){return Jt.JSON.stringify(n,void 0)}parse(n){return Jt.JSON.parse(n,void 0)}}}function q6(n,e,t){const r=t||"";try{GP(n,function(o,u){let l=o;E0(o)&&(l=lS(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Rb(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function U0(n){this.l=n.fc||null,this.j=n.ob||!1}function Fb(n,e){Li.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YP.prototype.cancel=function(){if(this.i=tO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fi(U0,pS),U0.prototype.g=function(){return new Fb(this.l,this.j)},U0.prototype.i=function(n){return function(){return n}}({}),Fi(Fb,Li);var wS=0;function nO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function V0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Z0(n)}function Z0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Fb.prototype).open=function(n,e){if(this.readyState!=wS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Z0(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,V0(this)),this.readyState=wS},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Z0(this)),this.g&&(this.readyState=3,Z0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?V0(this):Z0(this),3==this.readyState&&nO(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,V0(this))},st.Ya=function(n){this.g&&(this.response=n,V0(this))},st.ka=function(){this.g&&V0(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Fb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var z6=Jt.JSON.parse;function Ur(n){Li.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rO,this.L=this.M=!1}Fi(Ur,Li);var rO="",K6=/^https?$/i,W6=["POST","PUT"];function iO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,oO(n),Lb(n)}function oO(n){n.F||(n.F=!0,eo(n,"complete"),eo(n,"error"))}function sO(n){if(n.h&&typeof qA<"u"&&(!n.C[1]||4!=kc(n)||2!=n.da()))if(n.v&&4==kc(n))fS(n.La,0,n);else if(eo(n,"readystatechange"),4==kc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(qP)[1]||null;!o&&Jt.self&&Jt.self.location&&(o=Jt.self.location.protocol.slice(0,-1)),r=!K6.test(o?o.toLowerCase():"")}t=r}if(t)eo(n,"complete"),eo(n,"success");else{n.m=6;try{var u=2<kc(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",oO(n)}}finally{Lb(n)}}}function Lb(n,e){if(n.g){aO(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||eo(n,"ready");try{t.onreadystatechange=r}catch{}}}function aO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function kc(n){return n.g?n.g.readyState:0}function uO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case rO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cO(n){let e="";return tS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function bS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=cO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lr(n,e,t))}function B0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lO(n){this.Ga=0,this.j=[],this.l=new xb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=B0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=B0("baseRetryDelayMs",5e3,n),this.hb=B0("retryDelaySeedMs",1e4,n),this.eb=B0("forwardChannelMaxRetries",2,n),this.xa=B0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new YP(n&&n.concurrentRequestLimit),this.Ja=new G6,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TS(n){if(dO(n),3==n.H){var e=n.W++,t=id(n.I);if(lr(t,"SID",n.K),lr(t,"RID",e),lr(t,"TYPE","terminate"),j0(n,t),(e=new N0(n,n.l,e)).L=2,e.v=Ob(id(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon)try{t=Jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=DO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),P0(e)}yO(n)}function Ub(n){n.g&&(IS(n),n.g.cancel(),n.g=null)}function dO(n){Ub(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),Zb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function Vb(n){if(!QP(n.i)&&!n.m){n.m=!0;var e=n.Na;x0||IP(),I0||(x0(),I0=!0),dS.add(e,n),n.C=0}}function hO(n,e){var t;t=e?e.m:n.W++;const r=id(n.I);lr(r,"SID",n.K),lr(r,"RID",t),lr(r,"AID",n.V),j0(n,r),n.o&&n.s&&bS(r,n.o,n.s),t=new N0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=fO(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ES(n.i,t),vS(t,r,e)}function j0(n,e){n.na&&tS(n.na,function(t,r){lr(e,r,t)}),n.h&&GP({},function(t,r){lr(e,r,t)})}function fO(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yo(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let m=0;m<t;m++){let v=o[m].g;const x=o[m].map;if(v-=u,0>v)u=Math.max(0,o[m].g-100),f=!1;else try{q6(x,l,"req"+v+"_")}catch{r&&r(x)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function pO(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;x0||IP(),I0||(x0(),I0=!0),dS.add(e,n),n.A=0}}function xS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=M0(yo(n.Ma,n),_O(n,n.A)),n.A++,0))}function IS(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function gO(n){n.g=new N0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=id(n.wa);lr(e,"RID","rpc"),lr(e,"SID",n.K),lr(e,"AID",n.V),lr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lr(e,"TO",n.qa),lr(e,"TYPE","xmlhttp"),j0(n,e),n.o&&n.s&&bS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ob(id(e)),t.s=null,t.S=!0,ZP(t,n)}function Zb(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function mO(n,e){var t=null;if(n.g==e){Zb(n),IS(n),n.g=null;var r=2}else{if(!CS(n.i,e))return;t=e.F,eO(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;eo(r=Ib(),new RP(r,t)),Vb(n)}else pO(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function Q6(n,e){return!(XP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=M0(yo(n.Na,n,e),_O(n,n.C)),n.C++,0)))}(n,e)||2==r&&xS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Rp(n,5);break;case 4:Rp(n,10);break;case 3:Rp(n,6);break;default:Rp(n,2)}}function _O(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Rp(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yo(n.pb,n);t||(t=new Op("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||Nb(t,"https"),Ob(t)),function $6(n,e){const t=new xb;if(Jt.Image){const r=new Image;r.onload=Db(Rb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Db(Rb,t,r,"TestLoadImage: error",!1,e),r.onabort=Db(Rb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Db(Rb,t,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bo(2);n.H=0,n.h&&n.h.za(e),yO(n),dO(n)}function yO(n){if(n.H=0,n.ma=[],n.h){const e=tO(n.i);(0!=e.length||0!=n.j.length)&&(fP(n.ma,e),fP(n.ma,n.j),n.i.i.length=0,zA(n.j),n.j.length=0),n.h.ya()}}function vO(n,e,t){var r=t instanceof Op?id(t):new Op(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Pb(r,r.m);else{var o=Jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Op(null);r&&Nb(u,r),e&&(u.g=e),o&&Pb(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&lr(r,t,e),lr(r,"VER",n.ra),j0(n,r),r}function DO(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ur(t&&n.Ha&&!n.va?new U0({ob:!0}):n.va)).Oa(n.J),e}function CO(){}function Bb(){if(t_&&!(10<=Number(d6)))throw Error("Environmental error: no available transport.")}function Us(n,e){Li.call(this),this.g=new lO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!w0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!w0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new i_(this)}function EO(n){gS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wO(){mS.call(this),this.status=1}function i_(n){this.g=n}function wu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Un(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(st=Ur.prototype).Oa=function(n){this.M=n},st.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_S.g(),this.C=function LP(n){return n.h||(n.h=n.i())}(this.u?this.u:_S),this.g.onreadystatechange=yo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void iO(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Jt.FormData&&n instanceof Jt.FormData,!(0<=hP(W6,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aO(this),0<this.B&&((this.L=function J6(n){return t_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yo(this.ua,this)):this.A=fS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){iO(this,u)}},st.ua=function(){typeof qA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,eo(this,"complete"),eo(this,"abort"),Lb(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lb(this,!0)),Ur.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?sO(this):this.kb())},st.kb=function(){sO(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<kc(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),z6(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=lO.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new N0(this,this.l,n);let u=this.s;if(this.U&&(u?(u=yP(u),DP(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fO(this,o,e),lr(t=id(this.I),"RID",n),lr(t,"CVER",22),this.F&&lr(t,"X-HTTP-Session-Id",this.F),j0(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(cO(u)))+"&"+e:this.o&&bS(t,this.o,u)),ES(this.i,o),this.bb&&lr(t,"TYPE","init"),this.P?(lr(t,"$req",e),lr(t,"SID","null"),o.aa=!0,vS(o,t,null)):vS(o,t,e),this.H=2}}else 3==this.H&&(n?hO(this,n):0==this.j.length||QP(this.i)||hO(this))},st.Ma=function(){if(this.u=null,gO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=M0(yo(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bo(10),Ub(this),gO(this))},st.ib=function(){null!=this.v&&(this.v=null,Ub(this),xS(this),Bo(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bo(2)):(this.l.info("Failed to ping google.com"),Bo(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=CO.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},Bb.prototype.g=function(n,e){return new Us(n,e)},Fi(Us,Li),Us.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=vO(n,null,n.Y),Vb(n)},Us.prototype.close=function(){TS(this.g)},Us.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Vb(e)},Us.prototype.N=function(){this.g.h=null,delete this.j,TS(this.g),delete this.g,Us.$.N.call(this)},Fi(EO,gS),Fi(wO,mS),Fi(i_,CO),i_.prototype.Ba=function(){eo(this.g,"a")},i_.prototype.Aa=function(n){eo(this.g,new EO(n))},i_.prototype.za=function(n){eo(this.g,new wO)},i_.prototype.ya=function(){eo(this.g,"b")},Fi(wu,function X6(){this.blockSize=-1}),wu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)AS(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){AS(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){AS(this,r),o=0;break}}this.h=o,this.i+=e},wu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var eV={};function SS(n){return-128<=n&&128>n?function u6(n,e){var t=eV;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Un([0|e],0>e?-1:0)}):new Un([0|n],0>n?-1:0)}function Nc(n){if(isNaN(n)||!isFinite(n))return o_;if(0>n)return to(Nc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=MS;return new Un(e,0)}var MS=4294967296,o_=SS(0),kS=SS(1),TO=SS(16777216);function od(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wa(n){return-1==n.h}function to(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Un(t,~n.h).add(kS)}function jb(n,e){return n.add(to(e))}function Hb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function H0(n,e){this.g=n,this.h=e}function Gb(n,e){if(od(e))throw Error("division by zero");if(od(n))return new H0(o_,o_);if(wa(n))return e=Gb(to(n),e),new H0(to(e.g),to(e.h));if(wa(e))return e=Gb(n,to(e)),new H0(to(e.g),e.h);if(30<n.g.length){if(wa(n)||wa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kS,r=e;0>=r.X(n);)t=xO(t),r=xO(r);var o=s_(t,1),u=s_(r,1);for(r=s_(r,2),t=s_(t,2);!od(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=s_(r,1),t=s_(t,1)}return e=jb(n,o.R(e)),new H0(o,e)}for(o=o_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Nc(t)).R(e);wa(l)||0<l.X(n);)l=(u=Nc(t-=r)).R(e);od(u)&&(u=kS),o=o.add(u),n=jb(n,l)}return new H0(o,n)}function xO(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Un(t,n.h)}function s_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Un(o,n.h)}(st=Un.prototype).ea=function(){if(wa(this))return-to(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:MS+r)*e,e*=MS}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(od(this))return"0";if(wa(this))return"-"+to(this).toString(n);for(var e=Nc(Math.pow(n,6)),t=this,r="";;){var o=Gb(t,e).g,u=((0<(t=jb(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(od(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return wa(n=jb(this,n))?-1:od(n)?0:1},st.abs=function(){return wa(this)?to(this):this},st.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new Un(t,-2147483648&t[t.length-1]?-1:0)},st.R=function(n){if(od(this)||od(n))return o_;if(wa(this))return wa(n)?to(this).R(to(n)):to(to(this).R(n));if(wa(n))return to(this.R(to(n)));if(0>this.X(TO)&&0>n.X(TO))return Nc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(o)>>>16,m=65535&n.D(o);t[2*r+2*o]+=l*m,Hb(t,2*r+2*o),t[2*r+2*o+1]+=u*m,Hb(t,2*r+2*o+1),t[2*r+2*o+1]+=l*f,Hb(t,2*r+2*o+1),t[2*r+2*o+2]+=u*f,Hb(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Un(t,0)},st.gb=function(n){return Gb(this,n).h},st.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Un(t,this.h&n.h)},st.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Un(t,this.h|n.h)},st.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Un(t,this.h^n.h)},Bb.prototype.createWebChannel=Bb.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,Ab.NO_ERROR=0,Ab.TIMEOUT=8,Ab.HTTP_ERROR=6,FP.COMPLETE="complete",UP.EventType=k0,k0.OPEN="a",k0.CLOSE="b",k0.ERROR="c",k0.MESSAGE="d",Li.prototype.listen=Li.prototype.O,Ur.prototype.listenOnce=Ur.prototype.P,Ur.prototype.getLastError=Ur.prototype.Sa,Ur.prototype.getLastErrorCode=Ur.prototype.Ia,Ur.prototype.getStatus=Ur.prototype.da,Ur.prototype.getResponseJson=Ur.prototype.Wa,Ur.prototype.getResponseText=Ur.prototype.ja,Ur.prototype.send=Ur.prototype.ha,Ur.prototype.setWithCredentials=Ur.prototype.Oa,wu.prototype.digest=wu.prototype.l,wu.prototype.reset=wu.prototype.reset,wu.prototype.update=wu.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=Nc,Un.fromString=function bO(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return to(bO(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nc(Math.pow(e,8)),r=o_,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=Nc(Math.pow(e,u)),r=r.R(u).add(Nc(l))):r=(r=r.R(t)).add(Nc(l))}return r};var tV=Eu.createWebChannelTransport=function(){return new Bb},nV=Eu.getStatEventTarget=function(){return Ib()},NS=Eu.ErrorCode=Ab,rV=Eu.EventType=FP,iV=Eu.Event=Np,IO=Eu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oV=Eu.FetchXmlHttpFactory=U0,qb=Eu.WebChannel=UP,sV=Eu.XhrIo=Ur,aV=Eu.Md5=wu,a_=Eu.Integer=Un;const AO="@firebase/firestore";class Ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let u_="9.23.0";const Oh=new bc.Yd("@firebase/firestore");function PS(){return Oh.logLevel}function Ze(n,...e){if(Oh.logLevel<=bc.in.DEBUG){const t=e.map(OS);Oh.debug(`Firestore (${u_}): ${n}`,...t)}}function Kr(n,...e){if(Oh.logLevel<=bc.in.ERROR){const t=e.map(OS);Oh.error(`Firestore (${u_}): ${n}`,...t)}}function ba(n,...e){if(Oh.logLevel<=bc.in.WARN){const t=e.map(OS);Oh.warn(`Firestore (${u_}): ${n}`,...t)}}function OS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${u_}) INTERNAL ASSERTION FAILED: `+n;throw Kr(e),new Error(e)}function Tt(n,e){n||ft()}function ot(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class SO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ui.UNAUTHENTICATED))}shutdown(){}}class dV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hV{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=v=>this.i!==o?(o=this.i,t(v)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,te.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},m=v=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new SO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Ui(e)}}class fV{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class pV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new fV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gV{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.T=t.token,new MO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=mV(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function c_(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function NO(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new wr(0,0))}static max(){return new It(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class G0{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===G0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof G0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends G0{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const _V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends G0{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return _V.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const f=e[o];if("\\"===f){if(o+1===e.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(r+=f,o++):(u(),o++)}if(u(),l)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(bn.fromString(e))}static fromName(e){return new rt(bn.fromString(e).popFirst(5))}static empty(){return new rt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new bn(e.slice()))}}class $b{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function RS(n){return n.fields.find(e=>2===e.kind)}function Fp(n){return n.fields.filter(e=>2!==e.kind)}$b.UNKNOWN_ID=-1;class zb{constructor(e,t){this.fieldPath=e,this.kind=t}}class q0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new q0(0,Vs.min())}}function PO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=It.fromTimestamp(1e9===r?new wr(t+1,0):new wr(t,r));return new Vs(o,rt.empty(),e)}function OO(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vs(It.min(),rt.empty(),-1)}static max(){return new Vs(It.max(),rt.empty(),-1)}}function FS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rh(n){return LS.apply(this,arguments)}function LS(){return LS=(0,te.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==RO)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),LS.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let o=0,u=0,l=!1;e.forEach(f=>{++o,f.next(()=>{++u,l&&u===o&&t()},m=>r(m))}),l=!0,u===o&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(o=>o?ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,o)=>{const u=e.length,l=new Array(u);let f=0;for(let m=0;m<u;m++){const v=m;t(e[v]).next(x=>{l[v]=x,++f,f===u&&r(l)},x=>o(x))}})}static doWhile(e,t){return new ce((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Kb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new wi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new $0(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=US(r.target.error);this.v.reject(new $0(e,o))}}static open(e,t,r,o){try{return new Kb(t,e.transaction(o,r))}catch(u){throw new $0(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CV(t)}}class bu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===bu.S((0,Ht.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),Lp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ht.hl)())return!1;if(bu.C())return!0;const e=(0,Ht.z$)(),t=bu.S(e),r=0<t&&t<10,o=bu.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,te.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new $0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const f=l.target.error;o("VersionError"===f.name?new Re(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new $0(e,f))},u.onupgradeneeded=l=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,te.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.$(e);const m=Kb.open(u.db,e,l?"readonly":"readwrite",r),v=o(m).next(x=>(m.P(),x)).catch(x=>(m.abort(x),ce.reject(x))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,x="FirebaseError"!==v.name&&f<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),u.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DV{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Lp(this.L.delete())}}class $0 extends Re{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fh(n){return"IndexedDbTransactionError"===n.name}class CV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Lp(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),Lp(this.store.add(e))}get(e){return Lp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),Lp(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),Lp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(l,f)=>{u.push(f)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ce((u,l)=>{o.onerror=f=>{l(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new ce((r,o)=>{t.onerror=u=>{const l=US(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new ce((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void o();const m=new DV(f),v=t(f.primaryKey,f.value,m);if(v instanceof ce){const x=v.catch(I=>(m.done(),ce.reject(I)));r.push(x)}m.isDone?o():null===m.K?f.continue():f.continue(m.K)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lp(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=US(r.target.error);t(o)}})}let LO=!1;function US(n){const e=bu.S((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LO||(LO=!0,setTimeout(()=>{throw r},0)),r}}return n}class EV{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){t.task=null;try{Ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Fh(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rh(r)}yield t.et(6e4)}))}}class wV{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return ce.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,o).next(f=>{o-=f,r.add(l)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(o,u)).next(f=>(Ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=OO(u);FS(l,r)>0&&(r=l)}),new Vs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function z0(n){return null==n}function K0(n){return 0===n&&1/n==-1/0}function UO(n){return"number"==typeof n&&Number.isInteger(n)&&!K0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Do(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VO(e)),e=bV(n.get(t),e);return VO(e)}function bV(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function VO(n){return n+"\x01\x01"}function Pc(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&ft(),n.charAt(l+1)){case"\x01":const f=n.substring(u,l);let m;0===o.length?m=f:(o+=f,m=o,o=""),r.push(m);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:ft()}u=l+2}return new bn(r)}const ZO=["userId","batchId"];function Wb(n,e){return[n,Do(e)]}function BO(n,e,t){return[n,Do(e),t]}const TV={},xV=["prefixPath","collectionGroup","readTime","documentId"],IV=["prefixPath","collectionGroup","documentId"],AV=["collectionGroup","readTime","prefixPath","documentId"],SV=["canonicalId","targetId"],MV=["targetId","path"],kV=["path","targetId"],NV=["collectionId","parent"],PV=["indexId","uid"],OV=["uid","sequenceNumber"],RV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FV=["indexId","uid","orderedDocumentKey"],LV=["userId","collectionPath","documentId"],UV=["userId","collectionPath","largestBatchId"],VV=["userId","collectionGroup","largestBatchId"],jO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZV=[...jO,"documentOverlays"],HO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GO=HO,BV=[...GO,"indexConfiguration","indexState","indexEntries"];class VS extends FO{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Vi(n,e){const t=ot(n);return bu.M(t.ht,e)}function qO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $O(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rr{constructor(e,t){this.comparator=e,this.root=t||no.EMPTY}insert(e,t){return new rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jb(this.root,e,this.comparator,!0)}}class Jb{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??no.RED,this.left=o??no.EMPTY,this.right=u??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new no(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return no.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,o){return this}insert(n,e,t){return new no(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zO(this.data.getIterator())}getIteratorFrom(e){return new zO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class zO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function l_(n){return n.hasNext()?n.getNext():void 0}class ds{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new ds([])}unionWith(e){let t=new dr(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return c_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class KO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KO("Invalid base64 string: "+o):o}}(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const HV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uh(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=HV.exec(n);if(Tt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zr(n.seconds),nanos:Zr(n.nanos)}}function Zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sd(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function Yb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qb(n){const e=n.mapValue.fields.__previous_value__;return Yb(e)?Qb(e):e}function W0(n){const e=Uh(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class GV{constructor(e,t,r,o,u,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Vh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}const Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xb={nullValue:"NULL_VALUE"};function Bh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yb(n)?4:QO(n)?9007199254740991:10:ft()}function Oc(n,e){if(n===e)return!0;const t=Bh(n);if(t!==Bh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return W0(n).isEqual(W0(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Uh(r.timestampValue),l=Uh(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,sd(n.bytesValue).isEqual(sd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Zr(r.geoPointValue.latitude)===Zr(o.geoPointValue.latitude)&&Zr(r.geoPointValue.longitude)===Zr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Zr(r.integerValue)===Zr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Zr(r.doubleValue),l=Zr(o.doubleValue);return u===l?K0(u)===K0(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return c_(n.arrayValue.values||[],e.arrayValue.values||[],Oc);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(qO(u)!==qO(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!Oc(u[f],l[f])))return!1;return!0}(n,e);default:return ft()}var o}function J0(n,e){return void 0!==(n.values||[]).find(t=>Oc(t,e))}function jh(n,e){if(n===e)return 0;const t=Bh(n),r=Bh(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Zr(o.integerValue||o.doubleValue),f=Zr(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return WO(n.timestampValue,e.timestampValue);case 4:return WO(W0(n),W0(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=sd(o),f=sd(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),f=u.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=Wt(l[m],f[m]);if(0!==v)return v}return Wt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Wt(Zr(o.latitude),Zr(u.latitude));return 0!==l?l:Wt(Zr(o.longitude),Zr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],f=u.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=jh(l[m],f[m]);if(v)return v}return Wt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Zh.mapValue&&u===Zh.mapValue)return 0;if(o===Zh.mapValue)return 1;if(u===Zh.mapValue)return-1;const l=o.fields||{},f=Object.keys(l),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const I=Wt(f[x],v[x]);if(0!==I)return I;const L=jh(l[f[x]],m[v[x]]);if(0!==L)return L}return Wt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw ft()}}function WO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Uh(n),r=Uh(e),o=Wt(t.seconds,r.seconds);return 0!==o?o:Wt(t.nanos,r.nanos)}function d_(n){return ZS(n)}function ZS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Uh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sd(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=ZS(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${ZS(r.fields[f])}`;return u+"}"}(n.mapValue):ft();var e}function Up(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function BS(n){return!!n&&"integerValue"in n}function Y0(n){return!!n&&"arrayValue"in n}function JO(n){return!!n&&"nullValue"in n}function YO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function t1(n){return!!n&&"mapValue"in n}function Q0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Q0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Q0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qV(n){return"nullValue"in n?Xb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Up(Vh.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function $V(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Up(Vh.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zh:ft()}function XO(n,e){const t=jh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function eR(n,e){const t=jh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ro{constructor(e){this.value=e}static empty(){return new ro({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!t1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Q0(t)}setAll(e){let t=Vr.emptyPath(),r={},o=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=f.popLast()}l?r[f.lastSegment()]=Q0(l):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());t1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];t1(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Lh(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ro(Q0(this.value))}}function tR(n){const e=[];return Lh(n.fields,(t,r)=>{const o=new Vr([t]);if(t1(r)){const u=tR(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new ds(e)}class hr{constructor(e,t,r,o,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new hr(e,0,It.min(),It.min(),It.min(),ro.empty(),0)}static newFoundDocument(e,t,r,o){return new hr(e,1,t,It.min(),r,o,0)}static newNoDocument(e,t){return new hr(e,2,t,It.min(),It.min(),ro.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,It.min(),It.min(),ro.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function nR(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),t.key):jh(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function rR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oc(n.position[t],e.position[t]))return!1;return!0}class h_{constructor(e,t="asc"){this.field=e,this.dir=t}}function zV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class iR{}class vn extends iR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new KV(e,t,r):"array-contains"===t?new YV(e,r):"in"===t?new lR(e,r):"not-in"===t?new QV(e,r):"array-contains-any"===t?new XV(e,r):new vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new WV(e,r):new JV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jh(t,this.value)):null!==t&&Bh(this.value)===Bh(t)&&this.matchesComparison(jh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends iR{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vn(e,t)}matches(e){return f_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function f_(n){return"and"===n.op}function jS(n){return"or"===n.op}function HS(n){return oR(n)&&f_(n)}function oR(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function GS(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+d_(n.value);if(HS(n))return n.filters.map(e=>GS(e)).join(",");{const e=n.filters.map(t=>GS(t)).join(",");return`${n.op}(${e})`}}function sR(n,e){return n instanceof vn?(t=n,(r=e)instanceof vn&&t.op===r.op&&t.field.isEqual(r.field)&&Oc(t.value,r.value)):n instanceof Vn?function(t,r){return r instanceof Vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&sR(u,r.filters[l]),!0)}(n,e):void ft();var t,r}function aR(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function uR(n){return n instanceof vn?`${(e=n).field.canonicalString()} ${e.op} ${d_(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(uR).join(" ,")+"}"}(n):"Filter";var e}class KV extends vn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class WV extends vn{constructor(e,t){super(e,"in",t),this.keys=cR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JV extends vn{constructor(e,t){super(e,"not-in",t),this.keys=cR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class YV extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y0(t)&&J0(t.arrayValue,this.value)}}class lR extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&J0(this.value.arrayValue,t)}}class QV extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(J0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!J0(this.value.arrayValue,t)}}class XV extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>J0(this.value.arrayValue,r))}}class e4{constructor(e,t=null,r=[],o=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function qS(n,e=null,t=[],r=[],o=null,u=null,l=null){return new e4(n,e,t,r,o,u,l)}function Vp(n){const e=ot(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>GS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),z0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>d_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>d_(r)).join(",")),e.dt=t}return e.dt}function X0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rR(n.startAt,e.startAt)&&rR(n.endAt,e.endAt)}function n1(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function r1(n,e){return n.filters.filter(t=>t instanceof vn&&t.field.isEqual(e))}function dR(n,e,t){let r=Xb,o=!0;for(const u of r1(n,e)){let l=Xb,f=!0;switch(u.op){case"<":case"<=":l=qV(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,f=!1;break;case"!=":case"not-in":l=Xb}XO({value:r,inclusive:o},{value:l,inclusive:f})<0&&(r=l,o=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];XO({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function hR(n,e,t){let r=Zh,o=!0;for(const u of r1(n,e)){let l=Zh,f=!0;switch(u.op){case">=":case">":l=$V(u.value),f=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,f=!1;break;case"!=":case"not-in":l=Zh}eR({value:r,inclusive:o},{value:l,inclusive:f})>0&&(r=l,o=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];eR({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class ad{constructor(e,t=null,r=[],o=[],u=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function fR(n,e,t,r,o,u,l,f){return new ad(n,e,t,r,o,u,l,f)}function p_(n){return new ad(n)}function pR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $S(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function i1(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zS(n){return null!==n.collectionGroup}function Zp(n){const e=ot(n);if(null===e.wt){e.wt=[];const t=i1(e),r=$S(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new h_(t)),e.wt.push(new h_(Vr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new h_(Vr.keyField(),u))}}}return e.wt}function jo(n){const e=ot(n);if(!e._t)if("F"===e.limitType)e._t=qS(e.path,e.collectionGroup,Zp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Zp(e))t.push(new h_(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Hh(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Hh(e.startAt.position,e.startAt.inclusive):null;e._t=qS(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function KS(n,e){e.getFirstInequalityField(),i1(n);const t=n.filters.concat([e]);return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function o1(n,e,t){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eD(n,e){return X0(jo(n),jo(e))&&n.limitType===e.limitType}function gR(n){return`${Vp(jo(n))}|lt:${n.limitType}`}function WS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>uR(r)).join(", ")}]`),z0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>d_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>d_(r)).join(",")),`Target(${t})`}(jo(n))}; limitType=${n.limitType})`}function tD(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):rt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Zp(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const f=nR(o,u,l);return o.inclusive?f<=0:f<0}(t.startAt,Zp(t),r)||t.endAt&&!function(o,u,l){const f=nR(o,u,l);return o.inclusive?f>=0:f>0}(t.endAt,Zp(t),r)));var t,r}function mR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _R(n){return(e,t)=>{let r=!1;for(const o of Zp(n)){const u=t4(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function t4(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,u,l){const f=u.data.field(o),m=l.data.field(o);return null!==f&&null!==m?jh(f,m):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lh(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return $O(this.inner)}size(){return this.innerSize}}const n4=new rr(rt.comparator);function hs(){return n4}const yR=new rr(rt.comparator);function nD(...n){let e=yR;for(const t of n)e=e.insert(t.key,t);return e}function vR(n){let e=yR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Rc(){return rD()}function DR(){return rD()}function rD(){return new ud(n=>n.toString(),(n,e)=>n.isEqual(e))}const r4=new rr(rt.comparator),i4=new dr(rt.comparator);function rn(...n){let e=i4;for(const t of n)e=e.add(t);return e}const o4=new dr(Wt);function JS(){return o4}function CR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K0(e)?"-0":e}}function ER(n){return{integerValue:""+n}}function wR(n,e){return UO(e)?ER(e):CR(n,e)}class s1{constructor(){this._=void 0}}function s4(n,e,t){return n instanceof g_?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Yb(o)&&(o=Qb(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Bp?TR(n,e):n instanceof jp?xR(n,e):function(r,o){const u=bR(r,o),l=IR(u)+IR(r.gt);return BS(u)&&BS(r.gt)?ER(l):CR(r.serializer,l)}(n,e)}function a4(n,e,t){return n instanceof Bp?TR(n,e):n instanceof jp?xR(n,e):t}function bR(n,e){return n instanceof m_?BS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class g_ extends s1{}class Bp extends s1{constructor(e){super(),this.elements=e}}function TR(n,e){const t=AR(e);for(const r of n.elements)t.some(o=>Oc(o,r))||t.push(r);return{arrayValue:{values:t}}}class jp extends s1{constructor(e){super(),this.elements=e}}function xR(n,e){let t=AR(e);for(const r of n.elements)t=t.filter(o=>!Oc(o,r));return{arrayValue:{values:t}}}class m_ extends s1{constructor(e,t){super(),this.serializer=e,this.gt=t}}function IR(n){return Zr(n.integerValue||n.doubleValue)}function AR(n){return Y0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iD{constructor(e,t){this.field=e,this.transform=t}}class c4{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class u1{}function SR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new y_(n.key,br.none()):new __(n.key,n.data,br.none());{const t=n.data,r=ro.empty();let o=new dr(Vr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new cd(n.key,r,new ds(o.toArray()),br.none())}}function l4(n,e,t){n instanceof __?function(r,o,u){const l=r.value.clone(),f=NR(r.fieldTransforms,o,u.transformResults);l.setAll(f),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof cd?function(r,o,u){if(!a1(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=NR(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(kR(r)),f.setAll(l),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oD(n,e,t,r){return n instanceof __?function(o,u,l,f){if(!a1(o.precondition,u))return l;const m=o.value.clone(),v=PR(o.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof cd?function(o,u,l,f){if(!a1(o.precondition,u))return l;const m=PR(o.fieldTransforms,f,u),v=u.data;return v.setAll(kR(o)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):(l=t,a1(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function d4(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=bR(r.transform,o||null);null!=u&&(null===t&&(t=ro.empty()),t.set(r.field,u))}return t||null}function MR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&c_(t,r,(o,u)=>function u4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Bp&&r instanceof Bp||t instanceof jp&&r instanceof jp?c_(t.elements,r.elements,Oc):t instanceof m_&&r instanceof m_?Oc(t.gt,r.gt):t instanceof g_&&r instanceof g_);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class __ extends u1{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cd extends u1{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function NR(n,e,t){const r=new Map;Tt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,f=e.data.field(u.field);r.set(u.field,a4(l,f,t[o]))}return r}function PR(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,s4(u,l,e))}return r}class y_ extends u1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends u1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QS{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&l4(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=oD(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=oD(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DR();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(o.key)?null:f;const m=SR(l,f);null!==m&&r.set(o.key,m),l.isValidDocument()||l.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&c_(this.mutations,e.mutations,(t,r)=>MR(t,r))&&c_(this.baseMutations,e.baseMutations,(t,r)=>MR(t,r))}}class XS{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Tt(e.mutations.length===r.length);let o=r4;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new XS(e,t,r,o)}}class eM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class f4{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,Tn;function OR(n){switch(n){default:return ft();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function RR(n){if(void 0===n)return Kr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ui.OK:return ge.OK;case ui.CANCELLED:return ge.CANCELLED;case ui.UNKNOWN:return ge.UNKNOWN;case ui.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ui.INTERNAL:return ge.INTERNAL;case ui.UNAVAILABLE:return ge.UNAVAILABLE;case ui.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ui.NOT_FOUND:return ge.NOT_FOUND;case ui.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ui.ABORTED:return ge.ABORTED;case ui.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ui.DATA_LOSS:return ge.DATA_LOSS;default:return ft()}}(Tn=ui||(ui={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class tM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return c1}static getOrCreateInstance(){return null===c1&&(c1=new tM),c1}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let c1=null;function FR(){return new TextEncoder}const p4=new a_([4294967295,4294967295],0);function LR(n){const e=FR().encode(n),t=new aV;return t.update(e),new Uint8Array(t.digest())}function UR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new a_([t,r],0),new a_([o,u],0)]}class nM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sD(`Invalid padding: ${t}`);if(r<0)throw new sD(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sD(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sD(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=a_.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(a_.fromNumber(r)));return 1===o.compare(p4)&&(o=new a_([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=LR(e),[r,o]=UR(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new nM(u,o,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=LR(e),[r,o]=UR(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class aD{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,uD.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new aD(It.min(),o,new rr(Wt),hs(),rn())}}class uD{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uD(r,t,rn(),rn(),rn())}}class l1{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class VR{constructor(e,t){this.targetId=e,this.Vt=t}}class ZR{constructor(e,t,r=bi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class BR{constructor(){this.St=0,this.Dt=HR(),this.Ct=bi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=rn(),t=rn(),r=rn();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new uD(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=HR()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class g4{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=hs(),this.zt=jR(),this.Wt=new rr(Wt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(n1(l))if(0===o){const f=new rt(l.path);this.Yt(r,f,hr.newNoDocument(f,It.min()))}else Tt(1===o);else{const f=this.ie(r);if(f!==o){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,x,I){var L,B,$,ee,ae,Ve;const qe={localCacheCount:x,existenceFilterCount:I.count},Be=I.unchangedNames;return Be&&(qe.bloomFilter={applied:0===v,hashCount:null!==(L=Be?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(ee=null===($=null===(B=Be?.bits)||void 0===B?void 0:B.bitmap)||void 0===$?void 0:$.length)&&void 0!==ee?ee:0,padding:null!==(Ve=null===(ae=Be?.bits)||void 0===ae?void 0:ae.padding)&&void 0!==Ve?Ve:0}),qe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=sd(u).toUint8Array()}catch(x){if(x instanceof KO)return ba("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new nM(m,l,f)}catch(x){return ba(x instanceof sD?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:o!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&n1(f.target)){const m=new rt(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,hr.newNoDocument(m,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=rn();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new aD(e,t,this.Wt,this.jt,r);return this.jt=hs(),this.zt=jR(),this.Wt=new rr(Wt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new BR,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dr(Wt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new BR),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function jR(){return new rr(rt.comparator)}function HR(){return new rr(rt.comparator)}const m4={asc:"ASCENDING",desc:"DESCENDING"},_4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y4={and:"AND",or:"OR"};class v4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rM(n,e){return n.useProto3Json||z0(e)?e:{value:e}}function v_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function D4(n,e){return v_(n,e.toTimestamp())}function Wr(n){return Tt(!!n),It.fromTimestamp(function(e){const t=Uh(e);return new wr(t.seconds,t.nanos)}(n))}function iM(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qR(n){const e=bn.fromString(n);return Tt(eF(e)),e}function cD(n,e){return iM(n.databaseId,e.path)}function Fc(n,e){const t=qR(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(zR(t))}function oM(n,e){return iM(n.databaseId,e)}function $R(n){const e=qR(n);return 4===e.length?bn.emptyPath():zR(e)}function lD(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zR(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function KR(n,e,t){return{name:cD(n,e),fields:t.value.mapValue.fields}}function WR(n,e,t){const r=Fc(n,e.name),o=Wr(e.updateTime),u=e.createTime?Wr(e.createTime):It.min(),l=new ro({mapValue:{fields:e.fields}}),f=hr.newFoundDocument(r,o,u,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function dD(n,e){let t;if(e instanceof __)t={update:KR(n,e.key,e.value)};else if(e instanceof y_)t={delete:cD(n,e.key)};else if(e instanceof cd)t={update:KR(n,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof YS))return ft();t={verify:cD(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof g_)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Bp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof m_)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:D4(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),t;var o}function sM(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?br.updateTime(Wr(o.updateTime)):void 0!==o.exists?br.exists(o.exists):br.none():br.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let f=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),f=new g_):"appendMissingElements"in l?f=new Bp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new jp(l.removeAllFromArray.values||[]):"increment"in l?f=new m_(u,l.increment):ft();const m=Vr.fromServerFormat(l.fieldPath);return new iD(m,f)}(n,o)):[];var o;if(e.update){const o=Fc(n,e.update.name),u=new ro({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ds((e.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new cd(o,u,l,t,r)}return new __(o,u,t,r)}if(e.delete){const o=Fc(n,e.delete);return new y_(o,t)}if(e.verify){const o=Fc(n,e.verify);return new YS(o,t)}return ft()}function JR(n,e){return{documents:[oM(n,e.path)]}}function aM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0!==m.length)return XR(Vn.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(0!==m.length)return m.map(v=>{return{field:Gh((x=v).field),direction:T4(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=rM(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function YR(n){let e=$R(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Tt(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=function(x){const I=QR(x);return I instanceof Vn&&HS(I)?I.getFilters():[I]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new h_(D_((I=x).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(x){let I;return I="object"==typeof x?x.value:x,z0(I)?null:I}(t.limit));let m=null;var x;t.startAt&&(m=new Hh((x=t.startAt).values||[],!!x.before));let v=null;return t.endAt&&(v=function(x){return new Hh(x.values||[],!x.before)}(t.endAt)),fR(e,o,l,u,f,"F",m,v)}function QR(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=D_(e.unaryFilter.field);return vn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=D_(e.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=D_(e.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=D_(e.unaryFilter.field);return vn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?vn.create(D_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>QR(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function T4(n){return m4[n]}function x4(n){return _4[n]}function I4(n){return y4[n]}function Gh(n){return{fieldPath:n.canonicalString()}}function D_(n){return Vr.fromServerFormat(n.fieldPath)}function XR(n){return n instanceof vn?function(e){if("=="===e.op){if(YO(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NAN"}};if(JO(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(YO(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NAN"}};if(JO(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(e.field),op:x4(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(r=>XR(r));return 1===t.length?t[0]:{compositeFilter:{op:I4(e.op),filters:t}}}(n):ft()}function A4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(e,t,r,o,u=It.min(),l=It.min(),f=bi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tF{constructor(e){this.fe=e}}function nF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:d1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cD(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:v_(o,u.version.toTimestamp()),createTime:v_(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hp(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:Hp(e.version)}}var o,u;return r}function d1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gp(n){const e=new wr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function qp(n,e){const t=(e.baseMutations||[]).map(u=>sM(n.fe,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>sM(n.fe,u)),o=wr.fromMillis(e.localWriteTimeMs);return new QS(e.batchId,o,t,r)}function hD(n){const e=Gp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gp(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(Tt(1===(o=n.query).documents.length),r=jo(p_($R(o.documents[0])))):r=jo(YR(n.query)),new ld(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,bi.fromBase64String(n.resumeToken))}function rF(n,e){const t=Hp(e.snapshotVersion),r=Hp(e.lastLimboFreeSnapshotVersion);let o;o=n1(e.target)?JR(n.fe,e.target):aM(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vp(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function uM(n){const e=YR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?o1(e,e.limit,"L"):e}function cM(n,e){return new eM(e.largestBatchId,sM(n.fe,e.overlayMutation))}function iF(n,e){const t=e.path.lastSegment();return[n,Do(e.path.popLast()),t]}function oF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hp(r.readTime),documentKey:Do(r.documentKey.path),largestBatchId:r.largestBatchId}}class M4{getBundleMetadata(e,t){return sF(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Gp(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return sF(e).put({bundleId:(r=t).id,createTime:Hp(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return aF(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:uM(o.bundledQuery),readTime:Gp(o.readTime)};var o})}saveNamedQuery(e,t){return aF(e).put({name:(r=t).name,readTime:Hp(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function sF(n){return Vi(n,"bundles")}function aF(n){return Vi(n,"namedQueries")}class h1{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new h1(e,t.uid||"")}getOverlay(e,t){return fD(e).get(iF(this.userId,t)).next(r=>r?cM(this.serializer,r):null)}getOverlays(e,t){const r=Rc();return ce.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const f=new eM(t,l);o.push(this.we(e,f))}),ce.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(Do(l.getCollectionPath())));const u=[];return o.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(fD(e).J("collectionPathOverlayIndex",f))}),ce.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Rc(),u=Do(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return fD(e).j("collectionPathOverlayIndex",l).next(f=>{for(const m of f){const v=cM(this.serializer,m);o.set(v.getKey(),v)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Rc();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fD(e).X({index:"collectionGroupOverlayIndex",range:f},(m,v,x)=>{const I=cM(this.serializer,v);u.size()<o||I.largestBatchId===l?(u.set(I.getKey(),I),l=I.largestBatchId):x.done()}).next(()=>u)}we(e,t){return fD(e).put(function(r,o,u){const[l,f,m]=iF(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:dD(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function fD(n){return Vi(n,"documentOverlays")}class $p{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Zr(e.integerValue));else if("doubleValue"in e){const r=Zr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),K0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(sd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?QO(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function k4(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function uF(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=k4(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}$p.Ve=new $p;class N4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=uF(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=uF(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class P4{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class O4{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class pD{constructor(){this.je=new N4,this.ze=new P4(this.je),this.We=new O4(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class zp{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zp(this.indexId,this.documentKey,this.arrayValue,r)}}function qh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=cF(n.arrayValue,e.arrayValue),0!==t?t:(t=cF(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function cF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class R4{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Tt(e.collectionGroup===this.collectionId);const t=RS(e);if(void 0!==t&&!this.en(t))return!1;const r=Fp(e);let o=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const f=r[u];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++u}for(;u<r.length;++u){const f=r[u];if(l>=this.Ye.length||!this.sn(this.Ye[l++],f))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function lF(n){var e,t;if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn){if(n instanceof lR){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>vn.create(n.field,"==",u)))||[];return Vn.create(o,"or")}return n}const r=n.filters.map(o=>lF(o));return Vn.create(r,n.op)}function F4(n){if(0===n.getFilters().length)return[];const e=hM(lF(n));return Tt(dF(e)),lM(e)||dM(e)?[e]:e.getFilters()}function lM(n){return n instanceof vn}function dM(n){return n instanceof Vn&&HS(n)}function dF(n){return lM(n)||dM(n)||function(e){if(e instanceof Vn&&jS(e)){for(const t of e.getFilters())if(!lM(t)&&!dM(t))return!1;return!0}return!1}(n)}function hM(n){if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn)return n;if(1===n.filters.length)return hM(n.filters[0]);const e=n.filters.map(r=>hM(r));let t=Vn.create(e,n.op);return t=f1(t),dF(t)?t:(Tt(t instanceof Vn),Tt(f_(t)),Tt(t.filters.length>1),t.filters.reduce((r,o)=>fM(r,o)))}function fM(n,e){let t;return Tt(n instanceof vn||n instanceof Vn),Tt(e instanceof vn||e instanceof Vn),t=n instanceof vn?e instanceof vn?Vn.create([n,e],"and"):hF(n,e):e instanceof vn?hF(e,n):function(r,o){if(Tt(r.filters.length>0&&o.filters.length>0),f_(r)&&f_(o))return aR(r,o.getFilters());const u=jS(r)?r:o,l=jS(r)?o:r,f=u.filters.map(m=>fM(m,l));return Vn.create(f,"or")}(n,e),f1(t)}function hF(n,e){if(f_(e))return aR(e,n.getFilters());{const t=e.filters.map(r=>fM(n,r));return Vn.create(t,"or")}}function f1(n){if(Tt(n instanceof vn||n instanceof Vn),n instanceof vn)return n;const e=n.getFilters();if(1===e.length)return f1(e[0]);if(oR(n))return n;const t=e.map(o=>f1(o)),r=[];return t.forEach(o=>{o instanceof vn?r.push(o):o instanceof Vn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Vn.create(r,n.op)}class L4{constructor(){this.rn=new pM}addToCollectionParentIndex(e,t){return this.rn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Vs.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class pM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dr(bn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dr(bn.comparator)).toArray()}}const p1=new Uint8Array(0);class U4{constructor(e,t){this.user=e,this.databaseId=t,this.on=new pM,this.un=new ud(r=>Vp(r),(r,o)=>X0(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Do(o)};return fF(e).put(u)}return ce.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[NO(t),""],!1,!0);return fF(e).j(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Pc(l.parent))}return r})}addFieldIndex(e,t){const r=g1(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=mD(e);return u.next(f=>{l.put(oF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=g1(e),o=mD(e),u=gD(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=gD(e);let o=!0;const u=new Map;return ce.forEach(this.cn(t),l=>this.an(e,l).next(f=>{o&&(o=!!f),u.set(l,f)})).next(()=>{if(o){let l=rn();const f=[];return ce.forEach(u,(m,v)=>{var x;Ze("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Be=>`${Be.fieldPath}:${Be.kind}`).join(",")}`} to execute ${Vp(t)}`);const I=function(Be,We){const Vt=RS(We);if(void 0===Vt)return null;for(const Zt of r1(Be,Vt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(v,m),L=function(Be,We){const Vt=new Map;for(const Zt of Fp(We))for(const Cn of r1(Be,Zt.fieldPath))switch(Cn.op){case"==":case"in":Vt.set(Zt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Vt.set(Zt.fieldPath.canonicalString(),Cn.value),Array.from(Vt.values())}return null}(v,m),B=function(Be,We){const Vt=[];let Zt=!0;for(const Cn of Fp(We)){const Sr=0===Cn.kind?dR(Be,Cn.fieldPath,Be.startAt):hR(Be,Cn.fieldPath,Be.startAt);Vt.push(Sr.value),Zt&&(Zt=Sr.inclusive)}return new Hh(Vt,Zt)}(v,m),$=function(Be,We){const Vt=[];let Zt=!0;for(const Cn of Fp(We)){const Sr=0===Cn.kind?hR(Be,Cn.fieldPath,Be.endAt):dR(Be,Cn.fieldPath,Be.endAt);Vt.push(Sr.value),Zt&&(Zt=Sr.inclusive)}return new Hh(Vt,Zt)}(v,m),ee=this.hn(m,v,B),ae=this.hn(m,v,$),Ve=this.ln(m,v,L),qe=this.fn(m.indexId,I,ee,B.inclusive,ae,$.inclusive,Ve);return ce.forEach(qe,Be=>r.H(Be,t.limit).next(We=>{We.forEach(Vt=>{const Zt=rt.fromSegments(Vt.documentKey);l.has(Zt)||(l=l.add(Zt),f.push(Zt))})}))}).next(()=>f)}return ce.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:F4(Vn.create(e.filters,"and")).map(r=>qS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,l,f){const m=(null!=t?t.length:1)*Math.max(r.length,u.length),v=m/(null!=t?t.length:1),x=[];for(let I=0;I<m;++I){const L=t?this.dn(t[I/v]):p1,B=this.wn(e,L,r[I%v],o),$=this._n(e,L,u[I%v],l),ee=f.map(ae=>this.wn(e,L,ae,!0));x.push(...this.createRange(B,$,ee))}return x}wn(e,t,r,o){const u=new zp(e,rt.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new zp(e,rt.empty(),t,r);return o?u.Je():u}an(e,t){const r=new R4(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const f of u)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const o=this.cn(t);return ce.forEach(o,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new dr(Vr.comparator),v=!1;for(const x of f.filters)for(const I of x.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const x of f.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(v?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new pD;for(const o of Fp(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.He(o.kind);$p.Ve._e(u,l)}return r.Qe()}dn(e){const t=new pD;return $p.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new pD;return $p.Ve._e(Up(this.databaseId,t),r.He(function(o){const u=Fp(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new pD);let u=0;for(const l of Fp(e)){const f=r[u++];for(const m of o)if(this.yn(t,l.fieldPath)&&Y0(f))o=this.pn(o,l,f);else{const v=m.He(l.kind);$p.Ve._e(f,v)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const f of o){const m=new pD;m.seed(f.Qe()),$p.Ve._e(l,m.He(t.kind)),u.push(m)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof vn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=g1(e),o=mD(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return ce.forEach(u,f=>o.get([f.indexId,this.uid]).next(m=>{l.push(function(v,x){const I=x?new q0(x.sequenceNumber,new Vs(Gp(x.readTime),new rt(Pc(x.documentKey)),x.largestBatchId)):q0.empty(),L=v.fields.map(([B,$])=>new zb(Vr.fromServerFormat(B),$));return new $b(v.indexId,v.collectionGroup,L,I)}(f,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Wt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=g1(e),u=mD(e);return this.Tn(e).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,m=>u.put(oF(m.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?ce.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(f=>(r.set(o.collectionGroup,f),ce.forEach(f,m=>this.En(e,o,m).next(v=>{const x=this.An(u,m);return v.isEqual(x)?ce.resolve():this.vn(e,u,m,v,x)}))))})}Rn(e,t,r,o){return gD(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return gD(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=gD(e);let u=new dr(qh);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{u=u.add(new zp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}An(e,t){let r=new dr(qh);const o=this.mn(t,e);if(null==o)return r;const u=RS(t);if(null!=u){const l=e.data.field(u.fieldPath);if(Y0(l))for(const f of l.arrayValue.values||[])r=r.add(new zp(t.indexId,e.key,this.dn(f),o))}else r=r.add(new zp(t.indexId,e.key,p1,o));return r}vn(e,t,r,o,u){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,m,v,x,I){const L=f.getIterator(),B=m.getIterator();let $=l_(L),ee=l_(B);for(;$||ee;){let ae=!1,Ve=!1;if($&&ee){const qe=v($,ee);qe<0?Ve=!0:qe>0&&(ae=!0)}else null!=$?Ve=!0:ae=!0;ae?(x(ee),ee=l_(B)):Ve?(I($),$=l_(L)):($=l_(L),ee=l_(B))}}(o,u,qh,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),ce.waitFor(l)}Tn(e){let t=1;return mD(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>qh(l,f)).filter((l,f,m)=>!f||0!==qh(l,m[f-1]));const o=[];o.push(e);for(const l of r){const f=qh(l,e),m=qh(l,t);if(0===f)o[0]=e.Je();else if(f>0&&m<0)o.push(l),o.push(l.Je());else if(m>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,p1,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,p1,[]]))}return u}bn(e,t){return qh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pF)}getMinOffset(e,t){return ce.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||ft())).next(pF)}}function fF(n){return Vi(n,"collectionParents")}function gD(n){return Vi(n,"indexEntries")}function g1(n){return Vi(n,"indexConfiguration")}function mD(n){return Vi(n,"indexState")}function pF(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;FS(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Vs(e.readTime,e.documentKey,t)}const gF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Co{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mF(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let f=0;const m=r.X({range:l},(x,I,L)=>(f++,L.delete()));u.push(m.next(()=>{Tt(1===f)}));const v=[];for(const x of t.mutations){const I=BO(e,x.key.path,t.batchId);u.push(o.delete(I)),v.push(x.key)}return ce.waitFor(u).next(()=>v)}function m1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(41943040,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);class _1{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){Tt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new _1(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).X({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=C_(e),l=$h(e);return l.add({}).next(f=>{Tt("number"==typeof f);const m=new QS(f,t,r,o),v=function(L,B,$){const ee=$.baseMutations.map(Ve=>dD(L.fe,Ve)),ae=$.mutations.map(Ve=>dD(L.fe,Ve));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:ae}}(this.serializer,this.userId,m),x=[];let I=new dr((L,B)=>Wt(L.canonicalString(),B.canonicalString()));for(const L of o){const B=BO(this.userId,L.key.path,f);I=I.add(L.key.path.popLast()),x.push(l.put(v)),x.push(u.put(B,TV))}return I.forEach(L=>{x.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),ce.waitFor(x).next(()=>m)})}lookupMutationBatch(e,t){return $h(e).get(t).next(r=>r?(Tt(r.userId===this.userId),qp(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ce.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return $h(e).X({index:"userMutationsIndex",range:o},(l,f,m)=>{f.userId===this.userId&&(Tt(f.batchId>=r),u=qp(this.serializer,f)),m.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $h(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).j("userMutationsIndex",t).next(r=>r.map(o=>qp(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Wb(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return C_(e).X({range:o},(l,f,m)=>{const[v,x,I]=l,L=Pc(x);if(v===this.userId&&t.path.isEqual(L))return $h(e).get(I).next(B=>{if(!B)throw ft();Tt(B.userId===this.userId),u.push(qp(this.serializer,B))});m.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Wt);const o=[];return t.forEach(u=>{const l=Wb(this.userId,u.path),f=IDBKeyRange.lowerBound(l),m=C_(e).X({range:f},(v,x,I)=>{const[L,B,$]=v,ee=Pc(B);L===this.userId&&u.path.isEqual(ee)?r=r.add($):I.done()});o.push(m)}),ce.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Wb(this.userId,r),l=IDBKeyRange.lowerBound(u);let f=new dr(Wt);return C_(e).X({range:l},(m,v,x)=>{const[I,L,B]=m,$=Pc(L);I===this.userId&&r.isPrefixOf($)?$.length===o&&(f=f.add(B)):x.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push($h(e).get(u).next(l=>{if(null===l)throw ft();Tt(l.userId===this.userId),r.push(qp(this.serializer,l))}))}),ce.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return mF(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ce.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return C_(e).X({range:r},(u,l,f)=>{if(u[0]===this.userId){const m=Pc(u[1]);o.push(m)}else f.done()}).next(()=>{Tt(0===o.length)})})}containsKey(e,t){return _F(e,this.userId,t)}xn(e){return yF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _F(n,e,t){const r=Wb(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return C_(n).X({range:u,Y:!0},(f,m,v)=>{const[x,I,L]=f;x===e&&I===o&&(l=!0),v.done()}).next(()=>l)}function $h(n){return Vi(n,"mutations")}function C_(n){return Vi(n,"documentMutations")}function yF(n){return Vi(n,"mutationQueues")}class Kp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Kp(0)}static Mn(){return new Kp(-1)}}class V4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Kp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>E_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return E_(e).X((l,f)=>{const m=hD(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(o++,u.push(this.removeTargetData(e,m)))}).next(()=>ce.waitFor(u)).next(()=>o)}forEachTarget(e,t){return E_(e).X((r,o)=>{const u=hD(o);t(u)})}$n(e){return vF(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}On(e,t){return vF(e).put("targetGlobalKey",t)}Fn(e,t){return E_(e).put(rF(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vp(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return E_(e).X({range:o,index:"queryTargetsIndex"},(l,f,m)=>{const v=hD(f);X0(t,v.target)&&(u=v,m.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=zh(e);return t.forEach(l=>{const f=Do(l.path);o.push(u.put({targetId:r,path:f})),o.push(this.referenceDelegate.addReference(e,r,l))}),ce.waitFor(o)}removeMatchingKeys(e,t,r){const o=zh(e);return ce.forEach(t,u=>{const l=Do(u.path);return ce.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=zh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=zh(e);let u=rn();return o.X({range:r,Y:!0},(l,f,m)=>{const v=Pc(l[1]),x=new rt(v);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=Do(t.path),o=IDBKeyRange.bound([r],[NO(r)],!1,!0);let u=0;return zh(e).X({index:"documentTargetsIndex",Y:!0,range:o},([l,f],m,v)=>{0!==l&&(u++,v.done())}).next(()=>u>0)}le(e,t){return E_(e).get(t).next(r=>r?hD(r):null)}}function E_(n){return Vi(n,"targets")}function vF(n){return Vi(n,"targetGlobal")}function zh(n){return Vi(n,"targetDocuments")}function DF([n,e],[t,r]){const o=Wt(n,t);return 0===o?Wt(e,r):o}class Z4{constructor(e){this.Ln=e,this.buffer=new dr(DF),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();DF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Fh(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rh(r)}yield t.Qn(3e5)}))}}class B4{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Zs.ct);const r=new Z4(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(gF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gF):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,l,f,m,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,l=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(r=I,f=Date.now(),this.removeTargets(e,r,t))).next(I=>(u=I,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),PS()<=bc.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${o} in `+(f-l)+`ms\n\tRemoved ${u} targets in `+(m-f)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}class j4{constructor(e,t){this.db=e,this.garbageCollector=function EF(n,e){return new B4(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return y1(e,r)}removeReference(e,t,r){return y1(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return y1(e,t)}Xn(e,t){return function(r,o){let u=!1;return yF(r).Z(l=>_F(r,l,o).next(f=>(f&&(u=!0),ce.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(l,f)=>{if(f<=t){const m=this.Xn(e,l).next(v=>{if(!v)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,It.min()),zh(e).delete([0,Do(l.path)])))});o.push(m)}}).next(()=>ce.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return y1(e,t)}Yn(e,t){const r=zh(e);let o,u=Zs.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:m,sequenceNumber:v})=>{0===l?(u!==Zs.ct&&t(new rt(Pc(o)),u),u=v,o=m):u=Zs.ct}).next(()=>{u!==Zs.ct&&t(new rt(Pc(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y1(n,e){return zh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Do(e.path),sequenceNumber:r}));var r}class wF{constructor(){this.changes=new ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class H4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wp(e).put(r)}removeEntry(e,t,r){return Wp(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],d1(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=hr.newInvalidDocument(t);return Wp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_D(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:hr.newInvalidDocument(t)};return Wp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_D(t))},(o,u)=>{r={document:this.ts(t,u),size:m1(u)}}).next(()=>r)}getEntries(e,t){let r=hs();return this.ns(e,t,(o,u)=>{const l=this.ts(o,u);r=r.insert(o,l)}).next(()=>r)}ss(e,t){let r=hs(),o=new rr(rt.comparator);return this.ns(e,t,(u,l)=>{const f=this.ts(u,l);r=r.insert(u,f),o=o.insert(u,m1(l))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return ce.resolve();let o=new dr(IF);t.forEach(m=>o=o.add(m));const u=IDBKeyRange.bound(_D(o.first()),_D(o.last())),l=o.getIterator();let f=l.getNext();return Wp(e).X({index:"documentKeyIndex",range:u},(m,v,x)=>{const I=rt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&IF(f,I)<0;)r(f,null),f=l.getNext();f&&f.isEqual(I)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?x.G(_D(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),d1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wp(e).j(IDBKeyRange.bound(l,f,!0)).next(m=>{let v=hs();for(const x of m){const I=this.ts(rt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);I.isFoundDocument()&&(tD(t,I)||o.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(e,t,r,o){let u=hs();const l=xF(t,r),f=xF(t,Vs.max());return Wp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(m,v,x)=>{const I=this.ts(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);u=u.insert(I.key,I),u.size===o&&x.done()}).next(()=>u)}newChangeBuffer(e){return new G4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return TF(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Zn(e,t){return TF(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function S4(n,e){let t;if(e.document)t=WR(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),o=Gp(e.noDocument.readTime);t=hr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=rt.fromSegments(e.unknownDocument.path),o=Gp(e.unknownDocument.version);t=hr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new wr(r[0],r[1]);return It.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return hr.newInvalidDocument(e)}}function bF(n){return new H4(n)}class G4 extends wF{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ud(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new dr((u,l)=>Wt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const f=this.us.get(u);if(t.push(this.os.removeEntry(e,u,f.readTime)),l.isValidDocument()){const m=nF(this.os.serializer,l);o=o.add(u.path.popLast()),r+=m1(m)-f.size,t.push(this.os.addEntry(e,u,m))}else if(r-=f.size,this.trackRemovals){const m=nF(this.os.serializer,l.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,u,m))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function TF(n){return Vi(n,"remoteDocumentGlobal")}function Wp(n){return Vi(n,"remoteDocumentsV14")}function _D(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xF(n,e){const t=e.documentKey.path.toArray();return[n,d1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function IF(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Wt(t[u],r[u]),o)return o;return o=Wt(t.length,r.length),o||(o=Wt(t[t.length-2],r[r.length-2]),o||Wt(t[t.length-1],r[r.length-1]))}class q4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class AF{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&oD(r.mutation,o,ds.empty(),wr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rn()){const o=Rc();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=nD();return u.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Rc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rn()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,o){let u=hs();const l=rD(),f=rD();return t.forEach((m,v)=>{const x=r.get(v.key);o.has(v.key)&&(void 0===x||x.mutation instanceof cd)?u=u.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),oD(x.mutation,v,x.mutation.getFieldMask(),wr.now())):l.set(v.key,ds.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((v,x)=>l.set(v,x)),t.forEach((v,x)=>{var I;return f.set(v,new q4(x,null!==(I=l.get(v))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(e,t){const r=rD();let o=new rr((l,f)=>l-f),u=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let x=r.get(m)||ds.empty();x=f.applyToLocalView(v,x),r.set(m,x);const I=(o.get(f.batchId)||rn()).add(m);o=o.insert(f.batchId,I)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,x=m.value,I=DR();x.forEach(L=>{if(!u.has(L)){const B=SR(t.get(L),r.get(L));null!==B&&I.set(L,B),u=u.add(L)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,I))}return ce.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ce.resolve(Rc());let f=-1,m=u;return l.next(v=>ce.forEach(v,(x,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),u.get(x)?ce.resolve():this.remoteDocumentCache.getEntry(e,x).next(L=>{m=m.insert(x,L)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,m,v,rn())).next(x=>({batchId:f,changes:vR(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let o=nD();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=nD();return this.indexManager.getCollectionParents(e,o).next(l=>ce.forEach(l,f=>{const m=(v=t,x=f.child(o),new ad(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((x,I)=>{u=u.insert(x,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((f,m)=>{const v=m.getKey();null===u.get(v)&&(u=u.insert(v,hr.newInvalidDocument(v)))});let l=nD();return u.forEach((f,m)=>{const v=o.get(f);void 0!==v&&oD(v.mutation,m,ds.empty(),wr.now()),tD(t,m)&&(l=l.insert(f,m))}),l})}}class $4{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ce.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:uM(r.bundledQuery),readTime:Wr(r.readTime)}),ce.resolve();var r}}class z4{constructor(){this.overlays=new rr(rt.comparator),this.ls=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Rc();return ce.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=Rc(),u=t.length+1,l=new rt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new rr((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let x=u.get(v.largestBatchId);null===x&&(x=Rc(),u=u.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=Rc(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return ce.resolve(f)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eM(t,r));let u=this.ls.get(t);void 0===u&&(u=rn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class gM{constructor(){this.fs=new dr(Zi.ds),this.ws=new dr(Zi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Zi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Zi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new rt(new bn([])),r=new Zi(t,e),o=new Zi(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new bn([])),r=new Zi(t,e),o=new Zi(t,e+1);let u=rn();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Zi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||Wt(e.As,t.As)}static _s(e,t){return Wt(e.As,t.As)||rt.comparator(e.key,t.key)}}class K4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dr(Zi.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new QS(u,t,r,o);this.mutationQueue.push(l);for(const f of o)this.Rs=this.Rs.add(new Zi(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,t){return ce.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zi(t,0),o=new Zi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const f=this.Ps(l.As);u.push(f)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Wt);return t.forEach(o=>{const u=new Zi(o,0),l=new Zi(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),ce.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;rt.isDocumentKey(u)||(u=u.child(""));const l=new Zi(new rt(u),0);let f=new dr(Wt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.As)),!0)},l),ce.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Tt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ce.forEach(t.mutations,o=>{const u=new Zi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Zi(t,0),o=this.Rs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class W4{constructor(e){this.Ds=e,this.docs=new rr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=hs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():hr.newInvalidDocument(o))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=hs();const l=t.path,f=new rt(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||FS(OO(x),r)<=0||(o.has(x.key)||tD(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ce.resolve(u)}getAllFromCollectionGroup(e,t,r,o){ft()}Cs(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J4(this)}getSize(e){return ce.resolve(this.size)}}class J4 extends wF{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Y4{constructor(e){this.persistence=e,this.xs=new ud(t=>Vp(t),X0),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gM,this.targetCount=0,this.Ms=Kp.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ce.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Kp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Fn(t),ce.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ce.waitFor(u).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.ks.containsKey(t))}}class mM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Y4(this),this.indexManager=new L4,this.remoteDocumentCache=new W4(r=>this.referenceDelegate.Ls(r)),this.serializer=new tF(t),this.qs=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new K4(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const o=new Q4(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return ce.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Q4 extends FO{constructor(e){super(),this.currentSequenceNumber=e}}class v1{constructor(e){this.persistence=e,this.Qs=new gM,this.js=null}static zs(e){return new v1(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,r=>{const o=rt.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ce.or([()=>ce.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class X4{constructor(e){this.serializer=e}O(e,t,r,o){const u=new Kb("createOrUpgrade",t);var f;r<1&&o>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZO,{unique:!0}),f.createObjectStore("documentMutations"),SF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ce.resolve();return r<3&&o>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),SF(e)),l=l.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZO,{unique:!0});const x=m.store("mutations"),I=v.map(L=>x.put(L));return ce.waitFor(I)})}(e,u))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(u))),r<6&&o>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(u))),r<8&&o>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.ei(u))),r<11&&o>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:LV});m.createIndex("collectionPathOverlayIndex",UV,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",VV,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:xV});m.createIndex("documentKeyIndex",IV),m.createIndex("collectionGroupIndex",AV)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(e,u))),r<15&&o>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:PV}).createIndex("sequenceNumberIndex",OV,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:RV}).createIndex("documentKeyIndex",FV,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=m1(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>ce.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>ce.forEach(f,m=>{Tt(m.userId===u.userId);const v=qp(this.serializer,m);return mF(e,u.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((l,f)=>{const m=new bn(l),v=[0,Do(m)];u.push(t.get(v).next(x=>x?ce.resolve():t.put({targetId:0,path:Do(m),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ce.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:NV});const r=t.store("collectionParents"),o=new pM,u=l=>{if(o.add(l)){const f=l.lastSegment(),m=l.popLast();return r.put({collectionId:f,parent:Do(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const m=new bn(l);return u(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,m],v)=>{const x=Pc(f);return u(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=hD(o),l=rF(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,l)=>{const f=t.store("remoteDocumentsV14"),m=(v=l,v.document?new rt(bn.fromString(v.document.name).popFirst(5)):v.noDocument?rt.fromSegments(v.noDocument.path):v.unknownDocument?rt.fromSegments(v.unknownDocument.path):ft()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(f.put(x))}).next(()=>ce.waitFor(o))}si(e,t){const r=t.store("mutations"),o=bF(this.serializer),u=new mM(v1.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(m=>{var v;let x=null!==(v=f.get(m.userId))&&void 0!==v?v:rn();qp(this.serializer,m).keys().forEach(I=>x=x.add(I)),f.set(m.userId,x)}),ce.forEach(f,(m,v)=>{const x=new Ui(v),I=h1.de(this.serializer,x),L=u.getIndexManager(x),B=_1.de(x,this.serializer,L,u.referenceDelegate);return new AF(o,B,I,L).recalculateAndSaveOverlaysForDocumentKeys(new VS(t,Zs.ct),m).next()})})}}function SF(n){n.createObjectStore("targetDocuments",{keyPath:MV}).createIndex("documentTargetsIndex",kV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SV,{unique:!0}),n.createObjectStore("targetGlobal")}const _M="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yM{constructor(e,t,r,o,u,l,f,m,v,x,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=f,this.ri=v,this.oi=x,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=L=>Promise.resolve(),!yM.D())throw new Re(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j4(this,o),this.di=t+"main",this.serializer=new tF(m),this.wi=new bu(this.di,this.ui,new X4(this.serializer)),this.Bs=new V4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bF(this.serializer),this.qs=new M4,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,_M);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Zs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,te.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>C1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Fh(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return yD(e).get("owner").next(t=>ce.resolve(this.Ri(t)))}Pi(e){return C1(e).delete(this.clientId)}bi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vi(r,"clientMetadata");return o.j().next(u=>{const l=e.Si(u,18e5),f=u.filter(m=>-1===l.indexOf(m));return ce.forEach(f,m=>o.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ce.resolve(!0):yD(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(ge.FAILED_PRECONDITION,_M);return!1}}return!(!this.networkEnabled||!this.inForeground)||C1(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>{if(this.clientId!==o.clientId){const l=!this.inForeground&&o.inForeground,f=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new VS(t,Zs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>C1(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return _1.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new U4(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return h1.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?BV:14===l?GO:13===l?HO:12===l?ZV:11===l?jO:void ft();var l;let f;return this.wi.runTransaction(e,o,u,m=>(f=new VS(m,this.Os?this.Os.next():Zs.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ge.FAILED_PRECONDITION,RO);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return yD(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ge.FAILED_PRECONDITION,_M)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yD(e).put("owner",t)}static D(){return bu.D()}Ai(e){const t=yD(e);return t.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ht.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yD(n){return Vi(n,"owner")}function C1(n){return Vi(n,"clientMetadata")}function vM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DM{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=rn(),o=rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new DM(e,t.fromCache,r,o)}}class MF{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(pR(t))return ce.resolve(null);let r=jo(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=o1(t,null,"F"),r=jo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=rn(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,o1(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,o){return pR(t)||o.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(PS()<=bc.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),WS(t)),this.Wi(e,l,t,PO(o,-1)))})}ji(e,t){let r=new dr(_R(e));return t.forEach((o,u)=>{tD(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return PS()<=bc.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",WS(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vs.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class e8{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new rr(Wt),this.Yi=new ud(u=>Vp(u),X0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kF(n,e,t,r){return new e8(n,e,t,r)}function NF(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,te.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let m=rn();for(const v of o){l.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of u){f.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),CM.apply(this,arguments)}function t8(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const x=m.batch,I=x.keys();let L=ce.resolve();return I.forEach(B=>{L=L.next(()=>v.getEntry(f,B)).next($=>{const ee=m.docVersions.get(B);Tt(null!==ee),$.version.compareTo(ee)<0&&(x.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),v.addEntry($)))})}),L.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=rn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function PF(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function n8(n,e){const t=ot(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const f=[];e.targetChanges.forEach((x,I)=>{const L=o.get(I);if(!L)return;f.push(t.Bs.removeMatchingKeys(u,x.removedDocuments,I).next(()=>t.Bs.addMatchingKeys(u,x.addedDocuments,I)));let B=L.withSequenceNumber(u.currentSequenceNumber);var $,ee,ae;null!==e.targetMismatches.get(I)?B=B.withResumeToken(bi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(x.resumeToken,r)),o=o.insert(I,B),ee=B,ae=x,(0===($=L).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,B))});let m=hs(),v=rn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),f.push(OF(u,l,e.documentUpdates).next(x=>{m=x.nr,v=x.sr})),!r.isEqual(It.min())){const x=t.Bs.getLastRemoteSnapshotVersion(u).next(I=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(x)}return ce.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,v)).next(()=>m)}).then(u=>(t.Ji=o,u))}function OF(n,e,t){let r=rn(),o=rn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=hs();return t.forEach((f,m)=>{const v=u.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):Ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:o}})}function r8(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,ce.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new ld(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function b_(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,te.Z)(function*(n,e,t){const r=ot(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Fh(l))throw l;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),EM.apply(this,arguments)}function E1(n,e,t){const r=ot(n);let o=It.min(),u=rn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const x=ot(f),I=x.Yi.get(v);return void 0!==I?ce.resolve(x.Ji.get(I)):x.Bs.getTargetData(m,v)}(r,l,jo(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{u=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:It.min(),t?u:rn())).next(f=>(LF(r,mR(e),f),{documents:f,ir:u})))}function RF(n,e){const t=ot(n),r=ot(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function FF(n,e){const t=ot(n),r=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,PO(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(LF(t,e,o),o))}function LF(n,e,t){let r=n.Xi.get(e)||It.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function wM(){return wM=(0,te.Z)(function*(n,e,t,r){const o=ot(n);let u=rn(),l=hs();for(const v of t){const x=e.rr(v.metadata.name);v.document&&(u=u.add(x));const I=e.ur(v);I.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(x,I)}const f=o.Zi.newChangeBuffer({trackRemovals:!0}),m=yield w_(o,(v=r,jo(p_(bn.fromString(`__bundle__/docs/${v}`)))));var v;return o.persistence.runTransaction("Apply bundle documents","readwrite",v=>OF(v,f,l).next(x=>(f.apply(v),x)).next(x=>o.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>o.Bs.addMatchingKeys(v,u,m.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),wM.apply(this,arguments)}function o8(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,te.Z)(function*(n,e,t=rn()){const r=yield w_(n,jo(uM(e.bundledQuery))),o=ot(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=Wr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(u,e);const f=r.withResumeToken(bi.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(f.targetId,f),o.Bs.updateTargetData(u,f).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),bM.apply(this,arguments)}function UF(n,e){return`firestore_clients_${n}_${e}`}function VF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TM(n,e){return`firestore_targets_${n}_${e}`}class w1{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new Re(o.error.code,o.error.message))),l?new w1(e,t,o.state,u):(Kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vD{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Re(r.error.code,r.error.message))),u?new vD(e,r.state,o):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class b1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=JS();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=UO(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new b1(e,u):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xM{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xM(t.clientId,t.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IM{constructor(){this.activeTargetIds=JS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AM{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new rr(Wt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=UF(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new IM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(UF(e.persistenceKey,o));if(u){const l=b1.ar(o,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TM(this.persistenceKey,e));if(r){const o=vD.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TM(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let l=Zs.ct;if(null!=u)try{const f=JSON.parse(u);Tt("number"==typeof f),l=f}catch(f){Kr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);o!==Zs.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new w1(this.currentUser,e,t,r),u=VF(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=VF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=TM(this.persistenceKey,e),u=new vD(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return b1.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return w1.ar(new Ui(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return vD.ar(o,t)}br(e){return xM.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),l=[],f=[];return u.forEach(m=>{o.has(m)||l.push(m)}),o.forEach(m=>{u.has(m)||f.push(m)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=JS();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class ZF{constructor(){this.Hr=new IM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new IM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s8{Yr(e){}shutdown(){}}class BF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let T1=null;function SM(){return null===T1?T1=268435456+Math.round(2147483648*Math.random()):T1++,"0x"+T1.toString(16)}const a8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u8{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Eo="WebChannelConnection";class c8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=SM(),f=this.To(e,t);Ze("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,o,u),this.Ao(e,f,m,r).then(v=>(Ze("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw ba("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+u_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${a8[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=SM();return new Promise((l,f)=>{const m=new sV;m.setWithCredentials(!0),m.listenOnce(rV.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case NS.NO_ERROR:const x=m.getResponseJson();Ze(Eo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),l(x);break;case NS.TIMEOUT:Ze(Eo,`RPC '${e}' ${u} timed out`),f(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case NS.HTTP_ERROR:const I=m.getStatus();if(Ze(Eo,`RPC '${e}' ${u} failed with status:`,I,"response text:",m.getResponseText()),I>0){let L=m.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const $=function(ee){const ae=ee.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ae)>=0?ae:ge.UNKNOWN}(B.status);f(new Re($,B.message))}else f(new Re(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(Eo,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);Ze(Eo,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const o=SM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=tV(),f=nV(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new oV({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const x=u.join("");Ze(Eo,`Creating RPC '${e}' stream ${o}: ${x}`,m);const I=l.createWebChannel(x,m);let L=!1,B=!1;const $=new u8({ro:ae=>{B?Ze(Eo,`Not sending because RPC '${e}' stream ${o} is closed:`,ae):(L||(Ze(Eo,`Opening RPC '${e}' stream ${o} transport.`),I.open(),L=!0),Ze(Eo,`RPC '${e}' stream ${o} sending:`,ae),I.send(ae))},oo:()=>I.close()}),ee=(ae,Ve,qe)=>{ae.listen(Ve,Be=>{try{qe(Be)}catch(We){setTimeout(()=>{throw We},0)}})};return ee(I,qb.EventType.OPEN,()=>{B||Ze(Eo,`RPC '${e}' stream ${o} transport opened.`)}),ee(I,qb.EventType.CLOSE,()=>{B||(B=!0,Ze(Eo,`RPC '${e}' stream ${o} transport closed`),$.wo())}),ee(I,qb.EventType.ERROR,ae=>{B||(B=!0,ba(Eo,`RPC '${e}' stream ${o} transport errored:`,ae),$.wo(new Re(ge.UNAVAILABLE,"The operation could not be completed")))}),ee(I,qb.EventType.MESSAGE,ae=>{var Ve;if(!B){const qe=ae.data[0];Tt(!!qe);const Be=qe,We=Be.error||(null===(Ve=Be[0])||void 0===Ve?void 0:Ve.error);if(We){Ze(Eo,`RPC '${e}' stream ${o} received error:`,We);const Vt=We.status;let Zt=function(Sr){const wo=ui[Sr];if(void 0!==wo)return RR(wo)}(Vt),Cn=We.message;void 0===Zt&&(Zt=ge.INTERNAL,Cn="Unknown error status: "+Vt+" with message "+We.message),B=!0,$.wo(new Re(Zt,Cn)),I.close()}else Ze(Eo,`RPC '${e}' stream ${o} received:`,qe),$._o(qe)}}),ee(f,iV.STAT_EVENT,ae=>{ae.stat===IO.PROXY?Ze(Eo,`RPC '${e}' stream ${o} detected buffering proxy`):ae.stat===IO.NOPROXY&&Ze(Eo,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function jF(){return typeof window<"u"?window:null}function x1(){return typeof document<"u"?document:null}function DD(n){return new v4(n,!0)}class MM{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class HF{constructor(e,t,r,o,u,l,f,m){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l8 extends HF{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function E4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ft(),o=e.targetChange.targetIds||[],u=function(m,v){return m.useProto3Json?(Tt(void 0===v||"string"==typeof v),bi.fromBase64String(v||"")):(Tt(void 0===v||v instanceof Uint8Array),bi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ge.UNKNOWN:RR(m.code);return new Re(v,m.message||"")}(l);t=new ZR(r,o,u,f||null)}else if("documentChange"in e){const r=e.documentChange,o=Fc(n,r.document.name),u=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):It.min(),f=new ro({mapValue:{fields:r.document.fields}}),m=hr.newFoundDocument(o,u,l,f);t=new l1(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Fc(n,r.document),u=r.readTime?Wr(r.readTime):It.min(),l=hr.newNoDocument(o,u);t=new l1([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=Fc(n,r.document);t=new l1([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ft();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new f4(o,u);t=new VR(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return It.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Wr(u.readTime):It.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=lD(this.serializer),t.addTarget=function(o,u){let l;const f=u.target;if(l=n1(f)?{documents:JR(o,f)}:{query:aM(o,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=GR(o,u.resumeToken);const m=rM(o,u.expectedCount);null!==m&&(l.expectedCount=m)}else if(u.snapshotVersion.compareTo(It.min())>0){l.readTime=v_(o,u.snapshotVersion.toTimestamp());const m=rM(o,u.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function b4(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=lD(this.serializer),t.removeTarget=e,this.Wo(t)}}class d8 extends HF{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function w4(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,o){let u=Wr(r.updateTime?r.updateTime:o);return u.isEqual(It.min())&&(u=Wr(o)),new c4(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.cu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lD(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dD(this.serializer,r))};this.Wo(t)}}class h8 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ge.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(ge.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class p8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kr(t),this.mu=!1):Ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g8{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,te.Z)(function*(){var m;Kh(l)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,te.Z)(function*(v){const x=ot(v);x.vu.add(4),yield T_(x),x.bu.set("Unknown"),x.vu.delete(4),yield CD(x)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new p8(r,o)}}function CD(n){return NM.apply(this,arguments)}function NM(){return NM=(0,te.Z)(function*(n){if(Kh(n))for(const e of n.Ru)yield e(!0)}),NM.apply(this,arguments)}function T_(n){return PM.apply(this,arguments)}function PM(){return PM=(0,te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),PM.apply(this,arguments)}function I1(n,e){const t=ot(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),FM(t)?RM(t):I_(t).Ko()&&OM(t,e))}function ED(n,e){const t=ot(n),r=I_(t);t.Au.delete(e),r.Ko()&&GF(t,e),0===t.Au.size&&(r.Ko()?r.jo():Kh(t)&&t.bu.set("Unknown"))}function OM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}I_(n).su(e)}function GF(n,e){n.Vu.qt(e),I_(n).iu(e)}function RM(n){n.Vu=new g4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),I_(n).start(),n.bu.gu()}function FM(n){return Kh(n)&&!I_(n).Uo()&&n.Au.size>0}function Kh(n){return 0===ot(n).vu.size}function qF(n){n.Vu=void 0}function m8(n){return LM.apply(this,arguments)}function LM(){return LM=(0,te.Z)(function*(n){n.Au.forEach((e,t)=>{OM(n,e)})}),LM.apply(this,arguments)}function _8(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,te.Z)(function*(n,e){qF(n),FM(n)?(n.bu.Iu(e),RM(n)):n.bu.set("Unknown")}),UM.apply(this,arguments)}function y8(n,e,t){return VM.apply(this,arguments)}function VM(){return VM=(0,te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof ZR&&2===e.state&&e.cause)try{yield(r=(0,te.Z)(function*(o,u){const l=u.cause;for(const f of u.targetIds)o.Au.has(f)&&(yield o.remoteSyncer.rejectListen(f,l),o.Au.delete(f),o.Vu.removeTarget(f))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield A1(n,r)}else if(e instanceof l1?n.Vu.Ht(e):e instanceof VR?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const r=yield PF(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Au.get(m);v&&o.Au.set(m,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,m)=>{const v=o.Au.get(f);if(!v)return;o.Au.set(f,v.withResumeToken(bi.EMPTY_BYTE_STRING,v.snapshotVersion)),GF(o,f);const x=new ld(v.target,f,m,v.sequenceNumber);OM(o,x)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield A1(n,r)}var r}),VM.apply(this,arguments)}function A1(n,e,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,te.Z)(function*(n,e,t){if(!Fh(e))throw e;n.vu.add(1),yield T_(n),n.bu.set("Offline"),t||(t=()=>PF(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield CD(n)}))}),ZM.apply(this,arguments)}function $F(n,e){return e().catch(t=>A1(n,t,e))}function x_(n){return BM.apply(this,arguments)}function BM(){return BM=(0,te.Z)(function*(n){const e=ot(n),t=Wh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;v8(e);)try{const o=yield r8(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,D8(e,o)}catch(o){yield A1(e,o)}zF(e)&&KF(e)}),BM.apply(this,arguments)}function v8(n){return Kh(n)&&n.Eu.length<10}function D8(n,e){n.Eu.push(e);const t=Wh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function zF(n){return Kh(n)&&!Wh(n).Uo()&&n.Eu.length>0}function KF(n){Wh(n).start()}function C8(n){return jM.apply(this,arguments)}function jM(){return jM=(0,te.Z)(function*(n){Wh(n).hu()}),jM.apply(this,arguments)}function E8(n){return HM.apply(this,arguments)}function HM(){return HM=(0,te.Z)(function*(n){const e=Wh(n);for(const t of n.Eu)e.uu(t.mutations)}),HM.apply(this,arguments)}function w8(n,e,t){return GM.apply(this,arguments)}function GM(){return GM=(0,te.Z)(function*(n,e,t){const r=n.Eu.shift(),o=XS.from(r,e,t);yield $F(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield x_(n)}),GM.apply(this,arguments)}function b8(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,te.Z)(function*(n,e){var t;e&&Wh(n).ou&&(yield(t=(0,te.Z)(function*(r,o){if(OR(u=o.code)&&u!==ge.ABORTED){const l=r.Eu.shift();Wh(r).Qo(),yield $F(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield x_(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),zF(n)&&KF(n)}),qM.apply(this,arguments)}function WF(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,te.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Kh(t);t.vu.add(3),yield T_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield CD(t)}),$M.apply(this,arguments)}function zM(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,te.Z)(function*(n,e){const t=ot(n);e?(t.vu.delete(2),yield CD(t)):e||(t.vu.add(2),yield T_(t),t.bu.set("Unknown"))}),KM.apply(this,arguments)}function I_(n){return n.Su||(n.Su=function(e,t,r){const o=ot(e);return o.fu(),new l8(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:m8.bind(null,n),ao:_8.bind(null,n),nu:y8.bind(null,n)}),n.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(n.Su.Qo(),FM(n)?RM(n):n.bu.set("Unknown")):(yield n.Su.stop(),qF(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Wh(n){return n.Du||(n.Du=function(e,t,r){const o=ot(e);return o.fu(),new d8(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:C8.bind(null,n),ao:b8.bind(null,n),au:E8.bind(null,n),cu:w8.bind(null,n)}),n.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(n.Du.Qo(),yield x_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class WM{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,f=new WM(e,t,l,o,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),Fh(n))return new Re(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class S_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=nD(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new S_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof S_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new S_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class JF{constructor(){this.Cu=new rr(rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class M_{constructor(e,t,r,o,u,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new M_(e,t,S_.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eD(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class T8{constructor(){this.Nu=void 0,this.listeners=[]}}class x8{constructor(){this.queries=new ud(e=>gR(e),eD),this.onlineState="Unknown",this.ku=new Set}}function JM(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,te.Z)(function*(n,e){const t=ot(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new T8),o)try{u.Nu=yield t.onListen(r)}catch(l){const f=A_(l,`Initialization of query '${WS(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&ek(t)}),YM.apply(this,arguments)}function QM(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,te.Z)(function*(n,e){const t=ot(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),XM.apply(this,arguments)}function I8(n,e){const t=ot(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const f of l.listeners)f.$u(o)&&(r=!0);l.Nu=o}}r&&ek(t)}function A8(n,e,t){const r=ot(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function ek(n){n.ku.forEach(e=>{e.next()})}class tk{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new M_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=M_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class S8{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class YF{constructor(e){this.serializer=e}rr(e){return Fc(this.serializer,e)}ur(e){return e.metadata.exists?WR(this.serializer,e.document,!1):hr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wr(e)}}class M8{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QF(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new YF(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const l of o.metadata.queries){const f=(t.get(l)||rn()).add(u);t.set(l,f)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function i8(n,e,t,r){return wM.apply(this,arguments)}(e.localStore,new YF(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield o8(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function QF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XF{constructor(e){this.key=e}}class e3{constructor(e){this.key=e}}class t3{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=_R(e),this.ec=new S_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new JF,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,f=!1;const m="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,v="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,I)=>{const L=o.get(x),B=tD(this.query,I)?I:null,$=!!L&&this.mutatedKeys.has(L.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ae=!1;L&&B?L.data.isEqual(B.data)?$!==ee&&(r.track({type:3,doc:B}),ae=!0):this.rc(L,B)||(r.track({type:2,doc:B}),ae=!0,(m&&this.tc(B,m)>0||v&&this.tc(B,v)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),ae=!0):L&&!B&&(r.track({type:1,doc:L}),ae=!0,(m||v)&&(f=!0)),ae&&(B?(l=l.add(B),u=ee?u.add(x):u.delete(x)):(l=l.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,x)=>function(I,L){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return B(I)-B(L)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==u.length||m?{snapshot:new M_(this.query,e.ec,o,u,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new JF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=rn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new e3(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new XF(r))}),t}hc(e){this.Yu=e.ir,this.Zu=rn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return M_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class k8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class N8{constructor(e){this.key=e,this.fc=!1}}class P8{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ud(f=>gR(f),eD),this._c=new Map,this.mc=new Set,this.gc=new rr(rt.comparator),this.yc=new Map,this.Ic=new gM,this.Tc={},this.Ec=new Map,this.Ac=Kp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function O8(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,te.Z)(function*(n,e){const t=Tk(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield w_(t.localStore,jo(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield rk(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&I1(t.remoteStore,l)}return o}),nk.apply(this,arguments)}function rk(n,e,t,r,o){return ik.apply(this,arguments)}function ik(){return ik=(0,te.Z)(function*(n,e,t,r,o){n.Rc=(I,L,B)=>{return($=(0,te.Z)(function*(ee,ae,Ve,qe){let Be=ae.view.sc(Ve);Be.zi&&(Be=yield E1(ee.localStore,ae.query,!1).then(({documents:Zt})=>ae.view.sc(Zt,Be)));const We=qe&&qe.targetChanges.get(ae.targetId),Vt=ae.view.applyChanges(Be,ee.isPrimaryClient,We);return pk(ee,ae.targetId,Vt.cc),Vt.snapshot}),function(ee,ae,Ve,qe){return $.apply(this,arguments)})(n,I,L,B);var $};const u=yield E1(n.localStore,e,!0),l=new t3(e,u.ir),f=l.sc(u.documents),m=uD.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),v=l.applyChanges(f,n.isPrimaryClient,m);pk(n,t,v.cc);const x=new k8(e,t,l);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),ik.apply(this,arguments)}function R8(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,te.Z)(function*(n,e){const t=ot(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!eD(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield b_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ED(t.remoteStore,r.targetId),k_(t,r.targetId)}).catch(Rh))):(k_(t,r.targetId),yield b_(t.localStore,r.targetId,!0))}),ok.apply(this,arguments)}function sk(){return sk=(0,te.Z)(function*(n,e,t){const r=xk(n);try{const o=yield function(u,l){const f=ot(u),m=wr.now(),v=l.reduce((L,B)=>L.add(B.key),rn());let x,I;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=hs(),$=rn();return f.Zi.getEntries(L,v).next(ee=>{B=ee,B.forEach((ae,Ve)=>{Ve.isValidDocument()||($=$.add(ae))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(ee=>{x=ee;const ae=[];for(const Ve of l){const qe=d4(Ve,x.get(Ve.key).overlayedDocument);null!=qe&&ae.push(new cd(Ve.key,qe,tR(qe.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(L,m,ae,l)}).next(ee=>{I=ee;const ae=ee.applyToLocalDocumentSet(x,$);return f.documentOverlayCache.saveOverlays(L,ee.batchId,ae)})}).then(()=>({batchId:I.batchId,changes:vR(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,f){let m=u.Tc[u.currentUser.toKey()];m||(m=new rr(Wt)),m=m.insert(l,f),u.Tc[u.currentUser.toKey()]=m}(r,o.batchId,t),yield dd(r,o.changes),yield x_(r.remoteStore)}catch(o){const u=A_(o,"Failed to persist write");t.reject(u)}}),sk.apply(this,arguments)}function n3(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,te.Z)(function*(n,e){const t=ot(n);try{const r=yield n8(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(Tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?Tt(l.fc):o.removedDocuments.size>0&&(Tt(l.fc),l.fc=!1))}),yield dd(t,r,e)}catch(r){yield Rh(r)}}),ak.apply(this,arguments)}function r3(n,e,t){const r=ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&o.push(f.snapshot)}),function(u,l){const f=ot(u);f.onlineState=l;let m=!1;f.queries.forEach((v,x)=>{for(const I of x.listeners)I.Mu(l)&&(m=!0)}),m&&ek(f)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L8(n,e,t){return uk.apply(this,arguments)}function uk(){return uk=(0,te.Z)(function*(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new rr(rt.comparator);l=l.insert(u,hr.newNoDocument(u,It.min()));const f=rn().add(u),m=new aD(It.min(),new Map,new rr(Wt),l,f);yield n3(r,m),r.gc=r.gc.remove(u),r.yc.delete(e),gk(r)}else yield b_(r.localStore,e,!1).then(()=>k_(r,e,t)).catch(Rh)}),uk.apply(this,arguments)}function U8(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,te.Z)(function*(n,e){const t=ot(n),r=e.batch.batchId;try{const o=yield t8(t.localStore,e);fk(t,r,null),hk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,o)}catch(o){yield Rh(o)}}),ck.apply(this,arguments)}function V8(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=(0,te.Z)(function*(n,e,t){const r=ot(n);try{const o=yield function(u,l){const f=ot(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(x=>(Tt(null!==x),v=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);fk(r,e,t),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,o)}catch(o){yield Rh(o)}}),lk.apply(this,arguments)}function dk(){return dk=(0,te.Z)(function*(n,e){const t=ot(n);Kh(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=ot(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=A_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),dk.apply(this,arguments)}function hk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function fk(n,e,t){const r=ot(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function k_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||i3(n,r)})}function i3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ED(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),gk(n))}function pk(n,e,t){for(const r of t)r instanceof XF?(n.Ic.addReference(r.key,e),B8(n,r)):r instanceof e3?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||i3(n,r.key)):ft()}function B8(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),gk(n))}function gk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(bn.fromString(e)),r=n.Ac.next();n.yc.set(r,new N8(t)),n.gc=n.gc.insert(t,r),I1(n.remoteStore,new ld(jo(p_(t.path)),r,"TargetPurposeLimboResolution",Zs.ct))}}function dd(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,te.Z)(function*(n,e,t){const r=ot(n),o=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){o.push(v);const x=DM.Li(m.targetId,v);u.push(x)}}))}),yield Promise.all(l),r.dc.nu(o),yield(f=(0,te.Z)(function*(m,v){const x=ot(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ce.forEach(v,L=>ce.forEach(L.Fi,B=>x.persistence.referenceDelegate.addReference(I,L.targetId,B)).next(()=>ce.forEach(L.Bi,B=>x.persistence.referenceDelegate.removeReference(I,L.targetId,B)))))}catch(I){if(!Fh(I))throw I;Ze("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const L=I.targetId;if(!I.fromCache){const B=x.Ji.get(L),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);x.Ji=x.Ji.insert(L,ee)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,u))}),mk.apply(this,arguments)}function j8(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,te.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield NF(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Re(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.er)}var o}),_k.apply(this,arguments)}function H8(n,e){const t=ot(n),r=t.yc.get(e);if(r&&r.fc)return rn().add(r.key);{let o=rn();const u=t._c.get(e);if(!u)return o;for(const l of u){const f=t.wc.get(l);o=o.unionWith(f.view.nc)}return o}}function G8(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,te.Z)(function*(n,e){const t=ot(n),r=yield E1(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&pk(t,e.targetId,o.cc),o}),yk.apply(this,arguments)}function q8(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,te.Z)(function*(n,e){const t=ot(n);return FF(t.localStore,e).then(r=>dd(t,r))}),vk.apply(this,arguments)}function $8(n,e,t,r){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,te.Z)(function*(n,e,t,r){const o=ot(n),u=yield function(l,f){const m=ot(l),v=ot(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,f).next(I=>I?m.localDocuments.getDocuments(x,I):ce.resolve(null)))}(o.localStore,e);var f;null!==u?("pending"===t?yield x_(o.remoteStore):"acknowledged"===t||"rejected"===t?(fk(o,e,r||null),hk(o,e),f=e,ot(ot(o.localStore).mutationQueue).Cn(f)):ft(),yield dd(o,u)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),Dk.apply(this,arguments)}function Ck(){return Ck=(0,te.Z)(function*(n,e){const t=ot(n);if(Tk(t),xk(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield o3(t,r.toArray());t.vc=!0,yield zM(t.remoteStore,!0);for(const u of o)I1(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(k_(t,l),b_(t.localStore,l,!0))),ED(t.remoteStore,l)}),yield o,yield o3(t,r),function(u){const l=ot(u);l.yc.forEach((f,m)=>{ED(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new rr(rt.comparator)}(t),t.vc=!1,yield zM(t.remoteStore,!1)}}),Ck.apply(this,arguments)}function o3(n,e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,te.Z)(function*(n,e,t){const r=ot(n),o=[],u=[];for(const l of e){let f;const m=r._c.get(l);if(m&&0!==m.length){f=yield w_(r.localStore,jo(m[0]));for(const v of m){const x=r.wc.get(v),I=yield G8(r,x);I.snapshot&&u.push(I.snapshot)}}else{const v=yield RF(r.localStore,l);f=yield w_(r.localStore,v),yield rk(r,s3(v),l,!1,f.resumeToken)}o.push(f)}return r.dc.nu(u),o}),Ek.apply(this,arguments)}function s3(n){return fR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function K8(n){const e=ot(n);return ot(ot(e.localStore).persistence).$i()}function W8(n,e,t,r){return wk.apply(this,arguments)}function wk(){return wk=(0,te.Z)(function*(n,e,t,r){const o=ot(n);if(o.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield FF(o.localStore,mR(u[0])),f=aD.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bi.EMPTY_BYTE_STRING);yield dd(o,l,f);break}case"rejected":yield b_(o.localStore,e,!0),k_(o,e,r);break;default:ft()}}),wk.apply(this,arguments)}function J8(n,e,t){return bk.apply(this,arguments)}function bk(){return bk=(0,te.Z)(function*(n,e,t){const r=Tk(n);if(r.vc){for(const o of e){if(r._c.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const u=yield RF(r.localStore,o),l=yield w_(r.localStore,u);yield rk(r,s3(u),l.targetId,!1,l.resumeToken),I1(r.remoteStore,l)}for(const o of t)r._c.has(o)&&(yield b_(r.localStore,o,!1).then(()=>{ED(r.remoteStore,o),k_(r,o)}).catch(Rh))}}),bk.apply(this,arguments)}function Tk(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L8.bind(null,e),e.dc.nu=I8.bind(null,e.eventManager),e.dc.Pc=A8.bind(null,e.eventManager),e}function xk(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V8.bind(null,e),e}class wD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=DD(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kF(this.persistence,new MF,e.initialUser,this.serializer)}createPersistence(e){return new mM(v1.zs,this.serializer)}createSharedClientState(e){return new ZF}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ik extends wD{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,te.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield xk(r.Vc.syncEngine),yield x_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kF(this.persistence,new MF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new wV(t,this.persistence);return new EV(e.asyncQueue,r)}createPersistence(e){const t=vM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Co.withCacheSize(this.cacheSizeBytes):Co.DEFAULT;return new yM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jF(),x1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ZF}}class a3 extends Ik{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,te.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof AM&&(r.sharedClientState.syncEngine={jr:$8.bind(null,o),zr:W8.bind(null,o),Wr:J8.bind(null,o),$i:K8.bind(null,o),Qr:q8.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,te.Z)(function*(l){yield function z8(n,e){return Ck.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jF();if(!AM.D(t))throw new Re(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class N_{initialize(e,t){var r=this;return(0,te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>r3(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=j8.bind(null,r.syncEngine),yield zM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new x8}createDatastore(e){const t=DD(e.databaseInfo.databaseId),r=new c8(e.databaseInfo);return new h8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=f=>r3(this.syncEngine,f,0),l=BF.D()?new BF:new s8,new g8(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,f,m,v){const x=new P8(r,o,u,l,f,m);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const r=ot(t);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield T_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function u3(n,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class S1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X8{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new S8(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class eZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,te.Z)(function*(u,l){const f=ot(u),m=lD(f.serializer)+"/documents",v={documents:l.map(B=>cD(f.serializer,B))},x=yield f.vo("BatchGetDocuments",m,v,l.length),I=new Map;x.forEach(B=>{const $=function C4(n,e){return"found"in e?function(t,r){Tt(!!r.found);const o=Fc(t,r.found.name),u=Wr(r.found.updateTime),l=r.found.createTime?Wr(r.found.createTime):It.min(),f=new ro({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(o,u,l,f)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const o=Fc(t,r.missing),u=Wr(r.readTime);return hr.newNoDocument(o,u)}(n,e):ft()}(f.serializer,B);I.set($.key.toString(),$)});const L=[];return l.forEach(B=>{const $=I.get(B.toString());Tt(!!$),L.push($)}),L}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new y_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=rt.fromPath(o);e.mutations.push(new YS(u,e.precondition(u)))}),yield(r=(0,te.Z)(function*(o,u){const l=ot(o),f=lD(l.serializer)+"/documents",m={writes:u.map(v=>dD(l.serializer,v))};yield l.Io("Commit",f,m)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Re(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tZ{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new MM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,te.Z)(function*(){const t=new eZ(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!z0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!OR(t)}return!1}}class nZ{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ui.UNAUTHENTICATED,this.clientId=kO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,te.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=A_(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function M1(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,te.Z)(function*(u){r.isEqual(u)||(yield NF(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Ak.apply(this,arguments)}function Sk(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kk(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>WF(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>WF(e.remoteStore,u)),n._onlineComponents=e}),Mk.apply(this,arguments)}function c3(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function kk(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield M1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!c3(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),yield M1(n,new wD)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield M1(n,new wD);return n._offlineComponents}),Nk.apply(this,arguments)}function k1(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sk(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield Sk(n,new N_))),n._onlineComponents}),Pk.apply(this,arguments)}function l3(n){return kk(n).then(e=>e.persistence)}function N1(n){return kk(n).then(e=>e.localStore)}function d3(n){return k1(n).then(e=>e.remoteStore)}function Ok(n){return k1(n).then(e=>e.syncEngine)}function P_(n){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,te.Z)(function*(n){const e=yield k1(n),t=e.eventManager;return t.onListen=O8.bind(null,e.syncEngine),t.onUnlisten=R8.bind(null,e.syncEngine),t}),Rk.apply(this,arguments)}function f3(n,e,t={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,u,l,f,m){const v=new S1({next:I=>{u.enqueueAndForget(()=>QM(o,x));const L=I.docs.has(l);!L&&I.fromCache?m.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&I.fromCache&&f&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new tk(p_(l.path),v,{includeMetadataChanges:!0,Ku:!0});return JM(o,x)}(yield P_(n),n.asyncQueue,e,t,r)})),r.promise}function p3(n,e,t={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,u,l,f,m){const v=new S1({next:I=>{u.enqueueAndForget(()=>QM(o,x)),I.fromCache&&"server"===f.source?m.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new tk(l,v,{includeMetadataChanges:!0,Ku:!0});return JM(o,x)}(yield P_(n),n.asyncQueue,e,t,r)})),r.promise}function g3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const m3=new Map;function Fk(n,e,t){if(!t)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _3(n,e,t,r){if(!0===e&&!0===r)throw new Re(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y3(n){if(!rt.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v3(n){if(rt.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function P1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=P1(n);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function D3(n,e){if(e<=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class C3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bD{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lV;switch(t.type){case"firstParty":return new pV(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m3.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),m3.delete(e),t.terminate())}(this),Promise.resolve()}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class io{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class Lc extends io{constructor(e,t,r){super(e,t,p_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new rt(e))}withConverter(e){return new Lc(this.firestore,e,this._path)}}function w3(n,e,...t){if(n=(0,Ht.m9)(n),Fk("collection","path",e),n instanceof bD){const r=bn.fromString(e,...t);return v3(r),new Lc(n,null,r)}{if(!(n instanceof fr||n instanceof Lc))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return v3(r),new Lc(n.firestore,null,r)}}function O1(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=kO.A()),Fk("doc","path",e),n instanceof bD){const r=bn.fromString(e,...t);return y3(r),new fr(n,null,new rt(r))}{if(!(n instanceof fr||n instanceof Lc))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return y3(r),new fr(n.firestore,n instanceof Lc?n.converter:null,new rt(r))}}function b3(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof fr||n instanceof Lc)&&(e instanceof fr||e instanceof Lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Lk(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof io&&e instanceof io&&n.firestore===e.firestore&&eD(n._query,e._query)&&n.converter===e.converter}class hZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MM(this,"async_queue_retry"),this.Xc=()=>{const t=x1();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=x1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=x1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new wi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Fh(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=WM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Uk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class fZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends bD{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new hZ,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||T3(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||T3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function T3(n){var e,t,r;const o=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GV(n._databaseId,f,n._persistenceKey,(v=o).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,g3(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new nZ(n._authCredentials,n._appCheckCredentials,n._queue,u),(null===(t=o.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=o.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function x3(n,e,t){const r=new wi;return n.asyncQueue.enqueue((0,te.Z)(function*(){try{yield M1(n,t),yield Sk(n,e),r.resolve()}catch(o){const u=o;if(!c3(u))throw u;ba("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function I3(n){if(n._initialized||n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(bi.fromBase64String(e))}catch(t){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uc(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._methodName=e}}class R1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const bZ=/^__.*__$/;class TZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cd(e,this.data,this.fieldMask,t,this.fieldTransforms):new __(e,this.data,t,this.fieldTransforms)}}class A3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function S3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class F1{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new F1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return V1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(S3(this.ca)&&bZ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xZ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||DD(e)}ya(e,t,r,o=!1){return new F1({ca:e,methodName:t,ga:r,path:Vr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(n){const e=n._freezeSettings(),t=DD(n._databaseId);return new xZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L1(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);jk("Data must be an object, but it was:",l,r);const f=N3(r,l);let m,v;if(u.merge)m=new ds(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const x=[];for(const I of u.mergeFields){const L=ID(e,I,t);if(!l.contains(L))throw new Re(ge.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);O3(x,L)||x.push(L)}m=new ds(x),v=l.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=l.fieldTransforms;return new TZ(new ro(f),m,v)}class xD extends Jp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xD}}function M3(n,e,t){return new F1({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vk extends Jp{_toFieldTransform(e){return new iD(e.path,new g_)}isEqual(e){return e instanceof Vk}}class IZ extends Jp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=M3(this,e,!0),r=this.pa.map(u=>Qp(u,t)),o=new Bp(r);return new iD(e.path,o)}isEqual(e){return this===e}}class AZ extends Jp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=M3(this,e,!0),r=this.pa.map(u=>Qp(u,t)),o=new jp(r);return new iD(e.path,o)}isEqual(e){return this===e}}class SZ extends Jp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new m_(e.serializer,wR(e.serializer,this.Ia));return new iD(e.path,t)}isEqual(e){return this===e}}function Zk(n,e,t,r){const o=n.ya(1,e,t);jk("Data must be an object, but it was:",o,r);const u=[],l=ro.empty();Lh(r,(m,v)=>{const x=U1(e,m,t);v=(0,Ht.m9)(v);const I=o.da(x);if(v instanceof xD)u.push(x);else{const L=Qp(v,I);null!=L&&(u.push(x),l.set(x,L))}});const f=new ds(u);return new A3(l,f,o.fieldTransforms)}function Bk(n,e,t,r,o,u){const l=n.ya(1,e,t),f=[ID(e,r,t)],m=[o];if(u.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)f.push(ID(e,u[L])),m.push(u[L+1]);const v=[],x=ro.empty();for(let L=f.length-1;L>=0;--L)if(!O3(v,f[L])){const B=f[L];let $=m[L];$=(0,Ht.m9)($);const ee=l.da(B);if($ instanceof xD)v.push(B);else{const ae=Qp($,ee);null!=ae&&(v.push(B),x.set(B,ae))}}const I=new ds(v);return new A3(x,I,l.fieldTransforms)}function k3(n,e,t,r=!1){return Qp(t,n.ya(r?4:3,e))}function Qp(n,e){if(P3(n=(0,Ht.m9)(n)))return jk("Unsupported field value:",e,n),N3(n,e);if(n instanceof Jp)return function(t,r){if(!S3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let f=Qp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wR(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=wr.fromDate(t);return{timestampValue:v_(r.serializer,o)}}if(t instanceof wr){const o=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:v_(r.serializer,o)}}if(t instanceof R1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uc)return{bytesValue:GR(r.serializer,t._byteString)};if(t instanceof fr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${P1(t)}`)}(n,e)}function N3(n,e){const t={};return $O(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lh(n,(r,o)=>{const u=Qp(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function P3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof R1||n instanceof Uc||n instanceof fr||n instanceof Jp)}function jk(n,e,t){if(!P3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=P1(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function ID(n,e,t){if((e=(0,Ht.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return U1(n,e);throw V1("Field path arguments must be of type string or ",n,!1,void 0,t)}const MZ=new RegExp("[~\\*/\\[\\]]");function U1(n,e,t){if(e.search(MZ)>=0)throw V1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw V1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V1(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||l)&&(m+=" (found",u&&(m+=` in field ${r}`),l&&(m+=` in document ${o}`),m+=")"),new Re(ge.INVALID_ARGUMENT,f+n+m)}function O3(n,e){return n.some(t=>t.isEqual(e))}class AD{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Z1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kZ extends AD{data(){return super.data()}}function Z1(n,e){return"string"==typeof e?U1(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function R3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hk{}class SD extends Hk{}function Jh(n,e,...t){let r=[];e instanceof Hk&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof O_).length,l=o.filter(f=>f instanceof MD).length;if(u>1||u>0&&l>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class MD extends SD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new MD(e,t,r)}_apply(e){const t=this._parse(e);return V3(e._query,t),new io(e.firestore,e.converter,KS(e._query,t))}_parse(e){const t=Yp(e.firestore);return function(o,u,l,f,m,v,x){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){U3(x,v);const L=[];for(const B of x)L.push(L3(f,o,B));I={arrayValue:{values:L}}}else I=L3(f,o,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||U3(x,v),I=k3(l,"where",x,"in"===v||"not-in"===v);return vn.create(m,v,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class O_ extends Hk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const f of l)V3(u,f),u=KS(u,f)}(e._query,t),new io(e.firestore,e.converter,KS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gk extends SD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gk(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new h_(o,u);return function(f,m){if(null===$S(f)){const v=i1(f);null!==v&&Z3(0,v,m.field)}}(r,l),l}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new ad(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class B1 extends SD{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new B1(e,t,r)}_apply(e){return new io(e.firestore,e.converter,o1(e._query,this._limit,this._limitType))}}class j1 extends SD{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new j1(e,t,r)}_apply(e){const t=F3(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(o=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class H1 extends SD{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new H1(e,t,r)}_apply(e){const t=F3(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(o=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function F3(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof AD)return function(o,u,l,f,m){if(!f)throw new Re(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of Zp(o))if(x.field.isKeyField())v.push(Up(u,f.key));else{const I=f.data.field(x.field);if(Yb(I))throw new Re(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const L=x.field.canonicalString();throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}v.push(I)}return new Hh(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Yp(n.firestore);return function(u,l,f,m,v,x){const I=u.explicitOrderBy;if(v.length>I.length)throw new Re(ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<v.length;B++){const $=v[B];if(I[B].field.isKeyField()){if("string"!=typeof $)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!zS(u)&&-1!==$.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const ee=u.path.child(bn.fromString($));if(!rt.isDocumentKey(ee))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ae=new rt(ee);L.push(Up(l,ae))}else{const ee=k3(f,m,$);L.push(ee)}}return new Hh(L,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function L3(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&-1!==t.indexOf("/"))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!rt.isDocumentKey(r))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Up(n,new rt(r))}if(t instanceof fr)return Up(n,t._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P1(t)}.`)}function U3(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V3(n,e){if(e.isInequality()){const r=i1(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=$S(n);null!==u&&Z3(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(ge.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Z3(n,e,t){if(!t.isEqual(e))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qk{convertValue(e,t="none"){switch(Bh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lh(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new R1(Zr(e.latitude),Zr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const t=Uh(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);Tt(eF(r));const o=new Vh(r.get(1),r.get(3)),u=new rt(r.popFirst(5));return o.isEqual(t)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function G1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZZ extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}class Xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends AD{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Z1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class kD extends fd{data(e={}){return super.data(e)}}class Yh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kD(this._firestore,this._userDataWriter,r.key,r,new Xp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new kD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const f=new kD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:jZ(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function j3(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yh&&e instanceof Yh&&n._firestore===e._firestore&&Lk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Qh extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function H3(n,e,t){n=Dn(n,fr);const r=Dn(n.firestore,pr),o=G1(n.converter,e,t);return R_(r,[L1(Yp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,br.none())])}function G3(n,e,t,...r){n=Dn(n,fr);const o=Dn(n.firestore,pr),u=Yp(o);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof hd?Bk(u,"updateDoc",n._key,e,t,r):Zk(u,"updateDoc",n._key,e),R_(o,[l.toMutation(n._key,br.exists(!0))])}function q3(n,...e){var t,r,o;n=(0,Ht.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Uk(e[l])||(u=e[l],l++);const f={includeMetadataChanges:u.includeMetadataChanges};if(Uk(e[l])){const I=e[l];e[l]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[l+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[l+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let m,v,x;if(n instanceof fr)v=Dn(n.firestore,pr),x=p_(n._key.path),m={next:I=>{e[l]&&e[l]($k(v,n,I))},error:e[l+1],complete:e[l+2]};else{const I=Dn(n,io);v=Dn(I.firestore,pr),x=I._query;const L=new Qh(v);m={next:B=>{e[l]&&e[l](new Yh(v,L,I,B))},error:e[l+1],complete:e[l+2]},R3(n._query)}return function(I,L,B,$){const ee=new S1($),ae=new tk(L,ee,B);return I.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return JM(yield P_(I),ae)})),()=>{ee.Dc(),I.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return QM(yield P_(I),ae)}))}}(Jr(v),x,f,m)}function R_(n,e){return function(t,r){const o=new wi;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function F8(n,e,t){return sk.apply(this,arguments)}(yield Ok(t),r,o)})),o.promise}(Jr(n),e)}function $k(n,e,t){const r=t.docs.get(e._key),o=new Qh(n);return new fd(n,o,e._key,r,new Xp(t.hasPendingWrites,t.fromCache),e.converter)}const sB={maxAttempts:5};class $3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yp(e)}set(e,t,r){this._verifyNotCommitted();const o=Xh(e,this._firestore),u=G1(o.converter,t,r),l=L1(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,br.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Xh(e,this._firestore);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof hd?Bk(this._dataReader,"WriteBatch.update",u._key,t,r,o):Zk(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xh(e,this._firestore);return this._mutations=this._mutations.concat(new y_(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xh(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Re(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class aB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yp(e)}get(e){const t=Xh(e,this._firestore),r=new ZZ(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ft();const u=o[0];if(u.isFoundDocument())return new AD(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new AD(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const o=Xh(e,this._firestore),u=G1(o.converter,t,r),l=L1(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Xh(e,this._firestore);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof hd?Bk(this._dataReader,"Transaction.update",u._key,t,r,o):Zk(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Xh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xh(e,this._firestore),r=new Qh(this._firestore);return super.get(e).then(o=>new fd(this._firestore,r,t._key,o._document,new Xp(!1,!1),t.converter))}}function zk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function K3(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function W3(){if(!function jV(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){u_=Uo.SDK_VERSION,(0,Uo._registerComponent)(new td.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new pr(new hV(t.getProvider("auth-internal")),new gV(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(f.options.projectId,m)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(AO,"3.13.0",n),(0,Uo.registerVersion)(AO,"3.13.0","esm2017")}();class ND{constructor(e){this._delegate=e}static fromBase64String(e){return W3(),new ND(Uc.fromBase64String(e))}static fromUint8Array(e){return K3(),new ND(Uc.fromUint8Array(e))}toBase64(){return W3(),this._delegate.toBase64()}toUint8Array(){return K3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kk(n){return function mB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _B{enableIndexedDbPersistence(e,t){return function gZ(n,e){I3(n=Dn(n,pr));const t=Jr(n);if(t._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new N_;return x3(t,o,new Ik(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mZ(n){I3(n=Dn(n,pr));const e=Jr(n);if(e._uninitializedComponentsProvider)throw new Re(ge.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new N_;return x3(e,r,new a3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _Z(n){if(n._initialized&&!n._terminated)throw new Re(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(r){if(!bu.D())return Promise.resolve();const o=r+"main";yield bu.delete(o)}),function(r){return t.apply(this,arguments)})(vM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class J3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function E3(n,e,t,r={}){var o;const u=(n=Dn(n,bD))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Ui.MOCK_USER;else{f=(0,Ht.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ui(v)}n._authCredentials=new dV(new SO(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function vZ(n){return function rZ(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield l3(n),t=yield d3(n);return e.setNetworkEnabled(!0),function(r){const o=ot(r);return o.vu.delete(0),CD(o)}(t)}))}(Jr(n=Dn(n,pr)))}(this._delegate)}disableNetwork(){return function DZ(n){return function iZ(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield l3(n),t=yield d3(n);return e.setNetworkEnabled(!1),(r=(0,te.Z)(function*(o){const u=ot(o);u.vu.add(0),yield T_(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Jr(n=Dn(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,_3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yZ(n){return function(e){const t=new wi;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function Z8(n,e){return dk.apply(this,arguments)}(yield Ok(e),t)})),t.promise}(Jr(n=Dn(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function YZ(n,e){return function aZ(n,e){const t=new S1(e);return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield P_(n),o=t,ot(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield P_(n),o=t,void ot(r).ku.delete(o);var r,o}))}}(Jr(n=Dn(n,pr)),Uk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new F_(this,w3(this._delegate,e))}catch(t){throw Ho(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ta(this,O1(this._delegate,e))}catch(t){throw Ho(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Go(this,function dZ(n,e){if(n=Dn(n,bD),Fk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(n,null,(t=e,new ad(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ho(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uB(n,e,t){n=Dn(n,pr);const r=Object.assign(Object.assign({},sB),t);return function(o){if(o.maxAttempts<1)throw new Re(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,l){const f=new wi;return o.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const m=yield function h3(n){return k1(n).then(e=>e.datastore)}(o);new tZ(o.asyncQueue,m,l,u,f).run()})),f.promise}(Jr(n),o=>e(new aB(n,o)),r)}(this._delegate,t=>e(new Y3(this,t)))}batch(){return Jr(this._delegate),new Q3(new $3(this._delegate,e=>R_(this._delegate,e)))}loadBundle(e){return function CZ(n,e){const t=Jr(n=Dn(n,pr)),r=new fZ;return function uZ(n,e,t,r){const o=function(u,l){let f;return f="string"==typeof u?FR().encode(u):u,m=function(m,v){if(m instanceof Uint8Array)return u3(m,v);if(m instanceof ArrayBuffer)return u3(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new X8(m,l);var m}(t,DD(e));n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function Y8(n,e,t){const r=ot(n);var o;(o=(0,te.Z)(function*(u,l,f){try{const m=yield l.getMetadata();if(yield function(L,B){const $=ot(L),ee=Wr(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",ae=>$.qs.getBundleMetadata(ae,B.id)).then(ae=>!!ae&&ae.createTime.compareTo(ee)>=0)}(u.localStore,m))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=m).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(QF(m));const v=new M8(m,u.localStore,l.serializer);let x=yield l.bc();for(;x;){const L=yield v.zu(x);L&&f._updateProgress(L),x=yield l.bc()}const I=yield v.complete();return yield dd(u,I.Ju,void 0),yield function(L,B){const $=ot(L);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.qs.saveBundleMetadata(ee,B))}(u.localStore,m),f._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return ba("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var L}),function(u,l,f){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Ok(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function EZ(n,e){return function cZ(n,e){return n.asyncQueue.enqueue((0,te.Z)(function*(){return function(t,r){const o=ot(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield N1(n),e)}))}(Jr(n=Dn(n,pr)),e).then(t=>t?new io(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Go(this,t):null)}}class q1 extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ND(new Uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ta.forKey(t,this.firestore,null)}}class Y3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new q1(e)}get(e){const t=tg(e);return this._delegate.get(t).then(r=>new PD(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=tg(e);return r?(zk("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=tg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=tg(e);return this._delegate.delete(t),this}}class Q3{constructor(e){this._delegate=e}set(e,t,r){const o=tg(e);return r?(zk("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=tg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=tg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class eg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new kD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new OD(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=eg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new eg(e,new q1(e),t),o.set(t,u)),u}}eg.INSTANCES=new WeakMap;class Ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ta(t,new fr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new Ta(t,new fr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new F_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new F_(this.firestore,w3(this._delegate,e))}catch(t){throw Ho(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof fr&&b3(this._delegate,e)}set(e,t){t=zk("DocumentReference.set",t);try{return t?H3(this._delegate,e,t):H3(this._delegate,e)}catch(r){throw Ho(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?G3(this._delegate,e):G3(this._delegate,e,t,...r)}catch(o){throw Ho(o,"updateDoc()","DocumentReference.update()")}}delete(){return function WZ(n){return R_(Dn(n.firestore,pr),[new y_(n._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=X3(e),r=eL(e,o=>new PD(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return q3(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function GZ(n){n=Dn(n,fr);const e=Dn(n.firestore,pr),t=Jr(e),r=new Qh(e);return function oZ(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(o,u,l){try{const f=yield function(m,v){const x=ot(m);return x.persistence.runTransaction("read document","readonly",I=>x.localDocuments.getDocument(I,v))}(o,u);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Re(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=A_(f,`Failed to get document '${u} from cache`);l.reject(m)}}),function(o,u,l){return r.apply(this,arguments)})(yield N1(n),e,t);var r})),t.promise}(t,n._key).then(o=>new fd(e,r,n._key,o,new Xp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qZ(n){n=Dn(n,fr);const e=Dn(n.firestore,pr);return f3(Jr(e),n._key,{source:"server"}).then(t=>$k(e,n,t))}(this._delegate):function HZ(n){n=Dn(n,fr);const e=Dn(n.firestore,pr);return f3(Jr(e),n._key).then(t=>$k(e,n,t))}(this._delegate),t.then(r=>new PD(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}function Ho(n,e,t){return n.message=n.message.replace(e,t),n}function X3(n){for(const e of n)if("object"==typeof e&&!Kk(e))return e;return{}}function eL(n,e){var t,r;let o;return o=Kk(n[0])?n[0]:Kk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class PD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return j3(this._delegate,e._delegate)}}class OD extends PD{data(e){const t=this._delegate.data(e);return function cV(n,e){n||ft()}(void 0!==t),t}}class Go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q1(e)}where(e,t,r){try{return new Go(this.firestore,Jh(this._delegate,function NZ(n,e,t){const r=e,o=Z1("where",n);return MD._create(o,r,t)}(e,t,r)))}catch(o){throw Ho(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Go(this.firestore,Jh(this._delegate,function PZ(n,e="asc"){const t=e,r=Z1("orderBy",n);return Gk._create(r,t)}(e,t)))}catch(r){throw Ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Go(this.firestore,Jh(this._delegate,function OZ(n){return D3("limit",n),B1._create("limit",n,"F")}(e)))}catch(t){throw Ho(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Go(this.firestore,Jh(this._delegate,function RZ(n){return D3("limitToLast",n),B1._create("limitToLast",n,"L")}(e)))}catch(t){throw Ho(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Go(this.firestore,Jh(this._delegate,function FZ(...n){return j1._create("startAt",n,!0)}(...e)))}catch(t){throw Ho(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Go(this.firestore,Jh(this._delegate,function LZ(...n){return j1._create("startAfter",n,!1)}(...e)))}catch(t){throw Ho(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Go(this.firestore,Jh(this._delegate,function UZ(...n){return H1._create("endBefore",n,!1)}(...e)))}catch(t){throw Ho(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Go(this.firestore,Jh(this._delegate,function VZ(...n){return H1._create("endAt",n,!0)}(...e)))}catch(t){throw Ho(t,"endAt()","Query.endAt()")}}isEqual(e){return Lk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function zZ(n){n=Dn(n,io);const e=Dn(n.firestore,pr),t=Jr(e),r=new Qh(e);return function sZ(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(o,u,l){try{const f=yield E1(o,u,!0),m=new t3(u,f.ir),v=m.sc(f.documents),x=m.applyChanges(v,!1);l.resolve(x.snapshot)}catch(f){const m=A_(f,`Failed to execute query '${u} against cache`);l.reject(m)}}),function(o,u,l){return r.apply(this,arguments)})(yield N1(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Yh(e,r,n,o))}(this._delegate):"server"===e?.source?function KZ(n){n=Dn(n,io);const e=Dn(n.firestore,pr),t=Jr(e),r=new Qh(e);return p3(t,n._query,{source:"server"}).then(o=>new Yh(e,r,n,o))}(this._delegate):function $Z(n){n=Dn(n,io);const e=Dn(n.firestore,pr),t=Jr(e),r=new Qh(e);return R3(n._query),p3(t,n._query).then(o=>new Yh(e,r,n,o))}(this._delegate),t.then(r=>new Wk(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=X3(e),r=eL(e,o=>new Wk(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return q3(this._delegate,t,r)}withConverter(e){return new Go(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}class vB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new OD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new OD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new OD(this._firestore,r))})}isEqual(e){return j3(this._delegate,e._delegate)}}class F_ extends Go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ta(this.firestore,e):null}doc(e){try{return new Ta(this.firestore,void 0===e?O1(this._delegate):O1(this._delegate,e))}catch(t){throw Ho(t,"doc()","CollectionReference.doc()")}}add(e){return function JZ(n,e){const t=Dn(n.firestore,pr),r=O1(n),o=G1(n.converter,e);return R_(t,[L1(Yp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ta(this.firestore,t))}isEqual(e){return b3(this._delegate,e._delegate)}withConverter(e){return new F_(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}function tg(n){return Dn(n,fr)}class Jk{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new Jk(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._delegate=e}static serverTimestamp(){const e=function lB(){return new Vk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ng(e)}static delete(){const e=function cB(){return new xD("deleteField")}();return e._methodName="FieldValue.delete",new ng(e)}static arrayUnion(...e){const t=function dB(...n){return new IZ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ng(t)}static arrayRemove(...e){const t=function hB(...n){return new AZ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ng(t)}static increment(e){const t=function fB(n){return new SZ("increment",n)}(e);return t._methodName="FieldValue.increment",new ng(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DB={Firestore:J3,GeoPoint:R1,Timestamp:wr,Blob:ND,Transaction:Y3,WriteBatch:Q3,DocumentReference:Ta,DocumentSnapshot:PD,Query:Go,QueryDocumentSnapshot:OD,QuerySnapshot:Wk,CollectionReference:F_,FieldPath:Jk,FieldValue:ng,setLogLevel:function yB(n){!function uV(n){Oh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function tL(n,e){return function wB(n,e=lP.z){return new Ar.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Yk(n,e){return tL(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function $1(n,e){return Yk(n,e).pipe(Wf(void 0),GA(),(0,ht.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const m=o.find(x=>x.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(x=>x.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),u}))}function nL(n,e,t){return $1(n,t).pipe(mh((r,o)=>function TB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function xB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Qk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function XU(n,e=qf.y){return n=n??e6,(0,oi.e)((t,r)=>{let o,u=!0;t.subscribe((0,Gn.x)(r,l=>{const f=e(l);(u||!n(o,f))&&(u=!1,o=f,r.next(l))}))})}(),(0,ht.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Qk(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function rL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function EB(n){(function CB(n,e){n.INTERNAL.registerComponent(new td.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},DB)))})(n,(e,t)=>new J3(e,t,new _B)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(dP.Z);class iL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=$1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Wf(void 0),GA(),os(([r,o])=>o.length>0||!r),(0,ht.U)(([r,o])=>o),ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(mh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rL(e);return nL(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return Yk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ln.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(ln.iC)}add(e){return this.ref.add(e)}doc(e){return new oL(this.ref.doc(e),this.afs)}}class oL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=sL(r,t);return new iL(o,u,this.afs)}snapshotChanges(){return function bB(n,e){return tL(n,e).pipe(Wf(void 0),GA(),(0,ht.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe(ln.iC)}}class IB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$1(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),os(t=>t.length>0),ln.iC):$1(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(mh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rL(e);return nL(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return Yk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ln.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(ln.iC)}}const AB=new i.OlP("angularfire2.enableFirestorePersistence"),SB=new i.OlP("angularfire2.firestore.persistenceSettings"),MB=new i.OlP("angularfire2.firestore.settings"),kB=new i.OlP("angularfire2.firestore.use-emulator");function sL(n,e=(t=>t)){return{query:e(n),ref:n}}let pd=(()=>{class n{constructor(t,r,o,u,l,f,m,v,x,I,L,B,$,ee,ae,Ve,qe){this.schedulers=m;const Be=(0,Yi.on)(t,f,r),We=x;I&&XI(Be,f,L,$,ee,ae,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Yi.cc)(`${Be.name}.firestore`,"AngularFirestore",Be.name,()=>{const Vt=f.runOutsideAngular(()=>Be.firestore());if(u&&Vt.settings(u),We&&Vt.useEmulator(...We),o&&!qo(l)){const Zt=()=>{try{return(0,_n.D)(Vt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),Ct(!1)}};return[Vt,f.runOutsideAngular(Zt)]}return[Vt,Ct(!1)]},[u,We,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=sL(o,r),f=this.schedulers.ngZone.run(()=>u);return new iL(f,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new IB(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new oL(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(AB,8),i.LFG(MB,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(SB,8),i.LFG(kB,8),i.LFG(ai,8),i.LFG(zI,8),i.LFG(KI,8),i.LFG(WI,8),i.LFG(JI,8),i.LFG(YI,8),i.LFG(QI,8),i.LFG(Ip,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NB=(()=>{class n{constructor(t){this.firestore=t}getImage(){return this.firestore.collection("galeriasi").snapshotChanges()}getImagesById(t){return this.firestore.collection("galeriasi").doc(t).valueChanges()}addImagenInfo(t){return this.firestore.collection("galeriasi").add(t)}updateImage(t,r){return this.firestore.collection("galeriasi").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gd=(()=>{class n{constructor(t){this.firestore=t}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(t){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(t){return this.firestore.collection("users").add(t)}updateUser(t,r){return this.firestore.collection("users").doc(r).update(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class z1{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class aL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new z1(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new z1(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?l=>t(new z1(l,this,this._ref)):{next:t.next?l=>t.next(new z1(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class uL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new md(e,this._service))}get items(){return this._delegate.items.map(e=>new md(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class md{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function UU(n,e){return XN(n,e)}(this._delegate,e);return new md(t,this.storage)}get root(){return new md(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new md(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new aL(function PU(n,e,t){return function CU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new WN(n,new ls(e),t)}(n=(0,Ht.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Dt.RAW,r){this._throwIfRoot("putString");const o=qn(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new aL(new WN(this._delegate,new ls(o.data,!0),u),this)}listAll(){return oP(this._delegate).then(e=>new uL(e,this.storage))}list(e){return function FU(n,e){return QN(n=(0,Ht.m9)(n),e)}(this._delegate,e||void 0).then(t=>new uL(t,this.storage))}getMetadata(){return function OU(n){return function bU(n){n._throwIfRoot("getMetadata");const e=HN(n.storage,n._location,D0());return n.storage.makeRequestWithTokens(e,Cu)}(n=(0,Ht.m9)(n))}(this._delegate)}updateMetadata(e){return function RU(n,e){return function TU(n,e){n._throwIfRoot("updateMetadata");const t=function oU(n,e,t,r){const u=g(e.fullServerUrl(),n.host,n._protocol),f=LA(t,r),v=n.maxOperationRetryTime,x=new Ac(u,"PATCH",_b(n,r),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=C0(e),x}(n.storage,n._location,e,D0());return n.storage.makeRequestWithTokens(t,Cu)}(n=(0,Ht.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return sP(this._delegate)}delete(){return this._throwIfRoot("delete"),function LU(n){return function IU(n){n._throwIfRoot("deleteObject");const e=function sU(n,e){const r=g(e.fullServerUrl(),n.host,n._protocol),f=new Ac(r,"DELETE",function l(m,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=C0(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cu)}(n=(0,Ht.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw FA(e)}}class cL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lL(e))throw Ap("ref() expected a child path but got a URL, use refFromURL instead.");return new md(jA(this._delegate,e),this)}refFromURL(e){if(!lL(e))throw Ap("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xi.makeFromUrl(e,this._delegate.host)}catch{throw Ap("refFromUrl() expected a valid full URL but got an invalid one.")}return new md(jA(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){aP(this._delegate,e,t,r)}}function lL(n){return/^[A-Za-z]+:\/\//.test(n)}function LB(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new cL(t,r)}function dL(n){const e=function VB(n){return new Ar.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function PB(n,e=lP.z){return(0,oi.e)((t,r)=>{let o=null,u=null,l=null;const f=()=>{if(o){o.unsubscribe(),o=null;const v=u;u=null,r.next(v)}};function m(){const v=l+n,x=e.now();if(x<v)return o=this.schedule(void 0,v-x),void r.add(o);f()}t.subscribe((0,Gn.x)(r,v=>{u=v,l=e.now(),o||(o=e.schedule(m,n),r.add(o))},()=>{f(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ht.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function K1(n){return{getDownloadURL:()=>Ct(void 0).pipe(ln.fc,Cr(()=>n.getDownloadURL()),ln.iC),getMetadata:()=>Ct(void 0).pipe(ln.fc,Cr(()=>n.getMetadata()),ln.iC),delete:()=>(0,_n.D)(n.delete()),child:e=>K1(n.child(e)),updateMetadata:e=>(0,_n.D)(n.updateMetadata(e)),put:(e,t)=>dL(n.put(e,t)),putString:(e,t,r)=>dL(n.putString(e,t,r)),list:e=>(0,_n.D)(n.list(e)),listAll:()=>(0,_n.D)(n.listAll())}}!function UB(n){const e={TaskState:Zo,TaskEvent:dU,StringFormat:Dt,Storage:cL,Reference:md};n.INTERNAL.registerComponent(new td.wA("storage-compat",LB,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(dP.Z);const ZB=new i.OlP("angularfire2.storageBucket"),BB=new i.OlP("angularfire2.storage.maxUploadRetryTime"),jB=new i.OlP("angularfire2.storage.maxOperationRetryTime"),HB=new i.OlP("angularfire2.storage.use-emulator");let Xk=(()=>{class n{constructor(t,r,o,u,l,f,m,v,x,I){const L=(0,Yi.on)(t,l,r);this.storage=(0,Yi.cc)(`${L.name}.storage.${o}`,"AngularFireStorage",L.name,()=>{const B=l.runOutsideAngular(()=>L.storage(o||void 0)),$=x;return $&&B.useEmulator(...$),m&&B.setMaxUploadRetryTime(m),v&&B.setMaxOperationRetryTime(v),B},[m,v])}ref(t){return K1(this.storage.ref(t))}refFromURL(t){return K1(this.storage.refFromURL(t))}upload(t,r,o){return K1(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Yi.Dh),i.LFG(Yi.xv,8),i.LFG(ZB,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ln.HU),i.LFG(BB,8),i.LFG(jB,8),i.LFG(HB,8),i.LFG(Ip,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function GB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function qB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onMouseEnter(u))})("mouseleave",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onMouseLeave(u))})("click",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onPreviewImage(u))}),i.qZA(),i.TgZ(2,"div",15)(3,"div")(4,"i",16),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirCom(u))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.likeImage(u))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(1),i.Q6J("src",t.url,i.LSH),i.xp6(5),i.Oqu(t.commentsVideo.length),i.xp6(2),i.ekj("liked",t.likedByImage.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountImage)}}function $B(n,e){if(1&n&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function zB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",26),i.qZA()}}function KB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",28),i.qZA()}}function WB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",30),i.qZA()}}function JB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",31),i._UZ(1,"img",32),i.TgZ(2,"div",33)(3,"div")(4,"i",16),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",17),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const t=i.oxw(2);i.xp6(1),i.ekj("zoom-in",t.previewImage),i.Q6J("src",t.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(t.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",t.currentLightboxImage.likedByImage.includes(t.currentUser.uid)),i.xp6(2),i.Oqu(t.currentLightboxImage.likesCountImage)}}const YB=function(n){return{active:n}};function QB(n,e){if(1&n&&(i.TgZ(0,"div",18),i.YNc(1,$B,2,2,"span",19),i.YNc(2,zB,2,0,"button",20),i.YNc(3,KB,2,0,"button",21),i.YNc(4,WB,2,0,"button",22),i.YNc(5,JB,11,7,"div",23),i.qZA()),2&n){const t=i.oxw();i.Q6J("ngClass",i.VKq(6,YB,t.previewImage)),i.xp6(1),i.Q6J("ngIf",t.showCount),i.xp6(1),i.Q6J("ngIf",t.previewImage),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.previewImage)}}function XB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",46),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}function ej(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",47)(1,"div",48)(2,"img",49),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",50)(6,"p",51),i._uU(7),i.qZA(),i.TgZ(8,"div",52)(9,"div")(10,"i",17),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",53),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",54),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.Oqu(t.comentario),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function tj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",34)(1,"div",35),i.YNc(2,XB,1,0,"span",36),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",37)(6,"div",38),i.YNc(7,ej,15,6,"div",39),i.qZA()(),i.TgZ(8,"div",40)(9,"form",41,42),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",43),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",44),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",45),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function nj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",58)(6,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function rj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",60)(1,"div",56)(2,"div",57)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",61),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",62)(7,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}function ij(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",63)(1,"div",56)(2,"span",64),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",57)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",65),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",66),i._uU(10,"Registrate"),i.qZA()()()()()}}let oj=(()=>{class n{constructor(t,r,o,u,l,f,m,v){this.storage=t,this.el=r,this.afAuth=o,this._image=u,this.toastr=l,this.router=f,this._user=m,this.storagex=v,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[]}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(t=>{this.currentUser=t;const r=t?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getImages(){this._image.getImage().subscribe(t=>{this.images=[],t.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeImage(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByImage.indexOf(u);-1!==m?(t.likedByImage.splice(m,1),t.userImageLikes.splice(m,1),t.likesCountImage--):(t.likedByImage.push(u),t.likesCountImage++,t.userImageLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountImage:t.likesCountImage,likedByImage:t.likedByImage,userImageLikes:t.userImageLikes};yield r._image.updateImage(v,x)}else r.modal=!0})()}subirArchivo(){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const u=new Image,l=new FileReader;l.onload=f=>{u.onload=()=>{const m=document.createElement("canvas");let I=u.width,L=u.height;(I>800||L>600)&&(I>L?(L*=800/I,I=800):(I*=600/L,L=600)),m.width=I,m.height=L;const B=m.getContext("2d");B?(B.drawImage(u,0,0,I,L),m.toBlob($=>{if($){const ee=`images/${o.name}`,ae=this.storagex.ref(ee);this.storagex.upload(ee,$,{contentType:$.type}).snapshotChanges().pipe(Hl(()=>{ae.getDownloadURL().subscribe(qe=>{this._image.addImagenInfo({url:qe}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},u.src=f.target.result},l.readAsDataURL(o)}}),t.click()}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.images[t],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._image.updateImage(l,I),r.comentario=""}})()}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._image.updateImage(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImage(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(e_),i.Y36(i.SBq),i.Y36(ai),i.Y36(NB),i.Y36(Qi),i.Y36(dn),i.Y36(gd),i.Y36(Xk))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria"]],decls:15,vars:7,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"con-input"],[3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[2,"display","inline-flex","gap","4rem"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,GB,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,qB,11,5,"div",5),i.qZA(),i.YNc(7,QB,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,tj,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,nj,10,0,"div",8),i.qZA(),i.YNc(12,rj,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,ij,11,0,"div",10),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[Xt,ei,mn,Fs,Ni,ni,$r,Yn,ii,Po,mo,Gm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:0}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:30px;margin-top:56px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding:0;justify-content:flex-end}.con-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:7px;border-radius:23px;background-color:#00f;margin:0}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.con-input[_ngcontent-%COMP%]{padding:15px 0 20px}.file-label[_ngcontent-%COMP%]{padding:4px;font-size:14px}}@media (max-width: 500px){.caja[_ngcontent-%COMP%]{font-size:12px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:1}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.btn-lc[_ngcontent-%COMP%]{display:inline-flex;gap:4rem;position:absolute;bottom:20%}}"]}),n})(),hL=(()=>{class n{constructor(t){this.firestore=t}getVideos(){return this.firestore.collection("videos").snapshotChanges()}getVideoById(t){return this.firestore.collection("videos").doc(t).valueChanges()}updateVideo(t,r){return this.firestore.collection("videos").doc(t).update(r)}addImagenInfo(t){return this.firestore.collection("videos").add(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sj(n,e){1&n&&(i.TgZ(0,"div",10)(1,"div",11),i._UZ(2,"button",12),i.TgZ(3,"label",13),i._UZ(4,"i",14),i._uU(5," Agregar nuevo video "),i.qZA()()())}function aj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",15)(1,"video",16),i._UZ(2,"source",17),i.qZA(),i.TgZ(3,"div",18)(4,"div",19)(5,"p",20),i._uU(6),i.qZA()(),i.TgZ(7,"div",21)(8,"div",22)(9,"i",23),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirCom(u))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",24)(13,"i",25),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.likeVideo(u))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",t.url,i.LSH),i.xp6(4),i.hij(" ",t.nombre," "),i.xp6(5),i.Oqu(t.commentsVideo.length),i.xp6(2),i.ekj("liked",t.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountVideo)}}function uj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",26)(1,"div",27)(2,"span",28),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",29)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",30),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",31),i._uU(10,"Registrate"),i.qZA()()()()()}}function cj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}function lj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",45)(1,"div",46)(2,"img",47),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",48)(6,"p",49),i._uU(7),i.qZA(),i.TgZ(8,"div",50)(9,"div")(10,"i",25),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",51),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",52),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.Oqu(t.comentario),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function dj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",32)(1,"div",33),i.YNc(2,cj,1,0,"span",34),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",35)(6,"div",36),i.YNc(7,lj,15,6,"div",37),i.qZA()(),i.TgZ(8,"div",38)(9,"form",39,40),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",41),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",42),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",43),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function hj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",53)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",54)(6,"button",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function fj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",56)(1,"div",27)(2,"div",29)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",57),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",58)(7,"button",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}let pj=(()=>{class n{constructor(t,r,o,u,l,f){this.storage=t,this.afAuth=r,this._videosService=o,this.afs=u,this._users=l,this.router=f,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(t=>{this.currentUser=t;const r=t?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getVideos().subscribe(t=>{this.videos=[],t.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})})})}likeVideo(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByVideo.indexOf(u);-1!==m?(t.likedByVideo.splice(m,1),t.userVideoLikes.splice(m,1),t.likesCountVideo--):(t.likedByVideo.push(u),t.likesCountVideo++,t.userVideoLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountVideo:t.likesCountVideo,likedByVideo:t.likedByVideo,userVideoLikes:t.userVideoLikes};yield r._videosService.updateVideo(v,x)}else r.modal=!0})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._videosService.updateVideo(l,I),r.comentario=""}})()}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}abrirEditar(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.email===t.correo&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateVideo(f,v)}}else r.modal=!0})()}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(e_),i.Y36(ai),i.Y36(hL),i.Y36(pd),i.Y36(gd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos"]],decls:13,vars:6,consts:[[1,"contenedor"],[1,"box"],["class","con-input",4,"ngIf"],[1,"video-container"],[1,"video"],["width","320","height","240","class","gallery-video",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"con-input"],[1,"input-file-container"],["routerLink","/nuevo-video","id","file-input"],["for","file-input",1,"file-label"],[1,"fas","fa-plus"],["width","320","height","240",1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.YNc(3,sj,6,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,aj,16,6,"div",5),i.qZA()()()(),i.TgZ(7,"div"),i.YNc(8,uj,11,0,"div",6),i.qZA(),i.YNc(9,dj,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,hj,10,0,"div",8),i.qZA(),i.YNc(12,fj,11,1,"div",9)),2&t&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.videos),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar))},dependencies:[ei,mn,vu,Fs,Ni,ni,$r,Yn,ii,Po,mo,Gm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}@media (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})();function gj(n,e){if(1&n&&(i.TgZ(0,"div",4)(1,"p",5),i._uU(2),i.qZA(),i.TgZ(3,"audio",6),i._UZ(4,"source",7),i.qZA()()),2&n){const t=e.$implicit;i.xp6(2),i.Oqu(t.title),i.xp6(2),i.Q6J("src",t.url,i.LSH)}}let mj=(()=>{class n{constructor(t){this.storage=t,this.musica=[],this.titulos=["Aguanile","Arrepientete","Asi soy yo","Bam bam bidi bim bam bam","Batman y el hombre Ara\xf1a","Caderona","Con la punta del pie","Donde estabas tu","Welcome to party","La negra tiene tumbao","Llora Corazon","Payaso","Cancion 13","Lupita","Paloma","Yo soy el rey","Cancion 17","Sangre son colora","Sangre son colora (editado)","boogalo 1","Cancion 21","Cancion 22","Cancion 23","Todo tiene su final (editado)","Cancion 25","Cancion 26","Cancion 27","Omele","Boogalo 2","Aguazate","Aqui no ha pasado nada","Saraguey santoja","Arranca en fa","Arroyando","Asi soy yo (edit)","Askarakatiski","Ballandel","Bam bam (edit)","Bomba caranbomba","Boogalo 3","Boogalo 4","Boogalo 5","Boogalo 6","Cancion 45","Boogalo 7","Boogalo 8","Boogalo 9","Boogalo 10","Boogalo 11","Boogalo 12","Boogalo 13","Cancion 53","Cachondea","Cancion 54","Camina como chencha","Cancion 56","Carmen","Cancion 57","Cancion 58","Cancion 59","Cancion 60","Cancion 61","Ran kan kan","Echo chi echo no","El malo","Cancion 65","Federico boogalo","Fuego pal 23","Hagan silencio","Indestructible","Lancion 70","cancion 71","La bamba","Cancion 73","La luz del cielo","La pelota","Cancion 76","Mambo rock","Merecumbe","Boogalo 14","Boogalo 15","Mondongo","Oh mayi","Pal 23","Cancion 85","Pruebalo","Quimbara (edit)","Quimbara","Cancion 89","Cancion 90","Cancion 91","Cancion 92","Cancion 93","Fuma el barco","Sonido bestial","Cancion 96","Cancion 97","Cancion 98","Cancion 99","El yoyo","Tremendo rumbon","Tres pata","Tres pata v2","Cancion 104","Cancion 105"]}ngOnInit(){this.getMusica()}subirArchivo(t){const r=t.target.files[0],o=cP(this.storage,`videos/${r.name}`);QU(o,r).then(()=>{this.getMusica()}).catch(u=>console.log(u))}getMusica(){var t=this;return(0,te.Z)(function*(){const r=cP(t.storage,"musica");try{const o=yield YU(r);t.musica=yield Promise.all(o.items.map(function(){var u=(0,te.Z)(function*(l,f){const m=yield WU(l);return{title:t.titulos[f]||`Canci\xf3n ${f+1}`,url:m}});return function(l,f){return u.apply(this,arguments)}}()))}catch(o){console.log(o)}})()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(e_))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-musica"]],decls:5,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"musica-container"],["class","musica",4,"ngFor","ngForOf"],[1,"musica"],[2,"margin-bottom","10px"],["controls",""],["type","audio/mp3",3,"src"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar"),i.TgZ(3,"div",2),i.YNc(4,gj,5,2,"div",3),i.qZA()()()),2&t&&(i.xp6(4),i.Q6J("ngForOf",r.musica))},dependencies:[ei,Gm],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#8a2be2;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.musica-container[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex-wrap:wrap;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),fL=(()=>{class n{constructor(t){this.toastr=t}mensaje(t){return"auth/invalid-email"===t?"Por favor, introduce un correo electr\xf3nico v\xe1lido.":""}errorFirebase(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Qi))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner"],[1,"visually-hidden"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"span",1),i._uU(2,"Loading..."),i.qZA()())},styles:['@charset "UTF-8";.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}']}),n})();function _j(n,e){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function yj(n,e){1&n&&(i.TgZ(0,"span",19),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function vj(n,e){1&n&&(i.TgZ(0,"span",19),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener mas de 6 caracteres"),i.qZA())}function Dj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",3)(1,"form",4),i.NdJ("ngSubmit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.login())}),i.TgZ(2,"div")(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA()(),i.TgZ(5,"h2",6),i._uU(6,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Correo electr\xf3nico"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,_j,5,0,"span",10),i.YNc(12,yj,5,0,"span",10),i.qZA(),i.TgZ(13,"div",7)(14,"label",11),i._uU(15,"Contrase\xf1a"),i.qZA(),i._UZ(16,"input",12),i.YNc(17,vj,5,0,"span",10),i.qZA(),i.TgZ(18,"div",13)(19,"a",14),i._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),i.qZA(),i.TgZ(21,"a",15),i._uU(22,"Registrarse"),i.qZA()(),i.TgZ(23,"button",16),i._uU(24,"Iniciar sesi\xf3n"),i.qZA(),i.TgZ(25,"div",17)(26,"a",18),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.loginAsGuest())}),i._uU(27,"Iniciar sesi\xf3n como invitado"),i.qZA()()()()}if(2&n){const t=i.oxw();let r,o,u;i.xp6(1),i.Q6J("formGroup",t.loginUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=t.loginUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.loginUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=t.loginUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=t.loginUsuario.get("email"))?null:o.touched)),i.xp6(5),i.Q6J("ngIf",(null==(u=t.loginUsuario.get("password"))?null:u.hasError("required"))&&(null==(u=t.loginUsuario.get("password"))?null:u.touched))}}function Cj(n,e){1&n&&(i.TgZ(0,"div",20)(1,"h2",21),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Iniciando sesion..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let Ej=(()=>{class n{constructor(t,r,o,u,l){this.toastr=t,this.fb=r,this.firebaseError=o,this.afAuth=u,this.router=l,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Pr.required,Pr.email]],password:["",Pr.required]})}ngOnInit(){}login(){const t=this.loginUsuario.value.email,r=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{this.router.navigate(["/perfil"]),this.loading=!1}).catch(o=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(o.code),this.message=this.firebaseError.mensaje(o.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.loading=!1,this.router.navigate(["/perfil"])}).catch(o=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",o)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Qi),i.Y36(Mf),i.Y36(fL),i.Y36(ai),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center","height","100vh","background-color","white","user-select","none"],["class","container-login",4,"ngIf"],["style","\n      display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;\n    ",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2",2,"user-select","none"],[1,"form-title",2,"user-select","none"],[1,"form-group"],["for","email",2,"user-select","none"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password",2,"user-select","none"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["routerLink","/recuperar",1,"forgot-password",2,"user-select","none"],["routerLink","/registrar",1,"register-link",2,"user-select","none"],["type","submit",1,"submit-button"],[2,"text-align","center","margin-top","14px"],[1,"register-link",2,"user-select","none","cursor","pointer",3,"click"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[1,"elH2"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,Dj,28,4,"div",1),i.YNc(2,Cj,6,0,"div",2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,Fs,Ni,ni,$r,Yn,hc,ih,e2],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px;-webkit-user-select:none;user-select:none}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#0040ff;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function wj(n,e){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"nombre de usuario"),i.qZA(),i._uU(4," es requerido"),i.qZA())}function bj(n,e){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function Tj(n,e){1&n&&(i.TgZ(0,"span",20),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es inv\xe1lido"),i.qZA())}function xj(n,e){1&n&&(i.TgZ(0,"span",20),i._uU(1,"La "),i.TgZ(2,"strong"),i._uU(3,"contrase\xf1a "),i.qZA(),i._uU(4,"debe contener m\xe1s de 6 caracteres"),i.qZA())}function Ij(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",2)(1,"form",3,4),i.NdJ("ngSubmit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.registrar())}),i.TgZ(3,"h2",5),i._uU(4,"Asi Somos"),i.qZA(),i.TgZ(5,"h2",6),i._uU(6,"REGISTRARSE"),i.qZA(),i.TgZ(7,"div",7)(8,"label",8),i._uU(9,"Nombre de Usuario"),i.qZA(),i._UZ(10,"input",9),i.YNc(11,wj,5,0,"span",10),i.qZA(),i.TgZ(12,"div",7)(13,"label",11),i._uU(14,"Correo electr\xf3nico"),i.qZA(),i._UZ(15,"input",12),i.YNc(16,bj,5,0,"span",10),i.YNc(17,Tj,5,0,"span",10),i.qZA(),i.TgZ(18,"div",7)(19,"label",13),i._uU(20,"Contrase\xf1a"),i.qZA(),i._UZ(21,"input",14),i.YNc(22,xj,5,0,"span",10),i.qZA(),i.TgZ(23,"div",7)(24,"label",15),i._uU(25,"Repetir Contrase\xf1a"),i.qZA(),i._UZ(26,"input",16),i.qZA(),i.TgZ(27,"div",17)(28,"button",18),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.goBack())}),i._uU(29," Volver "),i.qZA(),i.TgZ(30,"button",19),i._uU(31,"Registrar"),i.qZA()()()()}if(2&n){const t=i.oxw();let r,o,u,l;i.xp6(1),i.Q6J("formGroup",t.registrarUsuario),i.xp6(10),i.Q6J("ngIf",(null==(r=t.registrarUsuario.get("username"))?null:r.hasError("required"))&&(null==(r=t.registrarUsuario.get("username"))?null:r.touched)),i.xp6(5),i.Q6J("ngIf",(null==(o=t.registrarUsuario.get("email"))?null:o.hasError("required"))&&(null==(o=t.registrarUsuario.get("email"))?null:o.touched)),i.xp6(1),i.Q6J("ngIf",(null==(u=t.registrarUsuario.get("email"))?null:u.hasError("email"))&&(null==(u=t.registrarUsuario.get("email"))?null:u.touched)),i.xp6(5),i.Q6J("ngIf",(null==(l=t.registrarUsuario.get("password"))?null:l.hasError("required"))&&(null==(l=t.registrarUsuario.get("password"))?null:l.touched)),i.xp6(8),i.Q6J("disabled",t.registrarUsuario.invalid)}}function Aj(n,e){1&n&&(i.TgZ(0,"div",21)(1,"h2",5),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",22),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let Sj=(()=>{class n{constructor(t,r,o,u,l,f){this.fb=t,this.afAuth=r,this.router=o,this.firebaseError=u,this.toastr=l,this.location=f,this.loading=!1,this.registrarUsuario=this.fb.group({username:["",Pr.required],email:["",[Pr.required,Pr.email]],password:["",[Pr.required,Pr.minLength(6)]],repetirPassword:["",Pr.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.username,r=this.registrarUsuario.value.email,o=this.registrarUsuario.value.password;o===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(r,o).then(l=>l.user?.updateProfile({displayName:t})).then(l=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(l=>{this.loading=!1,console.log(l),this.firebaseError.errorFirebase(l.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}goBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf),i.Y36(ai),i.Y36(dn),i.Y36(fL),i.Y36(Qi),i.Y36(Ae))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:2,vars:2,consts:[["class","content",4,"ngIf"],["style"," background-color: white; display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;",4,"ngIf"],[1,"content"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Nombre de Usuario","formControlName","username"],["class","text-danger errorLabel",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["for","repetirPassword"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button",1,"submit",2,"background-color","blue",3,"click"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"background-color","white","display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(i.YNc(0,Ij,32,6,"div",0),i.YNc(1,Aj,6,0,"div",1)),2&t&&(i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,Ni,ni,$r,Yn,hc,ih,e2],styles:[".login-form[_ngcontent-%COMP%]{margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;height:94vh}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#e44d42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})();function Mj(n,e){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es requerido"),i.qZA())}function kj(n,e){1&n&&(i.TgZ(0,"span",12),i._uU(1,"El "),i.TgZ(2,"strong"),i._uU(3,"correo "),i.qZA(),i._uU(4,"es invalido"),i.qZA())}function Nj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",2)(1,"form",3),i.NdJ("ngSubmit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.recuperar())}),i.TgZ(2,"h2",4),i._uU(3,"Asi Somos"),i.qZA(),i.TgZ(4,"h2",5),i._uU(5,"RECUPERAR CUENTA"),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"input",7),i.YNc(8,Mj,5,0,"span",8),i.YNc(9,kj,5,0,"span",8),i.qZA(),i.TgZ(10,"div",9)(11,"button",10),i._uU(12," Volver "),i.qZA(),i.TgZ(13,"button",11),i._uU(14,"Aceptar"),i.qZA()()()()}if(2&n){const t=i.oxw();let r,o;i.xp6(1),i.Q6J("formGroup",t.recuperarUsuario),i.xp6(7),i.Q6J("ngIf",(null==(r=t.recuperarUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.recuperarUsuario.get("email"))?null:r.touched)),i.xp6(1),i.Q6J("ngIf",(null==(o=t.recuperarUsuario.get("email"))?null:o.hasError("email"))&&(null==(o=t.recuperarUsuario.get("email"))?null:o.touched)),i.xp6(4),i.Q6J("disabled",t.recuperarUsuario.invalid)}}function Pj(n,e){1&n&&(i.TgZ(0,"div",13)(1,"h2",4),i._uU(2,"Asi Somos"),i.qZA(),i.TgZ(3,"span",14),i._uU(4,"Registrando..."),i.qZA(),i._UZ(5,"app-spinner"),i.qZA())}let Oj=(()=>{class n{constructor(t,r,o,u){this.fb=t,this.afAuth=r,this.router=o,this.toastr=u,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Pr.required,Pr.email]]})}ngOnInit(){}recuperar(){const t=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(r=>{this.loading=!1,this.firebaseError(r.code)})}firebaseError(t){switch(t){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf),i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;background-color: white;\n    height: 90vh;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","background-color","white","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(i.TgZ(0,"div"),i.YNc(1,Nj,15,4,"div",0),i.YNc(2,Pj,6,0,"div",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",!r.loading),i.xp6(1),i.Q6J("ngIf",r.loading))},dependencies:[mn,vu,Ni,ni,$r,Yn,hc,ih,e2],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})(),Rj=(()=>{class n{constructor(t){this.afAuth=t}isLoggedIn(){return this.afAuth.authState.pipe((0,ht.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ai))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bs=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn().pipe((0,ht.U)(o=>!!o||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Rj),i.LFG(dn))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fj=(()=>{class n{constructor(t,r,o){this._videosService=t,this.router=r,this.toastr=o,this.subir={nombre:"",url:""}}ngOnInit(){}subirVideo(){console.log(this.subir),this._videosService.addImagenInfo(this.subir).then(()=>{this.router.navigate(["/videos"]),this.toastr.success("Agregando nuevo video")})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(hL),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-form-video"]],decls:17,vars:2,consts:[[1,"container"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["name","nombre","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["name","url","type","text",2,"width","94%",3,"ngModel","ngModelChange"],["type","submit"],["routerLink","/videos",2,"background-color","green"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"form",2),i.NdJ("ngSubmit",function(){return r.subirVideo()}),i.TgZ(3,"div",3)(4,"label"),i._uU(5,"Nombre"),i.qZA(),i.TgZ(6,"input",4),i.NdJ("ngModelChange",function(u){return r.subir.nombre=u}),i.qZA()(),i.TgZ(7,"div",3)(8,"label"),i._uU(9,"Url"),i.qZA(),i.TgZ(10,"input",5),i.NdJ("ngModelChange",function(u){return r.subir.url=u}),i.qZA()(),i.TgZ(11,"div",3)(12,"button",6),i._uU(13,"Agregar Video"),i.qZA()(),i.TgZ(14,"div",3)(15,"button",7),i._uU(16,"Volver"),i.qZA()()()()()),2&t&&(i.xp6(6),i.Q6J("ngModel",r.subir.nombre),i.xp6(4),i.Q6J("ngModel",r.subir.url))},dependencies:[vu,Ni,ni,$r,Yn,Po,mo],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form-container[_ngcontent-%COMP%]{width:80%;max-width:400px;padding:20px;background-color:#f5f5f5;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})();const pL={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let W1;const Lj=new Uint8Array(16);function Uj(){if(!W1&&(W1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!W1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W1(Lj)}const oo=[];for(let n=0;n<256;++n)oo.push((n+256).toString(16).slice(1));const Zj=function Vj(n,e,t){if(pL.randomUUID&&!e&&!n)return pL.randomUUID();const r=(n=n||{}).random||(n.rng||Uj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function gL(n,e=0){return oo[n[e+0]]+oo[n[e+1]]+oo[n[e+2]]+oo[n[e+3]]+"-"+oo[n[e+4]]+oo[n[e+5]]+"-"+oo[n[e+6]]+oo[n[e+7]]+"-"+oo[n[e+8]]+oo[n[e+9]]+"-"+oo[n[e+10]]+oo[n[e+11]]+oo[n[e+12]]+oo[n[e+13]]+oo[n[e+14]]+oo[n[e+15]]}(r)};let t2=(()=>{class n{constructor(t){this.firestore=t}getUsuarioImagen(){return this.firestore.collection("imagen-usuario").snapshotChanges()}updateImgUsuario(t,r){return this.firestore.collection("imagen-usuario").doc(t).update(r)}addImagenUsuario(t){return this.firestore.collection("imagen-usuario").add(t)}delete(t){return this.firestore.collection("imagen-usuario").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.editarPerfil())}),i._uU(2,"Editar perfil"),i.qZA()()}}function jj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"p",16),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.changePortada())}),i._uU(2,"+"),i.qZA()()}}function Hj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"p",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.imagenes())}),i._uU(1," Mis fotos "),i.qZA()}}function Gj(n,e){1&n&&(i.TgZ(0,"div",17)(1,"div",18)(2,"div",19),i._UZ(3,"img",20),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",21),i._UZ(7,"img",22),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function qj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",34)(1,"img",35),i.NdJ("mouseenter",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(u))})("mouseleave",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(u))})("click",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(u))}),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(1),i.Q6J("src",null==t?null:t.url,i.LSH)}}function $j(n,e){if(1&n&&(i.TgZ(0,"span",42),i._uU(1),i.qZA()),2&n){const t=i.oxw(4);i.xp6(1),i.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function zj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",43),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",44),i.qZA()}}function Kj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",46),i.qZA()}}function Wj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",48),i.qZA()}}function Jj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",49),i._UZ(1,"img",50),i.TgZ(2,"div",51)(3,"div")(4,"i",52),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",53),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"i",54),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()()()}if(2&n){const t=i.oxw(4);i.xp6(1),i.ekj("zoom-in",t.previewImage),i.Q6J("src",t.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(t.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",t.currentLightboxImage.likedByImage.includes(t.currentUser.uid)),i.xp6(2),i.Oqu(t.currentLightboxImage.likesCountImage)}}const Yj=function(n){return{active:n}};function Qj(n,e){if(1&n&&(i.TgZ(0,"div",36),i.YNc(1,$j,2,2,"span",37),i.YNc(2,zj,2,0,"button",38),i.YNc(3,Kj,2,0,"button",39),i.YNc(4,Wj,2,0,"button",40),i.YNc(5,Jj,13,7,"div",41),i.qZA()),2&n){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(6,Yj,t.previewImage)),i.xp6(1),i.Q6J("ngIf",t.showCount),i.xp6(1),i.Q6J("ngIf",t.previewImage),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.previewImage)}}function Xj(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",67),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}function e5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",68)(1,"div",69)(2,"img",70),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",71)(6,"p",72),i._uU(7),i.qZA(),i.TgZ(8,"div",73)(9,"div")(10,"i",53),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",74),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",54),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(4);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.hij(" ",t.comentario," "),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function t5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",55)(1,"div",56),i.YNc(2,Xj,1,0,"span",57),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",58)(6,"div",59),i.YNc(7,e5,15,6,"div",60),i.qZA()(),i.TgZ(8,"div",61)(9,"form",62,63),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",64),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",65),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw(3);return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",66),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function n5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",75)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",78)(6,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function r5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",80)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",81),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw(3);return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",82)(7,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const t=i.oxw(3);i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}function i5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",75)(1,"div",76)(2,"div",77)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",78)(6,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function o5(n,e){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han subido fotos aun.."),i.qZA())}function s5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",23)(1,"div",24)(2,"p",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.misImages())}),i._uU(3,"+ Agregar imagen"),i.qZA()(),i.TgZ(4,"div",25)(5,"div",26)(6,"div",27)(7,"div",28),i.YNc(8,qj,2,1,"div",29),i.qZA(),i.YNc(9,Qj,6,8,"div",30),i.qZA()()(),i._UZ(10,"div"),i.YNc(11,t5,18,4,"div",31),i.TgZ(12,"div"),i.YNc(13,n5,10,0,"div",32),i.qZA(),i.YNc(14,r5,11,1,"div",33),i.TgZ(15,"div"),i.YNc(16,i5,10,0,"div",32),i.qZA(),i.YNc(17,o5,2,0,"p",1),i.qZA()}if(2&n){const t=i.oxw(2);i.xp6(8),i.Q6J("ngForOf",t.imageX),i.xp6(1),i.Q6J("ngIf",t.showMask),i.xp6(2),i.Q6J("ngIf",t.modalcom),i.xp6(2),i.Q6J("ngIf",t.modalDelete),i.xp6(1),i.Q6J("ngIf",t.modalEditar),i.xp6(2),i.Q6J("ngIf",t.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==t.imageX.length)}}function a5(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.abrirBandeja())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7)(8,"img",8),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.changeProfilePicture())}),i.qZA(),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.YNc(11,Bj,3,0,"div",1),i.YNc(12,jj,3,0,"div",1),i.qZA(),i.TgZ(13,"p",10),i._uU(14),i.qZA()(),i.TgZ(15,"div",11)(16,"p",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(17,"Grupos"),i.qZA(),i.YNc(18,Hj,2,0,"p",13),i.qZA(),i.YNc(19,Gj,10,0,"div",14),i.YNc(20,s5,18,7,"div",15),i.BQk()}if(2&n){const t=i.oxw();i.xp6(6),i.Q6J("src",t.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",t.usuario.photoURL||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.objetoUsuario.usuario),i.xp6(1),i.Q6J("ngIf",!t.esInvitado),i.xp6(1),i.Q6J("ngIf",!t.esInvitado),i.xp6(2),i.Oqu(t.aboutMeValue),i.xp6(4),i.Q6J("ngIf",!t.esInvitado),i.xp6(1),i.Q6J("ngIf",t.gr),i.xp6(1),i.Q6J("ngIf",t.im)}}function u5(n,e){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let c5=(()=>{class n{constructor(t,r,o,u,l,f,m){this.afAuth=t,this.storage=r,this._user=o,this.toastr=u,this.router=l,this._imageUser=f,this.el=m,this.usuariosInfo=[],this.idInfo=[],this.adm=!1,this.esInvitado=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.gr=!0,this.im=!1,this.vd=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuario=t,this.currentUser=t,this.getUsers(),this.usuarioActual=t?.displayName;const r=t?.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)}),this.getUserImages()}generateUniqueId(){const t=Zj();this.idGenerado=t}editarPerfil(){this.crearUsuario(),this.router.navigate(["/perfil-editar"])}crearUsuario(){null==this.id?this.afAuth.currentUser.then(t=>{this._user.addIUserInfo({idUser:t?.uid,usuario:t?.displayName,email:t?.email,foto:t?.photoURL}).then(()=>{console.log("usuario actualizado")})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(t=>{this.usuariosInfo=[],this.idInfo=[],t.forEach(r=>{r.payload.doc.data(),this.usuariosInfo.push({id:r.payload.doc.data(),...r.payload.doc.data()});const u=this.usuariosInfo.find(m=>m.id.idUser===this.usuario?.uid);this.objetoUsuario=u;const l={id:r.payload.doc.id,...r.payload.doc.data()};this.idInfo.push(l);const f=this.idInfo.find(m=>m.idUser===this.usuario?.uid)?.id;this.id=f,this.phoneNumberValue=u?.telefono,this.genderValue=u?.Genero,this.birthdayValue=u?.cumpleanos,this.aboutMeValue=u?.about,this.urlPortada=u?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(t=>{this.imageZ=[],this.imageX=[],t.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const u=this.imageZ.filter(l=>l.idUser===this.usuario?.uid);this.imageX=u})})}changeProfilePicture(){if(!this.esInvitado){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const u=new Image,l=new FileReader;l.onload=f=>{u.onload=()=>{const m=document.createElement("canvas");let I=u.width,L=u.height;(I>800||L>600)&&(I>L?(L*=800/I,I=800):(I*=600/L,L=600)),m.width=I,m.height=L;const B=m.getContext("2d");B?(B.drawImage(u,0,0,I,L),m.toBlob($=>{if($){const ee=`profilePictures/${this.usuario?.uid}/${o.name}`,ae=this.storage.ref(ee);this.storage.upload(ee,$,{contentType:$.type}).snapshotChanges().pipe(Hl(()=>{ae.getDownloadURL().subscribe(qe=>{this.afAuth.currentUser.then(Be=>{Be?.updateProfile({photoURL:qe}).then(()=>{this._user.updateUser({foto:qe},this.id).then(()=>{console.log("perfil actualizado")}),this.toastr.info("Foto de perfil cambiada")}).catch(We=>{console.error("Error al actualizar la foto de perfil:",We)})})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},u.src=f.target.result},l.readAsDataURL(o)}}),t.click()}}grupos(){this.gr=!0,this.im=!1,this.vd=!1}imagenes(){this.gr=!1,this.im=!0,this.vd=!1}videos(){this.gr=!1,this.im=!1,this.vd=!0}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}changePortada(){if(!this.esInvitado){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const u=new Image,l=new FileReader;l.onload=f=>{u.onload=()=>{const m=document.createElement("canvas");let I=u.width,L=u.height;(I>800||L>600)&&(I>L?(L*=800/I,I=800):(I*=600/L,L=600)),m.width=I,m.height=L;const B=m.getContext("2d");B?(B.drawImage(u,0,0,I,L),m.toBlob($=>{if($){const ee=`portada/${this.usuario?.uid}/${o.name}`,ae=this.storage.ref(ee);this.storage.upload(ee,$,{contentType:$.type}).snapshotChanges().pipe(Hl(()=>{ae.getDownloadURL().subscribe(qe=>{this._user.updateUser({portada:qe},this.id).then(()=>{console.log("actualizando"),this.toastr.info("Foto de portada cambiada")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},u.src=f.target.result},l.readAsDataURL(o)}}),t.click()}}misImages(){if(!this.esInvitado){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const u=new Image,l=new FileReader;l.onload=f=>{u.onload=()=>{const m=document.createElement("canvas");let I=u.width,L=u.height;(I>800||L>600)&&(I>L?(L*=800/I,I=800):(I*=600/L,L=600)),m.width=I,m.height=L;const B=m.getContext("2d");B?(B.drawImage(u,0,0,I,L),m.toBlob($=>{if($){const ee=`usuarios/${this.usuario?.uid}/${o.name}`,ae=this.storage.ref(ee);this.storage.upload(ee,$,{contentType:$.type}).snapshotChanges().pipe(Hl(()=>{ae.getDownloadURL().subscribe(qe=>{const Be=this.usuario?.uid;this._imageUser.addImagenUsuario({url:qe,idUser:Be}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},u.src=f.target.result},l.readAsDataURL(o)}}),t.click()}}likeImage(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByImage.indexOf(u);-1!==m?(t.likedByImage.splice(m,1),t.userImageLikes.splice(m,1),t.likesCountImage--):(t.likedByImage.push(u),t.likesCountImage++,t.userImageLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountImage:t.likesCountImage,likedByImage:t.likedByImage,userImageLikes:t.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.imageX[t],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}deleteImgModal(t){this.idDelete=t,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(t=>t.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}abrirBandeja(){this.crearUsuario(),this.router.navigate(["/bandeja"])}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(Xk),i.Y36(gd),i.Y36(Qi),i.Y36(dn),i.Y36(t2),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil"]],decls:3,vars:2,consts:[[1,"container",2,"user-select","none"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","auto","height","70",2,"cursor","pointer","user-select","none",3,"src","click"],[1,"lap","user"],[1,"lap"],[1,"acciones"],[2,"cursor","pointer",3,"click"],["style","cursor: pointer",3,"click",4,"ngIf"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[1,"edit-perfil",3,"click"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"subir"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,a5,21,9,"ng-container",1),i.YNc(2,u5,3,0,"ng-container",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",r.objetoUsuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Xt,ei,mn,vu,Ni,ni,$r,Yn,ii,Po,mo],styles:[".img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.acciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;border-radius:17px;padding:6px 27px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}"]}),n})();function l5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"label"),i._uU(4,"Nombre de usuario:"),i.qZA(),i.TgZ(5,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.displayNameValue=o)}),i.qZA()(),i.TgZ(6,"div",3)(7,"label"),i._uU(8,"Lugar actual:"),i.qZA(),i.TgZ(9,"input",4),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.ciudad=o)}),i.qZA()(),i.TgZ(10,"div",3)(11,"label"),i._uU(12,"Email:"),i.qZA(),i.TgZ(13,"input",5),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.usuario.email=o)}),i.qZA()(),i.TgZ(14,"div",3)(15,"label"),i._uU(16,"Tel\xe9fono:"),i.qZA(),i.TgZ(17,"input",6),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.phoneNumberValue=o)}),i.qZA()(),i.TgZ(18,"div",3)(19,"label"),i._uU(20,"G\xe9nero:"),i.qZA(),i.TgZ(21,"select",7),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.genderValue=o)}),i.TgZ(22,"option",8),i._uU(23,"Hombre"),i.qZA(),i.TgZ(24,"option",9),i._uU(25,"Mujer"),i.qZA(),i.TgZ(26,"option",10),i._uU(27,"No definido"),i.qZA()()(),i.TgZ(28,"div",3)(29,"label"),i._uU(30,"Estado:"),i.qZA(),i.TgZ(31,"select",11),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.estado=o)}),i.TgZ(32,"option",12),i._uU(33,"Soltero(a)"),i.qZA(),i.TgZ(34,"option",13),i._uU(35,"En una relacion"),i.qZA(),i.TgZ(36,"option",14),i._uU(37,"Comprometido(a)"),i.qZA(),i.TgZ(38,"option",15),i._uU(39,"Casado(a)"),i.qZA(),i.TgZ(40,"option",16),i._uU(41,"Pareja de hecho"),i.qZA(),i.TgZ(42,"option",17),i._uU(43,"Relacion abierta"),i.qZA(),i.TgZ(44,"option",18),i._uU(45,"Es complicado"),i.qZA(),i.TgZ(46,"option",19),i._uU(47,"Separado(a)"),i.qZA(),i.TgZ(48,"option",20),i._uU(49,"Divorciado(a)"),i.qZA(),i.TgZ(50,"option",21),i._uU(51,"Viudo(a)"),i.qZA()()(),i.TgZ(52,"div",22)(53,"label"),i._uU(54,"Fecha de cumplea\xf1os:"),i.qZA(),i.TgZ(55,"input",23),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.birthdayValue=o)}),i.qZA()(),i.TgZ(56,"div",3)(57,"label"),i._uU(58,"Sobre m\xed (m\xe1ximo 50 caracteres):"),i.qZA(),i.TgZ(59,"textarea",24),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.aboutMeValue=o)}),i.qZA()(),i.TgZ(60,"div",25)(61,"button",26),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.actualizarPerfil())}),i._uU(62," Guardar cambios "),i.qZA(),i.TgZ(63,"button",27),i._uU(64,"Volver"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngModel",t.displayNameValue),i.xp6(4),i.Q6J("ngModel",t.ciudad),i.xp6(4),i.Q6J("disabled",!0)("ngModel",t.usuario.email),i.xp6(4),i.Q6J("ngModel",t.phoneNumberValue),i.xp6(4),i.Q6J("ngModel",t.genderValue),i.xp6(10),i.Q6J("ngModel",t.estado),i.xp6(24),i.Q6J("ngModel",t.birthdayValue),i.xp6(4),i.Q6J("ngModel",t.aboutMeValue)}}let d5=(()=>{class n{constructor(t,r,o,u){this.afAuth=t,this.toastr=r,this.router=o,this._user=u,this.usuariosInfo=[],this.comprobar=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuario=t,this.getUsers()})}getUsers(){this._user.getUsers().subscribe(t=>{this.usuariosInfo=[],t.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const u=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid)?.id;this.id=l,null==l&&(this.comprobar=!0),this.displayNameValue=u?.usuario,this.phoneNumberValue=u?.telefono,this.genderValue=u?.Genero,this.birthdayValue=u?.cumpleanos,this.aboutMeValue=u?.about,this.ciudad=u?.ciudad,this.estado=u?.estado})})}actualizarPerfil(){this.afAuth.currentUser.then(t=>{const r=t?.uid,o=t?.email,u=t?.photoURL;this._user.updateUser({idUser:r,usuario:this.displayNameValue,email:o,foto:u,telefono:this.phoneNumberValue||null,Genero:this.genderValue||null,cumpleanos:this.birthdayValue||null,about:this.aboutMeValue||null,ciudad:this.ciudad||null,estado:this.estado||null},this.id).then(()=>{this.router.navigate(["/perfil"]),this.toastr.info("Datos actualizados")})})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(Qi),i.Y36(dn),i.Y36(gd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-perfil-editar"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"per-con"],[1,"form-group"],["required","","name","displayName","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","email","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","phoneNumber","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","gender",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","hombre"],["value","mujer"],["value","no_definido"],["name","estado",1,"form-control","slc",3,"ngModel","ngModelChange"],["value","soltero(a)"],["value","en una relacion"],["value","comprometido(a)"],["value","casado(a)"],["value","pareja de hecho"],["value","relacion abierta"],["value","es complicado"],["value","separado(a)"],["value","divorciado(a)"],["value","viudo(a)"],[1,"form-group","brt"],["name","birthday","type","date",1,"form-control","dent",3,"ngModel","ngModelChange"],["name","aboutMe","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],[1,"but"],[1,"btn","btn-primary",3,"click"],["routerLink","/perfil",1,"btn","btn-secondary"]],template:function(t,r){1&t&&i.YNc(0,l5,65,9,"div",0),2&t&&i.Q6J("ngIf",r.usuario)},dependencies:[mn,vu,jD,HD,ni,wg,xg,$r,ii,YD,Po],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border:none;border-radius:5px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.per-con[_ngcontent-%COMP%]{width:98%}.slc[_ngcontent-%COMP%]{width:102%}.brt[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dent[_ngcontent-%COMP%]{width:100.3%;padding:8px;border:1px solid #bcb0b0;border-radius:4px}.but[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 500px){.per-con[_ngcontent-%COMP%]{width:94%}.slc[_ngcontent-%COMP%]{width:106%}}"]}),n})();function h5(n,e){if(1&n&&(i.TgZ(0,"div",18)(1,"p",19),i._uU(2),i.qZA(),i.TgZ(3,"p",19),i._uU(4),i.qZA(),i.TgZ(5,"p",19),i._uU(6),i.qZA(),i.TgZ(7,"p",19),i._uU(8),i.qZA(),i.TgZ(9,"p",19),i._uU(10),i.qZA()()),2&n){const t=i.oxw(2);i.xp6(2),i.hij("Vive en: ",null==t.info?null:t.info.ciudad,""),i.xp6(2),i.hij("Genero: ",null==t.info?null:t.info.Genero,""),i.xp6(2),i.hij("Cumplea\xf1os: ",null==t.info?null:t.info.cumpleanos,""),i.xp6(2),i.hij("Estado: ",null==t.info?null:t.info.estado,""),i.xp6(2),i.hij("Celular: ",null==t.info?null:t.info.telefono,"")}}function f5(n,e){1&n&&(i.TgZ(0,"div",20)(1,"div",21)(2,"div",22),i._UZ(3,"img",23),i.TgZ(4,"span"),i._uU(5,"Asi somos"),i.qZA()(),i.TgZ(6,"div",24),i._UZ(7,"img",25),i.TgZ(8,"span"),i._uU(9,"Actividad Fisica"),i.qZA()()()())}function p5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",36)(1,"img",37),i.NdJ("mouseenter",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onMouseEnter(u))})("mouseleave",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onMouseLeave(u))})("click",function(){const u=i.CHM(t).index,l=i.oxw(3);return i.KtG(l.onPreviewImage(u))}),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(1),i.Q6J("src",t.url,i.LSH)}}function g5(n,e){if(1&n&&(i.TgZ(0,"span",44),i._uU(1),i.qZA()),2&n){const t=i.oxw(4);i.xp6(1),i.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function m5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",46),i.qZA()}}function _5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.prev())}),i._UZ(1,"i",48),i.qZA()}}function y5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",49),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.next())}),i._UZ(1,"i",50),i.qZA()}}function v5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",51),i._UZ(1,"img",52),i.TgZ(2,"div",53)(3,"div")(4,"i",54),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()()()()}if(2&n){const t=i.oxw(4);i.xp6(1),i.ekj("zoom-in",t.previewImage),i.Q6J("src",t.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(t.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",t.currentLightboxImage.likedByImage.includes(t.currentUser.uid)),i.xp6(2),i.Oqu(t.currentLightboxImage.likesCountImage)}}const D5=function(n){return{active:n}};function C5(n,e){if(1&n&&(i.TgZ(0,"div",38),i.YNc(1,g5,2,2,"span",39),i.YNc(2,m5,2,0,"button",40),i.YNc(3,_5,2,0,"button",41),i.YNc(4,y5,2,0,"button",42),i.YNc(5,v5,11,7,"div",43),i.qZA()),2&n){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(6,D5,t.previewImage)),i.xp6(1),i.Q6J("ngIf",t.showCount),i.xp6(1),i.Q6J("ngIf",t.previewImage),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.previewImage)}}function E5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",68),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(4);return i.KtG(o.close())}),i.qZA()}}function w5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",69)(1,"div",70)(2,"img",71),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",72)(6,"p",73),i._uU(7),i.qZA(),i.TgZ(8,"div",74)(9,"div")(10,"i",55),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",75),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",76),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(4);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(4);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.hij(" ",t.comentario," "),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function b5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",56)(1,"div",57),i.YNc(2,E5,1,0,"span",58),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",59)(6,"div",60),i.YNc(7,w5,15,6,"div",61),i.qZA()(),i.TgZ(8,"div",62)(9,"form",63,64),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",65),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",66),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw(3);return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",67),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw(3);i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function T5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",80)(6,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.borrarComentario())}),i._uU(9," Aceptar "),i.qZA()()()()}}function x5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",82)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",83),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw(3);return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",84)(7,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.editarComentario())}),i._uU(10," Aceptar "),i.qZA()()()()}if(2&n){const t=i.oxw(3);i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}function I5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",80)(6,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.closeDelete())}),i._uU(7," Cancelar "),i.qZA(),i.TgZ(8,"button",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.eliminarImagen())}),i._uU(9," Aceptar "),i.qZA()()()()}}function A5(n,e){1&n&&(i.TgZ(0,"p"),i._uU(1,"No se han subido fotos aun.."),i.qZA())}function S5(n,e){if(1&n&&(i.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30),i.YNc(5,p5,2,1,"div",31),i.qZA(),i.YNc(6,C5,6,8,"div",32),i.qZA()()(),i._UZ(7,"div"),i.YNc(8,b5,18,4,"div",33),i.TgZ(9,"div"),i.YNc(10,T5,10,0,"div",34),i.qZA(),i.YNc(11,x5,11,1,"div",35),i.TgZ(12,"div"),i.YNc(13,I5,10,0,"div",34),i.qZA(),i.YNc(14,A5,2,0,"p",1),i.qZA()),2&n){const t=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",t.imageX),i.xp6(1),i.Q6J("ngIf",t.showMask),i.xp6(2),i.Q6J("ngIf",t.modalcom),i.xp6(2),i.Q6J("ngIf",t.modalDelete),i.xp6(1),i.Q6J("ngIf",t.modalEditar),i.xp6(2),i.Q6J("ngIf",t.modalDeleteImage),i.xp6(1),i.Q6J("ngIf",0==t.imageX.length)}}function M5(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"span",2),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.logout())}),i._uU(2,"Salir"),i.qZA(),i.TgZ(3,"i",3),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.enviarMensaje())}),i.qZA(),i.TgZ(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7),i._UZ(8,"img",8),i.TgZ(9,"p",9),i._uU(10),i.qZA()(),i.TgZ(11,"div")(12,"p",10),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.toggleInfo())}),i._uU(13),i.qZA(),i.YNc(14,h5,11,5,"div",11),i.qZA()(),i.TgZ(15,"p",12),i._uU(16),i.qZA()(),i.TgZ(17,"div",13)(18,"p",14),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.grupos())}),i._uU(19,"Grupos"),i.qZA(),i.TgZ(20,"p",14),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.imagenes())}),i._uU(21),i.qZA(),i.TgZ(22,"p",15),i._uU(23,"Volver"),i.qZA()(),i.YNc(24,f5,10,0,"div",16),i.YNc(25,S5,15,7,"div",17),i.BQk()}if(2&n){const t=i.oxw();i.xp6(6),i.Q6J("src",t.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",i.LSH),i.xp6(2),i.Q6J("src",null!=t.info&&t.info.foto?t.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==t.info?null:t.info.usuario),i.xp6(3),i.Oqu(t.ver),i.xp6(1),i.Q6J("ngIf",t.showMoreInfo),i.xp6(2),i.Oqu(null==t.info?null:t.info.about),i.xp6(5),i.hij(" Fotos de ",null==t.info?null:t.info.usuario," "),i.xp6(3),i.Q6J("ngIf",t.gr),i.xp6(1),i.Q6J("ngIf",t.im)}}function k5(n,e){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"No se ha iniciado sesi\xf3n."),i.qZA(),i.BQk())}let N5=(()=>{class n{constructor(t,r,o,u,l,f,m,v){this.route=t,this._user=r,this.afAuth=o,this.location=u,this.toastr=l,this._imageUser=f,this.router=m,this.el=v,this.usuariosInfo=[],this.showMoreInfo=!1,this.ver="Ver mas...",this.gr=!0,this.im=!1,this.imageX=[],this.imageZ=[],this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.imageX[0],this.currentIndex=0,this.showCount=!1,this.controls=!0,this.totalImageCount=0,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.esInvitado=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuario=t}),this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.getUsers(),this.getUserImages(),"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)}crearUsuario(){null==this.usx?this.afAuth.currentUser.then(t=>{this._user.addIUserInfo({idUser:t?.uid,usuario:t?.displayName,email:t?.email,foto:t?.photoURL}).then(()=>{})}):console.log("el usuario ya esta registrado")}getUsers(){this._user.getUsers().subscribe(t=>{this.usuariosInfo=[],t.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const u=this.usuariosInfo.find(f=>f.idUser===this.id),l=this.usuariosInfo.find(f=>f.idUser===this.usuario?.uid);this.usx=l,this.info=u,this.urlPortada=this.info?.portada})})}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(t=>{this.imageZ=[],this.imageX=[],t.forEach(r=>{const o=r.payload.doc.data();this.imageZ.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const u=this.imageZ.filter(l=>l.idUser===this.id);this.imageX=u})})}goBack(){this.location.back()}toggleInfo(){this.showMoreInfo=!this.showMoreInfo,this.ver=this.showMoreInfo?"Ver menos":"Ver mas..."}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}grupos(){this.gr=!0,this.im=!1}imagenes(){this.gr=!1,this.im=!0}likeImage(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByImage.indexOf(u);-1!==m?(t.likedByImage.splice(m,1),t.userImageLikes.splice(m,1),t.likesCountImage--):(t.likedByImage.push(u),t.likesCountImage++,t.userImageLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountImage:t.likesCountImage,likedByImage:t.likedByImage,userImageLikes:t.userImageLikes};yield r._imageUser.updateImgUsuario(v,x)}else r.modal=!0})()}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.imageX[t],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._imageUser.updateImgUsuario(l,I),r.comentario=""}})()}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._imageUser.updateImgUsuario(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._imageUser.updateImgUsuario(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}deleteImgModal(t){this.idDelete=t,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._imageUser.delete(this.idDelete).then(()=>{this.imageX=this.imageX.filter(t=>t.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}enviarMensaje(){this.crearUsuario(),this.router.navigate(["/enviar-mensaje/",this.id])}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(yu),i.Y36(gd),i.Y36(ai),i.Y36(Ae),i.Y36(Qi),i.Y36(t2),i.Y36(dn),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-ver-usuario"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[2,"padding","6px","position","absolute","right","0","text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"fas","fa-envelope",2,"cursor","pointer","position","absolute","background-color","white","right","1em","padding","5px","top","3rem","border-radius","13px",3,"click"],[1,"user-info"],[1,"img-container"],["alt","",2,"width","100%","position","absolute","z-index","-1",3,"src"],[2,"padding","5px"],["alt","Foto de perfil","width","70","height","70",2,"cursor","pointer","user-select","none",3,"src"],[1,"lap","user"],[1,"edit-perfil",3,"click"],["style","display: flex; flex-direction: column; align-items: center",4,"ngIf"],[1,"lap"],[1,"acciones"],[2,"cursor","pointer",3,"click"],["routerLink","/perfil",2,"cursor","pointer"],["style","\n        display: flex;\n        padding: 20px;\n        flex-wrap: wrap;\n        justify-content: center;\n      ",4,"ngIf"],["class","contenedor-img",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"lap","email"],[2,"display","flex","padding","20px","flex-wrap","wrap","justify-content","center"],[1,"container-img-g"],[1,"bf"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2"],["routerLink","/main-activate","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer"],[1,"contenedor-img"],[1,"contenedor",2,"color","white"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,M5,26,9,"ng-container",1),i.YNc(2,k5,3,0,"ng-container",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",r.usuario),i.xp6(1),i.Q6J("ngIf",!r.usuario))},dependencies:[Xt,ei,mn,vu,Ni,ni,$r,Yn,ii,Po,mo],styles:[".img-container[_ngcontent-%COMP%]{gap:1rem;border-radius:12px;display:flex;height:25vh;align-items:flex-end;box-shadow:0 0 12px #000}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:13px}.lap[_ngcontent-%COMP%]{border-radius:7px;background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;text-align:center;margin:3px}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.acciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;border-radius:17px;padding:6px 27px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.container-img-g[_ngcontent-%COMP%]{gap:2rem;display:flex;text-align:center;width:135px;justify-content:center}.bf[_ngcontent-%COMP%]{border-radius:7px;padding:7px;background:linear-gradient(to bottom right,#242624,#91a7b8)}.bf[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.user[_ngcontent-%COMP%]{color:#fff;margin:0;font-weight:600}.edit-perfil[_ngcontent-%COMP%]{border-radius:22px;padding:5px 22px;background-color:#fff;color:#000;cursor:pointer}.edit-perfil[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.contenedor-img[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#242624,#91a7b8);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 500px){.bf2[_ngcontent-%COMP%]{position:relative;top:3rem}}"]}),n})();function P5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",9)(1,"div",10)(2,"span",11),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",12)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",13),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",14),i._uU(10,"Registrate"),i.qZA()()()()()}}let n2=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.router=r,this.toastr=o,this.esInvitado=!1,this.modal=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuarioActual=t?.displayName,"Invitad@"==this.usuarioActual&&(this.esInvitado=!0)})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}verPerfil(){this.router.navigate(["/perfil"])}close(){this.modal=!1}salir(){this.logout()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(dn),i.Y36(Qi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar-activate"]],decls:16,vars:2,consts:[[2,"user-select","none"],[1,"log"],[1,"verperfil",2,"text-shadow","3px 1px 2px #1669c1","cursor","pointer","color","white",3,"click"],[2,"text-shadow","3px 1px 2px #c11b16","cursor","pointer","color","white",3,"click"],[1,"caja"],["routerLink","/main-activate",1,"nav-link"],["routerLink","/galeria-activate",1,"nav-link"],["routerLink","/videos-activate",1,"nav-link"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"span",2),i.NdJ("click",function(){return r.verPerfil()}),i._uU(4),i.qZA(),i.TgZ(5,"span",3),i.NdJ("click",function(){return r.logout()}),i._uU(6,"Salir"),i.qZA()()(),i.TgZ(7,"div",4)(8,"a",5),i._uU(9,"INICIO"),i.qZA(),i.TgZ(10,"a",6),i._uU(11,"IMAGENES"),i.qZA(),i.TgZ(12,"a",7),i._uU(13,"VIDEOS"),i.qZA()()(),i.TgZ(14,"div"),i.YNc(15,P5,11,0,"div",8),i.qZA()),2&t&&(i.xp6(4),i.hij("Hola ",r.usuarioActual,""),i.xp6(11),i.Q6J("ngIf",r.modal))},dependencies:[mn,Fs],styles:[".log[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verperfil[_ngcontent-%COMP%]{cursor:pointer}.verperfil[_ngcontent-%COMP%]:hover{color:red}.caja[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));display:flex;justify-content:space-around;padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center;margin-top:8px}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),O5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main-activate"]],decls:13,vars:0,consts:[[1,"contenedor",2,"color","white","text-decoration","none"],[2,"text-align","center"],[1,"move"],[1,"move2"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","3%","color","black","text-decoration","none"],[1,"fab","fa-facebook-square"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-navbar-activate"),i.TgZ(2,"div")(3,"div",1)(4,"h2",2),i._uU(5,"Bienvenidos a Activate"),i.qZA(),i.TgZ(6,"span",3),i._uU(7,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),i.qZA()(),i.TgZ(8,"div"),i._UZ(9,"img",4),i.qZA(),i.TgZ(10,"a",5),i._UZ(11,"i",6),i._uU(12," Unete a nuestro grupo de Facebook. "),i.qZA()()())},dependencies:[n2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;padding:20px;animation:apearText 2s linear}.img-fondo[_ngcontent-%COMP%]{position:relative;top:1rem;width:100%;z-index:1;height:60vh}.move[_ngcontent-%COMP%]{animation:moveText .5s linear}.move2[_ngcontent-%COMP%]{animation:moveText 1s linear}@media (max-width: 500px){.img-fondo[_ngcontent-%COMP%]{height:44vh;top:5rem}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})(),R5=(()=>{class n{constructor(t){this.firestore=t}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(t,r){return this.firestore.collection("img-activate").doc(t).update(r)}addImagenInfo(t){return this.firestore.collection("img-activate").add(t)}delete(t){return this.firestore.collection("img-activate").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",11)(1,"p",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.subirArchivo())}),i._uU(2,"+ Agregar imagen"),i.qZA()()}}function L5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",13)(1,"img",14),i.NdJ("mouseenter",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onMouseEnter(u))})("mouseleave",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onMouseLeave(u))})("click",function(){const u=i.CHM(t).index,l=i.oxw();return i.KtG(l.onPreviewImage(u))}),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(1),i.Q6J("src",t.url,i.LSH)}}function U5(n,e){if(1&n&&(i.TgZ(0,"span",21),i._uU(1),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function V5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.onClosePreview())}),i._UZ(1,"i",23),i.qZA()}}function Z5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.prev())}),i._UZ(1,"i",25),i.qZA()}}function B5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.next())}),i._UZ(1,"i",27),i.qZA()}}function j5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"i",34),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(3);return i.KtG(o.deleteImgModal(o.currentLightboxImage.id))}),i.qZA()()}}function H5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",28),i._UZ(1,"img",29),i.TgZ(2,"div",30)(3,"div")(4,"i",31),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.abrirCom(o.currentLightboxImage))}),i.qZA(),i.TgZ(5,"span"),i._uU(6),i.qZA()(),i.TgZ(7,"div")(8,"i",32),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.likeImage(o.currentLightboxImage))}),i.qZA(),i.TgZ(9,"span"),i._uU(10),i.qZA()(),i.YNc(11,j5,2,0,"div",33),i.qZA()()}if(2&n){const t=i.oxw(2);i.xp6(1),i.ekj("zoom-in",t.previewImage),i.Q6J("src",t.currentLightboxImage.url,i.LSH),i.xp6(5),i.Oqu(t.currentLightboxImage.commentsVideo.length),i.xp6(2),i.ekj("liked",t.currentLightboxImage.likedByImage.includes(t.currentUser.uid)),i.xp6(2),i.Oqu(t.currentLightboxImage.likesCountImage),i.xp6(1),i.Q6J("ngIf",t.adm)}}const G5=function(n){return{active:n}};function q5(n,e){if(1&n&&(i.TgZ(0,"div",15),i.YNc(1,U5,2,2,"span",16),i.YNc(2,V5,2,0,"button",17),i.YNc(3,Z5,2,0,"button",18),i.YNc(4,B5,2,0,"button",19),i.YNc(5,H5,12,8,"div",20),i.qZA()),2&n){const t=i.oxw();i.Q6J("ngClass",i.VKq(6,G5,t.previewImage)),i.xp6(1),i.Q6J("ngIf",t.showCount),i.xp6(1),i.Q6J("ngIf",t.previewImage),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.controls),i.xp6(1),i.Q6J("ngIf",t.previewImage)}}function $5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}function z5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",48)(1,"div",49)(2,"img",50),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",51)(6,"p",52),i._uU(7),i.qZA(),i.TgZ(8,"div",53)(9,"div")(10,"i",32),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",54),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",34),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.Oqu(t.comentario),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function K5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",35)(1,"div",36),i.YNc(2,$5,1,0,"span",37),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",38)(6,"div",39),i.YNc(7,z5,15,6,"div",40),i.qZA()(),i.TgZ(8,"div",41)(9,"form",42,43),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",44),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",45),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",46),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function W5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",58)(6,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function J5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",60)(1,"div",56)(2,"div",57)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",61),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",62)(7,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}function Y5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",63)(1,"div",56)(2,"span",64),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",57)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",65),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",66),i._uU(10,"Registrate"),i.qZA()()()()()}}function Q5(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"p"),i._uU(4,"\xbfEstas seguro de eliminar esta imagen?"),i.qZA()(),i.TgZ(5,"div",58)(6,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.eliminarImagen())}),i._uU(9,"Aceptar"),i.qZA()()()()}}let X5=(()=>{class n{constructor(t,r,o,u,l,f,m){this.el=t,this.afAuth=r,this._image=o,this.toastr=u,this.router=l,this._user=f,this.storagex=m,this.images=[],this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete=""}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(t=>{this.currentUser=t;const r=t?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==r)&&(this.adm=!0)})}getImages(){this._image.getim().subscribe(t=>{this.images=[],t.forEach(r=>{const o=r.payload.doc.data();this.images.push({id:r.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}subirArchivo(){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",r=>{const o=r?.target?.files?.[0];if(o){const u=new Image,l=new FileReader;l.onload=f=>{u.onload=()=>{const m=document.createElement("canvas");let I=u.width,L=u.height;(I>800||L>600)&&(I>L?(L*=800/I,I=800):(I*=600/L,L=600)),m.width=I,m.height=L;const B=m.getContext("2d");B?(B.drawImage(u,0,0,I,L),m.toBlob($=>{if($){const ee=`images/${o.name}`,ae=this.storagex.ref(ee);this.storagex.upload(ee,$,{contentType:$.type}).snapshotChanges().pipe(Hl(()=>{ae.getDownloadURL().subscribe(qe=>{this._image.addImagenInfo({url:qe}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},o.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},u.src=f.target.result},l.readAsDataURL(o)}}),t.click()}likeImage(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByImage.indexOf(u);-1!==m?(t.likedByImage.splice(m,1),t.userImageLikes.splice(m,1),t.likesCountImage--):(t.likedByImage.push(u),t.likesCountImage++,t.userImageLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountImage:t.likesCountImage,likedByImage:t.likedByImage,userImageLikes:t.userImageLikes};yield r._image.updateImgAc(v,x)}else r.modal=!0})()}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.images[t],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._image.updateImgAc(l,I),r.comentario=""}})()}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t,(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._image.updateImgAc(f,v)}}else r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}deleteImgModal(t){this.idDelete=t,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(t=>t.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(ai),i.Y36(R5),i.Y36(Qi),i.Y36(dn),i.Y36(gd),i.Y36(Xk))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-galeria-activate"]],decls:17,vars:8,consts:[[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev",2,"border-radius","4px","background-color","gray"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next",2,"border-radius","4px","background-color","gray"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[4,"ngIf"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalcom"],[1,"modal-com",2,"text-align","justify"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.YNc(3,F5,3,0,"div",2),i.TgZ(4,"div",3)(5,"div",4),i.YNc(6,L5,2,1,"div",5),i.qZA(),i.YNc(7,q5,6,8,"div",6),i.qZA()()(),i._UZ(8,"div"),i.YNc(9,K5,18,4,"div",7),i.TgZ(10,"div"),i.YNc(11,W5,10,0,"div",8),i.qZA(),i.YNc(12,J5,11,1,"div",9),i.TgZ(13,"div"),i.YNc(14,Y5,11,0,"div",10),i.qZA(),i.TgZ(15,"div"),i.YNc(16,Q5,10,0,"div",8),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngIf",r.adm),i.xp6(3),i.Q6J("ngForOf",r.images),i.xp6(1),i.Q6J("ngIf",r.showMask),i.xp6(2),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal),i.xp6(2),i.Q6J("ngIf",r.modalDeleteImage))},dependencies:[Xt,ei,mn,Fs,Ni,ni,$r,Yn,ii,Po,mo,n2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(196,214,1,.6039215686),rgba(254,254,255,.4588235294));color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}"]}),n})(),eH=(()=>{class n{constructor(t){this.firestore=t}getactvid(){return this.firestore.collection("videos-activate",t=>t.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(t,r){return this.firestore.collection("videos-activate").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",11)(1,"video",12),i._UZ(2,"source",13),i.qZA(),i.TgZ(3,"div",14)(4,"div",15)(5,"p",16),i._uU(6),i.qZA()(),i.TgZ(7,"div",17)(8,"div",18)(9,"i",19),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirCom(u))}),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",20)(13,"i",21),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.likeVideo(u))}),i.qZA(),i.TgZ(14,"span"),i._uU(15),i.qZA()()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(2),i.Q6J("src",t.url,i.LSH),i.xp6(4),i.hij(" ",t.nombre," "),i.xp6(5),i.Oqu(t.commentsVideo.length),i.xp6(2),i.ekj("liked",t.likedByVideo.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountVideo)}}function nH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",34),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.close())}),i.qZA()}}function rH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",35)(1,"div",36)(2,"img",37),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.ir(u.idUser))}),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",38)(6,"p",39),i._uU(7),i.qZA(),i.TgZ(8,"div",40)(9,"div")(10,"i",21),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.likeComment(u))}),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA()(),i.TgZ(13,"i",41),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.abrirEditar(u))}),i.qZA(),i.TgZ(14,"i",42),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.deleteModal(u))}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("src",t.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.usuario),i.xp6(3),i.Oqu(t.comentario),i.xp6(3),i.ekj("liked",t.likedByComment&&t.likedByComment.includes(r.currentUser.uid)),i.xp6(2),i.Oqu(t.likesCountComment)}}function iH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",22)(1,"div",23),i.YNc(2,nH,1,0,"span",24),i.TgZ(3,"h3"),i._uU(4,"Comentarios:"),i.qZA(),i.TgZ(5,"div",25)(6,"div",26),i.YNc(7,rH,15,6,"div",27),i.qZA()(),i.TgZ(8,"div",28)(9,"form",29,30),i.NdJ("submit",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addComment(o.comentario))}),i.TgZ(11,"label",31),i._uU(12,"Agregar comentario:"),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"textarea",32),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.comentario=o)}),i.qZA(),i._UZ(15,"br"),i.TgZ(16,"button",33),i._uU(17," Comentar "),i.qZA()()()()()}if(2&n){const t=i.MAs(10),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.ocultarx),i.xp6(5),i.Q6J("ngForOf",r.dataVideoId.commentsVideo),i.xp6(7),i.Q6J("ngModel",r.comentario),i.xp6(2),i.Q6J("disabled",!t.valid)}}function oH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",43)(1,"div",44)(2,"div",45)(3,"p"),i._uU(4,"\xbfDeseas eliminar este Comentario?"),i.qZA()(),i.TgZ(5,"div",46)(6,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.borrarComentario())}),i._uU(9,"Aceptar"),i.qZA()()()()}}function sH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",48)(1,"div",44)(2,"div",45)(3,"p"),i._uU(4,"Editar comentario:"),i.qZA(),i.TgZ(5,"textarea",49),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.esteComentario=o)}),i.qZA()(),i.TgZ(6,"div",50)(7,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeDelete())}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.editarComentario())}),i._uU(10,"Aceptar"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngModel",t.esteComentario)}}function aH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",51)(1,"div",44)(2,"span",52),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.close())}),i.qZA(),i.TgZ(3,"div",45)(4,"p"),i._uU(5," Primero debes "),i.TgZ(6,"a",53),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.salir())}),i._uU(7,"Iniciar Sesion"),i.qZA(),i._uU(8," o "),i.TgZ(9,"a",54),i._uU(10,"Registrate"),i.qZA()()()()()}}let uH=(()=>{class n{constructor(t,r,o,u,l){this.afAuth=t,this._videosService=r,this.afs=o,this._users=u,this.router=l,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm=""}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(t=>{this.currentUser=t;const r=t?.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==r&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==r&&(this.adm=!0)})}getVideos(){this._videosService.getactvid().subscribe(t=>{this.videos=[],t.forEach(r=>{const o=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[]})}),this.filteredVideos=this.videos})}likeVideo(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){const u=o.uid,l=o.displayName,f=o.email,m=t.likedByVideo.indexOf(u);-1!==m?(t.likedByVideo.splice(m,1),t.userVideoLikes.splice(m,1),t.likesCountVideo--):(t.likedByVideo.push(u),t.likesCountVideo++,t.userVideoLikes.push({usuario:l,correo:f}));const v=t.id,x={likesCountVideo:t.likesCountVideo,likedByVideo:t.likedByVideo,userVideoLikes:t.userVideoLikes};yield r._videosService.updateActVideo(v,x)}else r.modal=!0})()}abrirCom(t){var r=this;return(0,te.Z)(function*(){r.dataVideoId=t;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(t){var r=this;return(0,te.Z)(function*(){(yield r.afAuth.currentUser)?.uid===t?r.router.navigate(["/perfil"]):r.router.navigate(["/usuario/",t])})()}likeComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const u=o.uid,l=t.likedByComment.indexOf(u);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(u),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(v=>v===t)){const v={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateActVideo(f,v),console.log(v)}}else r.modal=!0})()}abrirEditar(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}deleteModal(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;(o?.email===t.correo||"administrador.sistema@gmail.com"==o?.email||"jeestrada377@gmail.com"==o?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}addComment(t){var r=this;return(0,te.Z)(function*(){const o=yield r.afAuth.currentUser;if(o){const u=r.dataVideoId,l=r.dataVideoId.id;u.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:t,imagen:o.photoURL,idUser:o.uid});const I={commentsVideo:u.commentsVideo};yield r._videosService.updateActVideo(l,I),r.comentario=""}})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(u=>{console.error("Error al eliminar el comentario:",u)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(t=>t.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ai),i.Y36(eH),i.Y36(pd),i.Y36(gd),i.Y36(dn))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-videos-activate"]],decls:14,vars:6,consts:[[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModel","ngModelChange","keyup"],[1,"video-container"],[1,"video"],["class","gallery-video",4,"ngFor","ngForOf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["class","modal",4,"ngIf"],[1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"src","click"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[1,"modal-con"],[2,"text-align","center"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"],[1,"modal"],[1,"fas","fa-times","lax",3,"click"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-navbar-activate"),i.TgZ(3,"div",2)(4,"input",3),i.NdJ("ngModelChange",function(u){return r.searchTerm=u})("keyup",function(){return r.filterVideos()}),i.qZA()(),i.TgZ(5,"div",4)(6,"div",5),i.YNc(7,tH,16,6,"div",6),i.qZA()()()(),i.YNc(8,iH,18,4,"div",7),i.TgZ(9,"div"),i.YNc(10,oH,10,0,"div",8),i.qZA(),i.YNc(11,sH,11,1,"div",9),i.TgZ(12,"div"),i.YNc(13,aH,11,0,"div",10),i.qZA()),2&t&&(i.xp6(4),i.Q6J("ngModel",r.searchTerm),i.xp6(3),i.Q6J("ngForOf",r.filteredVideos),i.xp6(1),i.Q6J("ngIf",r.modalcom),i.xp6(2),i.Q6J("ngIf",r.modalDelete),i.xp6(1),i.Q6J("ngIf",r.modalEditar),i.xp6(2),i.Q6J("ngIf",r.modal))},dependencies:[ei,mn,Fs,Ni,ni,$r,Yn,ii,Po,mo,n2],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),n})(),mL=(()=>{class n{constructor(t){this.firestore=t}getUMessage(){return this.firestore.collection("mensajes").snapshotChanges()}update(t,r){return this.firestore.collection("mensajes").doc(t).update(r)}addMessage(t){return this.firestore.collection("mensajes").add(t)}delete(t){return this.firestore.collection("mensajes").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",7)(1,"img",8),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(u.idUser))}),i.qZA(),i.TgZ(2,"div"),i._uU(3),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(1),i.Q6J("src",null!=t&&t.foto?t.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==t?null:t.usuario)}}function lH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",9)(1,"div")(2,"div")(3,"span",10),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(u.idEmisor))}),i._UZ(4,"img",11),i.TgZ(5,"strong"),i._uU(6),i.qZA()()()()()}if(2&n){const t=e.$implicit;i.xp6(4),i.Q6J("src",null!=t&&t.foto?t.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.para)}}function dH(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",9)(1,"div")(2,"div")(3,"span",10),i.NdJ("click",function(){const u=i.CHM(t).$implicit,l=i.oxw();return i.KtG(l.abrirMensaje(u.idReceptor))}),i._UZ(4,"img",11),i.TgZ(5,"strong"),i._uU(6),i.qZA()()()()()}if(2&n){const t=e.$implicit;i.xp6(4),i.Q6J("src",null!=t&&t.foto1?t.foto1:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(t.de)}}let hH=(()=>{class n{constructor(t,r,o,u,l){this.location=t,this._msj=r,this.afAuth=o,this.router=u,this._user=l,this.mensajes=[],this.mensajes2=[],this.mensajes3=[],this.misMensajes=[],this.misMensajes2=[],this.users=[],this.users2=[]}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuario=t,this.usuarioActual=this.usuario?.uid,this.getMessages(),this.getUsers()})}getUsers(){this.users=[],this._user.getUsers().subscribe(t=>{t.forEach(o=>{this.users.push({id:o.payload.doc.id,...o.payload.doc.data()})});const r=this.users.filter(o=>o.idUser!==this.usuarioActual);this.users2=r})}getMessages(){this._msj.getUMessage().subscribe(t=>{this.mensajes2=[],t.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.mensajes2.push(o);const u=this.mensajes2.filter(f=>f.idReceptor==this.usuarioActual),l=this.mensajes2.filter(f=>f.idEmisor==this.usuarioActual);this.mensajes=u,this.mensajes3=l})})}abrirMensaje(t){this.router.navigate(["enviar-mensaje",t])}volver(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ae),i.Y36(mL),i.Y36(ai),i.Y36(dn),i.Y36(gd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-bandeja"]],decls:11,vars:3,consts:[[1,"inbox-container"],[1,"inbox-header"],[1,"fas","fa-arrow-left",3,"click"],[2,"gap","1rem","display","flex","width","100%","overflow-x","auto","-ms-overflow-style","none","scrollbar-width","none"],["style","text-align: center",4,"ngFor","ngForOf"],[1,"inbox-messages",2,"width","100%"],["class","message",4,"ngFor","ngForOf"],[2,"text-align","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src","click"],[1,"message"],[2,"display","flex","gap","1rem","align-items","center",3,"click"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"i",2),i.NdJ("click",function(){return r.volver()}),i.qZA(),i.TgZ(3,"h1"),i._uU(4,"Mensajes"),i.qZA()(),i.TgZ(5,"div",3),i.YNc(6,cH,4,2,"div",4),i.qZA(),i.TgZ(7,"div",5),i.YNc(8,lH,7,2,"div",6),i.qZA(),i.TgZ(9,"div",5),i.YNc(10,dH,7,2,"div",6),i.qZA()()),2&t&&(i.xp6(6),i.Q6J("ngForOf",r.users2),i.xp6(2),i.Q6J("ngForOf",r.mensajes),i.xp6(2),i.Q6J("ngForOf",r.mensajes3))},dependencies:[ei],styles:[".inbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;background-color:#f0f0f0}.inbox-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:20px}.inbox-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#333;cursor:pointer;margin-right:10px}.inbox-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.message[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff}.message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}"]}),n})();const _L=function(n,e){return{"mensaje-saliente":n,"mensaje-entrante":e}},yL=function(n,e){return{"mensaje-s":n,"mensaje-e":e}};function fH(n,e){if(1&n&&(i.TgZ(0,"div",20)(1,"div")(2,"div")(3,"span",20),i._uU(4),i.qZA()(),i.TgZ(5,"div"),i._uU(6),i.qZA()()()),2&n){const t=e.$implicit,r=i.oxw(2);i.Q6J("ngClass",i.WLB(4,_L,t.para===r.usuario.displayName,t.de===r.usuario.displayName)),i.xp6(3),i.Q6J("ngClass",i.WLB(7,yL,t.para===r.usuario.displayName,t.de===r.usuario.displayName)),i.xp6(1),i.hij("",t.de," "),i.xp6(2),i.hij(" ",t.mensaje," ")}}function pH(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,fH,7,10,"div",19),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.objetoMensaje.mensaje)}}function gH(n,e){if(1&n&&(i.TgZ(0,"div",20)(1,"div")(2,"div")(3,"span",20),i._uU(4),i.qZA()(),i.TgZ(5,"div"),i._uU(6),i.qZA()()()),2&n){const t=e.$implicit,r=i.oxw(2);i.Q6J("ngClass",i.WLB(4,_L,t.para===r.usuario.displayName,t.de===r.usuario.displayName)),i.xp6(3),i.Q6J("ngClass",i.WLB(7,yL,t.para===r.usuario.displayName,t.de===r.usuario.displayName)),i.xp6(1),i.hij("",t.de," "),i.xp6(2),i.hij(" ",t.mensaje," ")}}function mH(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,gH,7,10,"div",19),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.objetoMensaje2.mensaje)}}function _H(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",21)(1,"div",22)(2,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60a}"))}),i._uU(3,"\u{1f60a}"),i.qZA(),i.TgZ(4,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f602}"))}),i._uU(5,"\u{1f602}"),i.qZA(),i.TgZ(6,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f601}"))}),i._uU(7,"\u{1f601}"),i.qZA(),i.TgZ(8,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f642}"))}),i._uU(9,"\u{1f642}"),i.qZA(),i.TgZ(10,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60e}"))}),i._uU(11,"\u{1f60e}"),i.qZA(),i.TgZ(12,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f609}"))}),i._uU(13,"\u{1f609}"),i.qZA(),i.TgZ(14,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60c}"))}),i._uU(15,"\u{1f60c}"),i.qZA(),i.TgZ(16,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f970}"))}),i._uU(17,"\u{1f970}"),i.qZA(),i.TgZ(18,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f618}"))}),i._uU(19,"\u{1f618}"),i.qZA(),i.TgZ(20,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60d}"))}),i._uU(21,"\u{1f60d}"),i.qZA(),i.TgZ(22,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f605}"))}),i._uU(23,"\u{1f605}"),i.qZA(),i.TgZ(24,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61c}"))}),i._uU(25,"\u{1f61c}"),i.qZA(),i.TgZ(26,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61d}"))}),i._uU(27,"\u{1f61d}"),i.qZA(),i.TgZ(28,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92a}"))}),i._uU(29,"\u{1f92a}"),i.qZA(),i.TgZ(30,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f917}"))}),i._uU(31,"\u{1f917}"),i.qZA(),i.TgZ(32,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61a}"))}),i._uU(33,"\u{1f61a}"),i.qZA(),i.TgZ(34,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f913}"))}),i._uU(35,"\u{1f913}"),i.qZA(),i.TgZ(36,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f624}"))}),i._uU(37,"\u{1f624}"),i.qZA(),i.TgZ(38,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92c}"))}),i._uU(39,"\u{1f92c}"),i.qZA(),i.TgZ(40,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f621}"))}),i._uU(41,"\u{1f621}"),i.qZA(),i.TgZ(42,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f622}"))}),i._uU(43,"\u{1f622}"),i.qZA(),i.TgZ(44,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62d}"))}),i._uU(45,"\u{1f62d}"),i.qZA(),i.TgZ(46,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f631}"))}),i._uU(47,"\u{1f631}"),i.qZA(),i.TgZ(48,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f633}"))}),i._uU(49,"\u{1f633}"),i.qZA(),i.TgZ(50,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f60b}"))}),i._uU(51,"\u{1f60b}"),i.qZA(),i.TgZ(52,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f973}"))}),i._uU(53,"\u{1f973}"),i.qZA(),i.TgZ(54,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f634}"))}),i._uU(55,"\u{1f634}"),i.qZA(),i.TgZ(56,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f607}"))}),i._uU(57,"\u{1f607}"),i.qZA(),i.TgZ(58,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f608}"))}),i._uU(59,"\u{1f608}"),i.qZA(),i.TgZ(60,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92f}"))}),i._uU(61,"\u{1f92f}"),i.qZA(),i.TgZ(62,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f929}"))}),i._uU(63,"\u{1f929}"),i.qZA(),i.TgZ(64,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f97a}"))}),i._uU(65,"\u{1f97a}"),i.qZA(),i.TgZ(66,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f610}"))}),i._uU(67,"\u{1f610}"),i.qZA(),i.TgZ(68,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62c}"))}),i._uU(69,"\u{1f62c}"),i.qZA(),i.TgZ(70,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f635}"))}),i._uU(71,"\u{1f635}"),i.qZA(),i.TgZ(72,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f914}"))}),i._uU(73,"\u{1f914}"),i.qZA(),i.TgZ(74,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f616}"))}),i._uU(75,"\u{1f616}"),i.qZA(),i.TgZ(76,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f623}"))}),i._uU(77,"\u{1f623}"),i.qZA(),i.TgZ(78,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f61e}"))}),i._uU(79,"\u{1f61e}"),i.qZA(),i.TgZ(80,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f614}"))}),i._uU(81,"\u{1f614}"),i.qZA(),i.TgZ(82,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f613}"))}),i._uU(83,"\u{1f613}"),i.qZA(),i.TgZ(84,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f644}"))}),i._uU(85,"\u{1f644}"),i.qZA(),i.TgZ(86,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f62a}"))}),i._uU(87,"\u{1f62a}"),i.qZA(),i.TgZ(88,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f924}"))}),i._uU(89,"\u{1f924}"),i.qZA(),i.TgZ(90,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f637}"))}),i._uU(91,"\u{1f637}"),i.qZA(),i.TgZ(92,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f912}"))}),i._uU(93,"\u{1f912}"),i.qZA(),i.TgZ(94,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f915}"))}),i._uU(95,"\u{1f915}"),i.qZA(),i.TgZ(96,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f922}"))}),i._uU(97,"\u{1f922}"),i.qZA(),i.TgZ(98,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f92e}"))}),i._uU(99,"\u{1f92e}"),i.qZA(),i.TgZ(100,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f927}"))}),i._uU(101,"\u{1f927}"),i.qZA(),i.TgZ(102,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f974}"))}),i._uU(103,"\u{1f974}"),i.qZA(),i.TgZ(104,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f911}"))}),i._uU(105,"\u{1f911}"),i.qZA(),i.TgZ(106,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f920}"))}),i._uU(107,"\u{1f920}"),i.qZA(),i.TgZ(108,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f919}"))}),i._uU(109,"\u{1f919}"),i.qZA(),i.TgZ(110,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f918}"))}),i._uU(111,"\u{1f918}"),i.qZA(),i.TgZ(112,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44d}"))}),i._uU(113,"\u{1f44d}"),i.qZA(),i.TgZ(114,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44e}"))}),i._uU(115,"\u{1f44e}"),i.qZA(),i.TgZ(116,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91e}"))}),i._uU(117,"\u{1f91e}"),i.qZA(),i.TgZ(118,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u270c\ufe0f"))}),i._uU(119,"\u270c\ufe0f"),i.qZA(),i.TgZ(120,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91f}"))}),i._uU(121,"\u{1f91f}"),i.qZA(),i.TgZ(122,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44c}"))}),i._uU(123,"\u{1f44c}"),i.qZA(),i.TgZ(124,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44b}"))}),i._uU(125,"\u{1f44b}"),i.qZA(),i.TgZ(126,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91a}"))}),i._uU(127,"\u{1f91a}"),i.qZA(),i.TgZ(128,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f590}\ufe0f"))}),i._uU(129,"\u{1f590}\ufe0f"),i.qZA(),i.TgZ(130,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u270b"))}),i._uU(131,"\u270b"),i.qZA(),i.TgZ(132,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f596}"))}),i._uU(133,"\u{1f596}"),i.qZA(),i.TgZ(134,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f44a}"))}),i._uU(135,"\u{1f44a}"),i.qZA(),i.TgZ(136,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u270a"))}),i._uU(137,"\u270a"),i.qZA(),i.TgZ(138,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91b}"))}),i._uU(139,"\u{1f91b}"),i.qZA(),i.TgZ(140,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91c}"))}),i._uU(141,"\u{1f91c}"),i.qZA(),i.TgZ(142,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f91d}"))}),i._uU(143,"\u{1f91d}"),i.qZA(),i.TgZ(144,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f4aa}"))}),i._uU(145,"\u{1f4aa}"),i.qZA(),i.TgZ(146,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9be}"))}),i._uU(147,"\u{1f9be}"),i.qZA(),i.TgZ(148,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bf}"))}),i._uU(149,"\u{1f9bf}"),i.qZA(),i.TgZ(150,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b5}"))}),i._uU(151,"\u{1f9b5}"),i.qZA(),i.TgZ(152,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b6}"))}),i._uU(153,"\u{1f9b6}"),i.qZA(),i.TgZ(154,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f442}"))}),i._uU(155,"\u{1f442}"),i.qZA(),i.TgZ(156,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9bb}"))}),i._uU(157,"\u{1f9bb}"),i.qZA(),i.TgZ(158,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f443}"))}),i._uU(159,"\u{1f443}"),i.qZA(),i.TgZ(160,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f43b}"))}),i._uU(161,"\u{1f43b}"),i.qZA(),i.TgZ(162,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f430}"))}),i._uU(163,"\u{1f430}"),i.qZA(),i.TgZ(164,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f431}"))}),i._uU(165,"\u{1f431}"),i.qZA(),i.TgZ(166,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f436}"))}),i._uU(167,"\u{1f436}"),i.qZA(),i.TgZ(168,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42d}"))}),i._uU(169,"\u{1f42d}"),i.qZA(),i.TgZ(170,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f439}"))}),i._uU(171,"\u{1f439}"),i.qZA(),i.TgZ(172,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f437}"))}),i._uU(173,"\u{1f437}"),i.qZA(),i.TgZ(174,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42e}"))}),i._uU(175,"\u{1f42e}"),i.qZA(),i.TgZ(176,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f42f}"))}),i._uU(177,"\u{1f42f}"),i.qZA(),i.TgZ(178,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f428}"))}),i._uU(179,"\u{1f428}"),i.qZA(),i.TgZ(180,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9e0}"))}),i._uU(181,"\u{1f9e0}"),i.qZA(),i.TgZ(182,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b7}"))}),i._uU(183,"\u{1f9b7}"),i.qZA(),i.TgZ(184,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b4}"))}),i._uU(185,"\u{1f9b4}"),i.qZA(),i.TgZ(186,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f440}"))}),i._uU(187,"\u{1f440}"),i.qZA(),i.TgZ(188,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f441}\ufe0f"))}),i._uU(189,"\u{1f441}\ufe0f"),i.qZA(),i.TgZ(190,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ff}"))}),i._uU(191,"\u{1f9ff}"),i.qZA(),i.TgZ(192,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f445}"))}),i._uU(193,"\u{1f445}"),i.qZA(),i.TgZ(194,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f444}"))}),i._uU(195,"\u{1f444}"),i.qZA(),i.TgZ(196,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(197,"\u{1f476}"),i.qZA(),i.TgZ(198,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(199,"\u{1f9d2}"),i.qZA(),i.TgZ(200,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(201,"\u{1f466}"),i.qZA(),i.TgZ(202,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(203,"\u{1f467}"),i.qZA(),i.TgZ(204,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(205,"\u{1f9d1}"),i.qZA(),i.TgZ(206,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(207,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(208,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}"))}),i._uU(209,"\u{1f471}"),i.qZA(),i.TgZ(210,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(211,"\u{1f468}"),i.qZA(),i.TgZ(212,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(213,"\u{1f9d4}"),i.qZA(),i.TgZ(214,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(215,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(216,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(217,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(218,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(219,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(220,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(221,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(222,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(223,"\u{1f9d4}"),i.qZA(),i.TgZ(224,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(225,"\u{1f469}"),i.qZA(),i.TgZ(226,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b0}"))}),i._uU(227,"\u{1f469}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(228,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b1}"))}),i._uU(229,"\u{1f469}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(230,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b3}"))}),i._uU(231,"\u{1f469}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(232,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9b2}"))}),i._uU(233,"\u{1f469}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(234,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(235,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(236,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(237,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(238,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(239,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(240,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b0}"))}),i._uU(241,"\u{1f9d1}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(242,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b1}"))}),i._uU(243,"\u{1f9d1}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(244,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b3}"))}),i._uU(245,"\u{1f9d1}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(246,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9b2}"))}),i._uU(247,"\u{1f9d1}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(248,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(249,"\u{1f466}"),i.qZA(),i.TgZ(250,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(251,"\u{1f466}"),i.qZA(),i.TgZ(252,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(253,"\u{1f466}"),i.qZA(),i.TgZ(254,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f466}"))}),i._uU(255,"\u{1f466}"),i.qZA(),i.TgZ(256,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(257,"\u{1f467}"),i.qZA(),i.TgZ(258,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(259,"\u{1f467}"),i.qZA(),i.TgZ(260,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(261,"\u{1f467}"),i.qZA(),i.TgZ(262,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f467}"))}),i._uU(263,"\u{1f467}"),i.qZA(),i.TgZ(264,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(265,"\u{1f9d2}"),i.qZA(),i.TgZ(266,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(267,"\u{1f9d2}"),i.qZA(),i.TgZ(268,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(269,"\u{1f9d2}"),i.qZA(),i.TgZ(270,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d2}"))}),i._uU(271,"\u{1f9d2}"),i.qZA(),i.TgZ(272,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(273,"\u{1f476}"),i.qZA(),i.TgZ(274,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(275,"\u{1f476}"),i.qZA(),i.TgZ(276,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(277,"\u{1f476}"),i.qZA(),i.TgZ(278,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f476}"))}),i._uU(279,"\u{1f476}"),i.qZA(),i.TgZ(280,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(281,"\u{1f468}"),i.qZA(),i.TgZ(282,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(283,"\u{1f468}"),i.qZA(),i.TgZ(284,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(285,"\u{1f468}"),i.qZA(),i.TgZ(286,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}"))}),i._uU(287,"\u{1f468}"),i.qZA(),i.TgZ(288,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(289,"\u{1f469}"),i.qZA(),i.TgZ(290,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(291,"\u{1f469}"),i.qZA(),i.TgZ(292,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(293,"\u{1f469}"),i.qZA(),i.TgZ(294,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}"))}),i._uU(295,"\u{1f469}"),i.qZA(),i.TgZ(296,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(297,"\u{1f9d1}"),i.qZA(),i.TgZ(298,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(299,"\u{1f9d1}"),i.qZA(),i.TgZ(300,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(301,"\u{1f9d1}"),i.qZA(),i.TgZ(302,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}"))}),i._uU(303,"\u{1f9d1}"),i.qZA(),i.TgZ(304,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(305,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(306,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(307,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(308,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b0}"))}),i._uU(309,"\u{1f468}\u200d\u{1f9b0}"),i.qZA(),i.TgZ(310,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(311,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(312,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(313,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(314,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b1}"))}),i._uU(315,"\u{1f468}\u200d\u{1f9b1}"),i.qZA(),i.TgZ(316,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(317,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(318,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(319,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(320,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b3}"))}),i._uU(321,"\u{1f468}\u200d\u{1f9b3}"),i.qZA(),i.TgZ(322,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(323,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(324,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(325,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(326,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9b2}"))}),i._uU(327,"\u{1f468}\u200d\u{1f9b2}"),i.qZA(),i.TgZ(328,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(329,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(330,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(331,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(332,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2642\ufe0f"))}),i._uU(333,"\u{1f471}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(334,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(335,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(336,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(337,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(338,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f471}\u200d\u2640\ufe0f"))}),i._uU(339,"\u{1f471}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(340,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d3}"))}),i._uU(341,"\u{1f9d3}"),i.qZA(),i.TgZ(342,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d4}"))}),i._uU(343,"\u{1f9d4}"),i.qZA(),i.TgZ(344,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f474}"))}),i._uU(345,"\u{1f474}"),i.qZA(),i.TgZ(346,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f475}"))}),i._uU(347,"\u{1f475}"),i.qZA(),i.TgZ(348,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2695\ufe0f"))}),i._uU(349,"\u{1f468}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(350,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2695\ufe0f"))}),i._uU(351,"\u{1f469}\u200d\u2695\ufe0f"),i.qZA(),i.TgZ(352,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f393}"))}),i._uU(353,"\u{1f468}\u200d\u{1f393}"),i.qZA(),i.TgZ(354,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f393}"))}),i._uU(355,"\u{1f469}\u200d\u{1f393}"),i.qZA(),i.TgZ(356,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3eb}"))}),i._uU(357,"\u{1f468}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(358,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3eb}"))}),i._uU(359,"\u{1f469}\u200d\u{1f3eb}"),i.qZA(),i.TgZ(360,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2696\ufe0f"))}),i._uU(361,"\u{1f468}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(362,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2696\ufe0f"))}),i._uU(363,"\u{1f469}\u200d\u2696\ufe0f"),i.qZA(),i.TgZ(364,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f33e}"))}),i._uU(365,"\u{1f468}\u200d\u{1f33e}"),i.qZA(),i.TgZ(366,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f33e}"))}),i._uU(367,"\u{1f469}\u200d\u{1f33e}"),i.qZA(),i.TgZ(368,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f373}"))}),i._uU(369,"\u{1f468}\u200d\u{1f373}"),i.qZA(),i.TgZ(370,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f373}"))}),i._uU(371,"\u{1f469}\u200d\u{1f373}"),i.qZA(),i.TgZ(372,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f527}"))}),i._uU(373,"\u{1f468}\u200d\u{1f527}"),i.qZA(),i.TgZ(374,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f527}"))}),i._uU(375,"\u{1f469}\u200d\u{1f527}"),i.qZA(),i.TgZ(376,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3ed}"))}),i._uU(377,"\u{1f468}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(378,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3ed}"))}),i._uU(379,"\u{1f469}\u200d\u{1f3ed}"),i.qZA(),i.TgZ(380,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bc}"))}),i._uU(381,"\u{1f468}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(382,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bc}"))}),i._uU(383,"\u{1f469}\u200d\u{1f4bc}"),i.qZA(),i.TgZ(384,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f52c}"))}),i._uU(385,"\u{1f468}\u200d\u{1f52c}"),i.qZA(),i.TgZ(386,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f52c}"))}),i._uU(387,"\u{1f469}\u200d\u{1f52c}"),i.qZA(),i.TgZ(388,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f4bb}"))}),i._uU(389,"\u{1f468}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(390,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f4bb}"))}),i._uU(391,"\u{1f469}\u200d\u{1f4bb}"),i.qZA(),i.TgZ(392,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a4}"))}),i._uU(393,"\u{1f468}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(394,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a4}"))}),i._uU(395,"\u{1f469}\u200d\u{1f3a4}"),i.qZA(),i.TgZ(396,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f3a8}"))}),i._uU(397,"\u{1f468}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(398,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f3a8}"))}),i._uU(399,"\u{1f469}\u200d\u{1f3a8}"),i.qZA(),i.TgZ(400,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2708\ufe0f"))}),i._uU(401,"\u{1f468}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(402,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2708\ufe0f"))}),i._uU(403,"\u{1f469}\u200d\u2708\ufe0f"),i.qZA(),i.TgZ(404,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f680}"))}),i._uU(405,"\u{1f468}\u200d\u{1f680}"),i.qZA(),i.TgZ(406,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f680}"))}),i._uU(407,"\u{1f469}\u200d\u{1f680}"),i.qZA(),i.TgZ(408,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f692}"))}),i._uU(409,"\u{1f468}\u200d\u{1f692}"),i.qZA(),i.TgZ(410,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f692}"))}),i._uU(411,"\u{1f469}\u200d\u{1f692}"),i.qZA(),i.TgZ(412,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}"))}),i._uU(413,"\u{1f46e}"),i.qZA(),i.TgZ(414,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2642\ufe0f"))}),i._uU(415,"\u{1f46e}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(416,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46e}\u200d\u2640\ufe0f"))}),i._uU(417,"\u{1f46e}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(418,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f"))}),i._uU(419,"\u{1f575}\ufe0f"),i.qZA(),i.TgZ(420,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2642\ufe0f"))}),i._uU(421,"\u{1f575}\ufe0f\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(422,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f575}\ufe0f\u200d\u2640\ufe0f"))}),i._uU(423,"\u{1f575}\ufe0f\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(424,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}"))}),i._uU(425,"\u{1f482}"),i.qZA(),i.TgZ(426,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2642\ufe0f"))}),i._uU(427,"\u{1f482}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(428,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f482}\u200d\u2640\ufe0f"))}),i._uU(429,"\u{1f482}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(430,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}"))}),i._uU(431,"\u{1f477}"),i.qZA(),i.TgZ(432,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2642\ufe0f"))}),i._uU(433,"\u{1f477}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(434,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f477}\u200d\u2640\ufe0f"))}),i._uU(435,"\u{1f477}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(436,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f934}"))}),i._uU(437,"\u{1f934}"),i.qZA(),i.TgZ(438,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f478}"))}),i._uU(439,"\u{1f478}"),i.qZA(),i.TgZ(440,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}"))}),i._uU(441,"\u{1f473}"),i.qZA(),i.TgZ(442,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2642\ufe0f"))}),i._uU(443,"\u{1f473}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(444,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f473}\u200d\u2640\ufe0f"))}),i._uU(445,"\u{1f473}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(446,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f472}"))}),i._uU(447,"\u{1f472}"),i.qZA(),i.TgZ(448,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d5}"))}),i._uU(449,"\u{1f9d5}"),i.qZA(),i.TgZ(450,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}"))}),i._uU(451,"\u{1f935}"),i.qZA(),i.TgZ(452,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2642\ufe0f"))}),i._uU(453,"\u{1f935}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(454,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f935}\u200d\u2640\ufe0f"))}),i._uU(455,"\u{1f935}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(456,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}"))}),i._uU(457,"\u{1f470}"),i.qZA(),i.TgZ(458,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2642\ufe0f"))}),i._uU(459,"\u{1f470}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(460,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f470}\u200d\u2640\ufe0f"))}),i._uU(461,"\u{1f470}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(462,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f930}"))}),i._uU(463,"\u{1f930}"),i.qZA(),i.TgZ(464,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f931}"))}),i._uU(465,"\u{1f931}"),i.qZA(),i.TgZ(466,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f37c}"))}),i._uU(467,"\u{1f469}\u200d\u{1f37c}"),i.qZA(),i.TgZ(468,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f37c}"))}),i._uU(469,"\u{1f468}\u200d\u{1f37c}"),i.qZA(),i.TgZ(470,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f37c}"))}),i._uU(471,"\u{1f9d1}\u200d\u{1f37c}"),i.qZA(),i.TgZ(472,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f47c}"))}),i._uU(473,"\u{1f47c}"),i.qZA(),i.TgZ(474,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f385}"))}),i._uU(475,"\u{1f385}"),i.qZA(),i.TgZ(476,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f936}"))}),i._uU(477,"\u{1f936}"),i.qZA(),i.TgZ(478,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}"))}),i._uU(479,"\u{1f9b8}"),i.qZA(),i.TgZ(480,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2642\ufe0f"))}),i._uU(481,"\u{1f9b8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(482,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b8}\u200d\u2640\ufe0f"))}),i._uU(483,"\u{1f9b8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(484,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}"))}),i._uU(485,"\u{1f9b9}"),i.qZA(),i.TgZ(486,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2642\ufe0f"))}),i._uU(487,"\u{1f9b9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(488,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9b9}\u200d\u2640\ufe0f"))}),i._uU(489,"\u{1f9b9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(490,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}"))}),i._uU(491,"\u{1f9d9}"),i.qZA(),i.TgZ(492,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2642\ufe0f"))}),i._uU(493,"\u{1f9d9}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(494,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d9}\u200d\u2640\ufe0f"))}),i._uU(495,"\u{1f9d9}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(496,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}"))}),i._uU(497,"\u{1f9da}"),i.qZA(),i.TgZ(498,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2642\ufe0f"))}),i._uU(499,"\u{1f9da}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(500,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9da}\u200d\u2640\ufe0f"))}),i._uU(501,"\u{1f9da}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(502,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}"))}),i._uU(503,"\u{1f9db}"),i.qZA(),i.TgZ(504,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2642\ufe0f"))}),i._uU(505,"\u{1f9db}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(506,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9db}\u200d\u2640\ufe0f"))}),i._uU(507,"\u{1f9db}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(508,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}"))}),i._uU(509,"\u{1f9dc}"),i.qZA(),i.TgZ(510,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2642\ufe0f"))}),i._uU(511,"\u{1f9dc}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(512,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dc}\u200d\u2640\ufe0f"))}),i._uU(513,"\u{1f9dc}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(514,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}"))}),i._uU(515,"\u{1f9dd}"),i.qZA(),i.TgZ(516,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2642\ufe0f"))}),i._uU(517,"\u{1f9dd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(518,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9dd}\u200d\u2640\ufe0f"))}),i._uU(519,"\u{1f9dd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(520,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}"))}),i._uU(521,"\u{1f9de}"),i.qZA(),i.TgZ(522,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2642\ufe0f"))}),i._uU(523,"\u{1f9de}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(524,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9de}\u200d\u2640\ufe0f"))}),i._uU(525,"\u{1f9de}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(526,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}"))}),i._uU(527,"\u{1f9df}"),i.qZA(),i.TgZ(528,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2642\ufe0f"))}),i._uU(529,"\u{1f9df}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(530,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9df}\u200d\u2640\ufe0f"))}),i._uU(531,"\u{1f9df}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(532,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}"))}),i._uU(533,"\u{1f486}"),i.qZA(),i.TgZ(534,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2642\ufe0f"))}),i._uU(535,"\u{1f486}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(536,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f486}\u200d\u2640\ufe0f"))}),i._uU(537,"\u{1f486}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(538,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}"))}),i._uU(539,"\u{1f487}"),i.qZA(),i.TgZ(540,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2642\ufe0f"))}),i._uU(541,"\u{1f487}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(542,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f487}\u200d\u2640\ufe0f"))}),i._uU(543,"\u{1f487}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(544,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}"))}),i._uU(545,"\u{1f6b6}"),i.qZA(),i.TgZ(546,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2642\ufe0f"))}),i._uU(547,"\u{1f6b6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(548,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6b6}\u200d\u2640\ufe0f"))}),i._uU(549,"\u{1f6b6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(550,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}"))}),i._uU(551,"\u{1f9cd}"),i.qZA(),i.TgZ(552,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2642\ufe0f"))}),i._uU(553,"\u{1f9cd}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(554,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9cd}\u200d\u2640\ufe0f"))}),i._uU(555,"\u{1f9cd}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(556,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}"))}),i._uU(557,"\u{1f9ce}"),i.qZA(),i.TgZ(558,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2642\ufe0f"))}),i._uU(559,"\u{1f9ce}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(560,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9ce}\u200d\u2640\ufe0f"))}),i._uU(561,"\u{1f9ce}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(562,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9af}"))}),i._uU(563,"\u{1f9d1}\u200d\u{1f9af}"),i.qZA(),i.TgZ(564,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9af}"))}),i._uU(565,"\u{1f468}\u200d\u{1f9af}"),i.qZA(),i.TgZ(566,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9af}"))}),i._uU(567,"\u{1f469}\u200d\u{1f9af}"),i.qZA(),i.TgZ(568,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bc}"))}),i._uU(569,"\u{1f9d1}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(570,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bc}"))}),i._uU(571,"\u{1f468}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(572,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bc}"))}),i._uU(573,"\u{1f469}\u200d\u{1f9bc}"),i.qZA(),i.TgZ(574,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f9bd}"))}),i._uU(575,"\u{1f9d1}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(576,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u{1f9bd}"))}),i._uU(577,"\u{1f468}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(578,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u{1f9bd}"))}),i._uU(579,"\u{1f469}\u200d\u{1f9bd}"),i.qZA(),i.TgZ(580,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}"))}),i._uU(581,"\u{1f3c3}"),i.qZA(),i.TgZ(582,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2642\ufe0f"))}),i._uU(583,"\u{1f3c3}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(584,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f3c3}\u200d\u2640\ufe0f"))}),i._uU(585,"\u{1f3c3}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(586,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}"))}),i._uU(587,"\u{1f483}"),i.qZA(),i.TgZ(588,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2642\ufe0f"))}),i._uU(589,"\u{1f483}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(590,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f483}\u200d\u2640\ufe0f"))}),i._uU(591,"\u{1f483}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(592,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(593,"\u{1f57a}"),i.qZA(),i.TgZ(594,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(595,"\u{1f57a}"),i.qZA(),i.TgZ(596,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f57a}"))}),i._uU(597,"\u{1f57a}"),i.qZA(),i.TgZ(598,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}"))}),i._uU(599,"\u{1f46f}"),i.qZA(),i.TgZ(600,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2642\ufe0f"))}),i._uU(601,"\u{1f46f}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(602,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46f}\u200d\u2640\ufe0f"))}),i._uU(603,"\u{1f46f}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(604,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}"))}),i._uU(605,"\u{1f9d6}"),i.qZA(),i.TgZ(606,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2642\ufe0f"))}),i._uU(607,"\u{1f9d6}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(608,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d6}\u200d\u2640\ufe0f"))}),i._uU(609,"\u{1f9d6}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(610,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}"))}),i._uU(611,"\u{1f9d8}"),i.qZA(),i.TgZ(612,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2642\ufe0f"))}),i._uU(613,"\u{1f9d8}\u200d\u2642\ufe0f"),i.qZA(),i.TgZ(614,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d8}\u200d\u2640\ufe0f"))}),i._uU(615,"\u{1f9d8}\u200d\u2640\ufe0f"),i.qZA(),i.TgZ(616,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6c0}"))}),i._uU(617,"\u{1f6c0}"),i.qZA(),i.TgZ(618,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f6cc}"))}),i._uU(619,"\u{1f6cc}"),i.qZA(),i.TgZ(620,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"))}),i._uU(621,"\u{1f9d1}\u200d\u{1f91d}\u200d\u{1f9d1}"),i.qZA(),i.TgZ(622,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46d}"))}),i._uU(623,"\u{1f46d}"),i.qZA(),i.TgZ(624,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46c}"))}),i._uU(625,"\u{1f46c}"),i.qZA(),i.TgZ(626,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f46b}"))}),i._uU(627,"\u{1f46b}"),i.qZA(),i.TgZ(628,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(629,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(630,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f491}"))}),i._uU(631,"\u{1f491}"),i.qZA(),i.TgZ(632,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"))}),i._uU(633,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}"),i.qZA(),i.TgZ(634,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(635,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(636,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"))}),i._uU(637,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}"),i.qZA(),i.TgZ(638,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f48f}"))}),i._uU(639,"\u{1f48f}"),i.qZA(),i.TgZ(640,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(641,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(642,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"))}),i._uU(643,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}"),i.qZA(),i.TgZ(644,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(645,"\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA(),i.TgZ(646,"span",23),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.addEmoji("\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"))}),i._uU(647,"\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f469}"),i.qZA()()()}}const yH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Ej},{path:"registrar",component:Sj},{path:"recuperar",component:Oj},{path:"main",component:ib,canActivate:[Bs]},{path:"main-activate",component:O5,canActivate:[Bs]},{path:"galeria-activate",component:X5,canActivate:[Bs]},{path:"videos-activate",component:uH,canActivate:[Bs]},{path:"galeria",component:oj,canActivate:[Bs]},{path:"videos",component:pj,canActivate:[Bs]},{path:"nuevo-video",component:Fj,canActivate:[Bs]},{path:"musica",component:mj,canActivate:[Bs]},{path:"perfil",component:c5,canActivate:[Bs]},{path:"bandeja",component:hH,canActivate:[Bs]},{path:"enviar-mensaje/:id",component:(()=>{class n{constructor(t,r,o,u,l,f,m,v,x){this.route=t,this._user=r,this.afAuth=o,this.location=u,this.toastr=l,this._imageUser=f,this.router=m,this._msj=v,this.el=x,this.mensaje="",this.usuariosInfo=[],this.mensajes=[],this.showEmoticonSection=!1}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuario=t,this.idUserActual=this.usuario?.uid}),this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.getUsers(),this.getMessages()}getUsers(){this._user.getUsers().subscribe(t=>{this.usuariosInfo=[],t.forEach(r=>{const o={id:r.payload.doc.id,...r.payload.doc.data()};this.usuariosInfo.push(o);const u=this.usuariosInfo.find(l=>l.idUser===this.id);this.info=u})})}getMessages(){this._msj.getUMessage().subscribe(t=>{this.mensajes=[],t.forEach(r=>{const o={...r.payload.doc.data()},u={id:r.payload.doc.id,...r.payload.doc.data(),mensaje:o.mensaje||[]};this.mensajes.push(u),this.mensajes.find(L=>L.idEmisor==this.id);const f=this.mensajes.find(L=>L.idEmisor==this.id),x=(this.mensajes.find(L=>L.idEmisor==this.idUserActual),f),I=this.mensajes.find(L=>L.idEmisor==this.idUserActual);x?.idReceptor==this.idUserActual&&x?.idEmisor==this.id?(this.objetoMensaje=x,this.idBody=x?.id):I?.idReceptor==this.id&&null==x?I?.idReceptor==this.id&&I?.idEmisor==this.idUserActual&&(this.idBody=I?.id,this.objetoMensaje2=I):(this.objetoMensaje=void 0,this.objetoMensaje2=void 0),this.entrante=this.objetoMensaje?.para,this.saliente=this.objetoMensaje?.de})})}addMessage(t){if(this.mensaje="",null==this.objetoMensaje&&null==this.objetoMensaje2){const r=this.info?.usuario,o=this.usuario?.displayName;let u=this.usuario?.photoURL;null==u&&(u="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let l=this.info?.foto;null==l&&(l="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const f=[];f.push({mensaje:t,foto:l,para:r,de:o}),this._msj.addMessage({de:o,para:r,foto:l,foto1:u,idEmisor:this.id,idReceptor:this.idUserActual,mensaje:f}).then(()=>{console.log("creando un nuevo mensaje")})}else{let r=this.usuario?.photoURL;null==r&&(r="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let o=this.info?.foto;null==o&&(o="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");const u=this.info?.usuario,l=this.usuario?.displayName;if(null==this.objetoMensaje?.mensaje){const f=this.objetoMensaje2?.mensaje;f.push({mensaje:t,de:l,para:u,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{console.log("mensaje actualizado")})}else{const f=this.objetoMensaje?.mensaje;f.push({mensaje:t,de:l,para:u,foto:o}),this._msj.update(this.idBody,{mensaje:f}).then(()=>{console.log("mensaje actualizado")})}}}toggleEmoticonSection(){this.showEmoticonSection=!this.showEmoticonSection}addEmoji(t){this.mensaje+=t}agregarImagen(){}volver(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(yu),i.Y36(gd),i.Y36(ai),i.Y36(Ae),i.Y36(Qi),i.Y36(t2),i.Y36(dn),i.Y36(mL),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-sending"]],decls:24,vars:7,consts:[[1,"contenedor"],[1,"container-info"],[1,"fas","fa-arrow-left",3,"click"],[2,"gap","1rem","display","flex","align-items","center"],["alt","Foto de perfil","width","40","height","40",2,"border-radius","50%",3,"src"],[1,"mensajes-container"],[4,"ngIf"],["class","emoticon-section",4,"ngIf"],[3,"submit"],[1,"container-element"],[2,"gap","1em","display","flex","padding","0px 0 0 11px"],[1,"fas","fa-file-image",3,"click"],[2,"cursor","pointer",3,"click"],[1,"far","fa-smile"],[2,"display","contents","width","100%"],["name","mensaje",3,"ngModel","ngModelChange"],[2,"padding","0px 10px 0 0px"],["type","submit",2,"background-color","#0000ff00","border","none","border-radius","14px",3,"disabled"],[1,"fas","fa-chevron-right"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"emoticon-section"],[1,"emoticon"],[3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"i",2),i.NdJ("click",function(){return r.volver()}),i.qZA()(),i.TgZ(4,"div",3),i._UZ(5,"img",4),i.TgZ(6,"div"),i._uU(7),i.qZA()()(),i.TgZ(8,"div",5),i.YNc(9,pH,2,1,"div",6),i.YNc(10,mH,2,1,"div",6),i.qZA(),i.YNc(11,_H,648,0,"div",7),i.TgZ(12,"form",8),i.NdJ("submit",function(){return r.addMessage(r.mensaje)}),i.TgZ(13,"div",9)(14,"div",10)(15,"div")(16,"i",11),i.NdJ("click",function(){return r.agregarImagen()}),i.qZA()(),i.TgZ(17,"div",12),i.NdJ("click",function(){return r.toggleEmoticonSection()}),i._UZ(18,"i",13),i.qZA()(),i.TgZ(19,"div",14)(20,"textarea",15),i.NdJ("ngModelChange",function(u){return r.mensaje=u}),i.qZA()(),i.TgZ(21,"div",16)(22,"button",17),i._UZ(23,"i",18),i.qZA()()()()()),2&t&&(i.xp6(5),i.Q6J("src",null!=r.info&&r.info.foto?r.info.foto:"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",i.LSH),i.xp6(2),i.Oqu(null==r.info?null:r.info.usuario),i.xp6(2),i.Q6J("ngIf",r.objetoMensaje),i.xp6(1),i.Q6J("ngIf",r.objetoMensaje2),i.xp6(1),i.Q6J("ngIf",r.showEmoticonSection),i.xp6(9),i.Q6J("ngModel",r.mensaje),i.xp6(2),i.Q6J("disabled",!r.mensaje))},dependencies:[Xt,ei,mn,Ni,ni,$r,Yn,Po,mo],styles:[".contenedor[_ngcontent-%COMP%]{padding:20px}.container-element[_ngcontent-%COMP%]{gap:1rem;padding:2px;bottom:1rem;width:90%;position:absolute;border-radius:20px;background-color:#aa9ea896;display:flex;align-items:center}.container-element[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:80%;height:20px;padding:12px;font-size:16px;border:none;border-radius:10px;background-color:#f2f2f2;outline:none;resize:vertical}.container-element[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#555}.container-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:37px}.mensajes-container[_ngcontent-%COMP%]{overflow-y:auto;max-height:75vh;margin-top:20px}.mensaje-saliente[_ngcontent-%COMP%]{background-color:#cccce9;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative}.mensaje-entrante[_ngcontent-%COMP%]{text-align:end;background-color:#c6e8f8;border-radius:15px;padding:8px 12px;margin-bottom:8px;width:50%;position:relative;left:43%}.mensaje-e[_ngcontent-%COMP%]{color:red}.mensaje-s[_ngcontent-%COMP%]{color:#00f}.emoticon-section[_ngcontent-%COMP%]{border-radius:14px;width:82%;bottom:9%;left:6%;position:fixed;background-color:beige;padding:12px}.emoticon[_ngcontent-%COMP%]{gap:5px;display:flex;flex-direction:row;flex-wrap:wrap;overflow-y:auto;height:16vh}"]}),n})(),canActivate:[Bs]},{path:"perfil-editar",component:d5,canActivate:[Bs]},{path:"usuario/:id",component:N5,canActivate:[Bs]},{path:"**",redirectTo:"/",pathMatch:"full"}];let vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[ww.forRoot(yH),ww]}),n})(),DH=(()=>{class n{constructor(){this.title="asi-somos-asi-bailamos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},dependencies:[av]}),n})();const r2_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};let CH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[DH]}),n.\u0275inj=i.cJS({imports:[Qa,vH,dT,XD,ix,Yi.hO.initializeApp(r2_firebase),Sw(()=>DI(r2_firebase)),KU(()=>JU()),jm,n0.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,i.G48)(),hl().bootstrapModule(CH).catch(n=>console.error(n))},9751:(Et,Oe,V)=>{V.d(Oe,{y:()=>ve});var i=V(2961),j=V(727),R=V(8822),oe=V(9635),de=V(2416),_e=V(576),pe=V(2806);let ve=(()=>{class Q{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const xe=new Q;return xe.source=this,xe.operator=Pe,xe}subscribe(Pe,xe,it){const Ce=function q(Q){return Q&&Q instanceof i.Lv||function z(Q){return Q&&(0,_e.m)(Q.next)&&(0,_e.m)(Q.error)&&(0,_e.m)(Q.complete)}(Q)&&(0,j.Nn)(Q)}(Pe)?Pe:new i.Hp(Pe,xe,it);return(0,pe.x)(()=>{const{operator:ye,source:yt}=this;Ce.add(ye?ye.call(Ce,yt):yt?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(xe){Pe.error(xe)}}forEach(Pe,xe){return new(xe=De(xe))((it,Ce)=>{const ye=new i.Hp({next:yt=>{try{Pe(yt)}catch(pt){Ce(pt),ye.unsubscribe()}},error:Ce,complete:it});this.subscribe(ye)})}_subscribe(Pe){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Pe)}[R.L](){return this}pipe(...Pe){return(0,oe.U)(Pe)(this)}toPromise(Pe){return new(Pe=De(Pe))((xe,it)=>{let Ce;this.subscribe(ye=>Ce=ye,ye=>it(ye),()=>xe(Ce))})}}return Q.create=He=>new Q(He),Q})();function De(Q){var He;return null!==(He=Q??de.v.Promise)&&void 0!==He?He:Promise}},7579:(Et,Oe,V)=>{V.d(Oe,{x:()=>pe});var i=V(9751),j=V(727);const oe=(0,V(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),_e=V(2806);let pe=(()=>{class De extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new ve(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new oe}next(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(q)}})}error(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:He,observers:Pe}=this;return Q||He?j.Lc:(this.currentObservers=null,Pe.push(q),new j.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,q)}))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:He,isStopped:Pe}=this;Q?q.error(He):Pe&&q.complete()}asObservable(){const q=new i.y;return q.source=this,q}}return De.create=(z,q)=>new ve(z,q),De})();class ve extends pe{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,z)}error(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==Q?Q:j.Lc}}},2961:(Et,Oe,V)=>{V.d(Oe,{Hp:()=>it,Lv:()=>Q});var i=V(576),j=V(727),R=V(2416),oe=V(7849);function de(){}const _e=De("C",void 0,void 0);function De(Ae,be,Se){return{kind:Ae,value:be,error:Se}}var z=V(3410),q=V(2806);class Q extends j.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,j.Nn)(be)&&be.add(this)):this.destination=pt}static create(be,Se,$e){return new it(be,Se,$e)}next(be){this.isStopped?yt(function ve(Ae){return De("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?yt(function pe(Ae){return De("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?yt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Pe(Ae,be){return He.call(Ae,be)}class xe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Se}=this;if(Se.next)try{Se.next(be)}catch($e){Ce($e)}}error(be){const{partialObserver:Se}=this;if(Se.error)try{Se.error(be)}catch($e){Ce($e)}else Ce(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Se){Ce(Se)}}}class it extends Q{constructor(be,Se,$e){let ze;if(super(),(0,i.m)(be)||!be)ze={next:be??void 0,error:Se??void 0,complete:$e??void 0};else{let le;this&&R.v.useDeprecatedNextContext?(le=Object.create(be),le.unsubscribe=()=>this.unsubscribe(),ze={next:be.next&&Pe(be.next,le),error:be.error&&Pe(be.error,le),complete:be.complete&&Pe(be.complete,le)}):ze=be}this.destination=new xe(ze)}}function Ce(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ae):(0,oe.h)(Ae)}function yt(Ae,be){const{onStoppedNotification:Se}=R.v;Se&&z.z.setTimeout(()=>Se(Ae,be))}const pt={closed:!0,next:de,error:function ye(Ae){throw Ae},complete:de}},727:(Et,Oe,V)=>{V.d(Oe,{Lc:()=>_e,w0:()=>de,Nn:()=>pe});var i=V(576);const R=(0,V(3888).d)(De=>function(q){De(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,He)=>`${He+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var oe=V(8737);class de{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Pe of q)Pe.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,i.m)(Q))try{Q()}catch(Pe){z=Pe instanceof R?Pe.errors:[Pe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Pe of He)try{ve(Pe)}catch(xe){z=z??[],xe instanceof R?z=[...z,...xe.errors]:z.push(xe)}}if(z)throw new R(z)}}add(z){var q;if(z&&z!==this)if(this.closed)ve(z);else{if(z instanceof de){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,oe.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,oe.P)(q,z),z instanceof de&&z._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const _e=de.EMPTY;function pe(De){return De instanceof de||De&&"closed"in De&&(0,i.m)(De.remove)&&(0,i.m)(De.add)&&(0,i.m)(De.unsubscribe)}function ve(De){(0,i.m)(De)?De():De.unsubscribe()}},2416:(Et,Oe,V)=>{V.d(Oe,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Oe,V)=>{V.d(Oe,{E:()=>j});const j=new(V(9751).y)(de=>de.complete())},8996:(Et,Oe,V)=>{V.d(Oe,{D:()=>be});var i=V(8421),j=V(5363),R=V(9468),_e=V(9751),ve=V(2202),De=V(576),z=V(9672);function Q(Se,$e){if(!Se)throw new Error("Iterable cannot be null");return new _e.y(ze=>{(0,z.f)(ze,$e,()=>{const le=Se[Symbol.asyncIterator]();(0,z.f)(ze,$e,()=>{le.next().then(Ye=>{Ye.done?ze.complete():ze.next(Ye.value)})},0,!0)})})}var He=V(3670),Pe=V(8239),xe=V(1144),it=V(6495),Ce=V(2206),ye=V(4532),yt=V(3260);function be(Se,$e){return $e?function Ae(Se,$e){if(null!=Se){if((0,He.c)(Se))return function oe(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,j.Q)($e))}(Se,$e);if((0,xe.z)(Se))return function pe(Se,$e){return new _e.y(ze=>{let le=0;return $e.schedule(function(){le===Se.length?ze.complete():(ze.next(Se[le++]),ze.closed||this.schedule())})})}(Se,$e);if((0,Pe.t)(Se))return function de(Se,$e){return(0,i.Xf)(Se).pipe((0,R.R)($e),(0,j.Q)($e))}(Se,$e);if((0,Ce.D)(Se))return Q(Se,$e);if((0,it.T)(Se))return function q(Se,$e){return new _e.y(ze=>{let le;return(0,z.f)(ze,$e,()=>{le=Se[ve.h](),(0,z.f)(ze,$e,()=>{let Ye,At;try{({value:Ye,done:At}=le.next())}catch(gt){return void ze.error(gt)}At?ze.complete():ze.next(Ye)},0,!0)}),()=>(0,De.m)(le?.return)&&le.return()})}(Se,$e);if((0,yt.L)(Se))return function pt(Se,$e){return Q((0,yt.Q)(Se),$e)}(Se,$e)}throw(0,ye.z)(Se)}(Se,$e):(0,i.Xf)(Se)}},8421:(Et,Oe,V)=>{V.d(Oe,{Xf:()=>He});var i=V(7582),j=V(1144),R=V(8239),oe=V(9751),de=V(3670),_e=V(2206),pe=V(4532),ve=V(6495),De=V(3260),z=V(576),q=V(7849),Q=V(8822);function He(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,de.c)(Ae))return function Pe(Ae){return new oe.y(be=>{const Se=Ae[Q.L]();if((0,z.m)(Se.subscribe))return Se.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,j.z)(Ae))return function xe(Ae){return new oe.y(be=>{for(let Se=0;Se<Ae.length&&!be.closed;Se++)be.next(Ae[Se]);be.complete()})}(Ae);if((0,R.t)(Ae))return function it(Ae){return new oe.y(be=>{Ae.then(Se=>{be.closed||(be.next(Se),be.complete())},Se=>be.error(Se)).then(null,q.h)})}(Ae);if((0,_e.D)(Ae))return ye(Ae);if((0,ve.T)(Ae))return function Ce(Ae){return new oe.y(be=>{for(const Se of Ae)if(be.next(Se),be.closed)return;be.complete()})}(Ae);if((0,De.L)(Ae))return function yt(Ae){return ye((0,De.Q)(Ae))}(Ae)}throw(0,pe.z)(Ae)}function ye(Ae){return new oe.y(be=>{(function pt(Ae,be){var Se,$e,ze,le;return(0,i.mG)(this,void 0,void 0,function*(){try{for(Se=(0,i.KL)(Ae);!($e=yield Se.next()).done;)if(be.next($e.value),be.closed)return}catch(Ye){ze={error:Ye}}finally{try{$e&&!$e.done&&(le=Se.return)&&(yield le.call(Se))}finally{if(ze)throw ze.error}}be.complete()})})(Ae,be).catch(Se=>be.error(Se))})}},6451:(Et,Oe,V)=>{V.d(Oe,{T:()=>_e});var i=V(8189),j=V(8421),R=V(515),oe=V(7669),de=V(8996);function _e(...pe){const ve=(0,oe.yG)(pe),De=(0,oe._6)(pe,1/0),z=pe;return z.length?1===z.length?(0,j.Xf)(z[0]):(0,i.J)(De)((0,de.D)(z,ve)):R.E}},5403:(Et,Oe,V)=>{V.d(Oe,{x:()=>j});var i=V(2961);function j(oe,de,_e,pe,ve){return new R(oe,de,_e,pe,ve)}class R extends i.Lv{constructor(de,_e,pe,ve,De,z){super(de),this.onFinalize=De,this.shouldUnsubscribe=z,this._next=_e?function(q){try{_e(q)}catch(Q){de.error(Q)}}:super._next,this._error=ve?function(q){try{ve(q)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(Et,Oe,V)=>{V.d(Oe,{U:()=>R});var i=V(4482),j=V(5403);function R(oe,de){return(0,i.e)((_e,pe)=>{let ve=0;_e.subscribe((0,j.x)(pe,De=>{pe.next(oe.call(de,De,ve++))}))})}},8189:(Et,Oe,V)=>{V.d(Oe,{J:()=>R});var i=V(5577),j=V(4671);function R(oe=1/0){return(0,i.z)(j.y,oe)}},5577:(Et,Oe,V)=>{V.d(Oe,{z:()=>ve});var i=V(4004),j=V(8421),R=V(4482),oe=V(9672),de=V(5403),pe=V(576);function ve(De,z,q=1/0){return(0,pe.m)(z)?ve((Q,He)=>(0,i.U)((Pe,xe)=>z(Q,Pe,He,xe))((0,j.Xf)(De(Q,He))),q):("number"==typeof z&&(q=z),(0,R.e)((Q,He)=>function _e(De,z,q,Q,He,Pe,xe,it){const Ce=[];let ye=0,yt=0,pt=!1;const Ae=()=>{pt&&!Ce.length&&!ye&&z.complete()},be=$e=>ye<Q?Se($e):Ce.push($e),Se=$e=>{Pe&&z.next($e),ye++;let ze=!1;(0,j.Xf)(q($e,yt++)).subscribe((0,de.x)(z,le=>{He?.(le),Pe?be(le):z.next(le)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ye--;Ce.length&&ye<Q;){const le=Ce.shift();xe?(0,oe.f)(z,xe,()=>Se(le)):Se(le)}Ae()}catch(le){z.error(le)}}))};return De.subscribe((0,de.x)(z,be,()=>{pt=!0,Ae()})),()=>{it?.()}}(Q,He,De,q)))}},5363:(Et,Oe,V)=>{V.d(Oe,{Q:()=>oe});var i=V(9672),j=V(4482),R=V(5403);function oe(de,_e=0){return(0,j.e)((pe,ve)=>{pe.subscribe((0,R.x)(ve,De=>(0,i.f)(ve,de,()=>ve.next(De),_e),()=>(0,i.f)(ve,de,()=>ve.complete(),_e),De=>(0,i.f)(ve,de,()=>ve.error(De),_e)))})}},3099:(Et,Oe,V)=>{V.d(Oe,{B:()=>de});var i=V(8421),j=V(7579),R=V(2961),oe=V(4482);function de(pe={}){const{connector:ve=(()=>new j.x),resetOnError:De=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=pe;return Q=>{let He,Pe,xe,it=0,Ce=!1,ye=!1;const yt=()=>{Pe?.unsubscribe(),Pe=void 0},pt=()=>{yt(),He=xe=void 0,Ce=ye=!1},Ae=()=>{const be=He;pt(),be?.unsubscribe()};return(0,oe.e)((be,Se)=>{it++,!ye&&!Ce&&yt();const $e=xe=xe??ve();Se.add(()=>{it--,0===it&&!ye&&!Ce&&(Pe=_e(Ae,q))}),$e.subscribe(Se),!He&&it>0&&(He=new R.Hp({next:ze=>$e.next(ze),error:ze=>{ye=!0,yt(),Pe=_e(pt,De,ze),$e.error(ze)},complete:()=>{Ce=!0,yt(),Pe=_e(pt,z),$e.complete()}}),(0,i.Xf)(be).subscribe(He))})(Q)}}function _e(pe,ve,...De){if(!0===ve)return void pe();if(!1===ve)return;const z=new R.Hp({next:()=>{z.unsubscribe(),pe()}});return ve(...De).subscribe(z)}},9468:(Et,Oe,V)=>{V.d(Oe,{R:()=>j});var i=V(4482);function j(R,oe=0){return(0,i.e)((de,_e)=>{_e.add(R.schedule(()=>de.subscribe(_e),oe))})}},8505:(Et,Oe,V)=>{V.d(Oe,{b:()=>de});var i=V(576),j=V(4482),R=V(5403),oe=V(4671);function de(_e,pe,ve){const De=(0,i.m)(_e)||pe||ve?{next:_e,error:pe,complete:ve}:_e;return De?(0,j.e)((z,q)=>{var Q;null===(Q=De.subscribe)||void 0===Q||Q.call(De);let He=!0;z.subscribe((0,R.x)(q,Pe=>{var xe;null===(xe=De.next)||void 0===xe||xe.call(De,Pe),q.next(Pe)},()=>{var Pe;He=!1,null===(Pe=De.complete)||void 0===Pe||Pe.call(De),q.complete()},Pe=>{var xe;He=!1,null===(xe=De.error)||void 0===xe||xe.call(De,Pe),q.error(Pe)},()=>{var Pe,xe;He&&(null===(Pe=De.unsubscribe)||void 0===Pe||Pe.call(De)),null===(xe=De.finalize)||void 0===xe||xe.call(De)}))}):oe.y}},4408:(Et,Oe,V)=>{V.d(Oe,{o:()=>de});var i=V(727);class j extends i.w0{constructor(pe,ve){super()}schedule(pe,ve=0){return this}}const R={setInterval(_e,pe,...ve){const{delegate:De}=R;return De?.setInterval?De.setInterval(_e,pe,...ve):setInterval(_e,pe,...ve)},clearInterval(_e){const{delegate:pe}=R;return(pe?.clearInterval||clearInterval)(_e)},delegate:void 0};var oe=V(8737);class de extends j{constructor(pe,ve){super(pe,ve),this.scheduler=pe,this.work=ve,this.pending=!1}schedule(pe,ve=0){var De;if(this.closed)return this;this.state=pe;const z=this.id,q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(q,z,ve)),this.pending=!0,this.delay=ve,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(q,this.id,ve),this}requestAsyncId(pe,ve,De=0){return R.setInterval(pe.flush.bind(pe,this),De)}recycleAsyncId(pe,ve,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ve;null!=ve&&R.clearInterval(ve)}execute(pe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(pe,ve);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ve){let z,De=!1;try{this.work(pe)}catch(q){De=!0,z=q||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ve}=this,{actions:De}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(De,this),null!=pe&&(this.id=this.recycleAsyncId(ve,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Oe,V)=>{V.d(Oe,{v:()=>R});var i=V(6063);class j{constructor(de,_e=j.now){this.schedulerActionCtor=de,this.now=_e}schedule(de,_e=0,pe){return new this.schedulerActionCtor(this,de).schedule(pe,_e)}}j.now=i.l.now;class R extends j{constructor(de,_e=j.now){super(de,_e),this.actions=[],this._active=!1}flush(de){const{actions:_e}=this;if(this._active)return void _e.push(de);let pe;this._active=!0;do{if(pe=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this._active=!1,pe){for(;de=_e.shift();)de.unsubscribe();throw pe}}}},4986:(Et,Oe,V)=>{V.d(Oe,{z:()=>R});var i=V(4408);const R=new(V(7565).v)(i.o)},6063:(Et,Oe,V)=>{V.d(Oe,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(Et,Oe,V)=>{V.d(Oe,{z:()=>i});const i={setTimeout(j,R,...oe){const{delegate:de}=i;return de?.setTimeout?de.setTimeout(j,R,...oe):setTimeout(j,R,...oe)},clearTimeout(j){const{delegate:R}=i;return(R?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(Et,Oe,V)=>{V.d(Oe,{h:()=>j});const j=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Oe,V)=>{V.d(Oe,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Et,Oe,V)=>{V.d(Oe,{_6:()=>_e,jO:()=>oe,yG:()=>de});var i=V(576);function R(pe){return pe[pe.length-1]}function oe(pe){return(0,i.m)(R(pe))?pe.pop():void 0}function de(pe){return function j(pe){return pe&&(0,i.m)(pe.schedule)}(R(pe))?pe.pop():void 0}function _e(pe,ve){return"number"==typeof R(pe)?pe.pop():ve}},8737:(Et,Oe,V)=>{function i(j,R){if(j){const oe=j.indexOf(R);0<=oe&&j.splice(oe,1)}}V.d(Oe,{P:()=>i})},3888:(Et,Oe,V)=>{function i(j){const oe=j(de=>{Error.call(de),de.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(Oe,{d:()=>i})},2806:(Et,Oe,V)=>{V.d(Oe,{O:()=>oe,x:()=>R});var i=V(2416);let j=null;function R(de){if(i.v.useDeprecatedSynchronousErrorHandling){const _e=!j;if(_e&&(j={errorThrown:!1,error:null}),de(),_e){const{errorThrown:pe,error:ve}=j;if(j=null,pe)throw ve}}else de()}function oe(de){i.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=de)}},9672:(Et,Oe,V)=>{function i(j,R,oe,de=0,_e=!1){const pe=R.schedule(function(){oe(),_e?j.add(this.schedule(null,de)):this.unsubscribe()},de);if(j.add(pe),!_e)return pe}V.d(Oe,{f:()=>i})},4671:(Et,Oe,V)=>{function i(j){return j}V.d(Oe,{y:()=>i})},1144:(Et,Oe,V)=>{V.d(Oe,{z:()=>i});const i=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Et,Oe,V)=>{V.d(Oe,{D:()=>j});var i=V(576);function j(R){return Symbol.asyncIterator&&(0,i.m)(R?.[Symbol.asyncIterator])}},576:(Et,Oe,V)=>{function i(j){return"function"==typeof j}V.d(Oe,{m:()=>i})},3670:(Et,Oe,V)=>{V.d(Oe,{c:()=>R});var i=V(8822),j=V(576);function R(oe){return(0,j.m)(oe[i.L])}},6495:(Et,Oe,V)=>{V.d(Oe,{T:()=>R});var i=V(2202),j=V(576);function R(oe){return(0,j.m)(oe?.[i.h])}},8239:(Et,Oe,V)=>{V.d(Oe,{t:()=>j});var i=V(576);function j(R){return(0,i.m)(R?.then)}},3260:(Et,Oe,V)=>{V.d(Oe,{L:()=>oe,Q:()=>R});var i=V(7582),j=V(576);function R(de){return(0,i.FC)(this,arguments,function*(){const pe=de.getReader();try{for(;;){const{value:ve,done:De}=yield(0,i.qq)(pe.read());if(De)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(ve)}}finally{pe.releaseLock()}})}function oe(de){return(0,j.m)(de?.getReader)}},4482:(Et,Oe,V)=>{V.d(Oe,{A:()=>j,e:()=>R});var i=V(576);function j(oe){return(0,i.m)(oe?.lift)}function R(oe){return de=>{if(j(de))return de.lift(function(_e){try{return oe(_e,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Et,Oe,V)=>{V.d(Oe,{U:()=>R,z:()=>j});var i=V(4671);function j(...oe){return R(oe)}function R(oe){return 0===oe.length?i.y:1===oe.length?oe[0]:function(_e){return oe.reduce((pe,ve)=>ve(pe),_e)}}},7849:(Et,Oe,V)=>{V.d(Oe,{h:()=>R});var i=V(2416),j=V(3410);function R(oe){j.z.setTimeout(()=>{const{onUnhandledError:de}=i.v;if(!de)throw oe;de(oe)})}},4532:(Et,Oe,V)=>{function i(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>i})},4650:(Et,Oe,V)=>{V.d(Oe,{$8M:()=>Bd,$Z:()=>PC,AFp:()=>Jw,AaK:()=>ve,AsE:()=>sp,BQk:()=>Dc,CHM:()=>Xc,CRH:()=>Um,CZH:()=>Hm,CqO:()=>zl,D6c:()=>OA,EJc:()=>iA,EiD:()=>ty,EpF:()=>Yy,F4k:()=>Qy,FYo:()=>NT,FiY:()=>Mo,G48:()=>EN,GfV:()=>Pg,Gpc:()=>q,JOm:()=>Yn,JVY:()=>Y_,KtG:()=>Ru,L6k:()=>HD,LAX:()=>qD,LFG:()=>ur,LSH:()=>ny,Lbi:()=>tA,Lck:()=>fI,MAs:()=>tp,MMx:()=>ln,NdJ:()=>Xy,OlP:()=>yn,Oqu:()=>ZE,PXZ:()=>mN,Q6J:()=>zy,QGY:()=>um,QP$:()=>Ee,QbO:()=>nA,Qsj:()=>PT,R0b:()=>Ls,RDi:()=>iT,Rgc:()=>_p,SBq:()=>Pf,Sil:()=>sA,Suo:()=>jv,TTD:()=>Gc,TgZ:()=>Wy,Tol:()=>fm,Udp:()=>Ch,VKq:()=>td,WLB:()=>Ht,X6Q:()=>CN,XFs:()=>ct,Xpm:()=>Pn,Xts:()=>oC,Y36:()=>fu,YKP:()=>Iw,YNc:()=>gE,Yjl:()=>F,Yz7:()=>Me,Z0I:()=>kt,ZZ4:()=>p0,_Bn:()=>xw,_UZ:()=>Jy,_Vd:()=>Nf,_c5:()=>gb,_uU:()=>bx,aQg:()=>Km,c2e:()=>rA,cJS:()=>xt,cg1:()=>dp,d8E:()=>lv,dDg:()=>fN,dqk:()=>nn,eBb:()=>GD,eFA:()=>gA,ekj:()=>hm,eoX:()=>$m,f3M:()=>yl,g9A:()=>Qw,h0i:()=>Du,hGG:()=>PA,hij:()=>uv,iGM:()=>wp,ifc:()=>bt,ip1:()=>Ww,jDz:()=>Ec,kL8:()=>ym,lG2:()=>H,lqb:()=>Ll,lri:()=>qm,mCW:()=>Ig,n5z:()=>Ja,oAB:()=>vr,oJD:()=>fT,oxw:()=>vE,pB0:()=>Rl,q3G:()=>Fr,q4F:()=>uu,qLn:()=>Di,qOj:()=>as,qZA:()=>am,qzn:()=>oh,rWj:()=>o0,sBO:()=>wN,sIi:()=>Qf,s_b:()=>Rm,soG:()=>e0,tb:()=>Xw,tp0:()=>na,uIk:()=>Hy,vHH:()=>xe,vpe:()=>Ca,wAp:()=>Ut,xp6:()=>lu,ynx:()=>vc,z2F:()=>u0,z3N:()=>fa,zSh:()=>iy,zs3:()=>Vl});var i=V(7579),j=V(727),R=V(9751),oe=V(6451),de=V(3099);function _e(s){for(let a in s)if(s[a]===_e)return a;throw Error("Could not find renamed property on target object.")}function pe(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function De(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const z=_e({__forward_ref__:_e});function q(s){return s.__forward_ref__=q,s.toString=function(){return ve(this())},s}function Q(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===q}class xe extends Error{constructor(a,c){super(function it(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,a){throw new xe(-201,!1)}function se(s,a){null==s&&function ne(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Me(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return on(s,Sn)||on(s,mr)}function kt(s){return null!==tn(s)}function on(s,a){return s.hasOwnProperty(a)?s[a]:null}function Qn(s){return s&&(s.hasOwnProperty(Zn)||s.hasOwnProperty(Ti))?s[Zn]:null}const Sn=_e({\u0275prov:_e}),Zn=_e({\u0275inj:_e}),mr=_e({ngInjectableDef:_e}),Ti=_e({ngInjectorDef:_e});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let _r;function $n(s){const a=_r;return _r=s,a}function ji(s,a,c){const d=tn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ct.Optional?null:void 0!==a?a:void be(ve(s))}function On(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},St=[],zn=_e({\u0275cmp:_e}),zt=_e({\u0275dir:_e}),uo=_e({\u0275pipe:_e}),sn=_e({\u0275mod:_e}),Bn=_e({\u0275fac:_e}),wn=_e({__NG_ELEMENT_ID__:_e});let er=0;function Pn(s){return On(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+er++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,y=s.features;return h.inputs=G(s.inputs,d),h.outputs=G(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(tr).filter(xi):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(J).filter(xi):null,h})}function tr(s){return O(s)||N(s)}function xi(s){return null!==s}function vr(s){return On(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,a){if(null==s)return ir;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,a&&(a[h]=g)}return c}const H=Pn;function F(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[zn]||null}function N(s){return s[zt]||null}function J(s){return s[uo]||null}function Ee(s){const a=O(s)||N(s)||J(s);return null!==a&&a.standalone}function Je(s,a){const c=s[sn]||null;if(!c&&!0===a)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return c}function Tr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Gr(s){return Array.isArray(s)&&!0===s[1]}function Ma(s){return 0!=(8&s.flags)}function To(s){return 2==(2&s.flags)}function ka(s){return 1==(1&s.flags)}function Ii(s){return null!==s.template}function Na(s){return 0!=(256&s[2])}function ms(s,a){return s.hasOwnProperty(Bn)?s[Bn]:null}class co{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Gc(){return Su}function Su(s){return s.type.prototype.ngOnChanges&&(s.setInput=Oa),qc}function qc(){const s=$c(this),a=s?.current;if(a){const c=s.previous;if(c===ir)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Oa(s,a,c,d){const h=$c(s)||function Id(s,a){return s[xd]=a}(s,{previous:ir,current:null}),g=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[c],b=y[w];g[w]=new co(b&&b.currentValue,a,y===ir),s[d]=a}Gc.ngInherit=!0;const xd="__ngSimpleChanges__";function $c(s){return s[xd]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function _s(s,a){return xn(a[s])}function di(s,a){return xn(a[s.index])}function Wc(s,a){return s.data[a]}function kr(s,a){const c=a[s];return Tr(c)?c:c[0]}function ku(s){return 64==(64&s[2])}function Ai(s,a){return null==a?null:s[a]}function xr(s){s[18]=0}function qs(s,a){s[5]+=a;let c=s,d=s[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Nt={lFrame:Ba(null),bindingsEnabled:!0};function Pu(){return Nt.bindingsEnabled}function ke(){return Nt.lFrame.lView}function en(){return Nt.lFrame.tView}function Xc(s){return Nt.lFrame.contextLView=s,s[8]}function Ru(s){return Nt.lFrame.contextLView=null,s}function Wn(){let s=Fa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fa(){return Nt.lFrame.currentTNode}function Si(s,a){const c=Nt.lFrame;c.currentTNode=s,c.isParent=a}function La(){return Nt.lFrame.isParent}function Fu(){Nt.lFrame.isParent=!1}function hi(){const s=Nt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ys(){return Nt.lFrame.bindingIndex++}function pi(s){const a=Nt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function Nd(s,a){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Va(a)}function Va(s){Nt.lFrame.currentDirectiveIndex=s}function tl(s){const a=Nt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function $s(){return Nt.lFrame.currentQueryIndex}function ti(s){Nt.lFrame.currentQueryIndex=s}function Uu(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function nl(s,a,c){if(c&ct.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||c&ct.Host||(h=Uu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,s=g}const d=Nt.lFrame=Za();return d.currentTNode=a,d.lView=s,!0}function vs(s){const a=Za(),c=s[1];Nt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Za(){const s=Nt.lFrame,a=null===s?null:s.child;return null===a?Ba(s):a}function Ba(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function rl(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Pd=rl;function zo(){const s=rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hn(){return Nt.lFrame.selectedIndex}function Ds(s){Nt.lFrame.selectedIndex=s}function An(){const s=Nt.lFrame;return Wc(s.tView,s.selectedIndex)}function Ha(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:k}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),b&&(s.viewHooks||(s.viewHooks=[])).push(-c,b),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function Cs(s,a,c){il(s,a,3,c)}function Bu(s,a,c,d){(3&s[2])===c&&il(s,a,c,d)}function ju(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function il(s,a,c,d){const g=d??-1,y=a.length-1;let w=0;for(let b=void 0!==d?65535&s[18]:0;b<y;b++)if("number"==typeof a[b+1]){if(w=a[b],null!=d&&w>=d)break}else a[b]<0&&(s[18]+=65536),(w<g||-1==g)&&(cf(s,c,a,b),s[18]=(4294901760&s[18])+b+2),b++}function cf(s,a,c,d){const h=c[d]<0,g=c[d+1],w=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class zs{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function sl(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],y=c[d++],w=c[d++];s.setAttribute(a,y,w,g)}else{const g=h,y=c[++d];Vd(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),d++}}return d}function Gu(s){return 3===s||4===s||6===s}function Vd(s){return 64===s.charCodeAt(0)}function Ws(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||df(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function df(s,a,c,d,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function al(s){return-1!==s}function Ga(s){return 32767&s}function ho(s,a){let c=function hf(s){return s>>16}(s),d=a;for(;c>0;)d=d[15],c--;return d}let Ko=!0;function gi(s){const a=Ko;return Ko=s,a}let qa=0;const $i={};function Js(s,a){const c=ws(s,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,$a(d.data,s),$a(a,null),$a(d.blueprint,null));const h=za(s,a),g=s.injectorIndex;if(al(h)){const y=Ga(h),w=ho(h,a),b=w[1].data;for(let A=0;A<8;A++)a[g+A]=w[y+A]|b[y+A]}return a[g+8]=h,g}function $a(s,a){s.push(0,0,0,0,0,0,0,0,a)}function ws(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function za(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=dl(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Jo(s,a,c){!function $u(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(wn)&&(d=c[wn]),null==d&&(d=c[wn]=qa++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,c)}function cl(s,a,c){if(c&ct.Optional||void 0!==s)return s;be()}function ff(s,a,c,d){if(c&ct.Optional&&void 0===d&&(d=null),0==(c&(ct.Self|ct.Host))){const h=s[9],g=$n(void 0);try{return h?h.get(a,d,c&ct.Optional):ji(a,d,c&ct.Optional)}finally{$n(g)}}return cl(d,0,c)}function Ys(s,a,c,d=ct.Default,h){if(null!==s){if(1024&a[2]){const y=function ll(s,a,c,d,h){let g=s,y=a;for(;null!==g&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Wa(g,y,c,d|ct.Self,$i);if(w!==$i)return w;let b=g.parent;if(!b){const A=y[21];if(A){const k=A.get(c,$i,d);if(k!==$i)return k}b=dl(y),y=y[15]}g=b}return h}(s,a,c,d,$i);if(y!==$i)return y}const g=Wa(s,a,c,d,$i);if(g!==$i)return g}return ff(a,c,d,h)}function Wa(s,a,c,d,h){const g=function lg(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(wn)?s[wn]:void 0;return"number"==typeof a?a>=0?255&a:or:a}(c);if("function"==typeof g){if(!nl(a,s,d))return d&ct.Host?cl(h,0,d):ff(a,c,d,h);try{const y=g(d);if(null!=y||d&ct.Optional)return y;be()}finally{Pd()}}else if("number"==typeof g){let y=null,w=ws(s,a),b=-1,A=d&ct.Host?a[16][6]:null;for((-1===w||d&ct.SkipSelf)&&(b=-1===w?za(s,a):a[w+8],-1!==b&&Qo(d,!1)?(y=a[1],w=Ga(b),a=ho(b,a)):w=-1);-1!==w;){const k=a[1];if(pf(g,w,k.data)){const Z=Zd(w,a,c,y,d,A);if(Z!==$i)return Z}b=a[w+8],-1!==b&&Qo(d,a[1].data[w+8]===A)&&pf(g,w,a)?(y=k,w=Ga(b),a=ho(b,a)):w=-1}}return h}function Zd(s,a,c,d,h,g){const y=a[1],w=y.data[s+8],k=Qs(w,y,c,null==d?To(w)&&Ko:d!=y&&0!=(3&w.type),h&ct.Host&&g===w);return null!==k?Yo(a,y,k,w):$i}function Qs(s,a,c,d,h){const g=s.providerIndexes,y=a.data,w=1048575&g,b=s.directiveStart,k=g>>20,W=h?w+k:s.directiveEnd;for(let re=d?w:w+k;re<W;re++){const Te=y[re];if(re<b&&c===Te||re>=b&&Te.type===c)return re}if(h){const re=y[b];if(re&&Ii(re)&&re.type===c)return b}return null}function Yo(s,a,c,d){let h=s[c];const g=a.data;if(function Fd(s){return s instanceof zs}(h)){const y=h;y.resolving&&function yt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(g[c]));const w=gi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?$n(y.injectImpl):null;nl(s,d,ct.Default);try{h=s[c]=y.factory(void 0,g,s,d),a.firstCreatePass&&c>=d.directiveStart&&function ja(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const y=Su(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],a)}finally{null!==b&&$n(b),gi(w),y.resolving=!1,Pd()}}return h}function pf(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Qo(s,a){return!(s&ct.Self||s&ct.Host&&a)}class Xs{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ys(this._tNode,this._lView,a,d,c)}}function or(){return new Xs(Wn(),ke())}function Ja(s){return On(()=>{const a=s.prototype.constructor,c=a[Bn]||Ya(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Bn]||Ya(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ya(s){return He(s)?()=>{const a=Ya(Q(s));return a&&a()}:ms(s)}function dl(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function Bd(s){return function Ka(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Gu(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(Wn(),s)}const Fn="__parameters__";function Mi(s,a,c){return On(()=>{const d=function zu(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return w.annotation=y,w;function w(b,A,k){const Z=b.hasOwnProperty(Fn)?b[Fn]:Object.defineProperty(b,Fn,{value:[]})[Fn];for(;Z.length<=k;)Z.push(null);return(Z[k]=Z[k]||[]).push(y),b}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class yn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Me({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(a===s&&(a=s.slice(0,c)),Ir(d,a)):a!==s&&a.push(d)}return a}function zi(s,a){s.forEach(c=>Array.isArray(c)?zi(c,a):a(c))}function fl(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Xa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function mi(s,a,c){let d=bs(s,a);return d>=0?s[1|d]=c:(d=~d,function fg(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function Xu(s,a){const c=bs(s,a);if(c>=0)return s[1|c]}function bs(s,a){return function gl(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<c];if(a===y)return g<<c;y>a?h=g:d=g+1}return~(h<<c)}(s,a,1)}const _i={},tu="__NG_DI_FLAG__",yi="ngTempTokenPath",Wd=/\n/gm,So="__source";let Gn;function ht(s){const a=Gn;return Gn=s,a}function nu(s,a=ct.Default){if(void 0===Gn)throw new xe(-203,!1);return null===Gn?ji(s,void 0,a):Gn.get(s,a&ct.Optional?null:void 0,a)}function ur(s,a=ct.Default){return(function Xn(){return _r}()||nu)(Q(s),a)}function yl(s,a=ct.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),ur(s,a)}function tc(s){const a=[];for(let c=0;c<s.length;c++){const d=Q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let h,g=ct.Default;for(let y=0;y<d.length;y++){const w=d[y],b=Ts(w);"number"==typeof b?-1===b?h=w.token:g|=b:h=w}a.push(ur(h,g))}else a.push(ur(d))}return a}function Xo(s,a){return s[tu]=a,s.prototype[tu]=a,s}function Ts(s){return s[tu]}const Mo=Xo(Mi("Optional"),8),na=Xo(Mi("SkipSelf"),4);var Yn=(()=>((Yn=Yn||{})[Yn.Important=1]="Important",Yn[Yn.DashCase=2]="DashCase",Yn))();const S=new Map;let U=0;const Or="__ngContext__";function fn(s,a){Tr(a)?(s[Or]=a[20],function X(s){S.set(s[20],s)}(a)):s[Or]=a}function Xd(s,a){return undefined(s,a)}function th(s){const a=s[3];return Gr(a)?a[3]:a}function Nl(s){return p(s[13])}function D(s){return p(s[4])}function p(s){for(;null!==s&&!Gr(s);)s=s[4];return s}function E(s,a,c,d,h){if(null!=d){let g,y=!1;Gr(d)?g=d:Tr(d)&&(y=!0,d=d[0]);const w=xn(d);0===s&&null!==c?null==h?au(a,c,w):Is(a,c,w,h||null,!0):1===s&&null!==c?Is(a,c,w,h||null,!0):2===s?function Eg(s,a,c){const d=lc(s,a);d&&function rh(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,w,y):3===s&&a.destroyNode(w),null!=g&&function eT(s,a,c,d,h){const g=c[7];g!==xn(c)&&E(a,s,d,g,h);for(let w=10;w<c.length;w++){const b=c[w];Ni(b[1],b,s,a,d,g)}}(a,s,g,c,h)}}function he(s,a,c){return s.createElement(a,c)}function uc(s,a){const c=s[9],d=c.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,qs(h,-1)),c.splice(d,1)}function Tf(s,a){if(s.length<=10)return;const c=10+a,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&uc(h,d),a>0&&(s[c-1][4]=d[4]);const g=Xa(s,10+a);!function Ge(s,a){Ni(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function cc(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Ni(s,a,c,3,null,null),function un(s){let a=s[13];if(!a)return nh(s[1],s);for(;a;){let c=null;if(Tr(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==s;)Tr(a)&&nh(a[1],a),a=a[3];null===a&&(a=s),Tr(a)&&nh(a[1],a),c=a&&a[4]}a=c}}(a)}}function nh(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Pl(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof zs)){const g=c[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const w=h[g[y]],b=g[y+1];try{b.call(w)}finally{}}else try{g.call(h)}finally{}}}}(s,a),function xf(s,a){const c=s.cleanup,d=a[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+1],w="function"==typeof y?y(a):xn(a[y]),b=d[h=c[g+2]],A=c[g+3];"boolean"==typeof A?w.removeEventListener(c[g],b,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const y=d[h=c[g+1]];c[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&Gr(a[3])){c!==a[3]&&uc(c,a);const d=a[19];null!==d&&d.detachView(s)}!function Qe(s){S.delete(s[20])}(a)}}function If(s,a,c){return function Dg(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return di(d,c)}(s,a.parent,c)}function Is(s,a,c,d,h){s.insertBefore(a,c,d,h)}function au(s,a,c){s.appendChild(a,c)}function mo(s,a,c,d,h){null!==d?Is(s,a,c,d,h):au(s,a,c)}function lc(s,a){return s.parentNode(a)}let Af,hc,Tg,Y1=function j_(s,a,c){return 40&s.type?di(s,c):null};function H_(s,a,c,d){const h=If(s,d,a),g=a[11],w=function UD(s,a,c){return Y1(s,a,c)}(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(c))for(let b=0;b<c.length;b++)mo(g,h,c[b],w,!1);else mo(g,h,c,w,!1)}function Cg(s,a){if(null!==a){const c=a.type;if(3&c)return di(a,s);if(4&c)return q_(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Cg(s,d);{const h=s[a.index];return Gr(h)?q_(-1,h):xn(h)}}if(32&c)return Xd(a,s)()||xn(s[a.index]);{const d=G_(s,a);return null!==d?Array.isArray(d)?d[0]:Cg(th(s[16]),d):Cg(s,a.next)}}return null}function G_(s,a){return null!==a?s[16][6].projection[a.projection]:null}function q_(s,a){const c=10+s+1;if(c<a.length){const d=a[c],h=d[1].firstChild;if(null!==h)return Cg(d,h)}return a[7]}function Po(s,a,c,d,h,g,y){for(;null!=c;){const w=d[c.index],b=c.type;if(y&&0===a&&(w&&fn(xn(w),d),c.flags|=4),64!=(64&c.flags))if(8&b)Po(s,a,c.child,d,h,g,!1),E(a,s,h,w,g);else if(32&b){const A=Xd(c,d);let k;for(;k=A();)E(a,s,h,k,g);E(a,s,h,w,g)}else 16&b?wg(s,a,d,c,h,g):E(a,s,h,w,g);c=y?c.projectionNext:c.next}}function Ni(s,a,c,d,h,g){Po(c,d,s.firstChild,a,h,g,!1)}function wg(s,a,c,d,h,g){const y=c[16],b=y[6].projection[d.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)E(a,s,h,b[A],g);else Po(s,a,b,y[3],h,g,!0)}function $_(s,a,c){s.setAttribute(a,"style",c)}function z_(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function dc(s){return function K_(){if(void 0===Af&&(Af=null,nn.trustedTypes))try{Af=nn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Af}()?.createHTML(s)||s}function iT(s){hc=s}function J_(s){return function Sf(){if(void 0===Tg&&(Tg=null,nn.trustedTypes))try{Tg=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Tg}()?.createHTML(s)||s}class Ol{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class BD extends Ol{getTypeName(){return"HTML"}}class oT extends Ol{getTypeName(){return"Style"}}class xg extends Ol{getTypeName(){return"Script"}}class jD extends Ol{getTypeName(){return"URL"}}class sT extends Ol{getTypeName(){return"ResourceURL"}}function fa(s){return s instanceof Ol?s.changingThisBreaksApplicationSecurity:s}function oh(s,a){const c=function a2(s){return s instanceof Ol&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Y_(s){return new BD(s)}function HD(s){return new oT(s)}function GD(s){return new xg(s)}function qD(s){return new jD(s)}function Rl(s){return new sT(s)}class zD{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(dc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class aT{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=dc(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=dc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const uT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ig(s){return(s=String(s)).match(uT)?s:"unsafe:"+s}function ii(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function sh(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const WD=ii("area,br,col,hr,img,wbr"),Q_=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JD=ii("rp,rt"),X_=sh(WD,sh(Q_,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sh(JD,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sh(JD,Q_)),Ag=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lT=sh(Ag,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QD=ii("script,style,template");class dT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!X_.hasOwnProperty(c))return this.sanitizedSomething=!0,!QD.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),y=g.name,w=y.toLowerCase();if(!lT.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=g.value;Ag[w]&&(b=Ig(b)),this.buf.push(" ",y,'="',hT(b),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();X_.hasOwnProperty(c)&&!WD.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(hT(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const XD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eC=/([^\#-~ |!])/g;function hT(s){return s.replace(/&/g,"&amp;").replace(XD,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(eC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ey;function ty(s,a){let c=null;try{ey=ey||function $D(s){const a=new aT(s);return function KD(){try{return!!(new window.DOMParser).parseFromString(dc(""),"text/html")}catch{return!1}}()?new zD(a):a}(s);let d=a?String(a):"";c=ey.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=ey.getInertBodyElement(d)}while(d!==g);return dc((new dT).sanitizeChildren(Mf(c)||c))}finally{if(c){const d=Mf(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Mf(s){return"content"in s&&function c2(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function fT(s){const a=ah();return a?J_(a.sanitize(Fr.HTML,s)||""):oh(s,"HTML")?J_(fa(s)):ty(function bg(){return void 0!==hc?hc:typeof document<"u"?document:void 0}(),Ce(s))}function ny(s){const a=ah();return a?a.sanitize(Fr.URL,s)||"":oh(s,"URL")?fa(s):Ig(Ce(s))}function ah(){const s=ke();return s&&s[12]}const oC=new yn("ENVIRONMENT_INITIALIZER"),gT=new yn("INJECTOR",-1),mT=new yn("INJECTOR_DEF_TYPES");class _T{get(a,c=_i){if(c===_i){const d=new Error(`NullInjectorError: No provider for ${ve(a)}!`);throw d.name="NullInjectorError",d}return c}}function d2(...s){return{\u0275providers:ry(0,s)}}function ry(s,...a){const c=[],d=new Set;let h;return zi(a,g=>{const y=g;Sg(y,c,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&uh(h,c),c}function uh(s,a){for(let c=0;c<s.length;c++){const{providers:h}=s[c];zi(h,g=>{a.push(g)})}}function Sg(s,a,c,d){if(!(s=Q(s)))return!1;let h=null,g=Qn(s);const y=!g&&O(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const b=s.ngModule;if(g=Qn(b),!g)return!1;h=b}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of b)Sg(A,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let A;d.add(h);try{zi(g.imports,k=>{Sg(k,a,c,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&uh(A,a)}if(!w){const A=ms(h)||(()=>new h);a.push({provide:h,useFactory:A,deps:St},{provide:mT,useValue:h,multi:!0},{provide:oC,useValue:()=>ur(h),multi:!0})}const b=g.providers;null==b||w||zi(b,k=>{a.push(k)})}}return h!==s&&void 0!==s.providers}const h2=_e({provide:String,useValue:_e});function Mg(s){return null!==s&&"object"==typeof s&&h2 in s}function Fl(s){return"function"==typeof s}const iy=new yn("Set Injector scope."),kg={},vT={};let oy;function Ng(){return void 0===oy&&(oy=new _T),oy}class Ll{}class DT extends Ll{constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ay(a,y=>this.processProvider(y)),this.records.set(gT,ch(void 0,this)),h.has("environment")&&this.records.set(Ll,ch(void 0,this));const g=this.records.get(iy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(mT.multi,St,ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=ht(this),d=$n(void 0);try{return a()}finally{ht(c),$n(d)}}get(a,c=_i,d=ct.Default){this.assertNotDestroyed();const h=ht(this),g=$n(void 0);try{if(!(d&ct.SkipSelf)){let w=this.records.get(a);if(void 0===w){const b=function TT(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(a)&&tn(a);w=b&&this.injectableDefInScope(b)?ch(sy(a),kg):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&ct.Self?Ng():this.parent).get(a,c=d&ct.Optional&&c===_i?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[yi]=y[yi]||[]).unshift(ve(a)),h)throw y;return function Nr(s,a,c,d){const h=s[yi];throw a[So]&&h.unshift(a[So]),s.message=function mg(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ve(a);if(Array.isArray(a))h=a.map(ve).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];g.push(y+":"+("string"==typeof w?JSON.stringify(w):ve(w)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Wd,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[yi]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{$n(g),ht(h)}}resolveInjectorInitializers(){const a=ht(this),c=$n(void 0);try{const d=this.get(oC.multi,St,ct.Self);for(const h of d)h()}finally{ht(a),$n(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ve(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let c=Fl(a=Q(a))?a:Q(a&&a.provide);const d=function ET(s){return Mg(s)?ch(void 0,s.useValue):ch(cC(s),kg)}(a);if(Fl(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=ch(void 0,kg,!0),h.factory=()=>tc(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===kg&&(c.value=vT,c.value=c.factory()),"object"==typeof c.value&&c.value&&function bT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function sy(s){const a=tn(s),c=null!==a?a.factory:ms(s);if(null!==c)return c;if(s instanceof yn)throw new xe(204,!1);if(s instanceof Function)return function CT(s){const a=s.length;if(a>0)throw function Qu(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}(a,"?"),new xe(204,!1);const c=function Nn(s){const a=s&&(s[Sn]||s[mr]);if(a){const c=function pn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new xe(204,!1)}function cC(s,a,c){let d;if(Fl(s)){const h=Q(s);return ms(h)||sy(h)}if(Mg(s))d=()=>Q(s.useValue);else if(function uC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...tc(s.deps||[]));else if(function aC(s){return!(!s||!s.useExisting)}(s))d=()=>ur(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function wT(s){return!!s.deps}(s))return ms(h)||sy(h);d=()=>new h(...tc(s.deps))}return d}function ch(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function xT(s){return!!s.\u0275providers}function ay(s,a){for(const c of s)Array.isArray(c)?ay(c,a):xT(c)?ay(c.\u0275providers,a):a(c)}class lC{}class ST{resolveComponentFactory(a){throw function AT(s){const a=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Nf=(()=>{class s{}return s.NULL=new ST,s})();function MT(){return lh(Wn(),ke())}function lh(s,a){return new Pf(di(s,a))}let Pf=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=MT,s})();function kT(s){return s instanceof Pf?s.nativeElement:s}class NT{}let PT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function OT(){const s=ke(),c=kr(Wn().index,s);return(Tr(c)?c:s)[11]}(),s})(),RT=(()=>{class s{}return s.\u0275prov=Me({token:s,providedIn:"root",factory:()=>null}),s})();class Pg{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const uu=new Pg("14.3.0"),Og={};function Rf(s){return s.ngOriginalError}class Di{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Rf(a);for(;c&&Rf(c);)c=Rf(c);return c||null}}function ga(s){return s instanceof Function?s():s}function hy(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const mC="ng-template";function _C(s,a,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==hy(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function yC(s){return 4===s.type&&s.value!==mC}function fy(s,a,c){return a===(4!==s.type||c?s.value:mC)}function Rg(s,a,c){let d=4;const h=s.attrs||[],g=function cu(s){for(let a=0;a<s.length;a++)if(Gu(s[a]))return a;return s.length}(h);let y=!1;for(let w=0;w<a.length;w++){const b=a[w];if("number"!=typeof b){if(!y)if(4&d){if(d=2|1&d,""!==b&&!fy(s,b,c)||""===b&&1===a.length){if(_o(d))return!1;y=!0}}else{const A=8&d?b:a[++w];if(8&d&&null!==s.attrs){if(!_C(s.attrs,A,c)){if(_o(d))return!1;y=!0}continue}const Z=Fg(8&d?"class":b,h,yC(s),c);if(-1===Z){if(_o(d))return!1;y=!0;continue}if(""!==A){let W;W=Z>g?"":h[Z+1].toLowerCase();const re=8&d?W:null;if(re&&-1!==hy(re,A,0)||2&d&&A!==W){if(_o(d))return!1;y=!0}}}}else{if(!y&&!_o(d)&&!_o(b))return!1;if(y&&_o(b))continue;y=!1,d=b|1&d}}return _o(d)||y}function _o(s){return 0==(1&s)}function Fg(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function my(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function py(s,a,c=!1){for(let d=0;d<a.length;d++)if(Rg(s,a[d],c))return!0;return!1}function vC(s,a){return s?":not("+a.trim()+")":a}function Ff(s){let a=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!_o(y)&&(a+=vC(g,h),h=""),d=y,g=g||!_o(d);c++}return""!==h&&(a+=vC(g,h)),a}const Kt={};function lu(s){_y(en(),ke(),hn()+s,!1)}function _y(s,a,c,d){if(!d)if(3==(3&a[2])){const g=s.preOrderCheckHooks;null!==g&&Cs(a,g,c)}else{const g=s.preOrderHooks;null!==g&&Bu(a,g,0,c)}Ds(c)}function EC(s,a=null,c=null,d){const h=Vg(s,a,c,d);return h.resolveInjectorInitializers(),h}function Vg(s,a=null,c=null,d,h=new Set){const g=[c||St,d2(s)];return d=d||("object"==typeof s?void 0:ve(s)),new DT(g,a||Ng(),d||null,h)}let Vl=(()=>{class s{static create(c,d){if(Array.isArray(c))return EC({name:""},d,c,"");{const h=c.name??"";return EC({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=_i,s.NULL=new _T,s.\u0275prov=Me({token:s,providedIn:"any",factory:()=>ur(gT)}),s.__NG_ELEMENT_ID__=-1,s})();function fu(s,a=ct.Default){const c=ke();return null===c?ur(s,a):Ys(Wn(),c,Q(s),a)}function PC(){throw new Error("invalid")}function jg(s,a){return s<<17|a<<2}function As(s){return s>>17&32767}function Iy(s){return 2|s}function rs(s){return(131068&s)>>2}function Vf(s,a){return-131069&s|a<<2}function Ay(s){return 1|s}function Oo(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const y=s.data[g];ti(h),y.contentQueries(2,a[g],g)}}}function $g(s,a,c,d,h,g,y,w,b,A,k){const Z=a.blueprint.slice();return Z[0]=h,Z[2]=76|d,(null!==k||s&&1024&s[2])&&(Z[2]|=1024),xr(Z),Z[3]=Z[15]=s,Z[8]=c,Z[10]=y||s&&s[10],Z[11]=w||s&&s[11],Z[12]=b||s&&s[12]||null,Z[9]=A||s&&s[9]||null,Z[6]=g,Z[20]=function K(){return U++}(),Z[21]=k,Z[16]=2==a.type?s[16]:Z,Z}function Zl(s,a,c,d,h){let g=s.data[a];if(null===g)g=function Ry(s,a,c,d,h){const g=Fa(),y=La(),b=s.data[a]=function JC(s,a,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,a,c,d,h),function Ua(){return Nt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const y=function $o(){const s=Nt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Si(g,!0),g}function Bl(s,a,c,d){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function ph(s,a,c){vs(a);try{const d=s.viewQuery;null!==d&&Cr(1,d,c);const h=s.template;null!==h&&zC(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Oo(s,a),s.staticViewQueries&&Cr(2,s.viewQuery,c);const g=s.components;null!==g&&function XT(s,a){for(let c=0;c<a.length;c++)zf(s,a[c])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,zo()}}function zg(s,a,c,d){const h=a[2];if(128!=(128&h)){vs(a);try{xr(a),function fi(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&zC(s,a,c,2,d);const y=3==(3&h);if(y){const A=s.preOrderCheckHooks;null!==A&&Cs(a,A,null)}else{const A=s.preOrderHooks;null!==A&&Bu(a,A,0,null),ju(a,0)}if(function rE(s){for(let a=Nl(s);null!==a;a=D(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&qs(g,1),h[2]|=512}}}(a),function Vy(s){for(let a=Nl(s);null!==a;a=D(a))for(let c=10;c<a.length;c++){const d=a[c],h=d[1];ku(d)&&zg(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&Oo(s,a),y){const A=s.contentCheckHooks;null!==A&&Cs(a,A)}else{const A=s.contentHooks;null!==A&&Bu(a,A,1),ju(a,1)}!function $C(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Ds(~h);else{const g=h,y=c[++d],w=c[++d];Nd(y,g),w(2,a[g])}}}finally{Ds(-1)}}(s,a);const w=s.components;null!==w&&function fh(s,a){for(let c=0;c<a.length;c++)ax(s,a[c])}(a,w);const b=s.viewQuery;if(null!==b&&Cr(2,b,d),y){const A=s.viewCheckHooks;null!==A&&Cs(a,A)}else{const A=s.viewHooks;null!==A&&Bu(a,A,2),ju(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,qs(a[3],-1))}finally{zo()}}}function zC(s,a,c,d,h){const g=hn(),y=2&d;try{Ds(-1),y&&a.length>22&&_y(s,a,22,!1),c(d,h)}finally{Ds(g)}}function Kg(s,a,c){if(Ma(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}function Fy(s,a,c){!Pu()||(function ix(s,a,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||Js(c,a),fn(d,a);const y=c.initialInputs;for(let w=h;w<g;w++){const b=s.data[w],A=Ii(b);A&&qf(a,c,b);const k=Yo(a,s,w,c);fn(k,a),null!==y&&sx(0,w-h,k,b,0,y),A&&(kr(c.index,a)[8]=k)}}(s,a,c,di(c,a)),128==(128&c.flags)&&function N2(s,a,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,y=function Lu(){return Nt.lFrame.currentDirectiveIndex}();try{Ds(g);for(let w=d;w<h;w++){const b=s.data[w],A=a[w];Va(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&ox(b,A)}}finally{Ds(-1),Va(y)}}(s,a,c))}function Wg(s,a,c=di){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],w=-1===y?c(a,s):s[y];s[h++]=w}}}function KC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ly(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Ly(s,a,c,d,h,g,y,w,b,A){const k=22+d,Z=k+h,W=function ex(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:Kt);return c}(k,Z),re="function"==typeof A?A():A;return W[1]={type:s,blueprint:W,template:c,queries:null,viewQuery:w,declTNode:a,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:re,incompleteFirstPass:!1}}function Hf(s,a,c,d){const h=Wf(a);null===c?h.push(d):(h.push(c),s.firstCreatePass&&os(s).push(d,h.length-1))}function YC(s,a,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,h):c[d]=[a,h]}return c}function Uy(s,a){const d=a.directiveEnd,h=s.data,g=a.attrs,y=[];let w=null,b=null;for(let A=a.directiveStart;A<d;A++){const k=h[A],Z=k.inputs,W=null===g||yC(a)?null:tE(Z,g);y.push(W),w=YC(Z,A,w),b=YC(k.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=b}function Ro(s,a,c,d,h,g,y,w){const b=di(a,c);let k,A=a.inputs;!w&&null!=A&&(k=A[d])?(tm(s,c,k,d,h),To(a)&&QC(c,a.index)):3&a.type&&(d=function tx(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,g.setProperty(b,d,h))}function QC(s,a){const c=kr(a,s);16&c[2]||(c[2]|=32)}function Jg(s,a,c,d){let h=!1;if(Pu()){const g=function P2(s,a,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];py(c,y.selectors,!1)&&(h||(h=[]),Jo(Js(c,a),s,y.type),Ii(y)?(Ct(s,c),h.unshift(y)):h.push(y))}return h}(s,a,c),y=null===d?null:{"":-1};if(null!==g){h=!0,eE(c,s.data.length,g.length);for(let k=0;k<g.length;k++){const Z=g[k];Z.providersResolver&&Z.providersResolver(Z)}let w=!1,b=!1,A=Bl(s,a,g.length,null);for(let k=0;k<g.length;k++){const Z=g[k];c.mergedAttrs=Ws(c.mergedAttrs,Z.hostAttrs),Gf(s,c,a,A,Z),Ms(A,Z,y),null!==Z.contentQueries&&(c.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(c.flags|=128);const W=Z.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),b=!0),A++}Uy(s,c)}y&&function Pi(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new xe(-301,!1);d.push(a[h],g)}}}(c,d,y)}return c.mergedAttrs=Ws(c.mergedAttrs,c.attrs),h}function Yg(s,a,c,d,h,g){const y=g.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const b=~a.index;(function XC(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=b&&w.push(b),w.push(d,h,y)}}function ox(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Ct(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Ms(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;Ii(a)&&(c[""]=s)}}function eE(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function Gf(s,a,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=ms(h.type)),y=new zs(g,Ii(h),fu);s.blueprint[d]=y,c[d]=y,Yg(s,a,0,d,Bl(s,c,h.hostVars,Kt),h)}function qf(s,a,c){const d=di(a,s),h=KC(c),g=s[10],y=Kf(s,$g(s,h,null,c.onPush?32:16,d,a,g,g.createRenderer(d,c),null,null,null));s[a.index]=y}function _a(s,a,c,d,h,g){const y=di(s,a);!function Qg(s,a,c,d,h,g,y){if(null==g)s.removeAttribute(a,h,c);else{const w=null==y?Ce(g):y(g,d||"",h);s.setAttribute(a,h,w,c)}}(a[11],y,g,s.value,c,d,h)}function sx(s,a,c,d,h,g){const y=g[a];if(null!==y){const w=d.setInput;for(let b=0;b<y.length;){const A=y[b++],k=y[b++],Z=y[b++];null!==w?d.setInput(c,Z,A,k):c[k]=Z}}}function tE(s,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],a[d+1])),d+=2}else d+=2;else d+=4}return c}function nE(s,a,c,d){return new Array(s,!0,!1,a,null,0,d,c,null,null)}function ax(s,a){const c=kr(a,s);if(ku(c)){const d=c[1];48&c[2]?zg(d,c,d.template,c[8]):c[5]>0&&$f(c)}}function $f(s){for(let d=Nl(s);null!==d;d=D(d))for(let h=10;h<d.length;h++){const g=d[h];if(ku(g))if(512&g[2]){const y=g[1];zg(y,g,y.template,g[8])}else g[5]>0&&$f(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=kr(c[d],s);ku(h)&&h[5]>0&&$f(h)}}function zf(s,a){const c=kr(a,s),d=c[1];(function jl(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),ph(d,c,c[8])}function Kf(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function oi(s){for(;s;){s[2]|=32;const a=th(s);if(Na(s)&&!a)return s;s=a}return null}function gh(s,a,c,d=!0){const h=a[10];h.begin&&h.begin();try{zg(s,a,s.template,c)}catch(y){throw d&&Jf(a,y),y}finally{h.end&&h.end()}}function Cr(s,a,c){ti(0),a(s,c)}function Wf(s){return s[7]||(s[7]=[])}function os(s){return s.cleanup||(s.cleanup=[])}function Jf(s,a){const c=s[9],d=c?c.get(Di,null):null;d&&d.handleError(a)}function tm(s,a,c,d,h){for(let g=0;g<c.length;){const y=c[g++],w=c[g++],b=a[y],A=s.data[y];null!==A.setInput?A.setInput(b,h,d,w):b[w]=h}}function pu(s,a,c){const d=_s(a,s);!function P(s,a,c){s.setValue(a,c)}(s[11],d,c)}function ss(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?g=w:1==g?h=De(h,w):2==g&&(d=De(d,w+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function ya(s,a,c,d,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(xn(g)),Gr(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&ya(b[1],b,A,d)}const y=c.type;if(8&y)ya(s,a,c.child,d);else if(32&y){const w=Xd(c,a);let b;for(;b=w();)d.push(b)}else if(16&y){const w=G_(a,c);if(Array.isArray(w))d.push(...w);else{const b=th(a[16]);ya(b[1],b,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class Lr{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return ya(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Gr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Tf(a,d),Xa(c,d))}this._attachedToViewContainer=!1}cc(this._lView[1],this._lView)}onDestroy(a){Hf(this._lView[1],this._lView,null,a)}markForCheck(){oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vt(s,a){Ni(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class pc extends Lr{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;gh(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Zy extends Nf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=O(a);return new Yf(c,this.ngModule)}}function mh(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class iE{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const h=this.injector.get(a,Og,d);return h!==Og||c===Og?h:this.parentInjector.get(a,c,d)}}class Yf extends lC{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function DC(s){return s.map(Ff).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return mh(this.componentDef.inputs)}get outputs(){return mh(this.componentDef.outputs)}create(a,c,d,h){let g=(h=h||this.ngModule)instanceof Ll?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new iE(a,g):a,w=y.get(NT,null);if(null===w)throw new xe(407,!1);const b=y.get(RT,null),A=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",Z=d?function WC(s,a,c){return s.selectRootElement(a,c===bt.ShadowDom)}(A,d,this.componentDef.encapsulation):he(A,k,function By(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(k)),W=this.componentDef.onPush?288:272,re=Ly(0,null,null,1,0,null,null,null,null,null),Te=$g(null,re,null,W,null,null,w,A,b,y,null);let je,Xe;vs(Te);try{const _t=function lx(s,a,c,d,h,g){const y=c[1];c[22]=s;const b=Zl(y,22,2,"#host",null),A=b.mergedAttrs=a.hostAttrs;null!==A&&(ss(b,A,!0),null!==s&&(sl(h,s,A),null!==b.classes&&z_(h,s,b.classes),null!==b.styles&&$_(h,s,b.styles)));const k=d.createRenderer(s,a),Z=$g(c,KC(a),null,a.onPush?32:16,c[22],b,d,k,g||null,null,null);return y.firstCreatePass&&(Jo(Js(b,c),y,a.type),Ct(y,b),eE(b,c.length,1)),Kf(c,Z),c[22]=Z}(Z,this.componentDef,Te,w,A);if(Z)if(d)sl(A,Z,["ng-version",uu.full]);else{const{attrs:Pt,classes:Fe}=function VT(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++d]):8===h&&c.push(g);else{if(!_o(h))break;h=g}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Pt&&sl(A,Z,Pt),Fe&&Fe.length>0&&z_(A,Z,Fe.join(" "))}if(Xe=Wc(re,22),void 0!==c){const Pt=Xe.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Dt=c[Fe];Pt.push(null!=Dt?Array.from(Dt):null)}}je=function _h(s,a,c,d){const h=c[1],g=function rx(s,a,c){const d=Wn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Gf(s,d,a,Bl(s,a,1,null),c),Uy(s,d));const h=Yo(a,s,d.directiveStart,d);fn(h,a);const g=di(d,a);return g&&fn(g,a),h}(h,c,a);if(s[8]=c[8]=g,null!==d)for(const w of d)w(g,a);if(a.contentQueries){const w=Wn();a.contentQueries(1,g,w.directiveStart)}const y=Wn();return!h.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ds(y.index),Yg(c[1],y,0,y.directiveStart,y.directiveEnd,a),ox(a,g)),g}(_t,this.componentDef,Te,[dx]),ph(re,Te,null)}finally{zo()}return new cn(this.componentType,je,lh(Xe,Te),Te,Xe)}}class cn extends class IT{}{constructor(a,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new pc(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;tm(g[1],g,h,a,c),QC(g,this._tNode.index)}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function dx(){const s=Wn();Ha(ke()[1],s)}function as(s){let a=function oE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(Ii(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=rm(s.inputs),y.declaredInputs=rm(s.declaredInputs),y.outputs=rm(s.outputs);const w=h.hostBindings;w&&Ci(s,w);const b=h.viewQuery,A=h.contentQueries;if(b&&aE(s,b),A&&O2(s,A),pe(s.inputs,h.inputs),pe(s.declaredInputs,h.declaredInputs),pe(s.outputs,h.outputs),Ii(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const w=g[y];w&&w.ngInherit&&w(s),w===as&&(c=!1)}}a=Object.getPrototypeOf(a)}!function sE(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Ws(h.hostAttrs,c=Ws(c,h.hostAttrs))}}(d)}function rm(s){return s===ir?{}:s===St?[]:s}function aE(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function O2(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{a(d,h,g),c(d,h,g)}:a}function Ci(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}let im=null;function mc(){if(!im){const s=nn.Symbol;if(s&&s.iterator)im=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(im=d)}}}return im}function Qf(s){return!!om(s)&&(Array.isArray(s)||!(s instanceof Map)&&mc()in s)}function om(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fo(s,a,c){return s[a]=c}function Rt(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Ns(s,a,c,d){const h=Rt(s,a,c);return Rt(s,a+1,d)||h}function Hy(s,a,c,d){const h=ke();return Rt(h,ys(),a)&&(en(),_a(An(),h,s,a,c,d)),Hy}function yh(s,a,c,d,h,g){const w=Ns(s,function qr(){return Nt.lFrame.bindingIndex}(),c,h);return pi(2),w?a+Ce(c)+d+Ce(h)+g:Kt}function gE(s,a,c,d,h,g,y,w){const b=ke(),A=en(),k=s+22,Z=A.firstCreatePass?function mx(s,a,c,d,h,g,y,w,b){const A=a.consts,k=Zl(a,s,4,y||null,Ai(A,w));Jg(a,c,k,Ai(A,b)),Ha(a,k);const Z=k.tViews=Ly(2,k,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,k),Z.queries=a.queries.embeddedTView(k)),k}(k,A,b,a,c,d,h,g,y):A.data[k];Si(Z,!1);const W=b[11].createComment("");H_(A,b,W,Z),fn(W,b),Kf(b,b[k]=nE(W,b,W,Z)),ka(Z)&&Fy(A,b,Z),null!=y&&Wg(b,Z,w)}function tp(s){return function Gi(s,a){return s[a]}(function Rn(){return Nt.lFrame.contextLView}(),22+s)}function zy(s,a,c){const d=ke();return Rt(d,ys(),a)&&Ro(en(),An(),d,s,a,d[11],c,!1),zy}function _u(s,a,c,d,h){const y=h?"class":"style";tm(s,c,a.inputs[y],y,d)}function Wy(s,a,c,d){const h=ke(),g=en(),y=22+s,w=h[11],b=h[y]=he(w,a,function Rd(){return Nt.lFrame.currentNamespace}()),A=g.firstCreatePass?function Ky(s,a,c,d,h,g,y){const w=a.consts,A=Zl(a,s,2,h,Ai(w,g));return Jg(a,c,A,Ai(w,y)),null!==A.attrs&&ss(A,A.attrs,!1),null!==A.mergedAttrs&&ss(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(y,g,h,0,a,c,d):g.data[y];Si(A,!0);const k=A.mergedAttrs;null!==k&&sl(w,b,k);const Z=A.classes;null!==Z&&z_(w,b,Z);const W=A.styles;return null!==W&&$_(w,b,W),64!=(64&A.flags)&&H_(g,h,b,A),0===function Qc(){return Nt.lFrame.elementDepthCount}()&&fn(b,h),function Sd(){Nt.lFrame.elementDepthCount++}(),ka(A)&&(Fy(g,h,A),Kg(g,A,h)),null!==d&&Wg(h,A),Wy}function am(){let s=Wn();La()?Fu():(s=s.parent,Si(s,!1));const a=s;!function af(){Nt.lFrame.elementDepthCount--}();const c=en();return c.firstCreatePass&&(Ha(c,s),Ma(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Ud(s){return 0!=(16&s.flags)}(a)&&_u(c,a,ke(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function lf(s){return 0!=(32&s.flags)}(a)&&_u(c,a,ke(),a.stylesWithoutHost,!1),am}function Jy(s,a,c,d){return Wy(s,a,c,d),am(),Jy}function vc(s,a,c){const d=ke(),h=en(),g=s+22,y=h.firstCreatePass?function _x(s,a,c,d,h){const g=a.consts,y=Ai(g,d),w=Zl(a,s,8,"ng-container",y);return null!==y&&ss(w,y,!0),Jg(a,c,w,Ai(g,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,h,d,a,c):h.data[g];Si(y,!0);const w=d[g]=d[11].createComment("");return H_(h,d,w,y),fn(w,d),ka(y)&&(Fy(h,d,y),Kg(h,y,d)),null!=c&&Wg(d,y),vc}function Dc(){let s=Wn();const a=en();return La()?Fu():(s=s.parent,Si(s,!1)),a.firstCreatePass&&(Ha(a,s),Ma(s)&&a.queries.elementEnd(s)),Dc}function Yy(){return ke()}function um(s){return!!s&&"function"==typeof s.then}function Qy(s){return!!s&&"function"==typeof s.subscribe}const zl=Qy;function Xy(s,a,c,d){const h=ke(),g=en(),y=Wn();return function yE(s,a,c,d,h,g,y,w){const b=ka(d),k=s.firstCreatePass&&os(s),Z=a[8],W=Wf(a);let re=!0;if(3&d.type||w){const Xe=di(d,a),_t=w?w(Xe):Xe,Pt=W.length,Fe=w?En=>w(xn(En[d.index])):d.index;let Dt=null;if(!w&&b&&(Dt=function _E(s,a,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===c&&h[g+1]===d){const w=a[7],b=h[g+2];return w.length>b?w[b]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,d.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=g,Dt.__ngLastListenerFn__=g,re=!1;else{g=Dh(d,a,Z,g,!1);const En=c.listen(_t,h,g);W.push(g,En),k&&k.push(h,Fe,Pt,Pt+1)}}else g=Dh(d,a,Z,g,!1);const Te=d.outputs;let je;if(re&&null!==Te&&(je=Te[h])){const Xe=je.length;if(Xe)for(let _t=0;_t<Xe;_t+=2){const qn=a[je[_t]][je[_t+1]].subscribe(g),Ic=W.length;W.push(g,qn),k&&k.push(h,d.index,Ic,-(Ic+1))}}}(g,h,h[11],y,s,a,0,d),Xy}function cm(s,a,c,d){try{return!1!==c(d)}catch(h){return Jf(s,h),!1}}function Dh(s,a,c,d,h){return function g(y){if(y===Function)return d;oi(2&s.flags?kr(s.index,a):a);let b=cm(a,0,d,y),A=g.__ngNextListenerFn__;for(;A;)b=cm(a,0,A,y)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function vE(s=1){return function Od(s){return(Nt.lFrame.contextLView=function ug(s,a){for(;s>0;)a=a[15],s--;return a}(s,Nt.lFrame.contextLView))[8]}(s)}function TE(s,a,c,d,h){const g=s[c+1],y=null===a;let w=d?As(g):rs(g),b=!1;for(;0!==w&&(!1===b||y);){const k=s[w+1];Cx(s[w],a)&&(b=!0,s[w+1]=d?Ay(k):Iy(k)),w=d?As(k):rs(k)}b&&(s[c+1]=d?Iy(g):Ay(g))}function Cx(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&bs(s,a)>=0}const zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xE(s){return s.substring(zr.key,zr.keyEnd)}function rv(s,a){const c=zr.textEnd;return c===a?-1:(a=zr.keyEnd=function AE(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,zr.key=a,c),Os(s,a,c))}function Os(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function Ch(s,a,c){return Rs(s,a,c,!1),Ch}function hm(s,a){return Rs(s,a,null,!0),hm}function fm(s){!function Ji(s,a,c,d){const h=en(),g=pi(2);h.firstUpdatePass&&PE(h,null,g,d);const y=ke();if(c!==Kt&&Rt(y,g,c)){const w=h.data[hn()];if(wx(w,d)&&!NE(h,g)){let b=d?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(c=De(b,c||"")),_u(h,w,y,c,d)}else!function av(s,a,c,d,h,g,y,w){h===Kt&&(h=St);let b=0,A=0,k=0<h.length?h[0]:null,Z=0<g.length?g[0]:null;for(;null!==k||null!==Z;){const W=b<h.length?h[b+1]:void 0,re=A<g.length?g[A+1]:void 0;let je,Te=null;k===Z?(b+=2,A+=2,W!==re&&(Te=Z,je=re)):null===Z||null!==k&&k<Z?(b+=2,Te=k):(A+=2,Te=Z,je=re),null!==Te&&LE(s,a,c,d,Te,je,y,w),k=b<h.length?h[b]:null,Z=A<g.length?g[A]:null}}(h,w,y,y[11],y[g+1],y[g+1]=function ip(s,a,c){if(null==c||""===c)return St;const d=[],h=fa(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(s,a,c),d,g)}}(mi,cs,s,!0)}function cs(s,a){for(let c=function Ex(s){return function Da(s){zr.key=0,zr.keyEnd=0,zr.value=0,zr.valueEnd=0,zr.textEnd=s.length}(s),rv(s,Os(s,0,zr.textEnd))}(a);c>=0;c=rv(a,c))mi(s,xE(a),!0)}function Rs(s,a,c,d){const h=ke(),g=en(),y=pi(2);g.firstUpdatePass&&PE(g,s,y,d),a!==Kt&&Rt(h,y,a)&&LE(g,g.data[hn()],h,h[11],s,h[y+1]=function VE(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ve(fa(s)))),s}(a,c),d,y)}function NE(s,a){return a>=s.expandoStartIndex}function PE(s,a,c,d){const h=s.data;if(null===h[c+1]){const g=h[hn()],y=NE(s,c);wx(g,d)&&null===a&&!y&&(a=!1),a=function sv(s,a,c,d){const h=tl(s);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=rp(c=pm(null,s,a,c,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=pm(h,s,a,c,d),null===g){let b=function OE(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==rs(d))return s[As(d)]}(s,a,d);void 0!==b&&Array.isArray(b)&&(b=pm(null,s,a,b[1],d),b=rp(b,a.attrs,d),function RE(s,a,c,d){s[As(c?a.classBindings:a.styleBindings)]=d}(s,a,d,b))}else g=function FE(s,a,c){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=rp(d,s[g].hostAttrs,c);return rp(d,a.attrs,c)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,d),function vx(s,a,c,d,h,g){let y=g?a.classBindings:a.styleBindings,w=As(y),b=rs(y);s[d]=c;let k,A=!1;if(Array.isArray(c)){const Z=c;k=Z[1],(null===k||bs(Z,k)>0)&&(A=!0)}else k=c;if(h)if(0!==b){const W=As(s[w+1]);s[d+1]=jg(W,w),0!==W&&(s[W+1]=Vf(s[W+1],d)),s[w+1]=function xy(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=jg(w,0),0!==w&&(s[w+1]=Vf(s[w+1],d)),w=d;else s[d+1]=jg(b,0),0===w?w=d:s[b+1]=Vf(s[b+1],d),b=d;A&&(s[d+1]=Iy(s[d+1])),TE(s,k,d,!0),TE(s,k,d,!1),function Dx(s,a,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&bs(g,a)>=0&&(c[d+1]=Ay(c[d+1]))}(a,k,s,d,g),y=jg(w,b),g?a.classBindings=y:a.styleBindings=y}(h,g,a,c,y,d)}}function pm(s,a,c,d,h){let g=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(g=a[w],d=rp(d,g.hostAttrs,h),g!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function rp(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mi(s,y,!!c||a[++g]))}return void 0===s?null:s}function LE(s,a,c,d,h,g,y,w){if(!(3&a.type))return;const b=s.data,A=b[w+1];Eh(function Zf(s){return 1==(1&s)}(A)?UE(b,a,c,h,rs(A),y):void 0)||(Eh(g)||function RC(s){return 2==(2&s)}(A)&&(g=UE(b,null,c,h,w,y)),function s2(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Yn.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yn.Important),s.setStyle(c,d,h,g))}}(d,y,_s(hn(),c),h,g))}function UE(s,a,c,d,h,g){const y=null===a;let w;for(;h>0;){const b=s[h],A=Array.isArray(b),k=A?b[1]:b,Z=null===k;let W=c[h+1];W===Kt&&(W=Z?St:void 0);let re=Z?Xu(W,d):k===d?W:void 0;if(A&&!Eh(re)&&(re=Xu(b,d)),Eh(re)&&(w=re,y))return w;const Te=s[h+1];h=y?As(Te):rs(Te)}if(null!==a){let b=g?a.residualClasses:a.residualStyles;null!=b&&(w=Xu(b,d))}return w}function Eh(s){return void 0!==s}function wx(s,a){return 0!=(s.flags&(a?16:32))}function bx(s,a=""){const c=ke(),d=en(),h=s+22,g=d.firstCreatePass?Zl(d,h,1,a,null):d.data[h],y=c[h]=function M(s,a){return s.createText(a)}(c[11],a);H_(d,c,y,g),Si(g,!1)}function ZE(s){return uv("",s,""),ZE}function uv(s,a,c){const d=ke(),h=function _c(s,a,c,d){return Rt(s,ys(),c)?a+Ce(c)+d:Kt}(d,s,a,c);return h!==Kt&&pu(d,hn(),h),uv}function sp(s,a,c,d,h){const g=ke(),y=yh(g,s,a,c,d,h);return y!==Kt&&pu(g,hn(),y),sp}function lv(s,a,c){const d=ke();if(Rt(d,ys(),a)){const g=en(),y=An();Ro(g,y,d,s,a,function Oi(s,a,c){return(null===s||Ii(s))&&(c=function Gs(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[a.index])),c[11]}(tl(g.data),y,d),c,!0)}return lv}const Wl=void 0;var Vx=["en",[["a","p"],["AM","PM"],Wl],[["AM","PM"],Wl,Wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wl,"{1} 'at' {0}",Wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ux(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Jl={};function dp(s){const a=function Bx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=hp(a);if(c)return c;const d=a.split("-")[0];if(c=hp(d),c)return c;if("en"===d)return Vx;throw new xe(701,!1)}function ym(s){return dp(s)[Ut.PluralCase]}function hp(s){return s in Jl||(Jl[s]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[s]),Jl[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Yl="en-US";let dv=Yl;function yv(s,a,c,d,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)yv(s[g],a,c,d,h);else{const g=en(),y=ke();let w=Fl(s)?s:Q(s.provide),b=cC(s);const A=Wn(),k=1048575&A.providerIndexes,Z=A.directiveStart,W=A.providerIndexes>>20;if(Fl(s)||!s.multi){const re=new zs(b,h,fu),Te=Dv(w,a,h?k:k+W,Z);-1===Te?(Jo(Js(A,y),g,w),vv(g,s,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(re),y.push(re)):(c[Te]=re,y[Te]=re)}else{const re=Dv(w,a,k+W,Z),Te=Dv(w,a,k,k+W),je=re>=0&&c[re],Xe=Te>=0&&c[Te];if(h&&!Xe||!h&&!je){Jo(Js(A,y),g,w);const _t=function $2(s,a,c,d,h){const g=new zs(s,c,fu);return g.multi=[],g.index=a,g.componentProviders=0,bw(g,h,d&&!c),g}(h?Tw:hI,c.length,h,d,b);!h&&Xe&&(c[Te].providerFactory=_t),vv(g,s,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(_t),y.push(_t)}else vv(g,s,re>-1?re:Te,bw(c[h?Te:re],b,!h&&d));!h&&d&&Xe&&c[Te].componentProviders++}}}function vv(s,a,c,d){const h=Fl(a),g=function yT(s){return!!s.useClass}(a);if(h||g){const b=(g?Q(a.useClass):a).prototype.ngOnDestroy;if(b){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=A.indexOf(c);-1===k?A.push(c,[d,b]):A[k+1].push(d,b)}else A.push(c,b)}}}function bw(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Dv(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function hI(s,a,c,d){return Cv(this.multi,[])}function Tw(s,a,c,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Yo(c,c[1],this.providerFactory.index,d);g=w.slice(0,y),Cv(h,g);for(let b=y;b<w.length;b++)g.push(w[b])}else g=[],Cv(h,g);return g}function Cv(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function xw(s,a=[]){return c=>{c.providersResolver=(d,h)=>function ww(s,a,c){const d=en();if(d.firstCreatePass){const h=Ii(s);yv(c,d.data,d.blueprint,h,!0),yv(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Du{}class Iw{}function fI(s,a){return new Ev(s,a??null)}class Ev extends Du{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const d=Je(a);this._bootstrapComponents=ga(d.bootstrap),this._r3Injector=Vg(a,c,[{provide:Du,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Sm extends Iw{constructor(a){super(),this.moduleType=a}create(a){return new Ev(this.moduleType,a)}}class wv extends Du{constructor(a,c,d){super(),this.componentFactoryResolver=new Zy(this),this.instance=null;const h=new DT([...a,{provide:Du,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],c||Ng(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function ln(s,a,c=null){return new wv(s,a,c).injector}let Yi=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=ry(0,c.type),h=d.length>0?ln([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Me({token:s,providedIn:"environment",factory:()=>new s(ur(Ll))}),s})();function Ec(s){s.getStandaloneInjector=a=>a.get(Yi).getOrCreateStandaloneInjector(s)}function td(s,a,c,d){return function kw(s,a,c,d,h,g){const y=a+c;return Rt(s,y,h)?Fo(s,y+1,g?d.call(g,h):d(h)):nd(s,y+1)}(ke(),hi(),s,a,c,d)}function Ht(s,a,c,d,h){return function Nw(s,a,c,d,h,g,y){const w=a+c;return Ns(s,w,h,g)?Fo(s,w+2,y?d.call(y,h,g):d(h,g)):nd(s,w+2)}(ke(),hi(),s,a,c,d,h)}function nd(s,a){const c=s[a];return c===Kt?void 0:c}function Mv(s){return a=>{setTimeout(s,void 0,a)}}const Ca=class Sv extends i.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,g=c||(()=>null),y=d;if(a&&"object"==typeof a){const b=a;h=b.next?.bind(b),g=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(g=Mv(g),h&&(h=Mv(h)),y&&(y=Mv(y)));const w=super.subscribe({next:h,error:g,complete:y});return a instanceof j.w0&&a.add(w),w}};function Rw(){return this._results[mc()]()}class kv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=mc(),d=kv.prototype;d[c]||(d[c]=Rw)}get changes(){return this._changes||(this._changes=new Ca)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=Ir(a);(this._changesDetected=!function Yu(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=a[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _p=(()=>{class s{}return s.__NG_ELEMENT_ID__=Om,s})();const yp=_p,Fw=class extends yp{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,h=$g(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),ph(d,h,a),new Lr(h)}};function Om(){return vp(Wn(),ke())}function vp(s,a){return 4&s.type?new Fw(a,s,lh(s,a)):null}let Rm=(()=>{class s{}return s.__NG_ELEMENT_ID__=TI,s})();function TI(){return Pv(Wn(),ke())}const xI=Rm,Lw=class extends xI{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return lh(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const a=za(this._hostTNode,this._hostLView);if(al(a)){const c=ho(a,this._hostLView),d=Ga(a);return new Xs(c[1].data[d+8],c)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Nv(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=a.createEmbeddedView(c||{},g);return this.insert(y,h),y}createComponent(a,c,d,h,g){const y=a&&!function ki(s){return"function"==typeof s}(a);let w;if(y)w=c;else{const Z=c||{};w=Z.index,d=Z.injector,h=Z.projectableNodes,g=Z.environmentInjector||Z.ngModuleRef}const b=y?a:new Yf(O(a)),A=d||this.parentInjector;if(!g&&null==b.ngModule){const W=(y?A:this.parentInjector).get(Ll,null);W&&(g=W)}const k=b.create(A,h,void 0,g);return this.insert(k.hostView,w),k}insert(a,c){const d=a._lView,h=d[1];if(function Ra(s){return Gr(s[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const Z=d[3],W=new Lw(Z,Z[6],Z[3]);W.detach(W.indexOf(a))}}const g=this._adjustIndex(c),y=this._lContainer;!function Ki(s,a,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=a),d<g-10?(a[4]=c[h],fl(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function ha(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(h,d,y,g);const w=q_(g,y),b=d[11],A=lc(b,y[7]);return null!==A&&function nt(s,a,c,d,h,g){d[0]=h,d[6]=a,Ni(s,d,c,1,h,g)}(h,y[6],b,d,A,w),a.attachToViewContainerRef(),fl(Dp(y),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Nv(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Tf(this._lContainer,c);d&&(Xa(Dp(this._lContainer),c),cc(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Tf(this._lContainer,c);return d&&null!=Xa(Dp(this._lContainer),c)?new Lr(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function Nv(s){return s[8]}function Dp(s){return s[8]||(s[8]=[])}function Pv(s,a){let c;const d=a[s.index];if(Gr(d))c=d;else{let h;if(8&s.type)h=xn(d);else{const g=a[11];h=g.createComment("");const y=di(s,a);Is(g,lc(g,y),h,function o2(s,a){return s.nextSibling(a)}(g,y),!1)}a[s.index]=c=nE(d,a,h,s),Kf(a,c)}return new Lw(c,s,a)}class Rv{constructor(a){this.queryList=a,this.matches=null}clone(){return new Rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const y=c.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Cp(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==qv(a,c).matches&&this.queries[c].setDirty()}}class Lm{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Fv{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Fv(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Ep{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Ep(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,c,Lv(c,g)),this.matchTNodeWithReadOption(a,c,Qs(c,a,g,!1,!1))}else d===_p?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Qs(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Pf||h===Rm||h===_p&&4&c.type)this.addMatch(c.index,-2);else{const g=Qs(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Lv(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Vv(s,a,c,d){return-1===c?function Uv(s,a){return 11&s.type?lh(s,a):4&s.type?vp(s,a):null}(a,s):-2===c?function II(s,a,c){return c===Pf?lh(a,s):c===_p?vp(a,s):c===Rm?Pv(a,s):void 0}(s,a,d):Yo(s,s[1],c,a)}function Vw(s,a,c,d){const h=a[19].queries[d];if(null===h.matches){const g=s.data,y=c.matches,w=[];for(let b=0;b<y.length;b+=2){const A=y[b];w.push(A<0?null:Vv(a,g[A],y[b+1],c.metadata.read))}h.matches=w}return h.matches}function Zv(s,a,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const y=Vw(s,a,h,c);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)d.push(y[w/2]);else{const A=g[w+1],k=a[-b];for(let Z=10;Z<k.length;Z++){const W=k[Z];W[17]===W[3]&&Zv(W[1],W,A,d)}if(null!==k[9]){const Z=k[9];for(let W=0;W<Z.length;W++){const re=Z[W];Zv(re[1],re,A,d)}}}}}return d}function wp(s){const a=ke(),c=en(),d=$s();ti(d+1);const h=qv(c,d);if(s.dirty&&function Jc(s){return 4==(4&s[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Zv(c,a,d,[]):Vw(c,a,h,d);s.reset(g,kT),s.notifyOnChanges()}return!0}return!1}function jv(s,a,c,d){const h=en();if(h.firstCreatePass){const g=Wn();(function Gv(s,a,c){null===s.queries&&(s.queries=new Fv),s.queries.track(new Ep(a,c))})(h,new Lm(a,c,d),g.index),function AI(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function Vm(s,a,c){const d=new kv(4==(4&c));Hf(s,a,d,d.destroy),null===a[19]&&(a[19]=new Cp),a[19].queries.push(new Rv(d))}(h,ke(),c)}function Um(){return function Hv(s,a){return s[19].queries[a].queryList}(ke(),$s())}function qv(s,a){return s.queries.getByIndex(a)}function jm(...s){}const Ww=new yn("Application Initializer");let Hm=(()=>{class s{constructor(c){this.appInits=c,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(um(g))c.push(g);else if(zl(g)){const y=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(ur(Ww,8))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Jw=new yn("AppId",{providedIn:"root",factory:function Yw(){return`${Xv()}${Xv()}${Xv()}`}});function Xv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qw=new yn("Platform Initializer"),tA=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xw=new yn("appBootstrapListener"),nA=new yn("AnimationModuleType");let rA=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const e0=new yn("LocaleId",{providedIn:"root",factory:()=>yl(e0,ct.Optional|ct.SkipSelf)||function uN(){return typeof $localize<"u"&&$localize.locale||Yl}()}),iA=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let sA=(()=>{class s{compileModuleSync(c){return new Sm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=ga(Je(c).declarations).reduce((y,w)=>{const b=O(w);return b&&y.push(new Yf(b)),y},[]);return new eb(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cA=(()=>Promise.resolve(0))();function n0(s){typeof Zone>"u"?cA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ls{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dN(){let s=nn.requestAnimationFrame,a=nn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Gm(s){const a=()=>{!function lA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,r0(s),s.isCheckStableRunning=!0,rb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),r0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,y,w)=>{try{return ib(s),c.invokeTask(h,g,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),dA(s)}},onInvoke:(c,d,h,g,y,w,b)=>{try{return ib(s),c.invoke(h,g,y,w,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),dA(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,r0(s),rb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new xe(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,hN,jm,jm);try{return g.runTask(y,c,d)}finally{g.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const hN={};function rb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function r0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ib(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function dA(s){s._nesting--,rb(s)}class ob{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const qm=new yn(""),o0=new yn("");let s0,fN=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s0||(function hA(s){s0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(ur(Ls),ur($m),ur(o0))},s.\u0275prov=Me({token:s,factory:s.\u0275fac}),s})(),$m=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return s0?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),rd=null;const fA=new yn("AllowMultipleToken"),a0=new yn("PlatformDestroyListeners");class mN{constructor(a,c){this.name=a,this.token=c}}function gA(s,a,c=[]){const d=`Platform: ${a}`,h=new yn(d);return(g=[])=>{let y=sb();if(!y||y.injector.get(fA,!1)){const w=[...c,...g,{provide:h,useValue:!0}];s?s(w):function _N(s){if(rd&&!rd.get(fA,!1))throw new xe(400,!1);rd=s;const a=s.get(_A);(function pA(s){const a=s.get(Qw,null);a&&a.forEach(c=>c())})(s)}(function mA(s=[],a){return Vl.create({name:a,providers:[{provide:iy,useValue:"platform"},{provide:a0,useValue:new Set([()=>rd=null])},...s]})}(w,d))}return function vN(s){const a=sb();if(!a)throw new xe(401,!1);return a}()}}function sb(){return rd?.get(_A)??null}let _A=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function vA(s,a){let c;return c="noop"===s?new ob:("zone.js"===s?void 0:s)||new Ls(a),c}(d?.ngZone,function yA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Ls,useValue:h}];return h.run(()=>{const y=Vl.create({providers:g,parent:this.injector,name:c.moduleType.name}),w=c.create(y),b=w.injector.get(Di,null);if(!b)throw new xe(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{b.handleError(k)}});w.onDestroy(()=>{c0(this._modules,w),A.unsubscribe()})}),function DA(s,a,c){try{const d=c();return um(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(b,h,()=>{const A=w.injector.get(Hm);return A.runInitializers(),A.donePromise.then(()=>(function QE(s){se(s,"Expected localeId to be defined"),"string"==typeof s&&(dv=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(e0,Yl)||Yl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const h=CA({},d);return function pN(s,a,c){const d=new Sm(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(u0);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new xe(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(a0,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(ur(Vl))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function CA(s,a){return Array.isArray(a)?a.reduce(CA,s):{...s,...a}}let u0=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new R.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(g,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof lC;if(!this._injector.get(Hm).done)throw!h&&Ee(c),new xe(405,false);let y;y=h?c:this._injector.get(Nf).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function gN(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Du),A=y.create(Vl.NULL,[],d||y.selector,w),k=A.location.nativeElement,Z=A.injector.get(qm,null);return Z?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),c0(this.components,A),Z?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;c0(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Xw,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>c0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new xe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(ur(Ls),ur(Ll),ur(Di))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function c0(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let wA=!0,bA=!1;function CN(){return bA=!0,wA}function EN(){if(bA)throw new Error("Cannot enable prod mode after platform setup.");wA=!1}let wN=(()=>{class s{}return s.__NG_ELEMENT_ID__=bN,s})();function bN(s){return function TN(s,a,c){if(To(s)&&!c){const d=kr(s.index,a);return new Lr(d,d)}return 47&s.type?new Lr(a[16],a):null}(Wn(),ke(),16==(16&s))}class h0{constructor(){}supports(a){return Qf(a)}create(a){return new AA(a)}}const db=(s,a)=>a;class AA{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||db}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const y=!d||c&&c.currentIndex<Ln(d,h,g)?c:d,w=Ln(y,h,g),b=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{g||(g=[]);const A=w-h,k=b-h;if(A!=k){for(let W=0;W<A;W++){const re=W<g.length?g[W]:g[W]=0,Te=re+W;k<=Te&&Te<A&&(g[W]=re+1)}g[y.previousIndex]=k-A}}w!==b&&a(y,w,b)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Qf(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],y=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,g,y,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,w),d=!0),c=c._next}else h=0,function px(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[mc()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new SA(c,d),g,h),a}_verifyReinsertion(a,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new nr),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nr),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class SA{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class nr{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new MA,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ln(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class zm{constructor(){}supports(a){return a instanceof Map||om(a)}create(){return new f0}}class f0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||om(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new kA(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class kA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new p0([new h0])}let p0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||hb()),deps:[[s,new na,new Mo]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:hb}),s})();function fb(){return new Km([new zm])}let Km=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||fb()),deps:[[s,new na,new Mo]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new xe(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:fb}),s})();const gb=gA(null,"core",[]);let PA=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(ur(u0))},s.\u0275mod=vr({type:s}),s.\u0275inj=xt({}),s})();function OA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Et,Oe,V)=>{V.d(Oe,{Z:()=>xe});var i=V(2090),j=V(4859),R=V(6881),oe=V(1877);class de{constructor(Ce,ye){this._delegate=Ce,this.firebase=ye,(0,R._addComponent)(Ce,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ce,ye=R._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ce);return!pt.isInitialized()&&"EXPLICIT"===(null===(yt=pt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:ye})}_removeServiceInstance(Ce,ye=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ye)}_addComponent(Ce){(0,R._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,R._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function De(){const it=function ve(it){const Ce={},ye={__esModule:!0,initializeApp:function Ae(ze,le={}){const Ye=R.initializeApp(ze,le);if((0,i.r3)(Ce,Ye.name))return Ce[Ye.name];const At=new it(Ye,ye);return Ce[Ye.name]=At,At},app:pt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Se(ze){const le=ze.name,Ye=le.replace("-compat","");if(R._registerComponent(ze)&&"PUBLIC"===ze.type){const At=(gt=pt())=>{if("function"!=typeof gt[Ye])throw pe.create("invalid-app-argument",{appName:le});return gt[Ye]()};void 0!==ze.serviceProps&&(0,i.ZB)(At,ze.serviceProps),ye[Ye]=At,it.prototype[Ye]=function(...gt){return this._getService.bind(this,le).apply(this,ze.multipleInstances?gt:[])}}return"PUBLIC"===ze.type?ye[Ye]:null},removeApp:function yt(ze){delete Ce[ze]},useAsService:function $e(ze,le){return"serverAuth"===le?null:le},modularAPIs:R}};function pt(ze){if(!(0,i.r3)(Ce,ze=ze||R._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ze});return Ce[ze]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function be(){return Object.keys(Ce).map(ze=>Ce[ze])}}),pt.App=it,ye}(de);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Ce(ye){(0,i.ZB)(it,ye)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),it}(),q=new oe.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=z;!function Pe(it){(0,R.registerVersion)("@firebase/app-compat","0.2.13",it)}()},6881:(Et,Oe,V)=>{V.r(Oe),V.d(Oe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>uo,_DEFAULT_ENTRY_NAME:()=>Yr,_addComponent:()=>dt,_addOrOverwriteComponent:()=>bt,_apps:()=>Mn,_clearComponents:()=>ir,_components:()=>$t,_getProvider:()=>Qr,_registerComponent:()=>nn,_removeServiceInstance:()=>yr,deleteApp:()=>er,getApp:()=>Bn,getApps:()=>wn,initializeApp:()=>sn,onLog:()=>tr,registerVersion:()=>Xr,setLogLevel:()=>xi});var i=V(5861),j=V(4859),R=V(1877),oe=V(2090);let _e,pe;const z=new WeakMap,q=new WeakMap,Q=new WeakMap,He=new WeakMap,Pe=new WeakMap;let Ce={get(ue,ie,Le){if(ue instanceof IDBTransaction){if("done"===ie)return q.get(ue);if("objectStoreNames"===ie)return ue.objectStoreNames||Q.get(ue);if("store"===ie)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Ae(ue[ie])},set:(ue,ie,Le)=>(ue[ie]=Le,!0),has:(ue,ie)=>ue instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in ue};function pt(ue){return"function"==typeof ue?function yt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ie){return ue.apply(be(this),ie),Ae(z.get(this))}:function(...ie){return Ae(ue.apply(be(this),ie))}:function(ie,...Le){const Ue=ue.call(be(this),ie,...Le);return Q.set(Ue,ie.sort?ie.sort():[ie]),Ae(Ue)}}(ue):(ue instanceof IDBTransaction&&function it(ue){if(q.has(ue))return;const ie=new Promise((Le,Ue)=>{const Mt=()=>{ue.removeEventListener("complete",jt),ue.removeEventListener("error",gn),ue.removeEventListener("abort",gn)},jt=()=>{Le(),Mt()},gn=()=>{Ue(ue.error||new DOMException("AbortError","AbortError")),Mt()};ue.addEventListener("complete",jt),ue.addEventListener("error",gn),ue.addEventListener("abort",gn)});q.set(ue,ie)}(ue),((ue,ie)=>ie.some(Le=>ue instanceof Le))(ue,function ve(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ce):ue)}function Ae(ue){if(ue instanceof IDBRequest)return function xe(ue){const ie=new Promise((Le,Ue)=>{const Mt=()=>{ue.removeEventListener("success",jt),ue.removeEventListener("error",gn)},jt=()=>{Le(Ae(ue.result)),Mt()},gn=()=>{Ue(ue.error),Mt()};ue.addEventListener("success",jt),ue.addEventListener("error",gn)});return ie.then(Le=>{Le instanceof IDBCursor&&z.set(Le,ue)}).catch(()=>{}),Pe.set(ie,ue),ie}(ue);if(He.has(ue))return He.get(ue);const ie=pt(ue);return ie!==ue&&(He.set(ue,ie),Pe.set(ie,ue)),ie}const be=ue=>Pe.get(ue),ze=["get","getKey","getAll","getAllKeys","count"],le=["put","add","delete","clear"],Ye=new Map;function At(ue,ie){if(!(ue instanceof IDBDatabase)||ie in ue||"string"!=typeof ie)return;if(Ye.get(ie))return Ye.get(ie);const Le=ie.replace(/FromIndex$/,""),Ue=ie!==Le,Mt=le.includes(Le);if(!(Le in(Ue?IDBIndex:IDBObjectStore).prototype)||!Mt&&!ze.includes(Le))return;const jt=function(){var gn=(0,i.Z)(function*(jn,...Qt){const Hr=this.transaction(jn,Mt?"readwrite":"readonly");let Hi=Hr.store;return Ue&&(Hi=Hi.index(Qt.shift())),(yield Promise.all([Hi[Le](...Qt),Mt&&Hr.done]))[0]});return function(Qt){return gn.apply(this,arguments)}}();return Ye.set(ie,jt),jt}!function ye(ue){Ce=ue(Ce)}(ue=>({...ue,get:(ie,Le,Ue)=>At(ie,Le)||ue.get(ie,Le,Ue),has:(ie,Le)=>!!At(ie,Le)||ue.has(ie,Le)}));class gt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function qt(ue){return"VERSION"===ue.getComponent()?.type}(Le)){const Ue=Le.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Le=>Le).join(" ")}}const lt="@firebase/app",gr=new R.Yd("@firebase/app"),Yr="[DEFAULT]",On={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,$t=new Map;function dt(ue,ie){try{ue.container.addComponent(ie)}catch(Le){gr.debug(`Component ${ie.name} failed to register with FirebaseApp ${ue.name}`,Le)}}function bt(ue,ie){ue.container.addOrOverwriteComponent(ie)}function nn(ue){const ie=ue.name;if($t.has(ie))return gr.debug(`There were multiple attempts to register component ${ie}.`),!1;$t.set(ie,ue);for(const Le of Mn.values())dt(Le,ue);return!0}function Qr(ue,ie){const Le=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ue.container.getProvider(ie)}function yr(ue,ie,Le=Yr){Qr(ue,ie).clearInstance(Le)}function ir(){$t.clear()}const zn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zt{constructor(ie,Le,Ue){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const uo="9.23.0";function sn(ue,ie={}){let Le=ue;"object"!=typeof ie&&(ie={name:ie});const Ue=Object.assign({name:Yr,automaticDataCollectionEnabled:!1},ie),Mt=Ue.name;if("string"!=typeof Mt||!Mt)throw zn.create("bad-app-name",{appName:String(Mt)});if(Le||(Le=(0,oe.aH)()),!Le)throw zn.create("no-options");const jt=Mn.get(Mt);if(jt){if((0,oe.vZ)(Le,jt.options)&&(0,oe.vZ)(Ue,jt.config))return jt;throw zn.create("duplicate-app",{appName:Mt})}const gn=new j.H0(Mt);for(const Qt of $t.values())gn.addComponent(Qt);const jn=new zt(Le,Ue,gn);return Mn.set(Mt,jn),jn}function Bn(ue=Yr){const ie=Mn.get(ue);if(!ie&&ue===Yr&&(0,oe.aH)())return sn();if(!ie)throw zn.create("no-app",{appName:ue});return ie}function wn(){return Array.from(Mn.values())}function er(ue){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,i.Z)(function*(ue){const ie=ue.name;Mn.has(ie)&&(Mn.delete(ie),yield Promise.all(ue.container.getProviders().map(Le=>Le.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Xr(ue,ie,Le){var Ue;let Mt=null!==(Ue=On[ue])&&void 0!==Ue?Ue:ue;Le&&(Mt+=`-${Le}`);const jt=Mt.match(/\s|\//),gn=ie.match(/\s|\//);if(jt||gn){const jn=[`Unable to register library "${Mt}" with version "${ie}":`];return jt&&jn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),jt&&gn&&jn.push("and"),gn&&jn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void gr.warn(jn.join(" "))}nn(new j.wA(`${Mt}-version`,()=>({library:Mt,version:ie}),"VERSION"))}function tr(ue,ie){if(null!==ue&&"function"!=typeof ue)throw zn.create("invalid-log-argument");(0,R.Am)(ue,ie)}function xi(ue){(0,R.Ub)(ue)}const G="firebase-heartbeat-store";let H=null;function F(){return H||(H=function Se(ue,ie,{blocked:Le,upgrade:Ue,blocking:Mt,terminated:jt}={}){const gn=indexedDB.open(ue,ie),jn=Ae(gn);return Ue&&gn.addEventListener("upgradeneeded",Qt=>{Ue(Ae(gn.result),Qt.oldVersion,Qt.newVersion,Ae(gn.transaction),Qt)}),Le&&gn.addEventListener("blocked",Qt=>Le(Qt.oldVersion,Qt.newVersion,Qt)),jn.then(Qt=>{jt&&Qt.addEventListener("close",()=>jt()),Mt&&Qt.addEventListener("versionchange",Hr=>Mt(Hr.oldVersion,Hr.newVersion,Hr))}).catch(()=>{}),jn}("firebase-heartbeat-database",1,{upgrade:(ue,ie)=>{0===ie&&ue.createObjectStore(G)}}).catch(ue=>{throw zn.create("idb-open",{originalErrorMessage:ue.message})})),H}function N(){return(N=(0,i.Z)(function*(ue){try{return yield(yield F()).transaction(G).objectStore(G).get(Je(ue))}catch(ie){if(ie instanceof oe.ZR)gr.warn(ie.message);else{const Le=zn.create("idb-get",{originalErrorMessage:ie?.message});gr.warn(Le.message)}}})).apply(this,arguments)}function J(ue,ie){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,i.Z)(function*(ue,ie){try{const Ue=(yield F()).transaction(G,"readwrite");yield Ue.objectStore(G).put(ie,Je(ue)),yield Ue.done}catch(Le){if(Le instanceof oe.ZR)gr.warn(Le.message);else{const Ue=zn.create("idb-set",{originalErrorMessage:Le?.message});gr.warn(Ue.message)}}})).apply(this,arguments)}function Je(ue){return`${ue.name}!${ue.options.appId}`}class tt{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ft(Le),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var ie=this;return(0,i.Z)(function*(){const Ue=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=at();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ie._heartbeatsCache.heartbeats.some(jt=>jt.date===Mt))return ie._heartbeatsCache.heartbeats.push({date:Mt,agent:Ue}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(jt=>{const gn=new Date(jt.date).valueOf();return Date.now()-gn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,i.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Le=at(),{heartbeatsToSend:Ue,unsentEntries:Mt}=function Yt(ue,ie=1024){const Le=[];let Ue=ue.slice();for(const Mt of ue){const jt=Le.find(gn=>gn.agent===Mt.agent);if(jt){if(jt.dates.push(Mt.date),an(Le)>ie){jt.dates.pop();break}}else if(Le.push({agent:Mt.agent,dates:[Mt.date]}),an(Le)>ie){Le.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ue}}(ie._heartbeatsCache.heartbeats),jt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ue}));return ie._heartbeatsCache.lastSentHeartbeatDate=Le,Mt.length>0?(ie._heartbeatsCache.heartbeats=Mt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),jt})()}}function at(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,i.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function O(ue){return N.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const jt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:jt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Le=this;return(0,i.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const jt=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...ie.heartbeats]})}})()}}function an(ue){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function jr(ue){nn(new j.wA("platform-logger",ie=>new gt(ie),"PRIVATE")),nn(new j.wA("heartbeat",ie=>new tt(ie),"PRIVATE")),Xr(lt,"0.9.13",ue),Xr(lt,"0.9.13","esm2017"),Xr("fire-js","")}("")},4859:(Et,Oe,V)=>{V.d(Oe,{H0:()=>ve,wA:()=>R});var i=V(5861),j=V(2090);class R{constructor(z,q,Q){this.name=z,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class de{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const Q=new j.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:q});He&&Q.resolve(He)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const Q=this.normalizeInstanceIdentifier(z?.identifier),He=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Pe){if(He)return null;throw Pe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function pe(De){return"EAGER"===De.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[q,Q]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(q);try{const Pe=this.getOrInitializeService({instanceIdentifier:He});Q.resolve(Pe)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,i.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[Pe,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Pe)&&xe.resolve(He);return He}onInit(z,q){var Q;const He=this.normalizeInstanceIdentifier(q),Pe=null!==(Q=this.onInitCallbacks.get(He))&&void 0!==Q?Q:new Set;Pe.add(z),this.onInitCallbacks.set(He,Pe);const xe=this.instances.get(He);return xe&&z(xe,He),()=>{Pe.delete(z)}}invokeOnInitCallbacks(z,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const He of Q)try{He(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(De=z,De===oe?void 0:De),options:q}),this.instances.set(z,Q),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var De;return Q||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new de(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Oe,V)=>{V.d(Oe,{Am:()=>De,Ub:()=>ve,Yd:()=>pe,in:()=>j});const i=[];var j=(()=>{return(z=j||(j={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",j;var z})();const R={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,de={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},_e=(z,q,...Q)=>{if(q<z.logLevel)return;const He=(new Date).toISOString(),Pe=de[q];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Pe](`[${He}]  ${z.name}:`,...Q)};class pe{constructor(q){this.name=q,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?R[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function ve(z){i.forEach(q=>{q.setLogLevel(z)})}function De(z,q){for(const Q of i){let He=null;q&&q.level&&(He=R[q.level]),Q.userLogHandler=null===z?null:(Pe,xe,...it)=>{const Ce=it.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");xe>=(He??Pe.logLevel)&&z({level:j[xe].toLowerCase(),message:Ce,args:it,type:Pe.name})}}}},259:(Et,Oe,V)=>{V.d(Oe,{C6:()=>i.getApps,KN:()=>i.registerVersion,Mq:()=>i.getApp,ZF:()=>i.initializeApp});var i=V(6881);(0,i.registerVersion)("firebase","9.23.0","app")},9260:(Et,Oe,V)=>{V.d(Oe,{Z:()=>i.Z});var i=V(3942);i.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Et,Oe,V)=>{V.r(Oe);var i=V(5861),j=V(3942),R=V(1389),oe=V(2090),pe=(V(6881),V(1877),V(4859));function ve(){return window}function q(){return(q=(0,i.Z)(function*(F,O,N){var J;const{BuildInfo:Ee}=ve();(0,R.as)(O.sessionId,"AuthEvent did not contain a session ID");const Je=yield ye(O.sessionId),mt={};return(0,R.at)()?mt.ibi=Ee.packageName:(0,R.au)()?mt.apn=Ee.packageName:(0,R.av)(F,"operation-not-supported-in-this-environment"),Ee.displayName&&(mt.appDisplayName=Ee.displayName),mt.sessionId=Je,(0,R.aw)(F,N,O.type,void 0,null!==(J=O.eventId)&&void 0!==J?J:void 0,mt)})).apply(this,arguments)}function He(){return(He=(0,i.Z)(function*(F){const{BuildInfo:O}=ve(),N={};(0,R.at)()?N.iosBundleId=O.packageName:(0,R.au)()?N.androidPackageName=O.packageName:(0,R.av)(F,"operation-not-supported-in-this-environment"),yield(0,R.ax)(F,N)})).apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(F,O,N){const{cordova:J}=ve();let Ee=()=>{};try{yield new Promise((Je,mt)=>{let we=null;function tt(){var Ft;Je();const an=null===(Ft=J.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof an&&an(),"function"==typeof N?.close&&N.close()}function at(){we||(we=window.setTimeout(()=>{mt((0,R.az)(F,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===document?.visibilityState&&at()}O.addPassiveListener(tt),document.addEventListener("resume",at,!1),(0,R.au)()&&document.addEventListener("visibilitychange",Yt,!1),Ee=()=>{O.removePassiveListener(tt),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Yt,!1),we&&window.clearTimeout(we)}})}finally{Ee()}})).apply(this,arguments)}function ye(F){return yt.apply(this,arguments)}function yt(){return(yt=(0,i.Z)(function*(F){const O=pt(F),N=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(N)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(F){if((0,R.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const O=new ArrayBuffer(F.length),N=new Uint8Array(O);for(let J=0;J<F.length;J++)N[J]=F.charCodeAt(J);return N}class be extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(O)),super.onEvent(O)}initialized(){var O=this;return(0,i.Z)(function*(){yield O.initPromise})()}}function ze(F){return le.apply(this,arguments)}function le(){return(le=(0,i.Z)(function*(F){const O=yield gt()._get(qt(F));return O&&(yield gt()._remove(qt(F))),O})).apply(this,arguments)}function At(){const F=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const J=Math.floor(Math.random()*O.length);F.push(O.charAt(J))}return F.join("")}function gt(){return(0,R.aC)(R.b)}function qt(F){return(0,R.aD)("authEvent",F.config.apiKey,F.name)}function gr(F){if(!F?.includes("?"))return{};const[O,...N]=F.split("?");return(0,oe.zd)(N.join("?"))}function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function ut(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function tn(F=(0,oe.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const F=self.localStorage,O=R.aL();if(F)return F.setItem(O,"1"),F.removeItem(O),!function pn(F=(0,oe.z$)()){return function on(){return(0,oe.w1)()&&11===document?.documentMode}()||function Nn(F=(0,oe.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,oe.hl)()}catch{return Sn()&&(0,oe.hl)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function xt(){return"http:"===ut()||"https:"===ut()}()||(0,oe.ru)()||tn())&&!function kt(){return(0,oe.b$)()||(0,oe.UG)()}()&&Qn()&&!Sn()}function mr(){return tn()&&typeof document<"u"}function ct(){return(ct=(0,i.Z)(function*(){return!!mr()&&new Promise(F=>{const O=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),F(!0)})})})).apply(this,arguments)}const Xn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=R.aA,ji="persistence";function On(F){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,i.Z)(function*(F){yield F._initializationPromise;const O=dt(),N=R.aD(ji,F.config.apiKey,F.name);O&&O.setItem(N,F._getPersistence())})).apply(this,arguments)}function dt(){var F;try{return(null===(F=function _r(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const bt=R.aA;class nn{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(class ao{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){const J=O._key();let Ee=N.eventManagers.get(J);return Ee||(Ee=new be(O),N.eventManagers.set(J,Ee),N.attachCallbackListeners(O,Ee)),Ee})()}_openPopup(O){(0,R.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){!function Ce(F){var O,N,J,Ee,Je,mt,we,tt,at,Yt;const Ft=ve();(0,R.aA)("function"==typeof(null===(O=Ft?.universalLinks)||void 0===O?void 0:O.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(N=Ft?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(Je=null===(Ee=null===(J=Ft?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Je?void 0:Je.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(tt=null===(we=null===(mt=Ft?.cordova)||void 0===mt?void 0:mt.plugins)||void 0===we?void 0:we.browsertab)||void 0===tt?void 0:tt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(Yt=null===(at=Ft?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Yt?void 0:Yt.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const mt=yield Je._initialize(O);yield mt.initialized(),mt.resetRedirect(),(0,R.aG)(),yield Je._originValidation(O);const we=function Se(F,O,N=null){return{type:O,eventId:N,urlResponse:null,sessionId:At(),postBody:null,tenantId:F.tenantId,error:(0,R.az)(F,"no-auth-event")}}(O,J,Ee);yield function $e(F,O){return gt()._set(qt(F),O)}(O,we);const tt=yield function z(F,O,N){return q.apply(this,arguments)}(O,we,N),at=yield function Pe(F){const{cordova:O}=ve();return new Promise(N=>{O.plugins.browsertab.isAvailable(J=>{let Ee=null;J?O.plugins.browsertab.openUrl(F):Ee=O.InAppBrowser.open(F,(0,R.ay)()?"_blank":"_system","location=yes"),N(Ee)})})}(tt);return function xe(F,O,N){return it.apply(this,arguments)}(O,mt,at)})()}_isIframeWebStorageSupported(O,N){throw new Error("Method not implemented.")}_originValidation(O){const N=O._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Q(F){return He.apply(this,arguments)}(O)),this.originValidationPromises[N]}attachCallbackListeners(O,N){const{universalLinks:J,handleOpenURL:Ee,BuildInfo:Je}=ve(),mt=setTimeout((0,i.Z)(function*(){yield ze(O),N.onEvent(ne())}),500),we=function(){var Yt=(0,i.Z)(function*(Ft){clearTimeout(mt);const an=yield ze(O);let jr=null;an&&Ft?.url&&(jr=function Ye(F,O){var N,J;const Ee=function so(F){const O=gr(F),N=O.link?decodeURIComponent(O.link):void 0,J=gr(N).link,Ee=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return gr(Ee).link||Ee||J||N||F}(O);if(Ee.includes("/__/auth/callback")){const Je=gr(Ee),mt=Je.firebaseError?function lt(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,we=null===(J=null===(N=mt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===J?void 0:J[1],tt=we?(0,R.az)(we):null;return tt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ee,postBody:null}}return null}(an,Ft.url)),N.onEvent(jr||ne())});return function(an){return Yt.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,we);const tt=Ee,at=`${Je.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Yt=(0,i.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(at)&&we({url:Ft}),"function"==typeof tt)try{tt(Ft)}catch(an){console.error(an)}});return function(Ft){return Yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(O){var N=this;return(0,i.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(O,N,J,Ee)})()}_openRedirect(O,N,J,Ee){var Je=this;return(0,i.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(O,N,J,Ee)})()}_isIframeWebStorageSupported(O,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,N)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,i.Z)(function*(){if(O.underlyingResolver)return;const N=yield function Ti(){return ct.apply(this,arguments)}();O.underlyingResolver=N?O.cordovaResolver:O.browserResolver})()}}function Qr(F){return F.unwrap()}function ir(F){return zn(F)}function zn(F){const{_tokenResponse:O}=F instanceof oe.ZR?F.customData:F;if(!O)return null;if(!(F instanceof oe.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return R.P.credentialFromResult(F);const N=O.providerId;if(!N||N===R.p.PASSWORD)return null;let J;switch(N){case R.p.GOOGLE:J=R.V;break;case R.p.FACEBOOK:J=R.U;break;case R.p.GITHUB:J=R.W;break;case R.p.TWITTER:J=R.Z;break;default:const{oauthIdToken:Ee,oauthAccessToken:Je,oauthTokenSecret:mt,pendingToken:we,nonce:tt}=O;return Je||mt||Ee||we?we?N.startsWith("saml.")?R.aO._create(N,we):R.L._fromParams({providerId:N,signInMethod:N,pendingToken:we,idToken:Ee,accessToken:Je}):new R.X(N).credential({idToken:Ee,accessToken:Je,rawNonce:tt}):null}return F instanceof oe.ZR?J.credentialFromError(F):J.credentialFromResult(F)}function zt(F,O){return O.catch(N=>{throw N instanceof oe.ZR&&function St(F,O){var N;const J=null===(N=O.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new Bn(F,R.aq(F,O));else if(J){const Ee=zn(O),Je=O;Ee&&(Je.credential=Ee,Je.tenantId=J.tenantId||void 0,Je.email=J.email||void 0,Je.phoneNumber=J.phoneNumber||void 0)}}(F,N),N}).then(N=>{const Ee=N.user;return{operationType:N.operationType,credential:ir(N),additionalUserInfo:R.ao(N),user:wn.getOrCreate(Ee)}})}function uo(F,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(F,O){const N=yield O;return{verificationId:N.verificationId,confirm:J=>zt(F,N.confirm(J))}})).apply(this,arguments)}class Bn{constructor(O,N){this.resolver=N,this.auth=function yr(F){return F.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return zt(Qr(this.auth),this.resolver.resolveSignIn(O))}}class wn{constructor(O){this._delegate=O,this.multiFactor=R.ar(O)}static getOrCreate(O){return wn.USER_MAP.has(O)||wn.USER_MAP.set(O,new wn(O)),wn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a0(N._delegate,O))})()}linkWithPhoneNumber(O,N){var J=this;return(0,i.Z)(function*(){return uo(J.auth,R.l(J._delegate,O,N))})()}linkWithPopup(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.d(N._delegate,O,nn))})()}linkWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.g(N._delegate,O,nn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var N=this;return(0,i.Z)(function*(){return zt(N.auth,R.a1(N._delegate,O))})()}reauthenticateWithPhoneNumber(O,N){return uo(this.auth,R.r(this._delegate,O,N))}reauthenticateWithPopup(O){return zt(this.auth,R.e(this._delegate,O,nn))}reauthenticateWithRedirect(O){var N=this;return(0,i.Z)(function*(){return yield On(R.aH(N.auth)),R.h(N._delegate,O,nn)})()}sendEmailVerification(O){return R.ae(this._delegate,O)}unlink(O){var N=this;return(0,i.Z)(function*(){return yield R.an(N._delegate,O),N})()}updateEmail(O){return R.aj(this._delegate,O)}updatePassword(O){return R.ak(this._delegate,O)}updatePhoneNumber(O){return R.u(this._delegate,O)}updateProfile(O){return R.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,N){return R.af(this._delegate,O,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wn.USER_MAP=new WeakMap;const er=R.aA;let Pn=(()=>{class F{constructor(N,J){if(this.app=N,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=N.options;er(Ee,"invalid-api-key",{appName:N.name}),er(Ee,"invalid-api-key",{appName:N.name});const Je=typeof window<"u"?nn:void 0;this._delegate=J.initialize({options:{persistence:tr(Ee,N.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,J){R.I(this._delegate,N,J)}applyActionCode(N){return R.a5(this._delegate,N)}checkActionCode(N){return R.a6(this._delegate,N)}confirmPasswordReset(N,J){return R.a4(this._delegate,N,J)}createUserWithEmailAndPassword(N,J){var Ee=this;return(0,i.Z)(function*(){return zt(Ee._delegate,R.a8(Ee._delegate,N,J))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.ad(this._delegate,N)}isSignInWithEmailLink(N){return R.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,i.Z)(function*(){er(Zn(),N._delegate,"operation-not-supported-in-this-environment");const J=yield R.j(N._delegate,nn);return J?zt(N._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ie(F,O){(0,R.aH)(F)._logFramework(O)}(this._delegate,N)}onAuthStateChanged(N,J,Ee){const{next:Je,error:mt,complete:we}=Xr(N,J,Ee);return this._delegate.onAuthStateChanged(Je,mt,we)}onIdTokenChanged(N,J,Ee){const{next:Je,error:mt,complete:we}=Xr(N,J,Ee);return this._delegate.onIdTokenChanged(Je,mt,we)}sendSignInLinkToEmail(N,J){return R.aa(this._delegate,N,J)}sendPasswordResetEmail(N,J){return R.a3(this._delegate,N,J||void 0)}setPersistence(N){var J=this;return(0,i.Z)(function*(){let Ee;switch(function Yr(F,O){$n(Object.values(Xn).includes(O),F,"invalid-persistence-type"),(0,oe.b$)()?$n(O!==Xn.SESSION,F,"unsupported-persistence-type"):(0,oe.UG)()?$n(O===Xn.NONE,F,"unsupported-persistence-type"):Sn()?$n(O===Xn.NONE||O===Xn.LOCAL&&(0,oe.hl)(),F,"unsupported-persistence-type"):$n(O===Xn.NONE||Qn(),F,"unsupported-persistence-type")}(J._delegate,N),N){case Xn.SESSION:Ee=R.a;break;case Xn.LOCAL:Ee=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Xn.NONE:Ee=R.N;break;default:return R.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return zt(this._delegate,R._(this._delegate))}signInWithCredential(N){return zt(this._delegate,R.$(this._delegate,N))}signInWithCustomToken(N){return zt(this._delegate,R.a2(this._delegate,N))}signInWithEmailAndPassword(N,J){return zt(this._delegate,R.a9(this._delegate,N,J))}signInWithEmailLink(N,J){return zt(this._delegate,R.ac(this._delegate,N,J))}signInWithPhoneNumber(N,J){return uo(this._delegate,R.s(this._delegate,N,J))}signInWithPopup(N){var J=this;return(0,i.Z)(function*(){return er(Zn(),J._delegate,"operation-not-supported-in-this-environment"),zt(J._delegate,R.c(J._delegate,N,nn))})()}signInWithRedirect(N){var J=this;return(0,i.Z)(function*(){return er(Zn(),J._delegate,"operation-not-supported-in-this-environment"),yield On(J._delegate),R.f(J._delegate,N,nn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Xn,F})();function Xr(F,O,N){let J=F;"function"!=typeof F&&({next:J,error:O,complete:N}=F);const Ee=J;return{next:mt=>Ee(mt&&wn.getOrCreate(mt)),error:O,complete:N}}function tr(F,O){const N=function $t(F,O){const N=dt();if(!N)return[];const J=R.aD(ji,F,O);switch(N.getItem(J)){case Xn.NONE:return[R.N];case Xn.LOCAL:return[R.i,R.a];case Xn.SESSION:return[R.a];default:return[]}}(F,O);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const J of[R.b,R.a])N.includes(J)||N.push(J);return N.includes(R.N)||N.push(R.N),N}class xi{constructor(){this.providerId="phone",this._delegate=new R.P(Qr(j.Z.auth()))}static credential(O,N){return R.P.credential(O,N)}verifyPhoneNumber(O,N){return this._delegate.verifyPhoneNumber(O,N)}unwrap(){return this._delegate}}xi.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,xi.PROVIDER_ID=R.P.PROVIDER_ID;const vr=R.aA;class Br{constructor(O,N,J=j.Z.app()){var Ee;vr(null===(Ee=J.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new R.R(O,N,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(F){F.INTERNAL.registerComponent(new pe.wA("auth-compat",O=>{const N=O.getProvider("app-compat").getImmediate(),J=O.getProvider("auth");return new Pn(N,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:xi,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:Br,TwitterAuthProvider:R.Z,Auth:Pn,AuthCredential:R.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(Et,Oe,V)=>{function i(R,oe,de,_e,pe,ve,De){try{var z=R[ve](De),q=z.value}catch(Q){return void de(Q)}z.done?oe(q):Promise.resolve(q).then(_e,pe)}function j(R){return function(){var oe=this,de=arguments;return new Promise(function(_e,pe){var ve=R.apply(oe,de);function De(q){i(ve,_e,pe,De,z,"next",q)}function z(q){i(ve,_e,pe,De,z,"throw",q)}De(void 0)})}}V.d(Oe,{Z:()=>j})},7582:(Et,Oe,V)=>{function oe(se,ne){var Ie={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&ne.indexOf(fe)<0&&(Ie[fe]=se[fe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(fe=Object.getOwnPropertySymbols(se);Ne<fe.length;Ne++)ne.indexOf(fe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[Ne])&&(Ie[fe[Ne]]=se[fe[Ne]])}return Ie}function Q(se,ne,Ie,fe){return new(Ie||(Ie=Promise))(function(Me,ut){function xt(on){try{kt(fe.next(on))}catch(Nn){ut(Nn)}}function tn(on){try{kt(fe.throw(on))}catch(Nn){ut(Nn)}}function kt(on){on.done?Me(on.value):function Ne(Me){return Me instanceof Ie?Me:new Ie(function(ut){ut(Me)})}(on.value).then(xt,tn)}kt((fe=fe.apply(se,ne||[])).next())})}function Ae(se){return this instanceof Ae?(this.v=se,this):new Ae(se)}function be(se,ne,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,fe=Ie.apply(se,ne||[]),Me=[];return Ne={},ut("next"),ut("throw"),ut("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ut(pn){fe[pn]&&(Ne[pn]=function(Qn){return new Promise(function(Sn,Zn){Me.push([pn,Qn,Sn,Zn])>1||xt(pn,Qn)})})}function xt(pn,Qn){try{!function tn(pn){pn.value instanceof Ae?Promise.resolve(pn.value.v).then(kt,on):Nn(Me[0][2],pn)}(fe[pn](Qn))}catch(Sn){Nn(Me[0][3],Sn)}}function kt(pn){xt("next",pn)}function on(pn){xt("throw",pn)}function Nn(pn,Qn){pn(Qn),Me.shift(),Me.length&&xt(Me[0][0],Me[0][1])}}function $e(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ne=se[Symbol.asyncIterator];return ne?ne.call(se):(se=function it(se){var ne="function"==typeof Symbol&&Symbol.iterator,Ie=ne&&se[ne],fe=0;if(Ie)return Ie.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ie={},fe("next"),fe("throw"),fe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function fe(Me){Ie[Me]=se[Me]&&function(ut){return new Promise(function(xt,tn){!function Ne(Me,ut,xt,tn){Promise.resolve(tn).then(function(kt){Me({value:kt,done:xt})},ut)}(xt,tn,(ut=se[Me](ut)).done,ut.value)})}}}V.d(Oe,{FC:()=>be,KL:()=>$e,_T:()=>oe,mG:()=>Q,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},Et=>{Et(Et.s=959)}]);