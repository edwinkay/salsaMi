"use strict";(self.webpackChunkasi_somos_asi_bailamos=self.webpackChunkasi_somos_asi_bailamos||[]).push([[179],{2011:(wt,Oe,V)=>{V.d(Oe,{Dh:()=>ve,GT:()=>me,cc:()=>Ne,hO:()=>$e,on:()=>q,pX:()=>le,xv:()=>we});var c=V(4650),j=V(9260),k=V(4976);wt=V.hmd(wt);const re=["ngOnDestroy"],le=(_e,_t,gt,Se={})=>new Proxy(_e,{get:(Ie,xe)=>gt.runOutsideAngular(()=>{var ze;if(_e[xe])return!(null===(ze=Se?.spy)||void 0===ze)&&ze.get&&Se.spy.get(xe,_e[xe]),_e[xe];if(re.indexOf(xe)>-1)return()=>{};const Ge=_t.toPromise().then(ue=>{const Ke=ue&&ue[xe];return"function"==typeof Ke?Ke.bind(ue):Ke&&Ke.then?Ke.then(At=>gt.run(()=>At)):gt.run(()=>Ke)});return new Proxy(()=>{},{get:(ue,Ke)=>Ge[Ke],apply:(ue,Ke,At)=>Ge.then(mt=>{var zt;const dt=mt&&mt(...At);return!(null===(zt=Se?.spy)||void 0===zt)&&zt.apply&&Se.spy.apply(xe,At,dt),dt})})})}),me=(_e,_t)=>{_t.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(Se=>{Object.defineProperty(_e.prototype,Se,Object.getOwnPropertyDescriptor(gt.prototype||gt,Se))})})};class fe{constructor(_t){return _t}}const ve=new c.OlP("angularfire2.app.options"),we=new c.OlP("angularfire2.app.name");function q(_e,_t,gt){const Ie="object"==typeof gt&&gt||{};Ie.name=Ie.name||"string"==typeof gt&&gt||"[DEFAULT]";const ze=j.Z.apps.filter(Ge=>Ge&&Ge.name===Ie.name)[0]||_t.runOutsideAngular(()=>j.Z.initializeApp(_e,Ie));try{JSON.stringify(_e)!==JSON.stringify(ze.options)&&G("error",`${ze.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(ze)}const G=(_e,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[_e](..._t)},J={provide:fe,useFactory:q,deps:[ve,c.R0b,[new c.FiY,we]]};let $e=(()=>{class _e{constructor(gt){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",c.q4F.full,gt.toString())}static initializeApp(gt,Se){return{ngModule:_e,providers:[{provide:ve,useValue:gt},{provide:we,useValue:Se}]}}}return _e.\u0275fac=function(gt){return new(gt||_e)(c.LFG(c.Lbi))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({providers:[J]}),_e})();function Ne(_e,_t,gt,Se,Ie){const[,xe,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===_e)||[];if(xe)return function De(_e,_t){try{return _e.toString()===_t.toString()}catch{return _e===_t}}(Ie,ze)||(Ee("error",`${_t} was already initialized on the ${gt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ie,was:ze})),xe;{const Ge=Se();return globalThis.\u0275AngularfireInstanceCache.push([_e,Ge,Ie]),Ge}}const it=!!wt.hot,Ee=(_e,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[_e](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Oe,V)=>{V.d(Oe,{q4:()=>Ja,iC:()=>yo,HU:()=>Ju,vb:()=>Bd,JM:()=>ea,u3:()=>ta});var c=V(4650),j=V(259),k=V(5861),re=V(6881),le=V(2090),me=V(4859),fe=V(1877);let we,q;const $e=new WeakMap,Ne=new WeakMap,De=new WeakMap,it=new WeakMap,Ee=new WeakMap;let gt={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return Ne.get(E);if("objectStoreNames"===T)return E.objectStoreNames||De.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return ze(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function xe(E){return"function"==typeof E?function Ie(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(Ge(this),T),ze($e.get(this))}:function(...T){return ze(E.apply(Ge(this),T))}:function(T,...x){const L=E.call(Ge(this),T,...x);return De.set(L,T.sort?T.sort():[T]),ze(L)}}(E):(E instanceof IDBTransaction&&function _t(E){if(Ne.has(E))return;const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{x(),W()},ge=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Ne.set(E,T)}(E),((E,T)=>T.some(x=>E instanceof x))(E,function G(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,gt):E)}function ze(E){if(E instanceof IDBRequest)return function _e(E){const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{x(ze(E.result)),W()},ge=()=>{L(E.error),W()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&$e.set(x,E)}).catch(()=>{}),Ee.set(T,E),T}(E);if(it.has(E))return it.get(E);const T=xe(E);return T!==E&&(it.set(E,T),Ee.set(T,E)),T}const Ge=E=>Ee.get(E),At=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],zt=new Map;function dt(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(zt.get(T))return zt.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,W=mt.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!At.includes(x))return;const X=function(){var ge=(0,k.Z)(function*(Ye,...qe){const et=this.transaction(Ye,W?"readwrite":"readonly");let Ft=et.store;return L&&(Ft=Ft.index(qe.shift())),(yield Promise.all([Ft[x](...qe),W&&et.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return zt.set(T,X),X}!function Se(E){gt=E(gt)}(E=>({...E,get:(T,x,L)=>dt(T,x)||E.get(T,x,L),has:(T,x)=>!!dt(T,x)||E.has(T,x)}));const Yi="@firebase/installations",Qi="w:0.6.4",ie="FIS_v2",lt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(E){return E instanceof le.ZR&&E.code.includes("request-failed")}function Xt({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Rt(E){return{token:E.token,requestStatus:2,expiresIn:gr(E.expiresIn),creationTime:Date.now()}}function rn(E,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,k.Z)(function*(E,T){const L=(yield T.json()).error;return lt.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function hn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Qn(E,{refreshToken:T}){const x=hn(E);return x.append("Authorization",function wi(E){return`${ie} ${E}`}(T)),x}function An(E){return Un.apply(this,arguments)}function Un(){return(Un=(0,k.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function gr(E){return Number(E.replace("s","000"))}function ct(E,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:x}){const L=Xt(E),W=hn(E),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&W.append("x-firebase-client",et)}const Ye={method:"POST",headers:W,body:JSON.stringify({fid:x,authVersion:ie,appId:E.appId,sdkVersion:Qi})},qe=yield An(()=>fetch(L,Ye));if(qe.ok){const et=yield qe.json();return{fid:et.fid||x,registrationStatus:2,refreshToken:et.refreshToken,authToken:Rt(et.authToken)}}throw yield rn("Create Installation",qe)})).apply(this,arguments)}function Jn(E){return new Promise(T=>{setTimeout(T,E)})}const Fi=/^[cdef][\w-]{21}$/;function Pn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function Sn(E){return function zn(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Fi.test(x)?x:""}catch{return""}}function Gt(E){return`${E.appName}!${E.appId}`}const ht=new Map;function Ct(E,T){const x=Gt(E);yr(x,T),function nr(E,T){const x=function Gn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=E=>{yr(E.data.key,E.data.fid)}),St}();x&&x.postMessage({key:E,fid:T}),function qt(){0===ht.size&&St&&(St.close(),St=null)}()}(x,T)}function yr(E,T){const x=ht.get(E);if(x)for(const L of x)L(T)}let St=null;const Bn="firebase-installations-store";let vn=null;function Xn(){return vn||(vn=function ue(E,T,{blocked:x,upgrade:L,blocking:W,terminated:X}={}){const ge=indexedDB.open(E,T),Ye=ze(ge);return L&&ge.addEventListener("upgradeneeded",qe=>{L(ze(ge.result),qe.oldVersion,qe.newVersion,ze(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),W&&qe.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ye}("firebase-installations-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(Bn)}})),vn}function Rn(E,T){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,k.Z)(function*(E,T){const x=Gt(E),W=(yield Xn()).transaction(Bn,"readwrite"),X=W.objectStore(Bn),ge=yield X.get(x);return yield X.put(T,x),yield W.done,(!ge||ge.fid!==T.fid)&&Ct(E,T.fid),T})).apply(this,arguments)}function er(E){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,k.Z)(function*(E){const T=Gt(E),L=(yield Xn()).transaction(Bn,"readwrite");yield L.objectStore(Bn).delete(T),yield L.done})).apply(this,arguments)}function _r(E,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,k.Z)(function*(E,T){const x=Gt(E),W=(yield Xn()).transaction(Bn,"readwrite"),X=W.objectStore(Bn),ge=yield X.get(x),Ye=T(ge);return void 0===Ye?yield X.delete(x):yield X.put(Ye,x),yield W.done,Ye&&(!ge||ge.fid!==Ye.fid)&&Ct(E,Ye.fid),Ye})).apply(this,arguments)}function z(E){return $.apply(this,arguments)}function $(){return($=(0,k.Z)(function*(E){let T;const x=yield _r(E.appConfig,L=>{const W=F(L),X=O(E,W);return T=X.registrationPromise,X.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function F(E){return be(E||{fid:Pn(),registrationStatus:0})}function O(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(lt.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function R(E,T){return Y.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ce(E)}:{installationEntry:T}}function Y(){return(Y=(0,k.Z)(function*(E,T){try{const x=yield ct(E,T);return Rn(E.appConfig,x)}catch(x){throw Tt(x)&&409===x.customData.serverCode?yield er(E.appConfig):yield Rn(E.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Ce(E){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,k.Z)(function*(E){let T=yield yt(E.appConfig);for(;1===T.registrationStatus;)yield Jn(100),T=yield yt(E.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield z(E);return L||x}return T})).apply(this,arguments)}function yt(E){return _r(E,T=>{if(!T)throw lt.create("installation-not-found");return be(T)})}function be(E){return function tt(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ut(E,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:T},x){const L=kt(E,x),W=Qn(E,x),X=T.getImmediate({optional:!0});if(X){const et=yield X.getHeartbeatsHeader();et&&W.append("x-firebase-client",et)}const Ye={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Qi,appId:E.appId}})},qe=yield An(()=>fetch(L,Ye));if(qe.ok)return Rt(yield qe.json());throw yield rn("Generate Auth Token",qe)})).apply(this,arguments)}function kt(E,{fid:T}){return`${Xt(E)}/${T}/authTokens:generate`}function on(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,k.Z)(function*(E,T=!1){let x;const L=yield _r(E.appConfig,X=>{if(!$t(X))throw lt.create("not-registered");const ge=X.authToken;if(!T&&fn(ge))return X;if(1===ge.requestStatus)return x=oe(E,T),X;{if(!navigator.onLine)throw lt.create("app-offline");const Ye=Qt(X);return x=Ve(E,Ye),Ye}});return x?yield x:L.authToken})).apply(this,arguments)}function oe(E,T){return ne.apply(this,arguments)}function ne(){return(ne=(0,k.Z)(function*(E,T){let x=yield Le(E.appConfig);for(;1===x.authToken.requestStatus;)yield Jn(100),x=yield Le(E.appConfig);const L=x.authToken;return 0===L.requestStatus?on(E,T):L})).apply(this,arguments)}function Le(E){return _r(E,T=>{if(!$t(T))throw lt.create("not-registered");return function $r(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ve(E,T){return xt.apply(this,arguments)}function xt(){return(xt=(0,k.Z)(function*(E,T){try{const x=yield ut(E,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Rn(E.appConfig,L),x}catch(x){if(!Tt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Rn(E.appConfig,L)}else yield er(E.appConfig);throw x}})).apply(this,arguments)}function $t(E){return void 0!==E&&2===E.registrationStatus}function fn(E){return 2===E.requestStatus&&!function jn(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function Qt(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function ii(){return(ii=(0,k.Z)(function*(E){const T=E,{installationEntry:x,registrationPromise:L}=yield z(T);return L?L.catch(console.error):on(T).catch(console.error),x.fid})).apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(E,T=!1){const x=E;return yield ln(x),(yield on(x,T)).token})).apply(this,arguments)}function ln(E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,k.Z)(function*(E){const{registrationPromise:T}=yield z(E);T&&(yield T)})).apply(this,arguments)}function br(E){return lt.create("missing-app-config-values",{valueName:E})}const Hr="installations",ps=E=>{const T=E.getProvider("app").getImmediate(),x=function ld(E){if(!E||!E.options)throw br("App Configuration");if(!E.name)throw br("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!E.options[x])throw br(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,re._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ba=E=>{const T=E.getProvider("app").getImmediate(),x=(0,re._getProvider)(T,Hr).getImmediate();return{getId:()=>function Li(E){return ii.apply(this,arguments)}(x),getToken:W=>function va(E){return wa.apply(this,arguments)}(x,W)}};(function Ci(){(0,re._registerComponent)(new me.wA(Hr,ps,"PUBLIC")),(0,re._registerComponent)(new me.wA("installations-internal",ba,"PRIVATE"))})(),(0,re.registerVersion)(Yi,"0.6.4"),(0,re.registerVersion)(Yi,"0.6.4","esm2017");const Ia="@firebase/remote-config",xn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ll{constructor(T,x,L,W){this.client=T,this.storage=x,this.storageCache=L,this.logger=W}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,W=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return W;T.eTag=W&&W.eTag;const X=yield x.client.fetch(T),ge=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&ge.push(x.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(ge),X})()}}function Eu(E=navigator){return E.languages&&E.languages[0]||E.language}class Vl{constructor(T,x,L,W,X,ge){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=W,this.apiKey=X,this.appId=ge}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},qe={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:x.appId,language_code:Eu()},et={method:"POST",headers:Ye,body:JSON.stringify(qe)},Ft=fetch(ge,et),Nt=new Promise((ei,Nr)=>{T.signal.addEventListener(()=>{const ra=new Error("The operation was aborted.");ra.name="AbortError",Nr(ra)})});let Pr;try{yield Promise.race([Ft,Nt]),Pr=yield Ft}catch(ei){let Nr="fetch-client-network";throw"AbortError"===ei?.name&&(Nr="fetch-timeout"),xn.create(Nr,{originalErrorMessage:ei?.message})}let dn=Pr.status;const rs=Pr.headers.get("ETag")||void 0;let na,is;if(200===Pr.status){let ei;try{ei=yield Pr.json()}catch(Nr){throw xn.create("fetch-client-parse",{originalErrorMessage:Nr?.message})}na=ei.entries,is=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===is?dn=500:"NO_CHANGE"===is?dn=304:("NO_TEMPLATE"===is||"EMPTY_CONFIG"===is)&&(na={}),304!==dn&&200!==dn)throw xn.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:rs,config:na}})()}}class Ul{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,k.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var W=this;return(0,k.Z)(function*(){yield function Da(E,T){return new Promise((x,L)=>{const W=Math.max(T-Date.now(),0),X=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(X),L(xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const X=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),X}catch(X){if(!function gd(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const ge={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(ge),W.attemptFetch(T,ge)}})()}}class Bl{constructor(T,x,L,W,X){this.app=T,this._client=x,this._storageCache=L,this._storage=W,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qn(E,T){const x=E.target.error||void 0;return xn.create(T,{originalErrorMessage:x&&x?.message})}const gs="app_namespace_store";class Yh{constructor(T,x,L,W=function Ay(){return new Promise((E,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(qn(L,"storage-open"))},x.onsuccess=L=>{E(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(gs,{keyPath:"compositeKey"})}}catch(x){T(xn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((W,X)=>{const Ye=L.transaction([gs],"readonly").objectStore(gs),qe=x.createCompositeKey(T);try{const et=Ye.get(qe);et.onerror=Ft=>{X(qn(Ft,"storage-get"))},et.onsuccess=Ft=>{const Nt=Ft.target.result;W(Nt?Nt.value:void 0)}}catch(et){X(xn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,x){var L=this;return(0,k.Z)(function*(){const W=yield L.openDbPromise;return new Promise((X,ge)=>{const qe=W.transaction([gs],"readwrite").objectStore(gs),et=L.createCompositeKey(T);try{const Ft=qe.put({compositeKey:et,value:x});Ft.onerror=Nt=>{ge(qn(Nt,"storage-set"))},Ft.onsuccess=()=>{X()}}catch(Ft){ge(xn.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((W,X)=>{const Ye=L.transaction([gs],"readwrite").objectStore(gs),qe=x.createCompositeKey(T);try{const et=Ye.delete(qe);et.onerror=Ft=>{X(qn(Ft,"storage-delete"))},et.onsuccess=()=>{W()}}catch(et){X(xn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Cn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),X=yield x;X&&(T.lastFetchStatus=X);const ge=yield L;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const Ye=yield W;Ye&&(T.activeConfig=Ye)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function si(){return yd.apply(this,arguments)}function yd(){return(yd=(0,k.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}let Vi,Sr;!function ko(){(0,re._registerComponent)(new me.wA("remote-config",function E(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!(0,le.hl)())throw xn.create("indexed-db-unavailable");const{projectId:X,apiKey:ge,appId:Ye}=L.options;if(!X)throw xn.create("registration-project-id");if(!ge)throw xn.create("registration-api-key");if(!Ye)throw xn.create("registration-app-id");const qe=new Yh(Ye,L.name,x=x||"firebase"),et=new Cn(qe),Ft=new fe.Yd(Ia);Ft.logLevel=fe.in.ERROR;const Nt=new Vl(W,re.SDK_VERSION,x,X,ge,Ye),Pr=new Ul(Nt,qe),dn=new Ll(Pr,qe,et,Ft),rs=new Bl(L,dn,et,qe,Ft);return function pd(E){const T=(0,le.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(rs),rs},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ia,"0.4.4"),(0,re.registerVersion)(Ia,"0.4.4","esm2017")}();const Aa=new WeakMap,bi=new WeakMap,Ir=new WeakMap,Fo=new WeakMap,Pt=new WeakMap;let Gl={get(E,T,x){if(E instanceof IDBTransaction){if("done"===T)return bi.get(E);if("objectStoreNames"===T)return E.objectStoreNames||Ir.get(E);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ui(E[T])},set:(E,T,x)=>(E[T]=x,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Tu(E){return"function"==typeof E?function Qh(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bu(){return Sr||(Sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(Du(this),T),Ui(Aa.get(this))}:function(...T){return Ui(E.apply(Du(this),T))}:function(T,...x){const L=E.call(Du(this),T,...x);return Ir.set(L,T.sort?T.sort():[T]),Ui(L)}}(E):(E instanceof IDBTransaction&&function zl(E){if(bi.has(E))return;const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{x(),W()},ge=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});bi.set(E,T)}(E),((E,T)=>T.some(x=>E instanceof x))(E,function Hl(){return Vi||(Vi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Gl):E)}function Ui(E){if(E instanceof IDBRequest)return function Iu(E){const T=new Promise((x,L)=>{const W=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{x(Ui(E.result)),W()},ge=()=>{L(E.error),W()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&Aa.set(x,E)}).catch(()=>{}),Pt.set(T,E),T}(E);if(Fo.has(E))return Fo.get(E);const T=Tu(E);return T!==E&&(Fo.set(E,T),Pt.set(T,E)),T}const Du=E=>Pt.get(E);function Re(E,T,{blocked:x,upgrade:L,blocking:W,terminated:X}={}){const ge=indexedDB.open(E,T),Ye=Ui(ge);return L&&ge.addEventListener("upgradeneeded",qe=>{L(Ui(ge.result),qe.oldVersion,qe.newVersion,Ui(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),W&&qe.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ye}function Jt(E,{blocked:T}={}){const x=indexedDB.deleteDatabase(E);return T&&x.addEventListener("blocked",()=>T()),Ui(x).then(()=>{})}const ql=["get","getKey","getAll","getAllKeys","count"],Au=["put","add","delete","clear"],Wn=new Map;function Sa(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,W=Au.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!ql.includes(x))return;const X=function(){var ge=(0,k.Z)(function*(Ye,...qe){const et=this.transaction(Ye,W?"readwrite":"readonly");let Ft=et.store;return L&&(Ft=Ft.index(qe.shift())),(yield Promise.all([Ft[x](...qe),W&&et.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return Wn.set(T,X),X}!function _d(E){Gl=E(Gl)}(E=>({...E,get:(T,x,L)=>Sa(T,x)||E.get(T,x,L),has:(T,x)=>!!Sa(T,x)||E.has(T,x)}));const Os="/firebase-messaging-sw.js",Ii="/firebase-cloud-messaging-push-scope",xa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vd="google.c.a.c_id",On="google.c.a.c_l",Sy="google.c.a.ts",Wl="google.c.a.e";var zr=(()=>{return(E=zr||(zr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",zr;var E})();function ai(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oo(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),W=new Uint8Array(L.length);for(let X=0;X<L.length;++X)W[X]=L.charCodeAt(X);return W}const ui="fcm_token_details_db",wd="fcm_token_object_Store";function Ed(E){return xu.apply(this,arguments)}function xu(){return xu=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(ui))return null;let T=null;return(yield Re(ui,5,{upgrade:(L=(0,k.Z)(function*(W,X,ge,Ye){var qe;if(X<2||!W.objectStoreNames.contains(wd))return;const et=Ye.objectStore(wd),Ft=yield et.index("fcmSenderId").get(E);if(yield et.clear(),Ft)if(2===X){const Nt=Ft;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;T={token:Nt.fcmToken,createTime:null!==(qe=Nt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:ai(Nt.vapidKey)}}}else if(3===X){const Nt=Ft;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:ai(Nt.auth),p256dh:ai(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:ai(Nt.vapidKey)}}}else if(4===X){const Nt=Ft;T={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:ai(Nt.auth),p256dh:ai(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:ai(Nt.vapidKey)}}}}),function(X,ge,Ye,qe){return L.apply(this,arguments)})})).close(),yield Jt(ui),yield Jt("fcm_vapid_details_db"),yield Jt("undefined"),Ra(T)?T:null;var L}),xu.apply(this,arguments)}function Ra(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Jr="firebase-messaging-store";let Mu=null;function Kl(){return Mu||(Mu=Re("firebase-messaging-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(Jr)}})),Mu}function ao(E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,k.Z)(function*(E){const T=bd(E),L=yield(yield Kl()).transaction(Jr).objectStore(Jr).get(T);if(L)return L;{const W=yield Ed(E.appConfig.senderId);if(W)return yield Na(E,W),W}})).apply(this,arguments)}function Na(E,T){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,k.Z)(function*(E,T){const x=bd(E),W=(yield Kl()).transaction(Jr,"readwrite");return yield W.objectStore(Jr).put(T,x),yield W.done,T})).apply(this,arguments)}function Cd(E){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(E){const T=bd(E),L=(yield Kl()).transaction(Jr,"readwrite");yield L.objectStore(Jr).delete(T),yield L.done})).apply(this,arguments)}function bd({appConfig:E}){return E.appId}const cn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uo(E,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(E,T){const x=yield Oa(E),L=lo(T),W={method:"POST",headers:x,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(Id(E.appConfig),W)).json()}catch(ge){throw cn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(X.error)throw cn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw cn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Jp(E,T){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,k.Z)(function*(E,T){const x=yield Oa(E),L=lo(T.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${Id(E.appConfig)}/${T.token}`,W)).json()}catch(ge){throw cn.create("token-update-failed",{errorInfo:ge?.toString()})}if(X.error)throw cn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw cn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Jh(E,T){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,k.Z)(function*(E,T){const L={method:"DELETE",headers:yield Oa(E)};try{const X=yield(yield fetch(`${Id(E.appConfig)}/${T}`,L)).json();if(X.error)throw cn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(W){throw cn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Id({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Oa(E){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*({appConfig:E,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function lo({p256dh:E,auth:T,endpoint:x,vapidKey:L}){const W={web:{endpoint:x,auth:T,p256dh:E}};return L!==xa&&(W.web.applicationPubKey=L),W}const Nu=6048e5;function Ou(E){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,k.Z)(function*(E){const T=yield Dd(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:ai(T.getKey("auth")),p256dh:ai(T.getKey("p256dh"))},L=yield ao(E.firebaseDependencies);if(L){if(ef(L.subscriptionOptions,x))return Date.now()>=L.createTime+Nu?Vo(E,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield Jh(E.firebaseDependencies,L.token)}catch(W){console.warn(W)}return Uo(E.firebaseDependencies,x)}return Uo(E.firebaseDependencies,x)})).apply(this,arguments)}function Xh(E){return es.apply(this,arguments)}function es(){return(es=(0,k.Z)(function*(E){const T=yield ao(E.firebaseDependencies);T&&(yield Jh(E.firebaseDependencies,T.token),yield Cd(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Vo(E,T){return Td.apply(this,arguments)}function Td(){return(Td=(0,k.Z)(function*(E,T){try{const x=yield Jp(E.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Na(E.firebaseDependencies,L),x}catch(x){throw yield Xh(E),x}})).apply(this,arguments)}function Uo(E,T){return co.apply(this,arguments)}function co(){return(co=(0,k.Z)(function*(E,T){const L={token:yield uo(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Na(E,L),L.token})).apply(this,arguments)}function Dd(E,T){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,k.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oo(T)})})).apply(this,arguments)}function ef(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function Jl(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function ku(E,T){if(!T.notification)return;E.notification={};const x=T.notification.title;x&&(E.notification.title=x);const L=T.notification.body;L&&(E.notification.body=L);const W=T.notification.image;W&&(E.notification.image=W);const X=T.notification.icon;X&&(E.notification.icon=X)}(T,E),function Xl(E,T){!T.data||(E.data=T.data)}(T,E),function Fu(E,T){var x,L,W,X,ge;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;E.fcmOptions={};const Ye=null!==(W=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==W?W:null===(X=T.notification)||void 0===X?void 0:X.click_action;Ye&&(E.fcmOptions.link=Ye);const qe=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(T,E),T}function Sd(E){return"object"==typeof E&&!!E&&vd in E}function Bo(E,T){const x=[];for(let L=0;L<E.length;L++)x.push(E.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function ec(E){return cn.create("missing-app-config-values",{valueName:E})}Bo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fa{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function tf(E){if(!E||!E.options)throw ec("App Configuration Object");if(!E.name)throw ec("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const L of T)if(!x[L])throw ec(L);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function nf(E){return ts.apply(this,arguments)}function ts(){return(ts=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Os,{scope:Ii}),E.swRegistration.update().catch(()=>{})}catch(T){throw cn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Fs(E,T){return li.apply(this,arguments)}function li(){return(li=(0,k.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield nf(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function tc(E,T){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=xa)})).apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(E,T){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield tc(E,T?.vapidKey),yield Fs(E,T?.serviceWorkerRegistration),Ou(E)})).apply(this,arguments)}function Bi(E,T,x){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,k.Z)(function*(E,T,x){const L=jo(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[vd],message_name:x[On],message_time:x[Sy],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jo(E){switch(E){case zr.NOTIFICATION_CLICKED:return"notification_open";case zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ho(){return(ho=(0,k.Z)(function*(E,T){const x=T.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===zr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Jl(x)):E.onMessageHandler.next(Jl(x)));const L=x.data;Sd(L)&&"1"===L[Wl]&&(yield Bi(E,x.messageType,L))})).apply(this,arguments)}const Ua="@firebase/messaging",Ba=E=>{const T=new Fa(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Va(E,T){return ho.apply(this,arguments)}(T,x)),T},nc=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:L=>function Lu(E,T){return La.apply(this,arguments)}(T,L)}};function $o(){return ja.apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rf(){(0,re._registerComponent)(new me.wA("messaging",Ba,"PUBLIC")),(0,re._registerComponent)(new me.wA("messaging-internal",nc,"PRIVATE")),(0,re.registerVersion)(Ua,"0.12.4"),(0,re.registerVersion)(Ua,"0.12.4","esm2017")}();const $a="analytics",Ha="firebase_id",Md="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ms="https://www.googletagmanager.com/gtag/js",kn=new fe.Yd("@firebase/analytics"),ir=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Uu(E){if(!E.startsWith(ms)){const T=ir.create("invalid-gtag-resource",{gtagURL:E});return kn.warn(T.message),""}return E}function Ti(E){return Promise.all(E.map(T=>T.catch(x=>x)))}function Rd(E,T){const x=function sc(E,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,T)),x}("firebase-js-sdk-policy",{createScriptURL:Uu}),L=document.createElement("script"),W=`${ms}?l=${E}&id=${T}`;L.src=x?x?.createScriptURL(W):W,L.async=!0,document.head.appendChild(L)}function Pd(E,T,x,L,W,X){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(E,T,x,L,W,X){const ge=L[W];try{if(ge)yield T[ge];else{const qe=(yield Ti(x)).find(et=>et.measurementId===W);qe&&(yield T[qe.appId])}}catch(Ye){kn.error(Ye)}E("config",W,X)})).apply(this,arguments)}function xy(E,T,x,L,W){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,k.Z)(function*(E,T,x,L,W){try{let X=[];if(W&&W.send_to){let ge=W.send_to;Array.isArray(ge)||(ge=[ge]);const Ye=yield Ti(x);for(const qe of ge){const et=Ye.find(Nt=>Nt.measurementId===qe),Ft=et&&T[et.appId];if(!Ft){X=[];break}X.push(Ft)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),E("event",L,W||{})}catch(X){kn.error(X)}})).apply(this,arguments)}function af(E){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(ms)&&x.src.includes(E))return x;return null}const sr=new class My{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function $u(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Di(E){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,k.Z)(function*(E){var T;const{appId:x,apiKey:L}=E,W={method:"GET",headers:$u(L)},X=Md.replace("{app-id}",x),ge=yield fetch(X,W);if(200!==ge.status&&304!==ge.status){let Ye="";try{const qe=yield ge.json();null!==(T=qe.error)&&void 0!==T&&T.message&&(Ye=qe.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ye})}return ge.json()})).apply(this,arguments)}function Hu(E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(E,T=sr,x){const{appId:L,apiKey:W,measurementId:X}=E.options;if(!L)throw ir.create("no-app-id");if(!W){if(X)return{measurementId:X,appId:L};throw ir.create("no-api-key")}const ge=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Od;return setTimeout((0,k.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),ji({appId:L,apiKey:W,measurementId:X},ge,Ye,T)})).apply(this,arguments)}function ji(E,T,x){return oc.apply(this,arguments)}function oc(){return(oc=(0,k.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:x},L,W=sr){var X;const{appId:ge,measurementId:Ye}=E;try{yield Ga(L,T)}catch(qe){if(Ye)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:ge,measurementId:Ye};throw qe}try{const qe=yield Di(E);return W.deleteThrottleMetadata(ge),qe}catch(qe){const et=qe;if(!zu(et)){if(W.deleteThrottleMetadata(ge),Ye)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:ge,measurementId:Ye};throw qe}const Ft=503===Number(null===(X=et?.customData)||void 0===X?void 0:X.httpStatus)?(0,le.$s)(x,W.intervalMillis,30):(0,le.$s)(x,W.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:x+1};return W.setThrottleMetadata(ge,Nt),kn.debug(`Calling attemptFetch again in ${Ft} millis`),ji(E,Nt,L,W)}})).apply(this,arguments)}function Ga(E,T){return new Promise((x,L)=>{const W=Math.max(T-Date.now(),0),X=setTimeout(x,W);E.addEventListener(()=>{clearTimeout(X),L(ir.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function zu(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Od{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let kd,qa;function lf(){return(lf=(0,k.Z)(function*(E,T,x,L,W){if(W&&W.global)E("event",x,L);else{const X=yield T;E("event",x,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function qo(E){qa=E}function lc(E){kd=E}function bn(){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(){if(!(0,le.hl)())return kn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(E){return kn.warn(ir.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(E,T,x,L,W,X,ge){var Ye;const qe=Hu(E);qe.then(dn=>{x[dn.measurementId]=dn.appId,E.options.measurementId&&dn.measurementId!==E.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>kn.error(dn)),T.push(qe);const et=bn().then(dn=>{if(dn)return L.getId()}),[Ft,Nt]=yield Promise.all([qe,et]);af(X)||Rd(X,Ft.measurementId),qa&&(W("consent","default",qa),qo(void 0)),W("js",new Date);const Pr=null!==(Ye=ge?.config)&&void 0!==Ye?Ye:{};return Pr.origin="firebase",Pr.update=!0,null!=Nt&&(Pr[Ha]=Nt),W("config",Ft.measurementId,Pr),kd&&(W("set",kd),lc(void 0)),Ft.measurementId})).apply(this,arguments)}class Wa{constructor(T){this.app=T}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},cc=[];const Vd={};let Zn,pt,ys="dataLayer",Za=!1;function dc(E,T,x){!function Ka(){const E=[];if((0,le.ru)()&&E.push("This is a browser extension environment."),(0,le.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((L,W)=>`(${W+1}) ${L}`).join(" "),x=ir.create("invalid-analytics-context",{errorInfo:T});kn.warn(x.message)}}();const L=E.options.appId;if(!L)throw ir.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ir.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[L])throw ir.create("already-exists",{id:L});if(!Za){!function pn(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(ys);const{wrappedGtag:X,gtagCore:ge}=function tg(E,T,x,L,W){let X=function(...ge){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(X=window[W]),window[W]=function eg(E,T,x,L){function X(){return(X=(0,k.Z)(function*(ge,...Ye){try{if("event"===ge){const[qe,et]=Ye;yield xy(E,T,x,qe,et)}else if("config"===ge){const[qe,et]=Ye;yield Pd(E,T,x,L,qe,et)}else if("consent"===ge){const[qe]=Ye;E("consent","update",qe)}else if("get"===ge){const[qe,et,Ft]=Ye;E("get",qe,et,Ft)}else if("set"===ge){const[qe]=Ye;E("set",qe)}else E(ge,...Ye)}catch(qe){kn.error(qe)}})).apply(this,arguments)}return function W(ge){return X.apply(this,arguments)}}(X,E,T,x),{gtagCore:X,wrappedGtag:window[W]}}(hi,cc,Vd,ys,"gtag");pt=X,Zn=ge,Za=!0}return hi[L]=function ig(E,T,x,L,W,X,ge){return di.apply(this,arguments)}(E,cc,Vd,T,Zn,ys,x),new Wa(E)}function po(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const vr="@firebase/analytics";!function pc(){(0,re._registerComponent)(new me.wA($a,(T,{options:x})=>dc(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,re._registerComponent)(new me.wA("analytics-internal",function E(T){try{const x=T.getProvider($a).getImmediate();return{logEvent:(L,W,X)=>function fi(E,T,x,L){E=(0,le.m9)(E),function ng(E,T,x,L,W){return lf.apply(this,arguments)}(pt,hi[E.app.options.appId],T,x,L).catch(W=>kn.error(W))}(x,L,W,X)}}catch(x){throw ir.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,re.registerVersion)(vr,"0.10.0"),(0,re.registerVersion)(vr,"0.10.0","esm2017")}();var Rr=V(4408),Zu=V(7565);const gc=new class df extends Zu.v{}(class Ko extends Rr.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var hf=V(4986),Qa=V(9751),Ku=V(8505),go=V(9468),mo=V(5363);const Ja=new c.GfV("7.6.1"),Yu="__angularfire_symbol__analyticsIsSupportedValue",Yo="__angularfire_symbol__analyticsIsSupported",yc="__angularfire_symbol__remoteConfigIsSupportedValue",Qo="__angularfire_symbol__remoteConfigIsSupported",_c="__angularfire_symbol__messagingIsSupportedValue",Jo="__angularfire_symbol__messagingIsSupported";function ea(E,T,x){if(T){if(1===T.length)return T[0];const X=T.filter(ge=>ge.app===x);if(1===X.length)return X[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Yo]||(globalThis[Yo]=po().then(E=>globalThis[Yu]=E).catch(()=>globalThis[Yu]=!1)),globalThis[Jo]||(globalThis[Jo]=$o().then(E=>globalThis[_c]=E).catch(()=>globalThis[_c]=!1)),globalThis[Qo]||(globalThis[Qo]=si().then(E=>globalThis[yc]=E).catch(()=>globalThis[yc]=!1));const Bd=(E,T)=>{const x=T?[T]:(0,j.C6)(),L=[];return x.forEach(W=>{W.container.getProvider(E).instances.forEach(ge=>{L.includes(ge)||L.push(ge)})}),L};function $s(){}class vc{constructor(T,x=gc){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const W=this.zone;return this.delegate.schedule(function(ge){W.runGuarded(()=>{T.apply(this,[ge])})},x,L)}}class ff{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),x.pipe((0,Ku.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ju=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new vc(Zone.current)),this.insideAngular=x.run(()=>new vc(Zone.current,hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Kn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Es(E){return Kn().ngZone.runOutsideAngular(()=>E())}function ns(E){return Kn().ngZone.run(()=>E())}function yo(E){return Kn(),function Xr(E){return function(x){return(x=x.lift(new ff(E.ngZone))).pipe((0,go.R)(E.outsideAngular),(0,mo.Q)(E.insideAngular))}}(Kn())(E)}const wc=(E,T)=>function(){const L=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ns(()=>E.apply(void 0,L))},ta=(E,T)=>function(){let x;const L=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof L[X]&&(T&&(x||(x=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)))),L[X]=wc(L[X],x));const W=Es(()=>E.apply(this,L));if(!T){if(W instanceof Qa.y){const X=Kn();return W.pipe((0,go.R)(X.outsideAngular),(0,mo.Q)(X.insideAngular))}return ns(()=>W)}return W instanceof Qa.y?W.pipe(yo):W instanceof Promise?ns(()=>new Promise((X,ge)=>W.then(Ye=>ns(()=>X(Ye)),Ye=>ns(()=>ge(Ye))))):"function"==typeof W&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),W.apply(this,arguments)}:ns(()=>W)}},1389:(wt,Oe,V)=>{V.d(Oe,{$:()=>Os,A:()=>G,D:()=>Ne,I:()=>Nn,J:()=>ps,L:()=>Xi,N:()=>_r,P:()=>ig,Q:()=>Yh,R:()=>ci,U:()=>so,V:()=>si,W:()=>yd,X:()=>jl,Y:()=>Hl,Z:()=>bu,_:()=>Pt,a:()=>Us,a0:()=>xa,a1:()=>vd,a2:()=>oi,a3:()=>wd,a4:()=>xu,a5:()=>Zl,a6:()=>Jr,a7:()=>Kl,a8:()=>Pa,a9:()=>Yl,aA:()=>ue,aB:()=>Yo,aC:()=>er,aD:()=>Br,aE:()=>Ku,aF:()=>Ud,aG:()=>Zo,aH:()=>$n,aL:()=>Bs,aO:()=>Vi,aa:()=>Cd,ab:()=>bd,ac:()=>Qp,ad:()=>Jp,ae:()=>Jh,af:()=>Id,ai:()=>Nu,aj:()=>Ql,ak:()=>Xh,an:()=>Qh,ao:()=>ku,aq:()=>Ls,ar:()=>Ua,as:()=>At,at:()=>be,au:()=>Ce,av:()=>Se,aw:()=>Nt,ax:()=>Jo,ay:()=>tt,az:()=>Ie,b:()=>xd,c:()=>pt,d:()=>dc,e:()=>or,f:()=>vr,g:()=>df,h:()=>Rr,i:()=>uf,j:()=>hf,k:()=>is,l:()=>Fd,m:()=>ra,p:()=>ve,r:()=>qu,s:()=>cf,u:()=>bn});var c=V(5861),j=V(2090),k=V(6881),re=V(7582),le=V(1877),me=V(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},De=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new le.Yd("@firebase/auth");function gt(v,...p){_e.logLevel<=le.in.ERROR&&_e.error(`Auth (${k.SDK_VERSION}): ${v}`,...p)}function Se(v,...p){throw Ge(v,...p)}function Ie(v,...p){return Ge(v,...p)}function xe(v,p,m){const C=Object.assign(Object.assign({},De()),{[p]:m});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function ze(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Se(v,"argument-error"),xe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...p){if("string"!=typeof v){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return it.create(v,...p)}function ue(v,p,...m){if(!v)throw Ge(p,...m)}function Ke(v){const p="INTERNAL ASSERTION FAILED: "+v;throw gt(p),new Error(p)}function At(v,p){v||Ke(p)}function mt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function zt(){return"http:"===dt()||"https:"===dt()}function dt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ri{constructor(p,m){this.shortDelay=p,this.longDelay=m,At(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qi(v,p){At(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ie{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new ri(3e4,6e4);function he(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Pe(v,p,m,C){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(v,p,m,C,M={}){return lt(v,M,(0,c.Z)(function*(){let N={},Q={};C&&("GET"===p?Q=C:N={body:JSON.stringify(C)});const de=(0,j.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),ie.fetch()(rn(v,v.config.apiHost,m,de),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function lt(v,p,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},ee),p);try{const M=new Mn(v),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const Q=yield N.json();if("needConfirmation"in Q)throw hn(v,"account-exists-with-different-credential",Q);if(N.ok&&!("errorMessage"in Q))return Q;{const de=N.ok?Q.errorMessage:Q.error.message,[He,nt]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw hn(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===He)throw hn(v,"email-already-in-use",Q);if("USER_DISABLED"===He)throw hn(v,"user-disabled",Q);const vt=C[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw xe(v,vt,nt);Se(v,vt)}}catch(M){if(M instanceof j.ZR)throw M;Se(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Xt(v,p,m,C){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(v,p,m,C,M={}){const N=yield Pe(v,p,m,C,M);return"mfaPendingCredential"in N&&Se(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function rn(v,p,m,C){const M=`${p}${m}?${C}`;return v.config.emulator?Qi(v.config,M):`${v.config.apiScheme}://${M}`}class Mn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ie(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(v,p,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const M=Ie(v,p,C);return M.customData._tokenResponse=m,M}function An(){return(An=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Un(v,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wi(v,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function mr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Fi(){return(Fi=(0,c.Z)(function*(v,p=!1){const m=(0,j.m9)(v),C=yield m.getIdToken(p),M=Pn(C);ue(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Q=N?.sign_in_provider;return{claims:M,token:C,authTime:mr(Kr(M.auth_time)),issuedAtTime:mr(Kr(M.iat)),expirationTime:mr(Kr(M.exp)),signInProvider:Q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Kr(v){return 1e3*Number(v)}function Pn(v){const[p,m,C]=v.split(".");if(void 0===p||void 0===m||void 0===C)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(m);return M?JSON.parse(M):(gt("Failed to decode base64 JWT payload"),null)}catch(M){return gt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Gt(v,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&Ct(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function Ct({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class tn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Yr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(v){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(v){var p;const m=v.auth,C=yield v.getIdToken(),M=yield Gt(v,wi(m,{idToken:C}));ue(M?.users.length,m,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const Q=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?Ji(N.providerUserInfo):[],de=qt(v.providerData,Q),vt=!!v.isAnonymous&&!(v.email&&N.passwordHash||de?.length),an={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:de,metadata:new Yr(N.createdAt,N.lastLoginAt),isAnonymous:vt};Object.assign(v,an)})).apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(v){const p=(0,j.m9)(v);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function qt(v,p){return[...v.filter(C=>!p.some(M=>M.providerId===C.providerId)),...p]}function Ji(v){return v.map(p=>{var{providerId:m}=p,C=(0,re._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Bn(){return(Bn=(0,c.Z)(function*(v,p){const m=yield lt(v,{},(0,c.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,Q=rn(v,M,"/v1/token",`key=${N}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(Q,{method:"POST",headers:de,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ue(p.idToken,"internal-error"),ue(typeof p.idToken<"u","internal-error"),ue(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Sn(v){const p=Pn(v);return ue(p,"internal-error"),ue(typeof p.exp<"u","internal-error"),ue(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,c.Z)(function*(){return ue(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Q}=yield function sn(v,p){return Bn.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(M,N,Number(Q))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:M,expirationTime:N}=m,Q=new vn;return C&&(ue("string"==typeof C,"internal-error",{appName:p}),Q.refreshToken=C),M&&(ue("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),N&&(ue("number"==typeof N,"internal-error",{appName:p}),Q.expirationTime=N),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function Xn(v,p){ue("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Rn{constructor(p){var{uid:m,auth:C,stsTokenManager:M}=p,N=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Yr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const C=yield Gt(m,m.stsTokenManager.getToken(m.auth,p));return ue(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function zn(v){return Fi.apply(this,arguments)}(this,p)}reload(){return function St(v){return Gn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ue(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Rn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,c.Z)(function*(){let M=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield yr(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Gt(p,function Qn(v,p){return An.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,M,N,Q,de,He,nt,vt;const an=null!==(C=m.displayName)&&void 0!==C?C:void 0,$i=null!==(M=m.email)&&void 0!==M?M:void 0,ia=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,el=null!==(Q=m.photoURL)&&void 0!==Q?Q:void 0,mf=null!==(de=m.tenantId)&&void 0!==de?de:void 0,tl=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,Gd=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,yf=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Dc,emailVerified:_f,isAnonymous:cg,providerData:_o,stsTokenManager:Xa}=m;ue(Dc&&Xa,p,"internal-error");const Ac=vn.fromJSON(this.name,Xa);ue("string"==typeof Dc,p,"internal-error"),Xn(an,p.name),Xn($i,p.name),ue("boolean"==typeof _f,p,"internal-error"),ue("boolean"==typeof cg,p,"internal-error"),Xn(ia,p.name),Xn(el,p.name),Xn(mf,p.name),Xn(tl,p.name),Xn(Gd,p.name),Xn(yf,p.name);const qd=new Rn({uid:Dc,auth:p,email:$i,emailVerified:_f,displayName:an,isAnonymous:cg,photoURL:el,phoneNumber:ia,tenantId:mf,stsTokenManager:Ac,createdAt:Gd,lastLoginAt:yf});return _o&&Array.isArray(_o)&&(qd.providerData=_o.map(Ry=>Object.assign({},Ry))),tl&&(qd._redirectEventId=tl),qd}static _fromIdTokenResponse(p,m,C=!1){return(0,c.Z)(function*(){const M=new vn;M.updateFromServerResponse(m);const N=new Rn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:C});return yield yr(N),N})()}}const Qr=new Map;function er(v){At(v instanceof Function,"Expected a class definition");let p=Qr.get(v);return p?(At(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Qr.set(v,p),p)}const _r=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,C){var M=this;return(0,c.Z)(function*(){M.storage[m]=C})()}_get(m){var C=this;return(0,c.Z)(function*(){const M=C.storage[m];return void 0===M?null:M})()}_remove(m){var C=this;return(0,c.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return v.type="NONE",v})();function Br(v,p,m){return`firebase:${v}:${p}:${m}`}class z{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=Br(this.userKey,M.apiKey,N),this.fullPersistenceKey=Br("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Rn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,c.Z)(function*(){if(!m.length)return new z(er(_r),p,C);const M=(yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let N=M[0]||er(_r);const Q=Br(C,p.config.apiKey,p.name);let de=null;for(const nt of m)try{const vt=yield nt._get(Q);if(vt){const an=Rn._fromJSON(p,vt);nt!==N&&(de=an),N=nt;break}}catch{}const He=M.filter(nt=>nt._shouldAllowMigration);return N._shouldAllowMigration&&He.length?(N=He[0],de&&(yield N._set(Q,de.toJSON())),yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(vt!==N)try{yield vt._remove(Q)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new z(N,p,C)):new z(N,p,C)})()}}function $(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Y(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ze(p))return"Blackberry";if(yt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||R(p))&&!p.includes("edge/"))return"Chrome";if(Ce(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function F(v=(0,j.z$)()){return/firefox\//i.test(v)}function O(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function R(v=(0,j.z$)()){return/crios\//i.test(v)}function Y(v=(0,j.z$)()){return/iemobile/i.test(v)}function Ce(v=(0,j.z$)()){return/android/i.test(v)}function Ze(v=(0,j.z$)()){return/blackberry/i.test(v)}function yt(v=(0,j.z$)()){return/webos/i.test(v)}function be(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function tt(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function kt(v=(0,j.z$)()){return be(v)||Ce(v)||yt(v)||Ze(v)||/windows phone/i.test(v)||Y(v)}function jr(v,p=[]){let m;switch(v){case"Browser":m=$((0,j.z$)());break;case"Worker":m=`${$((0,j.z$)())}-${v}`;break;default:m=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${k.SDK_VERSION}/${C}`}function ne(){return(ne=(0,c.Z)(function*(v){return(yield Pe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(v,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(v,p){return Pe(v,"GET","/v2/recaptchaConfig",he(v,p))})).apply(this,arguments)}function xt(v){return void 0!==v&&void 0!==v.getResponse}function $t(v){return void 0!==v&&void 0!==v.enterprise}class fn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Qt(v){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=M=>{const N=Ie("internal-error");N.customData=M,m(N)},C.type="text/javascript",C.charset="UTF-8",function jn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function $r(v){return`__${v}${Math.floor(1e6*Math.random())}`}class wa{constructor(p){this.type="recaptcha-enterprise",this.auth=$n(p)}verify(p="verify",m=!1){var C=this;return(0,c.Z)(function*(){function N(){return N=(0,c.Z)(function*(de){if(!m){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var He=(0,c.Z)(function*(nt,vt){Le(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(an=>{if(void 0!==an.recaptchaKey){const $i=new fn(an);return null==de.tenantId?de._agentRecaptchaConfig=$i:de._tenantRecaptchaConfigs[de.tenantId]=$i,nt($i.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(an=>{vt(an)})});return function(nt,vt){return He.apply(this,arguments)}}())}),N.apply(this,arguments)}function Q(de,He,nt){const vt=window.grecaptcha;$t(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(de,{action:p}).then(an=>{He(an)}).catch(()=>{He("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,He)=>{(function M(de){return N.apply(this,arguments)})(C.auth).then(nt=>{if(!m&&$t(window.grecaptcha))Q(nt,de,He);else{if(typeof window>"u")return void He(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Q(nt,de,He)}).catch(vt=>{He(vt)})}}).catch(nt=>{He(nt)})})})()}}function ln(v,p,m){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(v,p,m,C=!1){const M=new wa(v);let N;try{N=yield M.verify(m)}catch{N=yield M.verify(m,!0)}const Q=Object.assign({},p);return Object.assign(Q,C?{captchaResp:N}:{captchaResponse:N}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class ud{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=N=>new Promise((Q,de)=>{try{Q(p(N))}catch(He){de(He)}});C.onAbort=m,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const C=[];try{for(const M of m.queue)yield M(p),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const N of C)try{N()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class to{constructor(p,m,C,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new ud(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=er(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield z.create(C,p),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var C;const M=yield m.assertedPersistence.getCurrentUser();let N=M,Q=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,He=N?._redirectEventId,nt=yield m.tryRedirectSignIn(p);(!de||de===He)&&nt?.user&&(N=nt.user,Q=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(Q)try{yield m.beforeStateQueue.runMiddleware(N)}catch(de){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return ue(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield yr(p)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function pr(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&ue(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return p&&ue(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(er(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const m=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new fn(m);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new wa(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,c.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&er(p)||m._popupRedirectResolver;ue(C,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[er(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var C,M;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Q,this,"internal-error"),Q.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,C,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(C["X-Firebase-Client"]=M);const N=yield p._getAppCheckToken();return N&&(C["X-Firebase-AppCheck"]=N),C})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var m;const C=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function _t(v,...p){_e.logLevel<=le.in.WARN&&_e.warn(`Auth (${k.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function $n(v){return(0,j.m9)(v)}class Ps{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nn(v,p,m){const C=$n(v);ue(C._canInitEmulator,C,"emulator-config-failed"),ue(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const M=!!m?.disableWarnings,N=ld(p),{host:Q,port:de}=function br(v){const p=ld(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:Hr(C.substr(N.length+1))}}{const[N,Q]=C.split(":");return{host:N,port:Hr(Q)}}}(p);C.config.emulator={url:`${N}//${Q}${null===de?"":`:${de}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Q,port:de,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ca(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ld(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Hr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class ps{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ke("not implemented")}_getIdTokenResponse(p){return Ke("not implemented")}_linkToIdToken(p,m){return Ke("not implemented")}_getReauthenticationResolver(p){return Ke("not implemented")}}function ba(v,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:resetPassword",he(v,p))})).apply(this,arguments)}function Ia(v,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qh(v,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",he(v,p))})).apply(this,arguments)}function Wh(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPassword",he(v,p))})).apply(this,arguments)}function Ol(v,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:sendOobCode",he(v,p))})).apply(this,arguments)}function Zp(v,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(v,p){return Ol(v,p)})).apply(this,arguments)}function dd(v,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(v,p){return Ol(v,p)})).apply(this,arguments)}function Zh(v,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(v,p){return Ol(v,p)})).apply(this,arguments)}function fd(v,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(v,p){return Ol(v,p)})).apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithEmailLink",he(v,p))})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithEmailLink",he(v,p))})).apply(this,arguments)}class Fl extends ps{constructor(p,m,C,M=null){super("password",C),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Fl(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Fl(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){var C;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const N=yield ln(p,M,"signInWithPassword");return Wh(p,N)}return Wh(p,M).catch(function(){var N=(0,c.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield ln(p,M,"signInWithPassword");return Wh(p,de)}return Promise.reject(Q)});return function(Q){return N.apply(this,arguments)}}());case"emailLink":return function Kp(v,p){return vu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Ia(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Kh(v,p){return wu.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ro(v,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithIdp",he(v,p))})).apply(this,arguments)}class Xi extends ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Xi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!C||!M)return null;const Q=new Xi(C,M);return Q.idToken=N.idToken||void 0,Q.accessToken=N.accessToken||void 0,Q.secret=N.secret,Q.nonce=N.nonce,Q.pendingToken=N.pendingToken||null,Q}_getIdTokenResponse(p){return ro(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ro(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ro(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,j.xO)(m)}return p}}function Ll(v,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:sendVerificationCode",he(v,p))})).apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,p))})).apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(v,p){const m=yield Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,p));if(m.temporaryProof)throw hn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const md={USER_NOT_FOUND:"user-not-found"};function Bl(){return(Bl=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithPhoneNumber",he(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),md)})).apply(this,arguments)}class qn extends ps{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new qn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new qn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Vl(v,p){return Da.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function gd(v,p){return Ul.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Cu(v,p){return Bl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:M,temporaryProof:N}=p;return C||m||M||N?new qn({verificationId:m,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class Ns{constructor(p){var m,C,M,N,Q,de;const He=(0,j.zd)((0,j.pd)(p)),nt=null!==(m=He.apiKey)&&void 0!==m?m:null,vt=null!==(C=He.oobCode)&&void 0!==C?C:null,an=function gs(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);ue(nt&&vt&&an,"argument-error"),this.apiKey=nt,this.operation=an,this.code=vt,this.continueUrl=null!==(N=He.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Q=He.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(de=He.tenantId)&&void 0!==de?de:null}static parseLink(p){const m=function Yp(v){const p=(0,j.zd)((0,j.pd)(v)).link,m=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||m||p||v}(p);try{return new Ns(m)}catch{return null}}}let Yh=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,C){return Fl._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const M=Ns.parseLink(C);return ue(M,"argument-error"),Fl._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Cn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ko extends Cn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class jl extends ko{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ue("providerId"in m&&"signInMethod"in m,"argument-error"),Xi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ue(p.idToken||p.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return jl.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return jl.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:Q,providerId:de}=p;if(!C&&!M&&!m&&!N||!de)return null;try{return new jl(de)._credential({idToken:m,accessToken:C,nonce:Q,pendingToken:N})}catch{return null}}}let so=(()=>{class v extends ko{constructor(){super("facebook.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),si=(()=>{class v extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:M}=m;if(!C&&!M)return null;try{return v.credential(C,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),yd=(()=>{class v extends ko{constructor(){super("github.com")}static credential(m){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vi extends ps{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ro(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ro(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ro(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M,pendingToken:N}=m;return C&&M&&N&&C===M?new Vi(C,N):null}static _create(p,m){return new Vi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hl extends Cn{constructor(p){ue(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Hl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Hl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Vi.fromJSON(p);return ue(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return Vi._create(C,m)}catch{return null}}}let bu=(()=>{class v extends ko{constructor(){super("twitter.com")}static credential(m,C){return Xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=m;if(!C||!M)return null;try{return v.credential(C,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Aa(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signUp",he(v,p))})).apply(this,arguments)}class Ir{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,M=!1){return(0,c.Z)(function*(){const N=yield Rn._fromIdTokenResponse(p,C,M),Q=Fo(C);return new Ir({user:N,providerId:Q,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const M=Fo(C);return new Ir({user:p,providerId:M,_tokenResponse:C,operationType:m})})()}}function Fo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Pt(v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(v){var p;const m=$n(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Aa(m,{returnSecureToken:!0}),M=yield Ir._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class zl extends j.ZR{constructor(p,m,C,M){var N;super(m.code,m.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,zl.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,M){return new zl(p,m,C,M)}}function Gl(v,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?zl._fromErrorAndOperation(v,N,p,C):N})}function _d(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Qh(v,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(v,p){const m=(0,j.m9)(v);yield Re(!0,m,p);const{providerUserInfo:C}=yield Un(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=_d(C||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ui(v,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(v,p,m=!1){const C=yield Gt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ir._forOperation(v,"link",C)})).apply(this,arguments)}function Re(v,p,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(v,p,m){yield yr(p);const M=!1===v?"provider-already-linked":"no-such-provider";ue(_d(p.providerData).has(m)===v,p.auth,M)})).apply(this,arguments)}function ql(v,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(v,p,m=!1){const{auth:C}=v,M="reauthenticate";try{const N=yield Gt(v,Gl(C,M,p,v),m);ue(N.idToken,C,"internal-error");const Q=Pn(N.idToken);ue(Q,C,"internal-error");const{sub:de}=Q;return ue(v.uid===de,C,"user-mismatch"),Ir._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&Se(C,"user-mismatch"),N}})).apply(this,arguments)}function Wn(v,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(v,p,m=!1){const C="signIn",M=yield Gl(v,C,p),N=yield Ir._fromIdTokenResponse(v,C,M);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Os(v,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(v,p){return Wn($n(v),p)})).apply(this,arguments)}function xa(v,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(v,p){const m=(0,j.m9)(v);return yield Re(!1,m,p.providerId),Ui(m,p)})).apply(this,arguments)}function vd(v,p){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,p){return ql((0,j.m9)(v),p)})).apply(this,arguments)}function Sy(v,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(v,p){return Xt(v,"POST","/v1/accounts:signInWithCustomToken",he(v,p))})).apply(this,arguments)}function oi(v,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(v,p){const m=$n(v),C=yield Sy(m,{token:p,returnSecureToken:!0}),M=yield Ir._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class ai{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?oo._fromServerResponse(p,m):"totpInfo"in m?ui._fromServerResponse(p,m):Se(p,"internal-error")}}class oo extends ai{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new oo(m)}}class ui extends ai{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ui(m)}}function Ma(v,p,m){var C;ue((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ue(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ue(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ue(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function wd(v,p,m){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,c.Z)(function*(v,p,m){var C;const M=$n(v),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Q=yield ln(M,N,"getOobCode",!0);m&&Ma(M,Q,m),yield dd(M,Q)}else m&&Ma(M,N,m),yield dd(M,N).catch(function(){var Q=(0,c.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const He=yield ln(M,N,"getOobCode",!0);m&&Ma(M,He,m),yield dd(M,He)}});return function(de){return Q.apply(this,arguments)}}())}),Ed.apply(this,arguments)}function xu(v,p,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,p,m){yield ba((0,j.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Zl(v,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(v,p){yield qh((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function Jr(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(v,p){const m=(0,j.m9)(v),C=yield ba(m,{oobCode:p}),M=C.requestType;switch(ue(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(C.mfaInfo,m,"internal-error");default:ue(C.email,m,"internal-error")}let N=null;return C.mfaInfo&&(N=ai._fromServerResponse($n(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Kl(v,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(v,p){const{data:m}=yield Jr((0,j.m9)(v),p);return m.email})).apply(this,arguments)}function Pa(v,p,m){return Na.apply(this,arguments)}function Na(){return Na=(0,c.Z)(function*(v,p,m){var C;const M=$n(v),N={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const nt=yield ln(M,N,"signUpPassword");Q=Aa(M,nt)}else Q=Aa(M,N).catch(function(){var nt=(0,c.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const an=yield ln(M,N,"signUpPassword");return Aa(M,an)}return Promise.reject(vt)});return function(vt){return nt.apply(this,arguments)}}());const de=yield Q.catch(nt=>Promise.reject(nt)),He=yield Ir._fromIdTokenResponse(M,"signIn",de);return yield M._updateCurrentUser(He.user),He}),Na.apply(this,arguments)}function Yl(v,p,m){return Os((0,j.m9)(v),Yh.credential(p,m))}function Cd(v,p,m){return ks.apply(this,arguments)}function ks(){return ks=(0,c.Z)(function*(v,p,m){var C;const M=$n(v),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(de,He){ue(He.handleCodeInApp,M,"argument-error"),He&&Ma(M,de,He)}if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const de=yield ln(M,N,"getOobCode",!0);Q(de,m),yield Zh(M,de)}else Q(N,m),yield Zh(M,N).catch(function(){var de=(0,c.Z)(function*(He){if("auth/missing-recaptcha-token"!==He.code)return Promise.reject(He);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield ln(M,N,"getOobCode",!0);Q(nt,m),yield Zh(M,nt)}});return function(He){return de.apply(this,arguments)}}())}),ks.apply(this,arguments)}function bd(v,p){return"EMAIL_SIGNIN"===Ns.parseLink(p)?.operation}function Qp(v,p,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v),M=Yh.credentialWithLink(p,m||mt());return ue(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Os(C,M)})).apply(this,arguments)}function uo(v,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:createAuthUri",he(v,p))})).apply(this,arguments)}function Jp(v,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(v,p){const C={identifier:p,continueUri:zt()?mt():"http://localhost"},{signinMethods:M}=yield uo((0,j.m9)(v),C);return M||[]})).apply(this,arguments)}function Jh(v,p){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(v,p){const m=(0,j.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ma(m.auth,M,p);const{email:N}=yield Zp(m.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Id(v,p,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ma(C.auth,N,m);const{email:Q}=yield fd(C.auth,N);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function ka(v,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(v,p){return Pe(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Nu(v,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,j.m9)(v),N={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Q=yield Gt(C,ka(C.auth,N));C.displayName=Q.displayName||null,C.photoURL=Q.photoUrl||null;const de=C.providerData.find(({providerId:He})=>"password"===He);de&&(de.displayName=C.displayName,de.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Ql(v,p){return es((0,j.m9)(v),p,null)}function Xh(v,p){return es((0,j.m9)(v),null,p)}function es(v,p,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(v,p,m){const{auth:C}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const Q=yield Gt(v,Ia(C,N));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Uo{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class co extends Uo{constructor(p,m,C,M){super(p,m,C),this.username=M}}class Dd extends Uo{constructor(p,m){super(p,"facebook.com",m)}}class Ad extends co{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ef extends Uo{constructor(p,m){super(p,"google.com",m)}}class Jl extends co{constructor(p,m,C){super(p,"twitter.com",m,C)}}function ku(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Td(v){var p,m;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const Q=null===(m=null===(p=Pn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Q)return new Uo(N,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!C)return null;switch(C){case"facebook.com":return new Dd(N,M);case"github.com":return new Ad(N,M);case"google.com":return new ef(N,M);case"twitter.com":return new Jl(N,M,v.screenName||null);case"custom":case"anonymous":return new Uo(N,null);default:return new Uo(N,C,M)}}(m)}class li{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new li("enroll",p,m)}static _fromMfaPendingCredential(p){return new li("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return li._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return li._fromIdtoken(p.multiFactorSession.idToken)}return null}}class tc{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=$n(p),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(de=>ai._fromServerResponse(C,de));ue(M.mfaPendingCredential,C,"internal-error");const Q=li._fromMfaPendingCredential(M.mfaPendingCredential);return new tc(Q,N,function(){var de=(0,c.Z)(function*(He){const nt=yield He._process(C,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const an=yield Ir._fromIdTokenResponse(C,m.operationType,vt);return yield C._updateCurrentUser(an.user),an;case"reauthenticate":return ue(m.user,C,"internal-error"),Ir._forOperation(m.user,m.operationType,vt);default:Se(C,"internal-error")}});return function(He){return de.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Ls(v,p){var m;const C=(0,j.m9)(v),M=p;return ue(p.customData.operationType,C,"argument-error"),ue(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),tc._fromError(C,M)}function Lu(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:start",he(v,p))}class Va{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>ai._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Va(p)}getSession(){var p=this;return(0,c.Z)(function*(){return li._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,c.Z)(function*(){const M=p,N=yield C.getSession(),Q=yield Gt(C.user,M._process(C.user.auth,N,m));return yield C.user._updateTokensIfNecessary(Q),C.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const C="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const N=yield Gt(m.user,function jo(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",he(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Q})=>Q!==C),yield m.user._updateTokensIfNecessary(N),yield m.user.reload()}catch(N){throw N}})()}}const ho=new WeakMap;function Ua(v){const p=(0,j.m9)(v);return ho.has(p)||ho.set(p,Va._fromUser(p)),ho.get(p)}const Vs="__sak";class Ba{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const xd=(()=>{class v extends Ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nc(){const v=(0,j.z$)();return O(v)||be(v)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&m(C,N,M)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((de,He,nt)=>{this.notifyListeners(de,nt)});const M=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!C)return}const N=()=>{const de=this.storage.getItem(M);!C&&this.localCache[M]===de||this.notifyListeners(M,de)},Q=this.storage.getItem(M);!function Yt(){return(0,j.w1)()&&10===document.documentMode}()||Q===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,C){this.localCache[m]=C;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var M=()=>super._set,N=this;return(0,c.Z)(function*(){yield M().call(N,m,C),N.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,M=this;return(0,c.Z)(function*(){const N=yield C().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var C=()=>super._remove,M=this;return(0,c.Z)(function*(){yield C().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Us=(()=>{class v extends Ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();let sf=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(N=>N.isListeningto(m));if(C)return C;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,c.Z)(function*(){const M=m,{eventId:N,eventType:Q,data:de}=M.data,He=C.handlersMap[Q];if(!He?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Q});const nt=Array.from(He).map(function(){var an=(0,c.Z)(function*($i){return $i(M.origin,de)});return function($i){return an.apply(this,arguments)}}()),vt=yield function Xp(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:N,eventType:Q,response:vt})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Bs(v="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return v+m}class zo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var M=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Q,de;return new Promise((He,nt)=>{const vt=Bs("",20);N.port1.start();const an=setTimeout(()=>{nt(new Error("unsupported_event"))},C);de={messageChannel:N,onMessage($i){const ia=$i;if(ia.data.eventId===vt)switch(ia.data.status){case"ack":clearTimeout(an),Q=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),He(ia.data.response);break;default:clearTimeout(an),clearTimeout(Q),nt(new Error("invalid_response"))}}},M.handlers.add(de),N.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:m},[N.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function rr(){return window}function Ha(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function ic(){return(ic=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kn="firebaseLocalStorageDb",ir="firebaseLocalStorage",Uu="fbase_key";class Ti{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function sc(v,p){return v.transaction([ir],p?"readwrite":"readonly").objectStore(ir)}function pn(){const v=indexedDB.open(kn,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(ir,{keyPath:Uu})}catch(M){m(M)}}),v.addEventListener("success",(0,c.Z)(function*(){const C=v.result;C.objectStoreNames.contains(ir)?p(C):(C.close(),yield function Rd(){const v=indexedDB.deleteDatabase(kn);return new Ti(v).toPromise()}(),p(yield pn()))}))})}function Pd(v,p,m){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(v,p,m){const C=sc(v,!0).put({[Uu]:p,value:m});return new Ti(C).toPromise()})).apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(v,p){const m=sc(v,!1).get(p),C=yield new Ti(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function eg(v,p){const m=sc(v,!0).delete(p);return new Ti(m).toPromise()}const uf=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield pn()),m.db})()}_withRetries(m){var C=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield m(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Ha()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=sf._getInstance(function ms(){return Ha()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var C,M;if(m.activeServiceWorker=yield function rc(){return ic.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zo(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Md(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield pn();return yield Pd(m,Vs,"1"),yield eg(m,Vs),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(N=>Pd(N,m,C)),M.localCache[m]=C,M.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,c.Z)(function*(){const M=yield C._withRetries(N=>function xy(v,p){return Bu.apply(this,arguments)}(N,m));return C.localCache[m]=M,M})()}_remove(m){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(M=>eg(M,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const C=yield m._withRetries(Q=>{const de=sc(Q,!1).getAll();return new Ti(de).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Q,value:de}of C)N.add(Q),JSON.stringify(m.localCache[Q])!==JSON.stringify(de)&&(m.notifyListeners(Q,de),M.push(Q));for(const Q of Object.keys(m.localCache))m.localCache[Q]&&!N.has(Q)&&(m.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(m,C){this.localCache[m]=C;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function My(v,p){return Pe(v,"POST","/v2/accounts/mfaSignIn:start",he(v,p))}const Hu=1e12;class Tr{constructor(p){this.auth=p,this.counter=Hu,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new ji(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||Hu;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Hu))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var C;return null===(C=m._widgets.get(p||Hu))||void 0===C||C.execute(),""})()}}class ji{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ue(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oc(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=$r("rcb"),zu=new ri(3e4,6e4);class kd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=rr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ue(function ng(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&xt(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((C,M)=>{const N=rr().setTimeout(()=>{M(Ie(p,"network-request-failed"))},zu.get());rr()[Ga]=()=>{rr().clearTimeout(N),delete rr()[Ga];const de=rr().grecaptcha;if(!de||!xt(de))return void M(Ie(p,"internal-error"));const He=de.render;de.render=(nt,vt)=>{const an=He(nt,vt);return this.counter++,an},this.hostLanguage=m,C(de)},Qt(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ga,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Ie(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=rr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lf{load(p){return(0,c.Z)(function*(){return new Tr(p)})()}clearedOneInstance(){}}const rg="recaptcha",ac={theme:"light",type:"image"};class ci{constructor(p,m=Object.assign({},ac),C){this.parameters=m,this.type=rg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(C),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ue(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lf:new kd,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(N=>{const Q=de=>{!de||(p.tokenChangeListeners.delete(Q),N(de))};p.tokenChangeListeners.add(Q),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=rr()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ue(zt()&&!Ha(),p.auth,"internal-error"),yield function Gu(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function oe(v){return ne.apply(this,arguments)}(p.auth);ue(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fo{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=qn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function cf(v,p,m){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(v,p,m){const C=$n(v),M=yield qo(C,p,(0,j.m9)(m));return new fo(M,N=>Os(C,N))})).apply(this,arguments)}function Fd(v,p,m){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v);yield Re(!1,C,"phone");const M=yield qo(C.auth,p,(0,j.m9)(m));return new fo(M,N=>xa(C,N))})).apply(this,arguments)}function qu(v,p,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v),M=yield qo(C.auth,p,(0,j.m9)(m));return new fo(M,N=>vd(C,N))})).apply(this,arguments)}function qo(v,p,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(v,p,m){var C;const M=yield m.verify();try{let N;if(ue("string"==typeof M,v,"argument-error"),ue(m.type===rg,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const Q=N.session;if("phoneNumber"in N)return ue("enroll"===Q.type,v,"internal-error"),(yield Lu(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ue("signin"===Q.type,v,"internal-error");const de=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ue(de,v,"missing-multi-factor-info"),(yield My(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield Ll(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Q}}finally{m._reset()}})).apply(this,arguments)}function bn(v,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(v,p){yield Ui((0,j.m9)(v),p)})).apply(this,arguments)}let ig=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=$n(m)}verifyPhoneNumber(m,C){return qo(this.auth,m,(0,j.m9)(C))}static credential(m,C){return qn._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:M}=m;return C&&M?qn._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function di(v,p){return p?er(p):(ue(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Wa extends ps{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ro(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ro(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ro(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function hi(v){return Wn(v.auth,new Wa(v),v.bypassAuthState)}function cc(v){const{auth:p,user:m}=v;return ue(m,p,"internal-error"),ql(m,new Wa(v),v.bypassAuthState)}function Vd(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return ue(m,p,"internal-error"),Ui(m,new Wa(v),v.bypassAuthState)})).apply(this,arguments)}class _s{constructor(p,m,C,M,N=!1){this.auth=p,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(C,M){p.pendingPromise={resolve:C,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(C,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:Q,error:de,type:He}=p;if(de)return void m.reject(de);const nt={auth:m.auth,requestUri:C,sessionId:M,tenantId:Q||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(nt))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return hi;case"linkViaPopup":case"linkViaRedirect":return Vd;case"reauthViaPopup":case"reauthViaRedirect":return cc;default:Se(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zn=new ri(2e3,1e4);function pt(v,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(v,p,m){const C=$n(v);ze(v,p,Cn);const M=di(C,m);return new js(C,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function or(v,p,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v);ze(C.auth,p,Cn);const M=di(C.auth,m);return new js(C.auth,"reauthViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}function dc(v,p,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v);ze(C.auth,p,Cn);const M=di(C.auth,m);return new js(C.auth,"linkViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}let js=(()=>{class v extends _s{constructor(m,C,M,N,Q){super(m,C,N,Q),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const C=yield m.execute();return ue(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,c.Z)(function*(){At(1===m.filter.length,"Popup operations only handle one event");const C=Bs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Ie(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Zn.get())};m()}}return v.currentPopupAction=null,v})();const Mr=new Map;class sg extends _s{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let C=Mr.get(m.auth._key());if(!C){try{const N=(yield function hc(v,p){return vs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}Mr.set(m.auth._key(),C)}return m.bypassAuthState||Mr.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const M=yield C.auth._redirectUserForId(p.eventId);if(M)return C.user=M,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function vs(){return(vs=(0,c.Z)(function*(v,p){const m=Ya(p),C=fi(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(m));return yield C._remove(m),M})).apply(this,arguments)}function fc(v,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(v,p){return fi(v)._set(Ya(p),"true")})).apply(this,arguments)}function Zo(){Mr.clear()}function Ud(v,p){Mr.set(v._key(),p)}function fi(v){return er(v._redirectPersistence)}function Ya(v){return Br("pendingRedirect",v.config.apiKey,v.name)}function vr(v,p,m){return function ws(v,p,m){return pc.apply(this,arguments)}(v,p,m)}function pc(){return(pc=(0,c.Z)(function*(v,p,m){const C=$n(v);ze(v,p,Cn),yield C._initializationPromise;const M=di(C,m);return yield fc(M,C),M._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Rr(v,p,m){return function Ko(v,p,m){return Zu.apply(this,arguments)}(v,p,m)}function Zu(){return(Zu=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v);ze(C.auth,p,Cn),yield C.auth._initializationPromise;const M=di(C.auth,m);yield fc(M,C.auth);const N=yield mo(C);return M._openRedirect(C.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function df(v,p,m){return function gc(v,p,m){return mc.apply(this,arguments)}(v,p,m)}function mc(){return(mc=(0,c.Z)(function*(v,p,m){const C=(0,j.m9)(v);ze(C.auth,p,Cn),yield C.auth._initializationPromise;const M=di(C.auth,m);yield Re(!1,C,p.providerId),yield fc(M,C.auth);const N=yield mo(C);return M._openRedirect(C.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function hf(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(v,p){return yield $n(v)._initializationPromise,Ku(v,p,!1)})).apply(this,arguments)}function Ku(v,p){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(v,p,m=!1){const C=$n(v),M=di(C,p),Q=yield new sg(C,M,m).execute();return Q&&!m&&(delete Q.user._redirectEventId,yield C._persistUserIfCurrent(Q.user),yield C._setRedirectUser(null,p)),Q})).apply(this,arguments)}function mo(v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(v){const p=Bs(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Yo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function _c(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qo(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Qo(p)){const M=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ie(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yc(p))}saveEventToCache(p){this.cachedEventUids.add(yc(p)),this.lastProcessedEventTime=Date.now()}}function yc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Qo({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Jo(v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(v,p={}){return Pe(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,og=/^https?/;function ea(){return(ea=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Jo(v);for(const m of p)try{if(Bd(m))return}catch{}Se(v,"unauthorized-domain")})).apply(this,arguments)}function Bd(v){const p=mt(),{protocol:m,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Q.hostname===C}if(!og.test(m))return!1;if(Qu.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const $s=new ri(3e4,6e4);function vc(){const v=rr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Ju=null;function Kn(v){return Ju=Ju||function ff(v){return new Promise((p,m)=>{var C,M,N;function Q(){vc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{vc(),m(Ie(v,"network-request-failed"))},timeout:$s.get()})}if(null!==(M=null===(C=rr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(N=rr().gapi)||void 0===N||!N.load){const de=$r("iframefcb");return rr()[de]=()=>{gapi.load?Q():m(Ie(v,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${de}`).catch(He=>m(He))}Q()}}).catch(p=>{throw Ju=null,p})}(v),Ju}const Es=new ri(5e3,15e3),lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xr(v){const p=v.config;ue(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Qi(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:k.SDK_VERSION},M=yo.get(v.config.apiHost);M&&(C.eid=M);const N=v._getFrameworks();return N.length&&(C.fw=N.join(",")),`${m}?${(0,j.xO)(C).slice(1)}`}function ta(){return ta=(0,c.Z)(function*(v){const p=yield Kn(v),m=rr().gapi;return ue(m,v,"internal-error"),p.open({where:document.body,url:Xr(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lg,dontclear:!0},C=>new Promise(function(){var M=(0,c.Z)(function*(N,Q){yield C.restyle({setHideOnLeave:!1});const de=Ie(v,"network-request-failed"),He=rr().setTimeout(()=>{Q(de)},Es.get());function nt(){rr().clearTimeout(He),N(C)}C.ping(nt).then(nt,()=>{Q(de)})});return function(N,Q){return M.apply(this,arguments)}}()))}),ta.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft=encodeURIComponent("fac");function Nt(v,p,m,C,M,N){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v,p,m,C,M,N){ue(v.config.authDomain,v,"auth-domain-config-required"),ue(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:k.SDK_VERSION,eventId:M};if(p instanceof Cn){p.setDefaultLanguage(v.languageCode),Q.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,an]of Object.entries(N||{}))Q[vt]=an}if(p instanceof ko){const vt=p.getScopes().filter(an=>""!==an);vt.length>0&&(Q.scopes=vt.join(","))}v.tenantId&&(Q.tid=v.tenantId);const de=Q;for(const vt of Object.keys(de))void 0===de[vt]&&delete de[vt];const He=yield v._getAppCheckToken(),nt=He?`#${Ft}=${encodeURIComponent(He)}`:"";return`${dn(v)}?${(0,j.xO)(de).slice(1)}${nt}`})).apply(this,arguments)}function dn({config:v}){return v.emulator?Qi(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const rs="webStorageSupport",is=class na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Us,this._completeRedirectFn=Ku,this._overrideRedirectResult=Ud}_openPopup(p,m,C,M){var N=this;return(0,c.Z)(function*(){var Q;At(null===(Q=N.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const de=yield Nt(p,m,C,mt(),M);return function ge(v,p,m,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-C)/2,0).toString();let de="";const He=Object.assign(Object.assign({},E),{width:C.toString(),height:M.toString(),top:N,left:Q}),nt=(0,j.z$)().toLowerCase();m&&(de=R(nt)?"_blank":m),F(nt)&&(p=p||"http://localhost",He.scrollbars="yes");const vt=Object.entries(He).reduce(($i,[ia,el])=>`${$i}${ia}=${el},`,"");if(function ut(v=(0,j.z$)()){var p;return be(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==de)return function Ye(v,p){const m=document.createElement("a");m.href=v,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",de),new X(null);const an=window.open(p||"",de,vt);ue(an,v,"popup-blocked");try{an.focus()}catch{}return new X(an)}(p,de,Bs())})()}_openRedirect(p,m,C,M){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(p),function $a(v){rr().location.href=v}(yield Nt(p,m,C,mt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(At(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const C=yield function wc(v){return ta.apply(this,arguments)}(p),M=new Yo(p);return C.register("authEvent",N=>(ue(N?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=C,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(rs,{type:rs},M=>{var N;const Q=null===(N=M?.[0])||void 0===N?void 0:N[rs];void 0!==Q&&m(!!Q),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ag(v){return ea.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return kt()||O()||be()}};class Nr extends class ei{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nr(p)}_finalizeEnroll(p,m,C){return function La(v,p){return Pe(v,"POST","/v2/accounts/mfaEnrollment:finalize",he(v,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function sr(v,p){return Pe(v,"POST","/v2/accounts/mfaSignIn:finalize",he(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ra=(()=>{class v{constructor(){}static assertion(m){return Nr._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var bc="@firebase/auth";class $d{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Xu(v){(0,k._registerComponent)(new me.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:de}=C.options;ue(Q&&!Q.includes(":"),"invalid-api-key",{appName:C.name});const He={apiKey:Q,authDomain:de,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(v)},nt=new to(C,M,N,He);return function Oo(v,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(er);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,p?.popupRedirectResolver)}(nt,m),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new me.wA("auth-internal",p=>{const m=$n(p.getProvider("auth").getImmediate());return new $d(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(bc,"0.23.2",function Hd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(bc,"0.23.2","esm2017")}("Browser")},2090:(wt,Oe,V)=>{V.d(Oe,{$s:()=>er,BH:()=>xe,G6:()=>Qi,L:()=>we,LL:()=>Me,P0:()=>gt,Pz:()=>Ie,Sg:()=>ze,UG:()=>Ke,US:()=>me,ZB:()=>J,ZR:()=>Pe,aH:()=>Se,b$:()=>zt,eu:()=>ee,hl:()=>ie,jU:()=>At,m9:()=>Br,ne:()=>Gt,pd:()=>Pn,r3:()=>Un,ru:()=>mt,tV:()=>q,uI:()=>ue,vZ:()=>mr,w1:()=>Yi,xO:()=>Fi,xb:()=>wi,z$:()=>Ge,zI:()=>Ae,zd:()=>Kr});const re=function(z){const $=[];let F=0;for(let O=0;O<z.length;O++){let R=z.charCodeAt(O);R<128?$[F++]=R:R<2048?($[F++]=R>>6|192,$[F++]=63&R|128):55296==(64512&R)&&O+1<z.length&&56320==(64512&z.charCodeAt(O+1))?(R=65536+((1023&R)<<10)+(1023&z.charCodeAt(++O)),$[F++]=R>>18|240,$[F++]=R>>12&63|128,$[F++]=R>>6&63|128,$[F++]=63&R|128):($[F++]=R>>12|224,$[F++]=R>>6&63|128,$[F++]=63&R|128)}return $},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let R=0;R<z.length;R+=3){const Y=z[R],Ce=R+1<z.length,Ze=Ce?z[R+1]:0,yt=R+2<z.length,be=yt?z[R+2]:0;let Yt=(15&Ze)<<2|be>>6,kt=63&be;yt||(kt=64,Ce||(Yt=64)),O.push(F[Y>>2],F[(3&Y)<<4|Ze>>4],F[Yt],F[kt])}return O.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(re(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let F=0,O=0;for(;F<z.length;){const R=z[F++];if(R<128)$[O++]=String.fromCharCode(R);else if(R>191&&R<224){const Y=z[F++];$[O++]=String.fromCharCode((31&R)<<6|63&Y)}else if(R>239&&R<365){const yt=((7&R)<<18|(63&z[F++])<<12|(63&z[F++])<<6|63&z[F++])-65536;$[O++]=String.fromCharCode(55296+(yt>>10)),$[O++]=String.fromCharCode(56320+(1023&yt))}else{const Y=z[F++],Ce=z[F++];$[O++]=String.fromCharCode((15&R)<<12|(63&Y)<<6|63&Ce)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const F=$?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let R=0;R<z.length;){const Y=F[z.charAt(R++)],Ze=R<z.length?F[z.charAt(R)]:0;++R;const be=R<z.length?F[z.charAt(R)]:64;++R;const ut=R<z.length?F[z.charAt(R)]:64;if(++R,null==Y||null==Ze||null==be||null==ut)throw new fe;O.push(Y<<2|Ze>>4),64!==be&&(O.push(Ze<<4&240|be>>2),64!==ut&&O.push(be<<6&192|ut))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(z){return function(z){const $=re(z);return me.encodeByteArray($,!0)}(z).replace(/\./g,"")},q=function(z){try{return me.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function J(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const F in $)!$.hasOwnProperty(F)||!$e(F)||(z[F]=J(z[F],$[F]));return z}function $e(z){return"__proto__"!==z}const _e=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=z&&q(z[1]);return $&&JSON.parse($)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},gt=z=>{const $=(z=>{var $,F;return null===(F=null===($=_e())||void 0===$?void 0:$.emulatorHosts)||void 0===F?void 0:F[z]})(z);if(!$)return;const F=$.lastIndexOf(":");if(F<=0||F+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const O=parseInt($.substring(F+1),10);return"["===$[0]?[$.substring(1,F-1),O]:[$.substring(0,F),O]},Se=()=>{var z;return null===(z=_e())||void 0===z?void 0:z.config},Ie=z=>{var $;return null===($=_e())||void 0===$?void 0:$[`_${z}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,F)=>{this.resolve=$,this.reject=F})}wrapCallback($){return(F,O)=>{F?this.reject(F):this.resolve(O),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(F):$(F,O))}}}function ze(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=$||"demo-project",R=z.iat||0,Y=z.sub||z.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:R,exp:R+3600,auth_time:R,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},z);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Ce)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ke(){var z;const $=null===(z=_e())||void 0===z?void 0:z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function mt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yi(){const z=Ge();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Qi(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((z,$)=>{try{let F=!0;const O="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(O);R.onsuccess=()=>{R.result.close(),F||self.indexedDB.deleteDatabase(O),z(!0)},R.onupgradeneeded=()=>{F=!1},R.onerror=()=>{var Y;$((null===(Y=R.error)||void 0===Y?void 0:Y.message)||"")}}catch(F){$(F)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor($,F,O){super(F),this.code=$,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor($,F,O){this.service=$,this.serviceName=F,this.errors=O}create($,...F){const O=F[0]||{},R=`${this.service}/${$}`,Y=this.errors[$],Ce=Y?function lt(z,$){return z.replace(Tt,(F,O)=>{const R=$[O];return null!=R?String(R):`<${O}?>`})}(Y,O):"Error";return new Pe(R,`${this.serviceName}: ${Ce} (${R}).`,O)}}const Tt=/\{\$([^}]+)}/g;function Un(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function wi(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function mr(z,$){if(z===$)return!0;const F=Object.keys(z),O=Object.keys($);for(const R of F){if(!O.includes(R))return!1;const Y=z[R],Ce=$[R];if(Jn(Y)&&Jn(Ce)){if(!mr(Y,Ce))return!1}else if(Y!==Ce)return!1}for(const R of O)if(!F.includes(R))return!1;return!0}function Jn(z){return null!==z&&"object"==typeof z}function Fi(z){const $=[];for(const[F,O]of Object.entries(z))Array.isArray(O)?O.forEach(R=>{$.push(encodeURIComponent(F)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(F)+"="+encodeURIComponent(O));return $.length?"&"+$.join("&"):""}function Kr(z){const $={};return z.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[R,Y]=O.split("=");$[decodeURIComponent(R)]=decodeURIComponent(Y)}}),$}function Pn(z){const $=z.indexOf("?");if(!$)return"";const F=z.indexOf("#",$);return z.substring($,F>0?F:void 0)}function Gt(z,$){const F=new ht(z,$);return F.subscribe.bind(F)}class ht{constructor($,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{$(this)}).catch(O=>{this.error(O)})}next($){this.forEachObserver(F=>{F.next($)})}error($){this.forEachObserver(F=>{F.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,F,O){let R;if(void 0===$&&void 0===F&&void 0===O)throw new Error("Missing Observer.");R=function tn(z,$){if("object"!=typeof z||null===z)return!1;for(const F of $)if(F in z&&"function"==typeof z[F])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:F,complete:O},void 0===R.next&&(R.next=Yr),void 0===R.error&&(R.error=Yr),void 0===R.complete&&(R.complete=Yr);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),Y}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,$)}sendOne($,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{F(this.observers[$])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function er(z,$=1e3,F=2){const O=$*Math.pow(F,z),R=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+R)}function Br(z){return z&&z._delegate?z._delegate:z}},1442:(wt,Oe,V)=>{var c=V(4650);let j=null;function k(){return j}const fe=new c.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const q=new c.OlP("Location Initialized");let G=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function $e(){return new G((0,c.LFG)(fe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(_t)},providedIn:"root"}),n})();const _e=new c.OlP("appBaseHref");let _t=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(_e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+it(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+it(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(_e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function xe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ne,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return new Se((0,c.LFG)(Ee))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}let ln=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $n{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $n(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),no(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{no(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function no(n,e){n.context.$implicit=e.item}let Nn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ld,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){br("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){br("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ld{constructor(){this.$implicit=null,this.ngIf=null}}function br(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let md=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Ns(n){return"server"===n}let ko=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new jl((0,c.LFG)(fe),window)}),n})();class jl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function si(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=so(this.window.history)||so(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function so(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Jl extends class ef extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){j||(j=n)}(new Jl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xl(){return ku=ku||document.querySelector("base"),ku?ku.getAttribute("href"):null}();return null==t?null:function Sd(n){Fu=Fu||document.createElement("a"),Fu.setAttribute("href",n);const e=Fu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Fu,ku=null;const Bo=new c.OlP("TRANSITION_ID"),ec=[{provide:c.ip1,useFactory:function tf(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Bo,fe,c.zs3],multi:!0}];let nf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new c.OlP("EventManagerPlugins");let Fs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ts),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class li{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let tc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends tc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Lu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Lu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Lu(n){k().remove(n)}const La={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bi=/%COMP%/g;function Ba(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ba(n,i,t):(i=i.replace(Bi,n),t.push(i))}return t}function nc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $o=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ja(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Xp(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new sf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ba(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fs),c.LFG(Ls),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ja{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(La[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Us(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Us(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=La[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=La[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nc(r)):this.eventManager.addEventListener(e,t,nc(r))}}function Us(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xp extends ja{constructor(e,t,r,i){super(e),this.component=r;const a=Ba(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ua(n){return"_ngcontent-%COMP%".replace(Bi,n)}(i+"-"+r.id),this.hostAttr=function Vs(n){return"_nghost-%COMP%".replace(Bi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sf extends ja{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ba(i.id,i.styles,[]);for(let l=0;l<a.length;l++){const f=document.createElement("style");f.textContent=a[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Bs=(()=>{class n extends li{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zo=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$a={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ha=(()=>{class n extends li{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),zo.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=rr[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zo.forEach(l=>{l!==i&&(0,$a[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Go(){Jl.makeCurrent()},multi:!0},{provide:fe,useFactory:function Uu(){return(0,c.RDi)(document),document},deps:[]}]),Rd=new c.OlP(""),pn=[{provide:c.rWj,useClass:class Fa{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Pd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ir(){return new c.qLn},deps:[]},{provide:ts,useClass:Bs,multi:!0,deps:[fe,c.R0b,c.Lbi]},{provide:ts,useClass:Ha,multi:!0,deps:[fe]},{provide:$o,useClass:$o,deps:[Fs,Ls,c.AFp]},{provide:c.FYo,useExisting:$o},{provide:tc,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[fe]},{provide:Fs,useClass:Fs,deps:[ts,c.R0b]},{provide:class $l{},useClass:nf,deps:[]},[]];let za=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Bo,useExisting:c.AFp},ec]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rd,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Pd,...pn],imports:[md,c.hGG]}),n})(),af=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function tg(){return new af((0,c.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(qo),r},providedIn:"root"}),n})(),qo=(()=>{class n extends qu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qa(n){return new qo(n.get(fe))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var bn=V(8996),xr=V(9751);const{isArray:ig}=Array,{getPrototypeOf:di,prototype:Wa,keys:hi}=Object;function cc(n){if(1===n.length){const e=n[0];if(ig(e))return{args:e,keys:null};if(function Vd(n){return n&&"object"==typeof n&&di(n)===Wa}(e)){const t=hi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ys=V(8421),_s=V(7669),Zn=V(5403),pt=V(4004);const{isArray:Za}=Array;function Ka(n){return(0,pt.U)(e=>function or(n,e){return Za(e)?n(...e):n(e)}(n,e))}function dc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let js=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),po=(()=>{class n extends js{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Mr=new c.OlP("NgValueAccessor"),vs={provide:Mr,useExisting:(0,c.Gpc)(()=>Zo),multi:!0},Wo=new c.OlP("CompositionEventMode");let Zo=(()=>{class n extends js{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fc(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Wo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([vs]),c.qOj]}),n})();function fi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Ya(n){return null!=n&&"number"==typeof n.length}const vr=new c.OlP("NgValidators"),ws=new c.OlP("NgAsyncValidators"),pc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rr{static min(e){return function Ko(n){return e=>{if(fi(e.value)||fi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Zu(n){return e=>{if(fi(e.value)||fi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return df(e)}static requiredTrue(e){return function gc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function mc(n){return fi(n.value)||pc.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hf(n){return e=>fi(e.value)||!Ya(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Qa(n){return e=>Ya(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ku(n){if(!n)return go;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(fi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _c(e)}static composeAsync(e){return Xo(e)}}function df(n){return fi(n.value)?{required:!0}:null}function go(n){return null}function mo(n){return null!=n}function Ja(n){return(0,c.QGY)(n)?(0,bn.D)(n):n}function Yu(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yo(n,e){return e.map(t=>t(n))}function Qo(n){return n.map(e=>function yc(n){return!n.validate}(e)?e:t=>e.validate(t))}function _c(n){if(!n)return null;const e=n.filter(mo);return 0==e.length?null:function(t){return Yu(Yo(t,e))}}function Jo(n){return null!=n?_c(Qo(n)):null}function Xo(n){if(!n)return null;const e=n.filter(mo);return 0==e.length?null:function(t){return function Wu(...n){const e=(0,_s.jO)(n),{args:t,keys:r}=cc(n),i=new xr.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let y=l,w=l;for(let D=0;D<l;D++){let S=!1;(0,ys.Xf)(t[D]).subscribe((0,Zn.x)(a,B=>{S||(S=!0,w--),f[D]=B},()=>y--,void 0,()=>{(!y||!S)&&(w||a.next(r?dc(r,f):f),a.complete())}))}});return e?i.pipe(Ka(e)):i}(Yo(t,e).map(Ja)).pipe((0,pt.U)(Yu))}}function Qu(n){return null!=n?Xo(Qo(n)):null}function og(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ag(n){return n._rawValidators}function ea(n){return n._rawAsyncValidators}function Bd(n){return n?Array.isArray(n)?n:[n]:[]}function $s(n,e){return Array.isArray(n)?n.includes(e):n===e}function vc(n,e){const t=Bd(e);return Bd(n).forEach(i=>{$s(t,i)||t.push(i)}),t}function ff(n,e){return Bd(e).filter(t=>!$s(n,t))}class Ju{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kn extends Ju{get formDirective(){return null}get path(){return null}}class Es extends Ju{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ns{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yo=(()=>{class n extends ns{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Es,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Xr=(()=>{class n extends ns{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const is="VALID",ei="INVALID",Nr="PENDING",ra="DISABLED";function pf(n){return(bc(n)?n.validators:n)||null}function jd(n){return Array.isArray(n)?Jo(n):n||null}function Ec(n,e){return(bc(e)?e.asyncValidators:n)||null}function Cc(n){return Array.isArray(n)?Qu(n):n||null}function bc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ic(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")}function $d(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})}class Hd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jd(this._rawValidators),this._composedAsyncValidatorFn=Cc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===is}get invalid(){return this.status===ei}get pending(){return this.status==Nr}get disabled(){return this.status===ra}get enabled(){return this.status!==ra}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cc(e)}addValidators(e){this.setValidators(vc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ff(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ff(e,this._rawAsyncValidators))}hasValidator(e){return $s(this._rawValidators,e)}hasAsyncValidator(e){return $s(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ra,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=is,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===Nr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ra:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nr,this._hasOwnPendingAsyncValidator=!0;const t=Ja(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ra:this.errors?ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nr)?Nr:this._anyControlsHaveStatus(ei)?ei:is}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Xu extends Hd{constructor(e,t,r){super(pf(t),Ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$d(this,0,e),Object.keys(e).forEach(r=>{Ic(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class gf extends Xu{}function Tc(n,e){return[...e.path,n]}function v(n,e){M(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Q(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&He(n,e)})}(n,e),function nt(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function de(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&He(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function C(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function p(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),N(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M(n,e){const t=ag(n);null!==e.validator?n.setValidators(og(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ea(n);null!==e.asyncValidator?n.setAsyncValidators(og(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();m(e._rawValidators,i),m(e._rawAsyncValidators,i)}function N(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ag(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=ea(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return m(e._rawValidators,r),m(e._rawAsyncValidators,r),t}function He(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vt(n,e){M(n,e)}function tl(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yf(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Dc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Zo?t=a:function Gd(n){return Object.getPrototypeOf(n.constructor)===po}(a)?r=a:i=a}),i||r||t||null}const _o={provide:Kn,useExisting:(0,c.Gpc)(()=>Ac)},Xa=(()=>Promise.resolve())();let Ac=(()=>{class n extends Kn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Xu({},Jo(t),Qu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xa.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),v(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xa.then(()=>{const r=this._findContainer(t.path),i=new Xu({});vt(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yf(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vr,10),c.Y36(ws,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([_o]),c.qOj]}),n})();function qd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ry(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nl=class extends Hd{constructor(e=null,t,r){super(pf(t),Ec(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ry(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ry(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ky={provide:Es,useExisting:(0,c.Gpc)(()=>vf)},hg=(()=>Promise.resolve())();let vf=(()=>{class n extends Es{constructor(t,r,i,a,l){super(),this._changeDetectorRef=l,this.control=new nl,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dc(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tl(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){v(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.D6c)(r);hg.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Tc(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,9),c.Y36(vr,10),c.Y36(ws,10),c.Y36(Mr,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ky]),c.qOj,c.TTD]}),n})(),eu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const By=new c.OlP("NgModelWithFormControlWarning"),ZT={provide:Kn,useExisting:(0,c.Gpc)(()=>il)};let il=(()=>{class n extends Kn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return v(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){p(t.control||null,t,!1),function _f(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,yf(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(p(r||null,t),(n=>n instanceof nl)(i)&&(v(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);vt(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function an(n,e){return N(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&N(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vr,10),c.Y36(ws,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ZT]),c.qOj,c.TTD]}),n})();const Pw={provide:Es,useExisting:(0,c.Gpc)(()=>Wd)};let Wd=(()=>{class n extends Es{constructor(t,r,i,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dc(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tl(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Tc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,13),c.Y36(vr,10),c.Y36(ws,10),c.Y36(Mr,10),c.Y36(By,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Pw]),c.qOj,c.TTD]}),n})(),xc=(()=>{class n{constructor(){this._validator=go}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):go,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const tD={provide:vr,useExisting:(0,c.Gpc)(()=>Hs),multi:!0};let Hs=(()=>{class n extends xc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>df}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([tD]),c.qOj]}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ly]}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jw]}),n})(),$w=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:By,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[jw]}),n})();class Hw extends Hd{constructor(e,t,r){super(pf(t),Ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$d(this,0,e),e.forEach((r,i)=>{Ic(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Wy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Cf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return Wy(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Xu(i,a)}record(t,r=null){const i=this._reduceControls(t);return new gf(i,r)}control(t,r,i){let a={};return this.useNonNullable?(Wy(r)?a=r:(a.validators=r,a.asyncValidators=i),new nl(t,{...a,nonNullable:!0})):new nl(t,r,i)}array(t,r,i){const a=t.map(l=>this._createControl(l));return new Hw(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof nl||t instanceof Hd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:$w}),n})();class zw{}const oa="*";function uD(n,e){return{type:7,name:n,definitions:e,options:{}}}function Gw(n,e=null){return{type:4,styles:e,timings:n}}function qw(n,e=null){return{type:2,steps:n,options:e}}function bf(n){return{type:6,styles:n,offset:null}}function Ww(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yd(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ky(n){Promise.resolve().then(n)}class Qd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ky(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Ky(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function _g(n){return new c.vHH(3e3,!1)}function xD(){return typeof window<"u"&&typeof window.document<"u"}function Eg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tu(n){switch(n.length){case 0:return new Qd;case 1:return n[0];default:return new yg(n)}}function Cg(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let y=-1,w=null;if(r.forEach(D=>{const S=D.get("offset"),B=S==y,H=B&&w||new Map;D.forEach((K,se)=>{let ce=se,Be=K;if("offset"!==se)switch(ce=e.normalizePropertyName(ce,l),Be){case"!":Be=i.get(se);break;case oa:Be=a.get(se);break;default:Be=e.normalizeStyleValue(se,ce,Be,l)}H.set(ce,Be)}),B||f.push(H),w=H,y=S}),l.length)throw function CD(n){return new c.vHH(3502,!1)}();return f}function Df(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&e_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&e_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&e_(t,"destroy",n)))}}function e_(n,e,t){const a=Af(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function Af(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function pi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function tE(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let t_=(n,e)=>!1,nE=(n,e,t)=>[],rE=null;function n_(n){const e=n.parentNode||n.host;return e===rE?null:e}(Eg()||typeof Element<"u")&&(xD()?(rE=(()=>document.documentElement)(),t_=(n,e)=>{for(;e;){if(e===n)return!0;e=n_(e)}return!1}):t_=(n,e)=>n.contains(e),nE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let zs=null,aa=!1;const PD=t_,r_=nE;let i_=(()=>{class n{validateStyleProperty(t){return function RD(n){zs||(zs=function lP(){return typeof document<"u"?document.body:null}()||{},aa=!!zs.style&&"WebkitAppearance"in zs.style);let e=!0;return zs.style&&!function MD(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in zs.style,!e&&aa&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in zs.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return PD(t,r)}getParentElement(t){return n_(t)}query(t,r,i){return r_(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],y){return new Qd(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),iE=(()=>{class n{}return n.NOOP=new i_,n})();const s_="ng-enter",bg="ng-leave",ss="ng-trigger",Ig=".ng-trigger",o_="ng-animating",a_=".ng-animating";function nu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:u_(parseFloat(e[1]),e[2])}function u_(n,e){return"s"===e?1e3*n:n}function Tg(n,e,t){return n.hasOwnProperty("duration")?n:function uE(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(_g()),{duration:0,delay:0,easing:""};i=u_(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=u_(parseFloat(y),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function Yw(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Qw(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,_g())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Sf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function lE(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ru(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function l_(n,e,t){return t?e+":"+t+";":""}function c_(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=l_(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=l_(0,Nc(t),n.style[t]));n.setAttribute("style",e)}function ua(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ag(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Eg()&&c_(n))}function Pc(n,e){n.style&&(e.forEach((t,r)=>{const i=Ag(r);n.style[i]=""}),Eg()&&c_(n))}function eh(n){return Array.isArray(n)?1==n.length?n[0]:qw(n):n}const Dg=new RegExp("{{\\s*(.+?)\\s*}}","g");function cE(n){let e=[];if("string"==typeof n){let t;for(;t=Dg.exec(n);)e.push(t[1]);Dg.lastIndex=0}return e}function xf(n,e,t){const r=n.toString(),i=r.replace(Dg,(a,l)=>{let f=e[l];return null==f&&(t.push(function hD(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function d_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dE=/-+([a-z0-9])/g;function Ag(n){return n.replace(dE,(...e)=>e[1].toUpperCase())}function Nc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Yy(n){return new c.vHH(3004,!1)}()}}function hE(n,e){return window.getComputedStyle(n)[e]}function LD(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function pE(n,e,t){if(":"==n[0]){const y=function Sg(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function wD(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vD(n){return new c.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(gE(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(gE(l,i))}(r,t,e)):t.push(n),t}const xg=new Set(["true","1"]),Mf=new Set(["false","0"]);function gE(n,e){const t=xg.has(n)||Mf.has(n),r=xg.has(e)||Mf.has(e);return(i,a)=>{let l="*"==n||n==i,f="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?xg.has(n):Mf.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?xg.has(e):Mf.has(e)),l&&f}}const VD=new RegExp("s*:selfs*,?","g");function g_(n,e,t,r){return new _E(n).build(e,t,r)}class _E{constructor(e){this._driver=e}build(e,t,r){const i=new wE(t);return this._resetContextStyleTimingState(i),Hi(this,eh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function fD(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function Qy(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{cE(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(d_(a.values()),t.errors.push(function wg(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hi(this,eh(e.animation),t);return{type:1,matchers:LD(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:su(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hi(this,r,t)),options:su(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=Hi(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:su(e.options)}}visitAnimate(e,t){const r=function hP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return y_(Tg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=y_(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Tg(t,e);return y_(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:bf({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=bf(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===oa?r.push(f):t.errors.push(new c.vHH(3002,!1)):r.push(lE(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let S=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function Jy(n,e,t,r,i){return new c.vHH(3010,!1)}()),S=!1),a=D.startTime),S&&w.set(y,{startTime:a,endTime:i}),t.options&&function OD(n,e,t){const r=e.params||{},i=cE(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Mc(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gD(){return new c.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,w=0;const D=e.steps.map(Be=>{const Qe=this._makeStyleAst(Be,t);let We=null!=Qe.offset?Qe.offset:function m_(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Qe.styles),Xe=0;return null!=We&&(a++,Xe=Qe.offset=We),y=y||Xe<0||Xe>1,f=f||Xe<w,w=Xe,l.push(Xe),Qe});y&&t.errors.push(function mD(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function Jw(){return new c.vHH(3200,!1)}());const S=e.steps.length;let B=0;a>0&&a<S?t.errors.push(function Jd(){return new c.vHH(3202,!1)}()):0==a&&(B=1/(S-1));const H=S-1,K=t.currentTime,se=t.currentAnimateTimings,ce=se.duration;return D.forEach((Be,Qe)=>{const We=B>0?Qe==H?1:B*Qe:l[Qe],Xe=We*ce;t.currentTime=K+se.delay+Xe,se.duration=Xe,this._validateStyleAst(Be,t),Be.offset=We,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Hi(this,eh(e.animation),t),options:su(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:su(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:su(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function UD(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(VD,"")),n=n.replace(/@\*/g,Ig).replace(/@\w+/g,t=>Ig+"-"+t.slice(1)).replace(/:animating/g,a_),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,pi(t.collectedStyles,t.currentQuerySelector,new Map);const f=Hi(this,eh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:su(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yD(){return new c.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Tg(e.timings,t.errors,!0);return{type:12,animation:Hi(this,eh(e.animation),t),timings:r,options:null}}}class wE{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function su(n){return n?(n=Sf(n)).params&&(n.params=function vE(n){return n?Sf(n):null}(n.params)):n={},n}function y_(n,e,t){return{duration:n,delay:e,easing:t}}function EE(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class ou{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mg=new RegExp(":enter","g"),IE=new RegExp(":leave","g");function __(n,e,t,r,i,a=new Map,l=new Map,f,y,w=[]){return(new v_).buildKeyframes(n,e,t,r,i,a,l,f,y,w)}class v_{buildKeyframes(e,t,r,i,a,l,f,y,w,D=[]){w=w||new ou;const S=new Rf(e,t,w,i,a,D,[]);S.options=y;const B=y.delay?nu(y.delay):0;S.currentTimeline.delayNextStep(B),S.currentTimeline.setStyles([l],null,S.errors,y),Hi(this,r,S);const H=S.timelines.filter(K=>K.containsAnimation());if(H.length&&f.size){let K;for(let se=H.length-1;se>=0;se--){const ce=H[se];if(ce.element===t){K=ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,S.errors,y)}return H.length?H.map(K=>K.buildKeyframes()):[EE(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:nu(xf(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?nu(r.duration):null,f=null!=r.delay?nu(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gs);const l=nu(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Hi(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?nu(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Hi(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Tg(t.params?xf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?nu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gs);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,w);a&&S.delayNextStep(a),w===t.element&&(y=S.currentTimeline),Hi(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const S=D.currentTime;Hi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const Gs={};class Rf{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Pf(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nu(r.duration)),null!=r.delay&&(i.delay=nu(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=xf(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Rf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Gs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new w_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Mg,"."+this._enterClassName)).replace(IE,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function _D(n){return new c.vHH(3014,!1)}()),f}}class Pf{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Pf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||oa),this._currentKeyframe.set(t,oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function TE(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,oa)}else ru(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const w=xf(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??oa),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=ru(f,new Map,this._backFill);w.forEach((D,S)=>{"!"===D?e.add(S):D===oa&&t.add(S)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?d_(e.values()):[],l=t.size?d_(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return EE(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class w_ extends Pf{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=ru(e[0]);y.set("offset",0),a.push(y);const w=ru(e[0]);w.set("offset",BD(f)),a.push(w);const D=e.length-1;for(let S=1;S<=D;S++){let B=ru(e[S]);const H=B.get("offset");B.set("offset",BD((t+H*r)/l)),a.push(B)}r=l,t=0,i="",e=a}return EE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function BD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class th{}const C_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class b_ extends th{normalizePropertyName(e,t){return Ag(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(C_.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function vg(n,e){return new c.vHH(3005,!1)}())}return l+a}}function Rg(n,e,t,r,i,a,l,f,y,w,D,S,B){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:S,errors:B}}const DE={};class AE{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jD(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,w,D){const S=[],B=this.ast.options&&this.ast.options.params||DE,K=this.buildStyles(r,f&&f.params||DE,S),se=y&&y.params||DE,ce=this.buildStyles(i,se,S),Be=new Set,Qe=new Map,We=new Map,Xe="void"===i,Ut={params:$D(se,B),delay:this.ast.options?.delay},Bt=D?[]:__(e,t,this.ast.animation,a,l,K,ce,Ut,w,S);let _n=0;if(Bt.forEach(hs=>{_n=Math.max(hs.duration+hs.delay,_n)}),S.length)return Rg(t,this._triggerName,r,i,Xe,K,ce,[],[],Qe,We,_n,S);Bt.forEach(hs=>{const ad=hs.element,Q2=pi(Qe,ad,new Set);hs.preStyleProps.forEach(qp=>Q2.add(qp));const Aw=pi(We,ad,new Set);hs.postStyleProps.forEach(qp=>Aw.add(qp)),ad!==t&&Be.add(ad)});const Dr=d_(Be.values());return Rg(t,this._triggerName,r,i,Xe,K,ce,Bt,Dr,Qe,We,_n)}}function $D(n,e){const t=Sf(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class SE{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Sf(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=xf(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(y,l)})}),r}}class HD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new SE(i.style,i.options&&i.options.params||{},r))}),I_(this.states,"true","1"),I_(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new AE(e,i,this.states))}),this.fallbackTransition=function gP(n,e,t){return new AE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function I_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const xE=new ou;class zD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=g_(this._driver,t,r,[]);if(r.length)throw function eE(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=Cg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=__(this._driver,t,a,s_,bg,new Map,new Map,r,xE,i),l.forEach(D=>{const S=pi(f,D.element,new Map);D.postStyleProps.forEach(B=>S.set(B,null))})):(i.push(function sP(){return new c.vHH(3300,!1)}()),l=[]),i.length)throw function bD(n){return new c.vHH(3504,!1)}();f.forEach((D,S)=>{D.forEach((B,H)=>{D.set(H,this._driver.computeStyle(S,H,oa))})});const w=tu(l.map(D=>{const S=f.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function If(n){return new c.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Af(t,"","","");return Df(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Pg="ng-animate-queued",ME="ng-animate-disabled",wP=[],GD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wo="__ng_removed";class RE{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function T_(n){return n??null}(r?e.value:e),r){const a=Sf(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const qs="void",Nf=new RE(qs);class qD{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Cs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function ID(n,e){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function Xd(n){return new c.vHH(3303,!1)}();if(!function sl(n){return"start"==n||"done"==n}(r))throw function Tf(n,e){return new c.vHH(3400,!1)}();const a=pi(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=pi(this._engine.statesByElement,e,new Map);return f.has(t)||(Cs(e,ss),Cs(e,ss+"-"+t),f.set(t,Nf)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function TD(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new Of(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Cs(e,ss),Cs(e,ss+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new RE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=Nf),w.value!==qs&&y.value===w.value){if(!function A_(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const se=[],ce=a.matchStyles(y.value,y.params,se),Be=a.matchStyles(w.value,w.params,se);se.length?this._engine.reportError(se):this._engine.afterFlush(()=>{Pc(e,ce),ua(e,Be)})}return}const B=pi(this._engine.playersByElement,e,[]);B.forEach(se=>{se.namespaceId==this.id&&se.triggerName==t&&se.queued&&se.destroy()});let H=a.matchTransition(y.value,w.value,e,w.params),K=!1;if(!H){if(!i)return;H=a.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:w,player:l,isFallbackTransition:K}),K||(Cs(e,Pg),l.onStart(()=>{nh(e,Pg)})),l.onDone(()=>{let se=this.players.indexOf(l);se>=0&&this.players.splice(se,1);const ce=this._engine.playersByElement.get(e);if(ce){let Be=ce.indexOf(l);Be>=0&&ce.splice(Be,1)}}),this.players.push(l),B.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ig,!0);r.forEach(i=>{if(i[wo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,qs,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&tu(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||Nf,D=new RE(qs),S=new Of(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[wo];(!a||a===GD)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Cs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=Af(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Df(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class PE{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Ng(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ng(t))return;const a=t[wo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cs(e,ME)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nh(e,ME))}removeNode(e,t,r,i){if(Ng(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[wo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Ng(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Ig,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,a_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return tu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wo];if(t&&t.setForRemoval){if(e[wo]=GD,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ME)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Cs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?tu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function oP(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ou,i=[],a=new Map,l=[],f=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(Et=>{D.add(Et);const jt=this.driver.query(Et,".ng-animate-queued",!0);for(let Ht=0;Ht<jt.length;Ht++)D.add(jt[Ht])});const S=this.bodyNode,B=Array.from(this.statesByElement.keys()),H=kE(B,this.collectedEnterElements),K=new Map;let se=0;H.forEach((Et,jt)=>{const Ht=s_+se++;K.set(jt,Ht),Et.forEach(Tn=>Cs(Tn,Ht))});const ce=[],Be=new Set,Qe=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const jt=this.collectedLeaveElements[Et],Ht=jt[wo];Ht&&Ht.setForRemoval&&(ce.push(jt),Be.add(jt),Ht.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Tn=>Be.add(Tn)):Qe.add(jt))}const We=new Map,Xe=kE(B,Array.from(Be));Xe.forEach((Et,jt)=>{const Ht=bg+se++;We.set(jt,Ht),Et.forEach(Tn=>Cs(Tn,Ht))}),e.push(()=>{H.forEach((Et,jt)=>{const Ht=K.get(jt);Et.forEach(Tn=>nh(Tn,Ht))}),Xe.forEach((Et,jt)=>{const Ht=We.get(jt);Et.forEach(Tn=>nh(Tn,Ht))}),ce.forEach(Et=>{this.processLeaveNode(Et)})});const Ut=[],Bt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Ht=>{const Tn=Ht.player,ki=Ht.element;if(Ut.push(Tn),this.collectedEnterElements.length){const fs=ki[wo];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(Ht.triggerName)){const Wp=fs.previousTriggersValues.get(Ht.triggerName),_a=this.statesByElement.get(Ht.element);if(_a&&_a.has(Ht.triggerName)){const jT=_a.get(Ht.triggerName);jT.value=Wp,_a.set(Ht.triggerName,jT)}}return void Tn.destroy()}}const Pl=!S||!this.driver.containsElement(S,ki),No=We.get(ki),Gh=K.get(ki),Ar=this._buildInstruction(Ht,r,Gh,No,Pl);if(Ar.errors&&Ar.errors.length)return void Bt.push(Ar);if(Pl)return Tn.onStart(()=>Pc(ki,Ar.fromStyles)),Tn.onDestroy(()=>ua(ki,Ar.toStyles)),void i.push(Tn);if(Ht.isFallbackTransition)return Tn.onStart(()=>Pc(ki,Ar.fromStyles)),Tn.onDestroy(()=>ua(ki,Ar.toStyles)),void i.push(Tn);const eV=[];Ar.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||eV.push(fs)}),Ar.timelines=eV,r.append(ki,Ar.timelines),l.push({instruction:Ar,player:Tn,element:ki}),Ar.queriedElements.forEach(fs=>pi(f,fs,[]).push(Tn)),Ar.preStyleProps.forEach((fs,Wp)=>{if(fs.size){let _a=y.get(Wp);_a||y.set(Wp,_a=new Set),fs.forEach((jT,YR)=>_a.add(YR))}}),Ar.postStyleProps.forEach((fs,Wp)=>{let _a=w.get(Wp);_a||w.set(Wp,_a=new Set),fs.forEach((jT,YR)=>_a.add(YR))})});if(Bt.length){const Et=[];Bt.forEach(jt=>{Et.push(function AD(n,e){return new c.vHH(3505,!1)}())}),Ut.forEach(jt=>jt.destroy()),this.reportError(Et)}const _n=new Map,Dr=new Map;l.forEach(Et=>{const jt=Et.element;r.has(jt)&&(Dr.set(jt,jt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,_n))}),i.forEach(Et=>{const jt=Et.element;this._getPreviousPlayers(jt,!1,Et.namespaceId,Et.triggerName,null).forEach(Tn=>{pi(_n,jt,[]).push(Tn),Tn.destroy()})});const hs=ce.filter(Et=>kc(Et,y,w)),ad=new Map;OE(ad,this.driver,Qe,w,oa).forEach(Et=>{kc(Et,y,w)&&hs.push(Et)});const Aw=new Map;H.forEach((Et,jt)=>{OE(Aw,this.driver,new Set(Et),y,"!")}),hs.forEach(Et=>{const jt=ad.get(Et),Ht=Aw.get(Et);ad.set(Et,new Map([...Array.from(jt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const qp=[],J2=[],X2={};l.forEach(Et=>{const{element:jt,player:Ht,instruction:Tn}=Et;if(r.has(jt)){if(D.has(jt))return Ht.onDestroy(()=>ua(jt,Tn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Tn.totalTime),void i.push(Ht);let ki=X2;if(Dr.size>1){let No=jt;const Gh=[];for(;No=No.parentNode;){const Ar=Dr.get(No);if(Ar){ki=Ar;break}Gh.push(No)}Gh.forEach(Ar=>Dr.set(Ar,ki))}const Pl=this._buildAnimation(Ht.namespaceId,Tn,_n,a,Aw,ad);if(Ht.setRealPlayer(Pl),ki===X2)qp.push(Ht);else{const No=this.playersByElement.get(ki);No&&No.length&&(Ht.parentPlayer=tu(No)),i.push(Ht)}}else Pc(jt,Tn.fromStyles),Ht.onDestroy(()=>ua(jt,Tn.toStyles)),J2.push(Ht),D.has(jt)&&i.push(Ht)}),J2.forEach(Et=>{const jt=a.get(Et.element);if(jt&&jt.length){const Ht=tu(jt);Et.setRealPlayer(Ht)}}),i.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ce.length;Et++){const jt=ce[Et],Ht=jt[wo];if(nh(jt,bg),Ht&&Ht.hasAnimation)continue;let Tn=[];if(f.size){let Pl=f.get(jt);Pl&&Pl.length&&Tn.push(...Pl);let No=this.driver.query(jt,a_,!0);for(let Gh=0;Gh<No.length;Gh++){let Ar=f.get(No[Gh]);Ar&&Ar.length&&Tn.push(...Ar)}}const ki=Tn.filter(Pl=>!Pl.destroyed);ki.length?WD(this,jt,ki):this.processLeaveNode(jt)}return ce.length=0,qp.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const jt=this.players.indexOf(Et);this.players.splice(jt,1)}),Et.play()}),qp}elementContainsData(e,t){let r=!1;const i=t[wo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==qs;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==a,S=pi(r,w,[]);this._getPreviousPlayers(w,D,l,f,t.toState).forEach(H=>{const K=H.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),H.destroy(),S.push(H)})}Pc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,w=[],D=new Set,S=new Set,B=t.timelines.map(K=>{const se=K.element;D.add(se);const ce=se[wo];if(ce&&ce.removedBeforeQueried)return new Qd(K.duration,K.delay);const Be=se!==y,Qe=function Og(n){const e=[];return Oc(n,e),e}((r.get(se)||wP).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===se),We=a.get(se),Xe=l.get(se),Ut=Cg(0,this._normalizer,0,K.keyframes,We,Xe),Bt=this._buildPlayer(K,Ut,Qe);if(K.subTimeline&&i&&S.add(se),Be){const _n=new Of(e,f,se);_n.setRealPlayer(Bt),w.push(_n)}return Bt});w.forEach(K=>{pi(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function NE(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,K.element,K))}),D.forEach(K=>Cs(K,o_));const H=tu(B);return H.onDestroy(()=>{D.forEach(K=>nh(K,o_)),ua(y,t.toStyles)}),S.forEach(K=>{pi(i,K,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Qd(e.duration,e.delay)}}class Of{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Qd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Df(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ng(n){return n&&1===n.nodeType}function D_(n,e){const t=n.style.display;return n.style.display=e??"none",t}function OE(n,e,t,r,i){const a=[];t.forEach(y=>a.push(D_(y)));const l=[];r.forEach((y,w)=>{const D=new Map;y.forEach(S=>{const B=e.computeStyle(w,S,i);D.set(S,B),(!B||0==B.length)&&(w[wo]=EP,l.push(w))}),n.set(w,D)});let f=0;return t.forEach(y=>D_(y,a[f++])),l}function kE(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(f){if(!f)return 1;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:l(w),a.set(f,y),y}return e.forEach(f=>{const y=l(f);1!==y&&t.get(y).push(f)}),t}function Cs(n,e){n.classList?.add(e)}function nh(n,e){n.classList?.remove(e)}function WD(n,e,t){tu(t).onDone(()=>n.processLeaveNode(e))}function Oc(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yg?Oc(r.players,e):e.push(r)}}function kc(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class rh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new PE(e,t,r),this._timelineEngine=new zD(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],D=g_(this._driver,a,y,[]);if(y.length)throw function Xw(n,e){return new c.vHH(3404,!1)}();f=function pP(n,e,t){return new HD(n,e,t)}(i,D,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=tE(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=tE(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let FE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fg(n){let e=null;return n.forEach((t,r)=>{(function S_(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Lg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:hE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class LE{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PD(e,t)}getParentElement(e){return n_(e)}query(e,t,r){return r_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,D=l.filter(H=>H instanceof Lg);(function kD(n,e){return 0===n||0===e})(r,i)&&D.forEach(H=>{H.currentSnapshot.forEach((K,se)=>w.set(se,K))});let S=function ND(n){return n.length?n[0]instanceof Map?n:n.map(e=>lE(e)):[]}(t).map(H=>ru(H));S=function h_(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,hE(n,f)))}}return e}(e,S,w);const B=function kg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Fg(e[0]),e.length>1&&(r=Fg(e[e.length-1]))):e instanceof Map&&(t=Fg(e)),t||r?new FE(n,t,r):null}(e,S);return new Lg(e,S,y,B)}}let x_=(()=>{class n extends zw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qw(t):t;return VE(this._renderer,null,r,"register",[i]),new ZD(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ZD extends class Zy{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new CP(this._id,e,t||{},this._renderer)}}class CP{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return VE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function VE(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const UE="@.disabled";let BE=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new M_("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(l,f,t,D.name,D)};return r.data.animation.forEach(y),new KD(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(rh),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class M_{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==UE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class KD extends M_{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==UE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bs(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function jE(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let YD=(()=>{class n extends rh{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(iE),c.LFG(th),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vg=[{provide:zw,useClass:x_},{provide:th,useFactory:function bP(){return new b_}},{provide:rh,useClass:YD},{provide:c.FYo,useFactory:function QD(n,e,t){return new BE(n,e,t)},deps:[$o,rh,c.R0b]}],Ug=[{provide:iE,useFactory:()=>new LE},{provide:c.QbO,useValue:"BrowserAnimations"},...Vg],$E=[{provide:iE,useClass:i_},{provide:c.QbO,useValue:"NoopAnimations"},...Vg];let JD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$E:Ug}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ug,imports:[za]}),n})();function bt(...n){const e=(0,_s.yG)(n);return(0,bn.D)(n,e)}var Ai=V(7579);class Eo extends Ai.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ff=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Lf=V(4671),la=V(9672);function Bg(...n){const e=(0,_s.yG)(n),t=(0,_s.jO)(n),{args:r,keys:i}=cc(n);if(0===r.length)return(0,bn.D)([],e);const a=new xr.y(function eA(n,e,t=Lf.y){return r=>{zE(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)zE(e,()=>{const w=(0,bn.D)(n[y],e);let D=!1;w.subscribe((0,Zn.x)(r,S=>{a[y]=S,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>dc(i,l):Lf.y));return t?a.pipe(Ka(t)):a}function zE(n,e,t){n?(0,la.f)(t,n,e):e()}var jg=V(8189);function R_(...n){return function GE(){return(0,jg.J)(1)}()((0,bn.D)(n,(0,_s.yG)(n)))}function qE(n){return new xr.y(e=>{(0,ys.Xf)(n()).subscribe(e)})}var tA=V(9635),Vf=V(576);function Uf(n,e){const t=(0,Vf.m)(n)?n:()=>n,r=i=>i.error(t());return new xr.y(e?i=>e.schedule(r,0,i):r)}var Fc=V(515),Bf=V(727),gi=V(4482);function ih(){return(0,gi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nA extends xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bf.w0.EMPTY)}return e}refCount(){return ih()(this)}}function kr(n,e){return(0,gi.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Zn.x)(r,y=>{i?.unsubscribe();let w=0;const D=a++;(0,ys.Xf)(n(y,D)).subscribe(i=(0,Zn.x)(r,S=>r.next(e?e(y,S,D,w++):S),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function $g(n){return n<=0?()=>Fc.E:(0,gi.e)((e,t)=>{let r=0;e.subscribe((0,Zn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jf(...n){const e=(0,_s.yG)(n);return(0,gi.e)((t,r)=>{(e?R_(n,t,e):R_(n,t)).subscribe(r)})}function Ws(n,e){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Si=V(5577);function $f(n){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hg(n=au){return(0,gi.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function au(){return new Ff}function Zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ws((i,a)=>n(i,a,r)):Lf.y,$g(1),t?$f(e):Hg(()=>new Ff))}function ca(n,e){return(0,Vf.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var Fr=V(8505);function ol(n){return(0,gi.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Zn.x)(t,void 0,void 0,l=>{a=(0,ys.Xf)(n(l,ol(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function P_(n,e,t,r,i){return(a,l)=>{let f=t,y=e,w=0;a.subscribe((0,Zn.x)(l,D=>{const S=w++;y=f?n(y,D,S):(f=!0,D),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}function sh(n,e){return(0,gi.e)(P_(n,e,arguments.length>=2,!0))}function N_(n){return n<=0?()=>Fc.E:(0,gi.e)((e,t)=>{let r=[];e.subscribe((0,Zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function WE(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ws((i,a)=>n(i,a,r)):Lf.y,N_(1),t?$f(e):Hg(()=>new Ff))}function ZE(n){return(0,gi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const un="primary",zg=Symbol("RouteTitle");class iA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oh(n){return new iA(n)}function sA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ks(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!YE(n[i],e[i]))return!1;return!0}function YE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Gg(n){return Array.prototype.concat.apply([],n)}function QE(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function al(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,bn.D)(Promise.resolve(n)):bt(n)}const qg={exact:function JE(n,e,t){if(!ti(n.segments,e.segments)||!Is(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!JE(n.children[r],e.children[r],t))return!1;return!0},subset:Wg},ul={exact:function zf(n,e){return Ks(n,e)},subset:function uA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YE(n[t],e[t]))},ignored:()=>!0};function aA(n,e,t){return qg[t.paths](n.root,e.root,t.matrixParams)&&ul[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Wg(n,e,t){return XE(n,e,e.segments,t)}function XE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ti(i,t)||e.hasChildren()||!Is(i,t,r))}if(n.segments.length===t.length){if(!ti(n.segments,t)||!Is(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Wg(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(ti(n.segments,i)&&Is(n.segments,i,r)&&n.children[un])&&XE(n.children[un],e,a,r)}}function Is(n,e,t){return e.every((r,i)=>ul[t](n[i].parameters,r.parameters))}class Co{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}toString(){return ah.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uu(this)}}class bo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oh(this.parameters)),this._parameterMap}toString(){return L_(this)}}function ti(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new ll},providedIn:"root"}),n})();class ll{parse(e){const t=new sC(e);return new Co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${da(e.root,!0)}`,r=function tC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lu(t)}=${lu(i)}`).join("&"):`${lu(t)}=${lu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ah=new ll;function uu(n){return n.segments.map(e=>L_(e)).join("/")}function da(n,e){if(!n.hasChildren())return uu(n);if(e){const t=n.children[un]?da(n.children[un],!1):"",r=[];return mi(n.children,(i,a)=>{a!==un&&r.push(`${a}:${da(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function k_(n,e){let t=[];return mi(n.children,(r,i)=>{i===un&&(t=t.concat(e(r,i)))}),mi(n.children,(r,i)=>{i!==un&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===un?[da(n.children[un],!1)]:[`${i}:${da(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${uu(n)}/${t[0]}`:`${uu(n)}/(${t.join("//")})`}}function Vc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lu(n){return Vc(n).replace(/%3B/gi,";")}function cl(n){return Vc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gf(n){return decodeURIComponent(n)}function F_(n){return Gf(n.replace(/\+/g,"%20"))}function L_(n){return`${cl(n.path)}${function eC(n){return Object.keys(n).map(e=>`;${cl(e)}=${cl(n[e])}`).join("")}(n.parameters)}`}const nC=/^[^\/()?;=#]+/;function qf(n){const e=n.match(nC);return e?e[0]:""}const rC=/^[^=?&#]+/,lA=/^[^&#]+/;class sC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[un]=new Ot(e,t)),r}parseSegment(){const e=qf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new bo(Gf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qf(this.remaining);i&&(r=i,this.capture(r))}e[Gf(t)]=Gf(r)}parseQueryParam(e){const t=function iC(n){const e=n.match(rC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function cA(n){const e=n.match(lA);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=F_(t),a=F_(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=un);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[un]:new Ot([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function V_(n){return n.segments.length>0?new Ot([],{[un]:n}):n}function Wf(n){const e={};for(const r of Object.keys(n.children)){const a=Wf(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function U_(n){if(1===n.numberOfChildren&&n.children[un]){const e=n.children[un];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function cu(n){return n instanceof Co}function dA(n,e,t,r,i){if(0===t.length)return Uc(e.root,e.root,e.root,r,i);const a=function z_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mi(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Yg(t,e,r)}(t);return a.toRoot()?Uc(e.root,e.root,new Ot([],{}),r,i):function l(y){const w=function oC(n,e,t,r){if(n.isAbsolute)return new Bc(e.root,!0,0);if(-1===r)return new Bc(t,t===e.root,0);return function aC(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new Bc(r,!1,i-a)}(t,r+(dl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),D=w.processChildren?lh(w.segmentGroup,w.index,a.commands):Qg(w.segmentGroup,w.index,a.commands);return Uc(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function dl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hl(n){return"object"==typeof n&&null!=n&&n.outlets}function Uc(n,e,t,r,i){let l,a={};r&&mi(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),l=n===e?t:H_(n,e,t);const f=V_(Wf(l));return new Co(f,a,i)}function H_(n,e,t){const r={};return mi(n.children,(i,a)=>{r[a]=i===e?t:H_(i,e,t)}),new Ot(n.segments,r)}class Yg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dl(r[0]))throw new c.vHH(4003,!1);const i=r.find(hl);if(i&&i!==QE(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qg(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return lh(n,e,t);const r=function lC(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(hl(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!W_(y,w,l))return a;r+=2}else{if(!W_(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ot(n.segments.slice(0,r.pathIndex),{});return a.children[un]=new Ot(n.segments.slice(r.pathIndex),n.children),lh(a,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?q_(n,e,t):r.match?lh(n,0,i):q_(n,e,t)}function lh(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function uC(n){return hl(n[0])?n[0].outlets:{[un]:n}}(t),i={};return mi(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Qg(n.children[l],e,a))}),mi(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Ot(n.segments,i)}}function q_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(hl(a)){const y=hA(a.outlets);return new Ot(r,y)}if(0===i&&dl(t[0])){r.push(new bo(n.segments[e].path,cC(t[0]))),i++;continue}const l=hl(a)?a.outlets[un]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&dl(f)?(r.push(new bo(l,cC(f))),i+=2):(r.push(new bo(l,{})),i++)}return new Ot(r,{})}function hA(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=q_(new Ot([],{}),0,t))}),e}function cC(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function W_(n,e,t){return n==t.path&&Ks(e,t.parameters)}class Io{constructor(e,t){this.id=e,this.url=t}}class Jg extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fl extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zf extends Io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z_ extends Io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dC extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hC extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fC extends Io{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pC extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AP extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gA{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yC{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class K_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Y_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Y_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xg(e,this._root).map(t=>t.value)}}function Y_(n,e){if(n===e.value)return e;for(const t of e.children){const r=Y_(n,t);if(r)return r}return null}function Xg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xg(n,t);if(r.length)return r.unshift(e),r}return[]}class ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function To(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _C extends K_{constructor(e,t){super(e),this.snapshot=t,Ys(this,e)}toString(){return this.snapshot.toString()}}function vC(n,e){const t=function wC(n,e){const l=new ch([],{},{},"",{},un,e,null,n.root,-1,{});return new em("",new ha(l,[]))}(n,e),r=new Eo([new bo("",{})]),i=new Eo({}),a=new Eo({}),l=new Eo({}),f=new Eo(""),y=new jc(r,i,l,f,a,un,e,t.root);return y.snapshot=t.root,new _C(new ha(y,[]),t)}class jc{constructor(e,t,r,i,a,l,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,pt.U)(w=>w[zg]))??bt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>oh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>oh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Q_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function SP(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ch{constructor(e,t,r,i,a,l,f,y,w,D,S,B){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.[zg],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=B??D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class em extends K_{constructor(e,t){super(t),this.url=e,Ys(this,t)}toString(){return EC(this._root)}}function Ys(n,e){e.value._routerState=n,e.children.forEach(t=>Ys(n,t))}function EC(n){const e=n.children.length>0?` { ${n.children.map(EC).join(", ")} } `:"";return`${n.value}${e}`}function tm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ks(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ks(e.params,t.params)||n.params.next(t.params),function KE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ks(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ks(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Qs(n,e){const t=Ks(n.params,e.params)&&function Zg(n,e){return ti(n,e)&&n.every((t,r)=>Ks(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Qs(n.parent,e.parent))}function zi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function CC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zi(n,r,i);return zi(n,r)})}(n,e,t);return new ha(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>zi(n,f)),l}}const r=function bC(n){return new jc(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>zi(n,a));return new ha(r,i)}}const J_="ngNavigationCancelingError";function IC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function TC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[J_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function DC(n){return nm(n)&&cu(n.url)}function nm(n){return n&&n[J_]}class Kf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yf,this.attachRef=null}}let Yf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kf,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qf=!1;let X_=(()=>{class n{constructor(t,r,i,a,l){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||un,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Qf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Qf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Qf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Qf);this._activatedRoute=t;const i=this.location,l=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new AC(t,f,i.injector);if(r&&function SC(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yf),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class AC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===jc?this.route:e===Yf?this.childContexts:this.parent.get(e,t)}}let dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[X_],encapsulation:2}),n})();function xC(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rm(n){const e=n.children&&n.children.map(rm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==un&&(t.component=dh),t}function Ts(n){return n.outlet||un}function tv(n,e){const t=n.filter(r=>Ts(r)===e);return t.push(...n.filter(r=>Ts(r)!==e)),t}function hh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wA{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=To(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),mi(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=To(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=To(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=To(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new mC(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(tm(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),tm(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=hh(i.snapshot),y=f?.get(c._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class OC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class im{constructor(e,t){this.component=e,this.route=t}}function EA(n,e,t){const r=n._root;return Xf(r,e?e._root:null,t,[r.value])}function fh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Xf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=To(e);return n.children.forEach(l=>{(function bA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function IA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(n.url,e.url)||!Ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qs(n,e)||!Ks(n.queryParams,e.queryParams);default:return!Qs(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new OC(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Xf(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new im(f.outlet.component,l))}else l&&ep(e,f,i),i.canActivateChecks.push(new OC(r)),Xf(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),mi(a,(l,f)=>ep(l,t.getContext(f),i)),i}function ep(n,e,t){const r=To(n),i=n.value;mi(r,(a,l)=>{ep(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new im(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function tp(n){return"function"==typeof n}function sm(n){return n instanceof Ff||"EmptyError"===n?.name}const np=Symbol("INITIAL_VALUE");function $c(){return kr(n=>Bg(n.map(e=>e.pipe($g(1),jf(np)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===np)return np;if(!1===t||t instanceof Co)return t}return!0}),Ws(e=>e!==np),$g(1)))}function zc(n){return(0,tA.z)((0,Fr.b)(e=>{if(cu(e))throw IC(0,e)}),(0,pt.U)(e=>!0===e))}const rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OA(n,e,t,r,i){const a=om(n,e,t);return a.matched?function xP(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?bt(i.map(l=>{const f=fh(l,n);return al(function MA(n){return n&&tp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe($c(),zc()):bt(!0)}(r=xC(e,r),e,t).pipe((0,pt.U)(l=>!0===l?a:{...rp})):bt(a)}function om(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sA)(t,n,e);if(!i)return{...rp};const a={};mi(i.posParams,(f,y)=>{a[y]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function ip(n,e,t,r,i="corrected"){if(t.length>0&&function kA(n,e,t){return t.some(r=>am(n,e,r)&&Ts(r)!==un)}(n,t,r)){const l=new Ot(e,function Lt(n,e,t,r){const i={};i[un]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ts(a)!==un){const l=new Ot([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Ts(a)]=l}return i}(n,e,r,new Ot(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function FA(n,e,t){return t.some(r=>am(n,e,r))}(n,t,r)){const l=new Ot(n.segments,function MP(n,e,t,r,i,a){const l={};for(const f of r)if(am(n,t,f)&&!i[Ts(f)]){const y=new Ot([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,l[Ts(f)]=y}return{...i,...l}}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const a=new Ot(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function am(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gc(n,e,t,r){return!!(Ts(n)===r||r!==un&&am(e,t,n))&&("**"===n.path||om(e,n,t).matched)}function jC(n,e,t){return 0===e.length&&!n.children[t]}const qc=!1;class Wc{constructor(e){this.segmentGroup=e||null}}class ar{constructor(e){this.urlTree=e}}function um(n){return Uf(new Wc(n))}function rv(n){return Uf(new ar(n))}class zC{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=ip(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,un).pipe((0,pt.U)(a=>this.createUrlTree(Wf(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ol(a=>{if(a instanceof ar)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Wc?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,un).pipe((0,pt.U)(i=>this.createUrlTree(Wf(i),e.queryParams,e.fragment))).pipe(ol(i=>{throw i instanceof Wc?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,qc)}createUrlTree(e,t,r){const i=V_(e);return new Co(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(a=>new Ot([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,bn.D)(i).pipe(ca(a=>{const l=r.children[a],f=tv(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,pt.U)(y=>({segment:y,outlet:a})))}),sh((a,l)=>(a[l.outlet]=l.segment,a),{}),WE())}expandSegment(e,t,r,i,a,l){return(0,bn.D)(r).pipe(ca(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(ol(w=>{if(w instanceof Wc)return bt(null);throw w}))),Zs(f=>!!f),ol((f,y)=>{if(sm(f))return jC(t,i,a)?bt(new Ot([],{})):um(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return Gc(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):um(t):um(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rv(a):this.lineralizeSegments(r,a).pipe((0,Si.z)(l=>{const f=new Ot(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=om(t,i,a);if(!f)return um(t);const S=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?rv(S):this.lineralizeSegments(i,S).pipe((0,Si.z)(B=>this.expandSegment(e,t,r,B.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=xC(r,e),r.loadChildren?(r._loadedRoutes?bt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,pt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Ot(i,{})))):bt(new Ot(i,{}))):OA(t,r,i,e).pipe(kr(({matched:l,consumedSegments:f,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Si.z)(D=>{const S=D.injector??e,B=D.routes,{segmentGroup:H,slicedSegments:K}=ip(t,f,y,B),se=new Ot(H.segments,H.children);if(0===K.length&&se.hasChildren())return this.expandChildren(S,B,se).pipe((0,pt.U)(We=>new Ot(f,We)));if(0===B.length&&0===K.length)return bt(new Ot(f,{}));const ce=Ts(r)===a;return this.expandSegment(S,se,B,K,ce?un:a,!0).pipe((0,pt.U)(Qe=>new Ot(f.concat(Qe.segments),Qe.children)))})):um(t)))}getChildConfig(e,t,r){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function NA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?bt(!0):bt(i.map(l=>{const f=fh(l,n);return al(function DA(n){return n&&tp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe($c(),zc())}(e,t,r).pipe((0,Si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Fr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function LA(n){return Uf(TC(qc,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[un])return Uf(new c.vHH(4e3,qc));i=i.children[un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Co(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return mi(t.children,(f,y)=>{l[y]=this.createSegmentGroup(e,f,r,i)}),new Ot(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,qc);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class VA{}class op{constructor(e,t,r,i,a,l,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=ip(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,un).pipe((0,pt.U)(t=>{if(null===t)return null;const r=new ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ha(r,t),a=new em(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Q_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,bn.D)(Object.keys(r.children)).pipe(ca(i=>{const a=r.children[i],l=tv(t,i);return this.processSegmentGroup(e,l,a,i)}),sh((i,a)=>i&&a?(i.push(...a),i):null),function Hf(n,e=!1){return(0,gi.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),$f(null),WE(),(0,pt.U)(i=>{if(null===i)return null;const a=ap(i);return function jA(n){n.sort((e,t)=>e.value.outlet===un?-1:t.value.outlet===un?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,bn.D)(t).pipe(ca(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Zs(l=>!!l),ol(l=>{if(sm(l))return jC(r,i,a)?bt([]):bt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Gc(t,r,i,a))return bt(null);let l;if("**"===t.path){const f=i.length>0?QE(i).parameters:{},y=sv(r)+i.length;l=bt({snapshot:new ch(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ph(t),Ts(t),t.component??t._loadedComponent??null,t,iv(r),y,gh(t),y),consumedSegments:[],remainingSegments:[]})}else l=OA(r,t,i,e).pipe((0,pt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!f)return null;const S=sv(r)+y.length;return{snapshot:new ch(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ph(t),Ts(t),t.component??t._loadedComponent??null,t,iv(r),S,gh(t),S),consumedSegments:y,remainingSegments:w}}));return l.pipe(kr(f=>{if(null===f)return bt(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const S=t._loadedInjector??e,B=function $A(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:K}=ip(r,w,D,B.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution);if(0===K.length&&H.hasChildren())return this.processChildren(S,B,H).pipe((0,pt.U)(ce=>null===ce?null:[new ha(y,ce)]));if(0===B.length&&0===K.length)return bt([new ha(y,[])]);const se=Ts(t)===a;return this.processSegment(S,B,H,K,se?un:a).pipe((0,pt.U)(ce=>null===ce?null:[new ha(y,ce)]))}))}}function HA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ap(n){const e=[],t=new Set;for(const r of n){if(!HA(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ap(r.children);e.push(new ha(r.value,i))}return e.filter(r=>!t.has(r))}function iv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ph(n){return n.data||{}}function gh(n){return n.resolve||{}}function QC(n){return"string"==typeof n.title||null===n.title}function lm(n){return kr(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,pt.U)(()=>e)):bt(e)})}let JC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===un);return r}getResolvedTitleForRoute(t){return t.data[zg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(XC)},providedIn:"root"}),n})(),XC=(()=>{class n extends JC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(af))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RP{}class NP extends class PP{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zc=new c.OlP("",{providedIn:"root",factory:()=>({})}),ov=new c.OlP("ROUTES");let cm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=al(t.loadComponent()).pipe((0,Fr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ZE(()=>{this.componentLoaders.delete(t)})),i=new nA(r,()=>new Ai.x).pipe(ih());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,pt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=Gg(y.get(ov,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(rm),injector:y}}),ZE(()=>{this.childrenLoaders.delete(r)})),l=new nA(a,()=>new Ai.x).pipe(ih());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return al(t()).pipe((0,Si.z)(r=>r instanceof c.YKP||Array.isArray(r)?bt(r):(0,bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class up{}class WA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ZA(n){throw n}function KA(n,e,t){return e.parse("/")}const YA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function rb(){const n=(0,c.f3M)(Lc),e=(0,c.f3M)(Yf),t=(0,c.f3M)(Se),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),a=(0,c.f3M)(ov,{optional:!0})??[],l=(0,c.f3M)(Zc,{optional:!0})??{},f=(0,c.f3M)(XC),y=(0,c.f3M)(JC,{optional:!0}),w=(0,c.f3M)(up,{optional:!0}),D=(0,c.f3M)(RP,{optional:!0}),S=new Fn(null,n,e,t,r,i,Gg(a));return w&&(S.urlHandlingStrategy=w),D&&(S.routeReuseStrategy=D),S.titleStrategy=y??f,function QA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,S),S}let Fn=(()=>{class n{constructor(t,r,i,a,l,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ai.x,this.errorHandler=ZA,this.malformedUriErrorHandler=KA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new WA,this.routeReuseStrategy=new NP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(cm),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new pA(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new fA(B)),this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const S=l.get(c.R0b);this.isNgZoneEnabled=S instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function oA(){return new Co(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vC(this.currentUrlTree,this.rootComponentType),this.transitions=new Eo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ws(i=>0!==i.id),(0,pt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),kr(i=>{let a=!1,l=!1;return bt(i).pipe((0,Fr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return av(f.source)&&(this.browserUrlTree=f.extractedUrl),bt(f).pipe(kr(S=>{const B=this.transitions.getValue();return r.next(new Jg(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),B!==this.transitions.getValue()?Fc.E:Promise.resolve(S)}),function GC(n,e,t,r){return kr(i=>function HC(n,e,t,r,i){return new zC(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,pt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function zA(n,e,t,r,i,a){return(0,Si.z)(l=>function BA(n,e,t,r,i,a,l="emptyOnly",f="legacy"){return new op(n,e,t,r,i,l,f,a).recognize().pipe(kr(y=>null===y?function UA(n){return new xr.y(e=>e.error(n))}(new VA):bt(y)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,a).pipe((0,pt.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fr.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const B=new dC(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(B)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:H,source:K,restoredState:se,extras:ce}=f,Be=new Jg(B,this.serializeUrl(H),K,se);r.next(Be);const Qe=vC(H,this.rootComponentType).snapshot;return bt(i={...f,targetSnapshot:Qe,urlAfterRedirects:H,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Fc.E}),(0,Fr.b)(f=>{const y=new hC(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,pt.U)(f=>i={...f,guards:EA(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function FC(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?bt({...t,guardsResult:!0}):function LC(n,e,t,r){return(0,bn.D)(n).pipe((0,Si.z)(i=>function PA(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(f=>{const y=hh(e)??i,w=fh(f,y);return al(function xA(n){return n&&tp(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Zs())})).pipe($c()):bt(!0)}(i.component,i.route,t,e,r)),Zs(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Si.z)(f=>f&&function TA(n){return"boolean"==typeof n}(f)?function VC(n,e,t,r){return(0,bn.D)(e).pipe(ca(i=>R_(function BC(n,e){return null!==n&&e&&e(new gC(n)),bt(!0)}(i.route.parent,r),function UC(n,e){return null!==n&&e&&e(new Gr(n)),bt(!0)}(i.route,r),function Hc(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function CA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>qE(()=>bt(l.guards.map(y=>{const w=hh(l.node)??t,D=fh(y,w);return al(function SA(n){return n&&tp(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(Zs())})).pipe($c())));return bt(a).pipe($c())}(n,i.path,t),function nv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(a=>qE(()=>{const l=hh(e)??t,f=fh(a,l);return al(function AA(n){return n&&tp(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Zs())}));return bt(i).pipe($c())}(n,i.route,t))),Zs(i=>!0!==i,!0))}(r,a,n,e):bt(f)),(0,pt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Fr.b)(f=>{if(i.guardsResult=f.guardsResult,cu(f.guardsResult))throw IC(0,f.guardsResult);const y=new fC(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ws(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),lm(f=>{if(f.guards.canActivateChecks.length)return bt(f).pipe((0,Fr.b)(y=>{const w=new pC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),kr(y=>{let w=!1;return bt(y).pipe(function GA(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,bn.D)(i).pipe(ca(l=>function qA(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!QC(i)&&(a[zg]=i.title),function ZC(n,e,t,r){const i=function KC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return bt({});const a={};return(0,bn.D)(i).pipe((0,Si.z)(l=>function YC(n,e,t,r){const i=hh(e)??r,a=fh(n,i);return al(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Zs(),(0,Fr.b)(f=>{a[l]=f}))),N_(1),function rA(n){return(0,pt.U)(()=>n)}(a),ol(l=>sm(l)?Fc.E:Uf(l)))}(a,n,e,r).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=Q_(n,t).resolve,i&&QC(i)&&(n.data[zg]=i.title),null)))}(l.route,r,n,e)),(0,Fr.b)(()=>a++),N_(1),(0,Si.z)(l=>a===i.length?bt(t):Fc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Fr.b)(y=>{const w=new AP(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),lm(f=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Fr.b)(S=>{w.component=S}),(0,pt.U)(()=>{})));for(const S of w.children)D.push(...y(S));return D};return Bg(y(f.targetSnapshot.root)).pipe($f(),$g(1))}),lm(()=>this.afterPreactivation()),(0,pt.U)(f=>{const y=function Do(n,e,t){const r=zi(n,e._root,t?t._root:void 0);return new _C(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Fr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new wA(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Fr.b)({next(){a=!0},complete(){a=!0}}),ZE(()=>{a||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ol(f=>{if(l=!0,nm(f)){DC(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Zf(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),DC(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||av(i.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Z_(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Fc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:l;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),dA(w,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function JA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...YA}:!1===r?{...nb}:r,cu(t))return aA(this.currentUrlTree,t,i);const a=this.parseUrl(t);return aA(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,y,w;l?(f=l.resolve,y=l.reject,w=l.promise):w=new Promise((B,H)=>{f=B,y=H});const D=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:D,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(B=>Promise.reject(B))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Zf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return rb()},providedIn:"root"}),n})();function av(n){return"imperative"!==n}let hm=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ai.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fn),c.Y36(jc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),du=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ai.x,this.subscription=t.events.subscribe(a=>{a instanceof fl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,l){return!!(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fn),c.Y36(jc),c.Y36(Ee))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class sb{}let ab=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ws(t=>t instanceof fl),ca(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,bn.D)(i).pipe((0,jg.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bt(null);const a=i.pipe((0,Si.z)(l=>null===l?bt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,bn.D)([a,l]).pipe((0,jg.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(sb),c.LFG(cm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fm=new c.OlP("");let ub=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function mh(n,e){return{\u0275kind:n,\u0275providers:e}}function mm(n){return[{provide:ov,multi:!0,useValue:n}]}function lb(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Fn),i=n.get(cb);1===n.get(uv)&&r.initialNavigation(),n.get(db,null,c.XFs.Optional)?.setUpPreloading(),n.get(fm,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const cb=new c.OlP("",{factory:()=>new Ai.x}),uv=new c.OlP("",{providedIn:"root",factory:()=>1});const db=new c.OlP("");function hb(n){return mh(0,[{provide:db,useExisting:ab},{provide:sb,useExisting:n}])}const lv=new c.OlP("ROUTER_FORROOT_GUARD"),iS=[Se,{provide:Lc,useClass:ll},{provide:Fn,useFactory:rb},Yf,{provide:jc,useFactory:function gm(n){return n.routerState.root},deps:[Fn]},cm];function sS(){return new c.PXZ("Router",Fn)}let fb=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iS,[],mm(t),{provide:lv,useFactory:hv,deps:[[Fn,new c.FiY,new c.tp0]]},{provide:Zc,useValue:r||{}},r?.useHash?{provide:Ee,useClass:gt}:{provide:Ee,useClass:_t},{provide:fm,useFactory:()=>{const n=(0,c.f3M)(Fn),e=(0,c.f3M)(ko),t=(0,c.f3M)(Zc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ub(n,e,t)}},r?.preloadingStrategy?hb(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:sS},r?.initialNavigation?oS(r):[],[{provide:gb,useFactory:lb},{provide:c.tb,multi:!0,useExisting:gb}]]}}static forChild(t){return{ngModule:n,providers:[mm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lv,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dh]}),n})();function hv(n){return"guarded"}function oS(n){return["disabled"===n.initialNavigation?mh(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Fn);return()=>{e.setUpLocationChangeListener()}}},{provide:uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mh(2,[{provide:uv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(q,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const l=e.get(Fn),f=e.get(cb);(function i(a){e.get(Fn).events.pipe(Ws(f=>f instanceof fl||f instanceof Zf||f instanceof Z_),(0,pt.U)(f=>f instanceof fl||f instanceof Zf&&(0===f.code||1===f.code)&&null),Ws(f=>null!==f),$g(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),l.afterPreactivation=()=>(a(!0),r||f.closed?bt(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const gb=new c.OlP("");var mb=V(6451),hu=V(5363),yb=V(6063);class aS extends Ai.x{constructor(e=1/0,t=1/0,r=yb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var UP=V(3099);function pv(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,UP.B)({connector:()=>new aS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _m(n,e){return(0,Vf.m)(e)?kr(()=>n,e):kr(()=>n)}var gv=V(9468),gn=V(4976),Ao=V(2011),pl=V(259);class gl{constructor(e){return e}}class mv{constructor(){return(0,pl.C6)()}}const vm=new c.OlP("angularfire2._apps"),lS={provide:gl,useFactory:function _b(n){return n&&1===n.length?n[0]:new gl((0,pl.Mq)())},deps:[[new c.FiY,vm]]},cS={provide:mv,deps:[[new c.FiY,vm]]};function dS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gl(r)}}let hS=(()=>{class n{constructor(t){(0,pl.KN)("angularfire",gn.q4.full,"core"),(0,pl.KN)("angularfire",gn.q4.full,"app"),(0,pl.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[lS,cS]}),n})();function vb(n,...e){return{ngModule:hS,providers:[{provide:vm,useFactory:dS(n),multi:!0,deps:[c.R0b,c.zs3,gn.HU,...e]}]}}const pS=(0,gn.u3)(pl.ZF,!0);var ye=V(5861),Ds=V(6881),yh=V(4859),en=V(2090),ml=V(1877);const yv=new Map,wb={activated:!1,tokenObservers:[]},gS={initialized:!1,enabled:!1};function wr(n){return yv.get(n)||Object.assign({},wb)}function wm(){return gS}class yS{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new en.BH,yield function _S(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new en.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yi=new en.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vv(n){if(!wr(n).activated)throw yi.create("use-before-activation",{appName:n.name})}function yl(n,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(S){throw yi.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==l.status)throw yi.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(S){throw yi.create("fetch-parse-error",{originalErrorMessage:S?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function Tb(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cp="firebase-app-check-store";let bm=null;function dp(){return bm||(bm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cp,{keyPath:"compositeKey"})}}catch(t){e(yi.create("storage-open",{originalErrorMessage:t?.message}))}}),bm)}function hp(){return(hp=(0,ye.Z)(function*(n,e){const r=(yield dp()).transaction(cp,"readwrite"),a=r.objectStore(cp).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;f(yi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Tm=new ml.Yd("@firebase/app-check");function Dm(n,e){return(0,en.hl)()?function vS(n,e){return function Iv(n,e){return hp.apply(this,arguments)}(function Sb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xv(){return wm().enabled}function Mv(){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,ye.Z)(function*(){const n=wm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xb={error:"UNKNOWN_ERROR"};function Pv(n){return en.US.encodeString(JSON.stringify(n),!1)}function gp(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,ye.Z)(function*(n,e=!1){const t=n.app;vv(t);const r=wr(t);let a,i=r.token;if(i&&!_h(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(_h(y)?i=y:yield Dm(t,void 0))}if(!e&&i&&_h(i))return{token:i.token};let f,l=!1;if(xv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yl(Tb(t,yield Mv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield Dm(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield wr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Tm.warn(y.message):Tm.error(y),a=y}return i?a?f=_h(i)?{token:i.token,internalError:a}:xi(a):(f={token:i.token},r.token=i,yield Dm(t,i)):f=xi(a),l&&Lv(t,f),f})).apply(this,arguments)}function Am(){return(Am=(0,ye.Z)(function*(n){const e=n.app;vv(e);const{provider:t}=wr(e);if(xv()){const r=yield Mv(),{token:i}=yield yl(Tb(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Sm(n,e){const t=wr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Fv(n){const{app:e}=n,t=wr(e);let r=t.tokenRefresher;r||(r=function CS(n){const{app:e}=n;return new yS((0,ye.Z)(function*(){let r;if(r=wr(e).token?yield gp(n,!0):yield gp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Lv(n,e){const t=wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function _h(n){return n.expireTimeMillis-Date.now()>0}function xi(n){return{token:Pv(xb),error:n}}class vh{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wr(this.app);for(const t of e)Sm(this.app,t.next);return Promise.resolve()}}const Ob="app-check-internal";!function qP(){(0,Ds._registerComponent)(new yh.wA("app-check",n=>function bS(n,e){return new vh(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ob).initialize()})),(0,Ds._registerComponent)(new yh.wA(Ob,n=>function IS(n){return{getToken:e=>gp(n,e),getLimitedUseToken:()=>function Ov(n){return Am.apply(this,arguments)}(n),addTokenListener:e=>function kv(n,e,t,r){const{app:i}=n,a=wr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&_h(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Fv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Fv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Sm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class Mm{constructor(){return(0,gn.vb)("app-check")}}typeof window<"u"&&window;var QP=V(9260);const jS=new c.OlP("angularfire2.auth.use-emulator"),$S=new c.OlP("angularfire2.auth.settings"),HS=new c.OlP("angularfire2.auth.tenant-id"),zS=new c.OlP("angularfire2.auth.langugage-code"),GS=new c.OlP("angularfire2.auth.use-device-language"),qS=new c.OlP("angularfire.auth.persistence"),WS=(n,e,t,r,i,a,l,f)=>(0,Ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,D]of Object.entries(l))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]);let _l=(()=>{class n{constructor(t,r,i,a,l,f,y,w,D,S,B,H){const K=new Ai.x,se=bt(void 0).pipe((0,hu.Q)(l.outsideAngular),kr(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,pt.U)(()=>(0,Ao.on)(t,a,r)),(0,pt.U)(ce=>WS(ce,a,f,w,D,S,y,B)),pv({bufferSize:1,refCount:!1}));if(Ns(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{se.pipe(Zs()).subscribe();const Be=se.pipe(kr(Xe=>Xe.getRedirectResult().then(Ut=>Ut,()=>null)),gn.iC,pv({bufferSize:1,refCount:!1})),Qe=se.pipe(kr(Xe=>new xr.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Xe.onAuthStateChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))})))),We=se.pipe(kr(Xe=>new xr.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Xe.onIdTokenChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))}))));this.authState=Be.pipe(_m(Qe),(0,gv.R)(l.outsideAngular),(0,hu.Q)(l.insideAngular)),this.user=Be.pipe(_m(We),(0,gv.R)(l.outsideAngular),(0,hu.Q)(l.insideAngular)),this.idToken=this.user.pipe(kr(Xe=>Xe?(0,bn.D)(Xe.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(kr(Xe=>Xe?(0,bn.D)(Xe.getIdTokenResult()):bt(null))),this.credential=(0,mb.T)(Be,K,this.authState.pipe(Ws(Xe=>!Xe))).pipe((0,pt.U)(Xe=>Xe?.user?Xe:null),(0,gv.R)(l.outsideAngular),(0,hu.Q)(l.insideAngular))}return(0,Ao.pX)(this,se,a,{spy:{apply:(ce,Be,Qe)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Qe.then(We=>K.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ao.Dh),c.LFG(Ao.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gn.HU),c.LFG(jS,8),c.LFG($S,8),c.LFG(HS,8),c.LFG(zS,8),c.LFG(GS,8),c.LFG(qS,8),c.LFG(Mm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pm=(()=>{class n{constructor(){QP.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_l]}),n})();const ZS=["toast-component",""];function Ub(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function Nm(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function Bb(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,Nm,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function jb(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function JP(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function Gv(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class JS{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wv{constructor(e,t,r,i,a,l){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=l,this._onTap=new Ai.x,this._onAction=new Ai.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const zb=new c.OlP("ToastConfig");class ex{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ai.x,this._activate=new Ai.x,this._manualClose=new Ai.x,this._resetTimeout=new Ai.x,this._countDuplicate=new Ai.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class tx{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Wv?this._toastPackage:this._parentInjector.get(e,t,r)}}class nN extends class tN{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class nx{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Gb=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qb=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new nN(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new nx(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gb),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(t,r,i,a,l){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const y=l&&f.title===t;if((!l||y)&&f.message===r)return f.toastRef.onDuplicate(i,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&a.enableHtml&&(w=this.sanitizer.sanitize(c.q3G.HTML,r));const D=new ex(y),S=new Wv(this.index,a,w,i,t,D),B=new tx(S,this._injector),H=new JS(a.toastComponent,B),K=y.attach(H,this.toastrConfig.newestOnTop);D.componentInstance=K.instance;const se={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:K};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{se.toastRef.activate()})),this.toasts.push(se),se}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zb),c.LFG(qb),c.LFG(c.zs3),c.LFG(qu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rx={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Eh),c.Y36(Wv),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:ZS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,Ub,3,0,"button",0),c.YNc(1,Bb,3,5,"div",1),c.YNc(2,jb,1,3,"div",2),c.YNc(3,JP,2,4,"div",3),c.YNc(4,Gv,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},dependencies:[Nn],encapsulation:2,data:{animation:[uD("flyInOut",[Ww("inactive",bf({opacity:0})),Ww("active",bf({opacity:1})),Ww("removed",bf({opacity:0})),Yd("inactive => active",Gw("{{ easeTime }}ms {{ easing }}")),Yd("active => removed",Gw("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let Zv=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:zb,useValue:{default:rx,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[md]]}),n})(),ix=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.toastr=i}ngOnInit(){this.afAuth.user.subscribe(t=>{this.usuarioActual=t&&t.displayName?t.displayName:"Invitad@"})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"]),this.toastr.success("Gracias por visitarnos, vuelve pronto.")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_l),c.Y36(Fn),c.Y36(Eh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],decls:28,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"titulo"],[1,"log"],[1,"logout",3,"click"],[1,"align"],[1,"t1"],["routerLink","/galeria"],[1,"t2"],["routerLink","/videos"],[1,"t3"],["routerLink","/musica"],[1,"msj"],[1,"pie"],["href","https://www.facebook.com/profile.php?id=100013672369598",1,"foo"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),c._uU(3,"Asi somos asi Bailamos Corinto"),c.qZA(),c.TgZ(4,"div",3)(5,"span"),c._uU(6),c.qZA(),c.TgZ(7,"span",4),c.NdJ("click",function(){return r.logout()}),c._uU(8,"Salir"),c.qZA()(),c.TgZ(9,"div")(10,"p",5),c._uU(11," Sum\xe9rgete en el coraz\xf3n de Corinto, Cauca, a trav\xe9s de esta conmovedora recopilaci\xf3n de ensayos, presentaciones, eventos, im\xe1genes y m\xfasica, protagonizados por nuestros queridos j\xf3venes. Cada momento capturado refleja la dedicaci\xf3n, el talento y la pasi\xf3n de nuestros muchachos, quienes con su esfuerzo y creatividad han dejado una huella imborrable en nuestra comunidad. "),c.qZA()(),c.TgZ(12,"ul")(13,"li",6)(14,"a",7),c._uU(15,"Galeria"),c.qZA()(),c.TgZ(16,"li",8)(17,"a",9),c._uU(18,"Videos"),c.qZA()(),c.TgZ(19,"li",10)(20,"a",11),c._uU(21,"Musica"),c.qZA()()(),c.TgZ(22,"div",12),c._uU(23,"Gracias a todos espero lo disfruten tanto como yo!!."),c.qZA(),c.TgZ(24,"aside")(25,"footer",13)(26,"a",14),c._uU(27,"Copyright \xa9 Edwin cut 2022"),c.qZA()()()()()),2&t&&(c.xp6(6),c.hij("hola ",r.usuarioActual,""))},dependencies:[du],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000549;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:0;overflow:hidden}.log[_ngcontent-%COMP%]{display:flex;justify-content:space-between;animation:moveText .8s ease-in;white-space:nowrap;overflow:hidden}.logout[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:80%;width:83%;color:#fff;font-size:20px;padding:20px;border:1px solid white;border-radius:15px;outline:solid #ffffff;background-color:#000983;background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Ffondo.png?alt=media&token=bd6155e5-660d-4611-96e7-4951d7429367);background-repeat:no-repeat;background-position:right;background-size:contain}.titulo[_ngcontent-%COMP%]{padding:10px;font-size:30px;text-align:center;background-color:#000549;border-radius:8px;animation:moveText .5s linear}.align[_ngcontent-%COMP%]{padding:12px;text-align:center;border-radius:12px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid white;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0ff}.msj[_ngcontent-%COMP%]{color:#fff;margin-bottom:9px}.pie[_ngcontent-%COMP%]{position:relative}.foo[_ngcontent-%COMP%]{color:#fff;text-decoration:none}@media (max-width: 767px){.titulo[_ngcontent-%COMP%]{font-size:22px}.welcome[_ngcontent-%COMP%]{font-size:20px;padding:0;margin:0}.align[_ngcontent-%COMP%]{margin-bottom:15px;font-size:17px;animation:moveText 1s linear;overflow:hidden}.t1[_ngcontent-%COMP%]{animation:moveText 1.2s linear;white-space:nowrap;overflow:hidden}.t2[_ngcontent-%COMP%]{animation:moveText 1.4s linear;white-space:nowrap;overflow:hidden}.t3[_ngcontent-%COMP%]{animation:moveText 1.6s linear;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}.msj[_ngcontent-%COMP%], .pie[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 433px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.msj[_ngcontent-%COMP%]{font-size:13px;animation:apearText 2s linear}.pie[_ngcontent-%COMP%]{font-size:16px;animation:apearText 2.3s linear}}@media (max-width: 348px){.titulo[_ngcontent-%COMP%]{font-size:16px}.align[_ngcontent-%COMP%]{padding:4px}}@keyframes moveText{0%{opacity:0;transform:translate(100%)}50%{opacity:.5}to{opacity:1;transform:translate(0)}}@keyframes apearText{0%{opacity:0}50%{opacity:.5}to{opacity:1}}"]}),n})();V(1389);class Kv{constructor(){return(0,gn.vb)("auth")}}const Cx="firebasestorage.googleapis.com",bx="storageBucket";class ur extends en.ZR{constructor(e,t,r=0){super(t0(e),`Firebase Storage: ${t} (${t0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Hn=(()=>{return(n=Hn||(Hn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Hn;var n})();function t0(n){return"storage/"+n}function Lm(){return new ur(Hn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function r0(n){return new ur(Hn.INVALID_ARGUMENT,n)}function aI(){return new ur(Hn.APP_DELETED,"The Firebase app was deleted.")}function Um(n,e){return new ur(Hn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Bm(n){throw new ur(Hn.INTERNAL_ERROR,"Internal error: "+n)}class os{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=os.makeFromUrl(e,t)}catch{return new os(e,"")}if(""===r.path)return r;throw function n0(n){return new ur(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(Xe){Xe.path_=decodeURIComponent(Xe.path)}const S=t.replace(/[.]/g,"\\."),We=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Xe){"/"===Xe.path.charAt(Xe.path.length-1)&&(Xe.path_=Xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===Cx?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Xe=0;Xe<We.length;Xe++){const Ut=We[Xe],Bt=Ut.regex.exec(e);if(Bt){let Dr=Bt[Ut.indices.path];Dr||(Dr=""),r=new os(Bt[Ut.indices.bucket],Dr),Ut.postModify(r);break}}if(null==r)throw function sI(n){return new ur(Hn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class SN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function s0(n){return"string"==typeof n||n instanceof String}function Rx(n){return s()&&n instanceof Blob}function s(){return typeof Blob<"u"&&!(0,en.UG)()}function o(n,e,t,r){if(r<e)throw r0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw r0(`Invalid value for '${n}'. Expected ${t} or less.`)}function u(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function d(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var h=(()=>{return(n=h||(h={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",h;var n})();class _{constructor(e,t,r,i,a,l,f,y,w,D,S,B=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=S,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,K)=>{this.resolve_=H,this.reject_=K,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());!function MN(n){return void 0!==n}(y)?a():a(y)}catch(y){l(y)}else if(null!==f){const y=Lm();y.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,y):y)}else l(i.canceled?this.appDelete_?aI():function Ax(){return new ur(Hn.CANCELED,"User canceled the upload/download.")}():function Vm(){return new ur(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new b(!1,null,!0)):this.backoffId_=function Mx(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function y(){return 2===f}let w=!1;function D(...ce){w||(w=!0,e.apply(null,ce))}function S(ce){i=setTimeout(()=>{i=null,n(H,y())},ce)}function B(){a&&clearTimeout(a)}function H(ce,...Be){if(w)return void B();if(ce)return B(),void D.call(null,ce,...Be);if(y()||l)return B(),void D.call(null,ce,...Be);let We;r<64&&(r*=2),1===f?(f=2,We=0):We=1e3*(r+Math.random()),S(We)}let K=!1;function se(ce){K||(K=!0,B(),!w&&(null!==i?(ce||(f=2),clearTimeout(i),S(0)):ce||(f=1)))}return S(0),a=setTimeout(()=>{l=!0,se(!0)},t),se}((r,i)=>{if(i)return void r(!1,new b(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===h.NO_ERROR,y=a.getStatus();if(!f||function g(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}(y,this.additionalRetryCodes_)&&this.retry){const D=a.getErrorCode()===h.ABORT;return void r(!1,new b(!1,null,D))}const w=-1!==this.successCodes_.indexOf(y);r(!0,new b(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function xN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class b{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Te(...n){const e=function te(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(s())return new Blob(n);throw new ur(Hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class Mt{constructor(e,t){this.data=e,this.contentType=t||null}}function Vt(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Yn(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Um(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Um(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Je(n){if(typeof atob>"u")throw function xx(n){return new ur(Hn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Um(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class wl{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Um("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function u0(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class xo{constructor(e,t){let r=0,i="";Rx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rx(this.data_)){const i=function je(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new xo(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xo(r,!0)}}static getBlob(...e){if(s()){const t=e.map(r=>r instanceof xo?r.data_:r);return new xo(Te.apply(null,t))}{const t=e.map(l=>s0(l)?function ke(n,e){switch(n){case"raw":return new Mt(Vt(e));case"base64":case"base64url":return new Mt(Yn(n,e));case"data_url":return new Mt(function o0(n){const e=new wl(n);return e.base64?Yn("base64",e.rest):function In(n){let e;try{e=decodeURIComponent(n)}catch{throw Um("data_url","Malformed data URL.")}return Vt(e)}(e.rest)}(e),function a0(n){return new wl(n).contentType}(e))}throw Lm()}("raw",l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new xo(i,!0)}}uploadData(){return this.data_}}function vp(n){let e;try{e=JSON.parse(n)}catch{return null}return function PN(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function jm(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function d0(n,e){return e}class As{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||d0}}let uI=null;function h0(){if(uI)return uI;const n=[];n.push(new As("bucket")),n.push(new As("generation")),n.push(new As("metageneration")),n.push(new As("name","fullPath",!0));const t=new As("name");t.xform=function e(a,l){return function CV(n){return!s0(n)||n.length<2?n:jm(n)}(l)},n.push(t);const i=new As("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new As("timeCreated")),n.push(new As("updated")),n.push(new As("md5Hash",null,!0)),n.push(new As("cacheControl",null,!0)),n.push(new As("contentDisposition",null,!0)),n.push(new As("contentEncoding",null,!0)),n.push(new As("contentLanguage",null,!0)),n.push(new As("contentType",null,!0)),n.push(new As("metadata","customMetadata",!0)),uI=n,uI}function NN(n,e,t){const r=vp(e);return null===r?null:function IV(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function bV(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new os(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}const ON="prefixes";class El{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Cl(n){if(!n)throw Lm()}function $m(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Dx(){return new ur(Hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Tx(){return new ur(Hn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function rI(n){return new ur(Hn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function iI(n){return new ur(Hn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function MV(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=u(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new El(f,"GET",function SV(n,e){return function t(r,i){const a=function AV(n,e,t){const r=vp(t);return null===r?null:function DV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ON])for(const i of t[ON]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new os(e,a));r.prefixes.push(l)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new os(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Cl(null!==a),a}}(n,e.bucket),w);return D.urlParams=a,D.errorHandler=$m(e),D}function UN(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},y=function f(){let We="";for(let Xe=0;Xe<2;Xe++)We+=Math.random().toString().slice(2);return We}();l["Content-Type"]="multipart/related; boundary="+y;const w=function VN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function OV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),D=function Px(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}(w,t),H=xo.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+y+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===H)throw function oI(){return new ur(Hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const K={name:w.fullPath},se=u(a,n.host,n._protocol),Be=n.maxUploadRetryTime,Qe=new El(se,"POST",function lI(n,e){return function t(r,i){const a=NN(n,i,e);return Cl(null!==a),a}}(n,t),Be);return Qe.urlParams=K,Qe.headers=l,Qe.body=H.uploadData(),Qe.errorHandler=$m(e),Qe}class BV extends class UV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Bm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function fu(){return new BV}class wp{constructor(e,t){this._service=e,this._location=t instanceof os?t:os.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wp(e,t)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jm(this._location.path)}get storage(){return this._service}get parent(){const e=function l0(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new os(this._location.bucket,e);return new wp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function AN(n){return new ur(Hn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function HN(n,e,t){return kx.apply(this,arguments)}function kx(){return(kx=(0,ye.Z)(function*(n,e,t){const i=yield zN(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield HN(n,e,i.nextPageToken))})).apply(this,arguments)}function zN(n,e){null!=e&&"number"==typeof e.maxResults&&o("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=MV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,fu)}function XV(n){n._throwIfRoot("getDownloadURL");const e=function RV(n,e,t){const i=u(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new El(i,"GET",function xV(n,e){return function t(r,i){const a=NN(n,i,e);return Cl(null!==a),function TV(n,e,t,r){const i=vp(e);if(null===i||!s0(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(w=>{const S=n.fullPath;return u("/b/"+l(n.bucket)+"/o/"+l(S),t,r)+d({alt:"media",token:w})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=function f0(n){const e=$m(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function nI(n){return new ur(Hn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}(e),f}(n.storage,n._location,h0());return n.storage.makeRequestWithTokens(e,fu).then(t=>{if(null===t)throw function DN(){return new ur(Hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function qN(n,e){if(n instanceof Fx){const t=n;if(null==t._bucket)throw function Sx(){return new ur(Hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bx+"' property when initializing the app?")}();const r=new wp(t,t._bucket);return null!=e?qN(r,e):r}return void 0!==e?function GN(n,e){const t=function c0(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new os(n._location.bucket,t);return new wp(n.storage,r)}(n,e):n}function WN(n,e){const t=e?.[bx];return null==t?null:os.makeFromBucketSpec(t,n)}class Fx{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Cx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?os.makeFromBucketSpec(i,this._host):WN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?os.makeFromBucketSpec(this._url,e):WN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ye.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ye.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wp(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new SN(aI());{const l=function Z(n,e,t,r,i,a,l=!0){const f=d(n.urlParams),y=n.url+f,w=Object.assign({},n.headers);return function P(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function I(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function A(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(w,a),function U(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new _(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,ye.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const ZN="@firebase/storage",YN="storage";function sU(n,e,t){return function $N(n,e,t){n._throwIfRoot("uploadBytes");const r=UN(n.storage,n._location,h0(),new xo(e,!0),t);return n.storage.makeRequestWithTokens(r,fu).then(i=>({metadata:i,ref:n}))}(n=(0,en.m9)(n),e,t)}function oU(n){return function YV(n){const e={prefixes:[],items:[]};return HN(n,e).then(()=>e)}(n=(0,en.m9)(n))}function aU(n){return XV(n=(0,en.m9)(n))}function uU(n,e){return function rU(n,e){if(e&&function tU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Fx)return function nU(n,e){return new wp(n,e)}(n,e);throw r0("To use ref(service, url), the first argument must be a Storage instance.")}return qN(n,e)}(n=(0,en.m9)(n),e)}function lU(n=(0,Ds.getApp)(),e){n=(0,en.m9)(n);const r=(0,Ds._getProvider)(n,YN).getImmediate({identifier:e}),i=(0,en.P0)("storage");return i&&function cU(n,e,t,r={}){!function iU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,en.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function dU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Fx(t,r,i,e,Ds.SDK_VERSION)}!function hU(){(0,Ds._registerComponent)(new yh.wA(YN,dU,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(ZN,"0.11.2",""),(0,Ds.registerVersion)(ZN,"0.11.2","esm2017")}();class zm{constructor(e){return e}}const QN="storage",Lx=new c.OlP("angularfire2.storage-instances");function gU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zm(r)}}const mU={provide:class fU{constructor(){return(0,gn.vb)(QN)}},deps:[[new c.FiY,Lx]]},yU={provide:zm,useFactory:function pU(n,e){const t=(0,gn.JM)(QN,n,e);return t&&new zm(t)},deps:[[new c.FiY,Lx],gl]};let _U=(()=>{class n{constructor(){(0,pl.KN)("angularfire",gn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yU,mU]}),n})();function vU(n,...e){return{ngModule:_U,providers:[{provide:Lx,useFactory:gU(n),multi:!0,deps:[c.R0b,c.zs3,gn.HU,mv,[new c.FiY,Kv],[new c.FiY,Mm],...e]}]}}const JN=(0,gn.u3)(aU,!0),wU=(0,gn.u3)(lU,!0),XN=(0,gn.u3)(oU,!0),dI=(0,gn.u3)(uU,!0),eO=(0,gn.u3)(sU,!0);function EU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",16)(1,"img",17),c.NdJ("mouseenter",function(){const a=c.CHM(t).index,l=c.oxw();return c.KtG(l.onMouseEnter(a))})("mouseleave",function(){const a=c.CHM(t).index,l=c.oxw();return c.KtG(l.onMouseLeave(a))})("click",function(){const a=c.CHM(t).index,l=c.oxw();return c.KtG(l.onPreviewImage(a))}),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t,c.LSH)}}function CU(n,e){if(1&n&&(c.TgZ(0,"span",24),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.AsE(" ",t.currentIndex+1,"/",t.totalImageCount," ")}}function bU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.onClosePreview())}),c._UZ(1,"i",26),c.qZA()}}function IU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.prev())}),c._UZ(1,"i",28),c.qZA()}}function TU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",29),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.next())}),c._UZ(1,"i",30),c.qZA()}}function DU(n,e){if(1&n&&(c.TgZ(0,"div",31),c._UZ(1,"img",32),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.ekj("zoom-in",t.previewImage),c.Q6J("src",t.currentLightboxImage,c.LSH)}}const AU=function(n){return{active:n}};function SU(n,e){if(1&n&&(c.TgZ(0,"div",18),c.YNc(1,CU,2,2,"span",19),c.YNc(2,bU,2,0,"button",20),c.YNc(3,IU,2,0,"button",21),c.YNc(4,TU,2,0,"button",22),c.YNc(5,DU,2,3,"div",23),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngClass",c.VKq(6,AU,t.previewImage)),c.xp6(1),c.Q6J("ngIf",t.showCount),c.xp6(1),c.Q6J("ngIf",t.previewImage),c.xp6(1),c.Q6J("ngIf",t.controls),c.xp6(1),c.Q6J("ngIf",t.controls),c.xp6(1),c.Q6J("ngIf",t.previewImage)}}let xU=(()=>{class n{constructor(t,r){this.storage=t,this.el=r,this.images=[],this.showCount=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.currentIndex=0,this.controls=!0,this.totalImageCount=0,this.reset=0}ngOnInit(){this.getImages()}subirArchivo(t){const r=t.target.files[0],i=dI(this.storage,`images/${r.name}`);eO(i,r).then(a=>{this.getImages()}).catch(a=>console.log(a))}getImages(){var t=this;const r=dI(this.storage,"images");console.log(r),XN(r).then(function(){var i=(0,ye.Z)(function*(a){t.images=[];for(let l of a.items){const f=yield JN(l);t.images.push(f)}});return function(a){return i.apply(this,arguments)}}()).catch(i=>console.log(i))}onPreviewImage(t){this.showMask=!0,this.previewImage=!0,this.currentIndex=t,this.showCount=!0,this.currentLightboxImage=this.images[t],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1.1)"}onMouseLeave(t){this.el.nativeElement.querySelectorAll(".zoomable-image")[t].style.transform="scale(1)"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zm),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-galeria"]],decls:22,vars:2,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"con-input"],[1,"input-file-container"],["id","file-input","type","file",3,"change"],["for","file-input",1,"file-label"],[1,"fas","fa-plus"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"src","mouseenter","mouseleave","click"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],[1,"far","fa-times"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],[1,"fas","fa-arrow-circle-left","icon-lightbox-carousel","icon-prev"],[1,"btn-lightbox-carousel","btn-next",3,"click"],[1,"fas","fa-arrow-circle-right","icon-lightbox-carousel","icon-next"],[1,"lightbox-img"],["alt","imagen",3,"src"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),c._uU(5,"INICIO"),c.qZA(),c.TgZ(6,"a",4),c._uU(7,"IMAGENES"),c.qZA(),c.TgZ(8,"a",5),c._uU(9,"VIDEOS"),c.qZA(),c.TgZ(10,"a",6),c._uU(11,"MUSICA"),c.qZA()()(),c.TgZ(12,"div",7)(13,"div",8)(14,"input",9),c.NdJ("change",function(a){return r.subirArchivo(a)}),c.qZA(),c.TgZ(15,"label",10),c._UZ(16,"i",11),c._uU(17," Agregar nueva imagen "),c.qZA()()(),c.TgZ(18,"div",12)(19,"div",13),c.YNc(20,EU,2,1,"div",14),c.qZA(),c.YNc(21,SU,6,8,"div",15),c.qZA()()()),2&t&&(c.xp6(20),c.Q6J("ngForOf",r.images),c.xp6(1),c.Q6J("ngIf",r.showMask))},dependencies:[ln,Ps,Nn,du],styles:[".contenedor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:30px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:5px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{column-count:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.con-input[_ngcontent-%COMP%]{padding:15px 0 20px}.file-label[_ngcontent-%COMP%]{padding:4px;font-size:14px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})();var MU=V(4986);function Vx(){return(0,gi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Zn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function PU(n,e){return n===e}V(9568);var at,NU=V(3942),OU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pu={},Ux=Ux||{},Kt=OU||self;function hI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function p0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Bx="closure_uid_"+(1e9*Math.random()>>>0),FU=0;function LU(n,e,t){return n.call.apply(n.bind,arguments)}function VU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function as(n,e,t){return(as=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LU:VU).apply(null,arguments)}function fI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function bh(){this.s=this.s,this.o=this.o}bh.prototype.s=!1,bh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kU(n){Object.prototype.hasOwnProperty.call(n,Bx)&&n[Bx]||(n[Bx]=++FU)}(this)},bh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function jx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(hI(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function us(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var BU=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",()=>{},e),Kt.removeEventListener("test",()=>{},e)}catch{}return n}();function g0(n){return/^[\s\xa0]*$/.test(n)}function pI(){var n=Kt.navigator;return n&&(n=n.userAgent)?n:""}function bl(n){return-1!=pI().indexOf(n)}function $x(n){return $x[" "](n),n}$x[" "]=function(){};var zx,n,$U=bl("Opera"),Gm=bl("Trident")||bl("MSIE"),rO=bl("Edge"),Hx=rO||Gm,iO=bl("Gecko")&&!(-1!=pI().toLowerCase().indexOf("webkit")&&!bl("Edge"))&&!(bl("Trident")||bl("MSIE"))&&!bl("Edge"),HU=-1!=pI().toLowerCase().indexOf("webkit")&&!bl("Edge");function sO(){var n=Kt.document;return n?n.documentMode:void 0}e:{var Gx="",qx=(n=pI(),iO?/rv:([^\);]+)(\)|;)/.exec(n):rO?/Edge\/([\d\.]+)/.exec(n):Gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):HU?/WebKit\/(\S+)/.exec(n):$U?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qx&&(Gx=qx?qx[1]:""),Gm){var Wx=sO();if(null!=Wx&&Wx>parseFloat(Gx)){zx=String(Wx);break e}}zx=Gx}var zU=Kt.document&&Gm&&(sO()||parseInt(zx,10))||void 0;function m0(n,e){if(us.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(iO){e:{try{$x(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&m0.$.h.call(this)}}Mi(m0,us);var GU={2:"touch",3:"pen",4:"mouse"};m0.prototype.h=function(){m0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var y0="closure_listenable_"+(1e6*Math.random()|0),qU=0;function WU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++qU,this.fa=this.ia=!1}function gI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kx(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function aO(n){const e={};for(const t in n)e[t]=n[t];return e}const uO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<uO.length;a++)t=uO[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mI(n){this.src=n,this.g={},this.h=0}function Yx(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=tO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(gI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qx(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}mI.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Qx(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new WU(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var Jx="closure_lm_"+(1e6*Math.random()|0),Xx={};function cO(n,e,t,r,i){if(r&&r.once)return hO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)cO(n,e[a],t,r,i);return null}return t=rM(t),n&&n[y0]?n.O(e,t,p0(r)?!!r.capture:!!r,i):dO(n,e,t,!1,r,i)}function dO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=p0(i)?!!i.capture:!!i,f=tM(n);if(f||(n[Jx]=f=new mI(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function KU(){const e=YU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)BU||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)hO(n,e[a],t,r,i);return null}return t=rM(t),n&&n[y0]?n.P(e,t,p0(r)?!!r.capture:!!r,i):dO(n,e,t,!0,r,i)}function fO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)fO(n,e[a],t,r,i);else r=p0(r)?!!r.capture:!!r,t=rM(t),n&&n[y0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qx(a=n.g[e],t,r,i))&&(gI(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=tM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qx(e,t,r,i)),(t=-1<n?e[n]:null)&&eM(t))}function eM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[y0])Yx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tM(e))?(Yx(t,n),0==t.h&&(t.src=null,e[Jx]=null)):gI(n)}}}function pO(n){return n in Xx?Xx[n]:Xx[n]="on"+n}function YU(n,e){if(n.fa)n=!0;else{e=new m0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&eM(n),n=t.call(r,e)}return n}function tM(n){return(n=n[Jx])instanceof mI?n:null}var nM="__closure_events_fn_"+(1e9*Math.random()>>>0);function rM(n){return"function"==typeof n?n:(n[nM]||(n[nM]=function(e){return n.handleEvent(e)}),n[nM])}function Ri(){bh.call(this),this.i=new mI(this),this.S=this,this.J=null}function Gi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new us(e,n);else if(e instanceof us)e.target=e.target||n;else{var i=e;lO(e=new us(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=yI(l,r,!0,e)&&i}if(i=yI(l=e.g=n,r,!0,e)&&i,i=yI(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=yI(l=e.g=t[a],r,!1,e)&&i}function yI(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&Yx(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Mi(Ri,bh),Ri.prototype[y0]=!0,Ri.prototype.removeEventListener=function(n,e,t,r){fO(this,n,e,t,r)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gI(t[r]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ri.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var iM=Kt.JSON.stringify;function JU(){var n=sM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var gO=new class QU{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eB,n=>n.reset());class eB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tB(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function nB(n){Kt.setTimeout(()=>{throw n},0)}let _0,v0=!1,sM=new class XU{constructor(){this.h=this.g=null}add(e,t){const r=gO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},mO=()=>{const n=Kt.Promise.resolve(void 0);_0=()=>{n.then(rB)}};var rB=()=>{for(var n;n=JU();){try{n.h.call(n.g)}catch(t){nB(t)}var e=gO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}v0=!1};function _I(n,e){Ri.call(this),this.h=n||1,this.g=e||Kt,this.j=as(this.qb,this),this.l=Date.now()}function oM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function aM(n,e,t){if("function"==typeof n)t&&(n=as(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=as(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function yO(n){n.g=aM(()=>{n.g=null,n.i&&(n.i=!1,yO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(_I,Ri),(at=_I.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gi(this,"tick"),this.ga&&(oM(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){_I.$.N.call(this),oM(this),delete this.g};class iB extends bh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yO(this)}N(){super.N(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function w0(n){bh.call(this),this.h=n,this.g={}}Mi(w0,bh);var _O=[];function vO(n,e,t,r){Array.isArray(t)||(t&&(_O[0]=t.toString()),t=_O);for(var i=0;i<t.length;i++){var a=cO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function wO(n){Kx(n.g,function(e,t){this.g.hasOwnProperty(t)&&eM(e)},n),n.g={}}function vI(){this.g=!0}function qm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return iM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}w0.prototype.N=function(){w0.$.N.call(this),wO(this)},w0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vI.prototype.Ea=function(){this.g=!1},vI.prototype.info=function(){};var Ep={},EO=null;function wI(){return EO=EO||new Ri}function CO(n){us.call(this,Ep.Ta,n)}function E0(n){const e=wI();Gi(e,new CO(e))}function bO(n,e){us.call(this,Ep.STAT_EVENT,n),this.stat=e}function Ss(n){const e=wI();Gi(e,new bO(e,n))}function IO(n,e){us.call(this,Ep.Ua,n),this.size=e}function C0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}Ep.Ta="serverreachability",Mi(CO,us),Ep.STAT_EVENT="statevent",Mi(bO,us),Ep.Ua="timingevent",Mi(IO,us);var EI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uM(){}function AO(){}uM.prototype.h=null;var dM,b0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lM(){us.call(this,"d")}function cM(){us.call(this,"c")}function CI(){}function I0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new w0(this),this.P=lB,this.V=new _I(n=Hx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SO}function SO(){this.i=null,this.g="",this.h=!1}Mi(lM,us),Mi(cM,us),Mi(CI,uM),CI.prototype.g=function(){return new XMLHttpRequest},CI.prototype.i=function(){return{}},dM=new CI;var lB=45e3,hM={},bI={};function fM(n,e,t){n.L=1,n.v=AI(Qc(e)),n.s=t,n.S=!0,xO(n,null)}function xO(n,e){n.G=Date.now(),T0(n),n.A=Qc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),UO(t.i,"t",r),n.C=0,t=n.l.J,n.h=new SO,n.g=lk(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iB(as(n.Pa,n,n.g),n.O)),vO(n.U,n.g,"readystatechange",n.nb),e=n.I?aO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),E0(),function sB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");l=2<=S.length&&"type"==S[1]?l+(D+"=")+w+"&":l+(D+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function MO(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function RO(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=cB(n,t),i==bI){4==e&&(n.o=4,Ss(14),r=!1),qm(n.j,n.m,null,"[Incomplete Response]");break}if(i==hM){n.o=4,Ss(15),qm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qm(n.j,n.m,i,null),pM(n,i)}MO(n)&&i!=bI&&i!=hM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),EM(e),e.M=!0,Ss(11))):(qm(n.j,n.m,t,"[Invalid Chunked Response]"),Cp(n),D0(n))}function cB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bI:(t=Number(e.substring(t,r)),isNaN(t)?hM:(r+=1)+t>e.length?bI:(e=e.slice(r,r+t),n.C=r+t,e))}function T0(n){n.Y=Date.now()+n.P,PO(n,n.P)}function PO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=C0(as(n.lb,n),e)}function II(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function D0(n){0==n.l.H||n.J||sk(n.l,n)}function Cp(n){II(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,oM(n.V),wO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function pM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||gM(t.i,n)))if(!n.K&&gM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;NI(t),RI(t)}wM(t),Ss(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=C0(as(t.ib,t),6e3));if(1>=$O(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ip(t,11)}else if((n.K||t.g==n)&&NI(t),!g0(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const D=w[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const B=w[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const K=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=r.i;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(mM(a,a.h),a.h=null))}if(r.F){const se=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,lr(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=uk(r,r.J?r.pa:null,r.Y),l.K){HO(r.i,l);var f=l,y=r.L;y&&f.setTimeout(y),f.B&&(II(f),T0(f)),r.g=l}else rk(r);0<t.j.length&&PI(t)}else"stop"!=w[0]&&"close"!=w[0]||Ip(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ip(t,7):vM(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}E0()}catch{}}function NO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function hB(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function dB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(at=I0.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const e=this.M;e&&3==Il(n)?e.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const D=Il(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||Hx||this.g&&(this.h.h||this.g.ja()||QO(this.g)))){this.J||4!=D||7==e||E0(),II(this);var t=this.g.da();this.ca=t;t:if(MO(this)){var r=QO(this.g);n="";var i=r.length,a=4==Il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cp(this),D0(this);var l="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function oB(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g0(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ss(12),Cp(this),D0(this);break e}qm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pM(this,t)}this.S?(RO(this,D,l),Hx&&this.i&&3==D&&(vO(this.U,this.V,"tick",this.mb),this.V.start())):(qm(this.j,this.m,l,null),pM(this,l)),4==D&&Cp(this),this.i&&!this.J&&(4==D?sk(this.l,this):(this.i=!1,T0(this)))}else(function MB(n){const e={};n=(n.g&&2<=Il(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(g0(n[r]))continue;var t=tB(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function ZU(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ss(12)):(this.o=0,Ss(13)),Cp(this),D0(this)}}}catch{}},at.mb=function(){if(this.g){var n=Il(this.g),e=this.g.ja();this.C<e.length&&(II(this),RO(this,n,e),this.i&&4!=n&&T0(this))}},at.cancel=function(){this.J=!0,Cp(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(E0(),Ss(17)),Cp(this),this.o=2,D0(this)):PO(this,this.Y-n)};var OO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof bp){this.h=n.h,TI(this,n.j),this.s=n.s,this.g=n.g,DI(this,n.m),this.l=n.l;var e=n.i,t=new x0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kO(this,t),this.o=n.o}else n&&(e=String(n).match(OO))?(this.h=!1,TI(this,e[1]||"",!0),this.s=A0(e[2]||""),this.g=A0(e[3]||"",!0),DI(this,e[4]),this.l=A0(e[5]||"",!0),kO(this,e[6]||"",!0),this.o=A0(e[7]||"")):(this.h=!1,this.i=new x0(null,this.h))}function Qc(n){return new bp(n)}function TI(n,e,t){n.j=t?A0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function DI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kO(n,e,t){e instanceof x0?(n.i=e,function vB(n,e){e&&!n.j&&(Ih(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(LO(this,r),UO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=S0(e,yB)),n.i=new x0(e,n.h))}function lr(n,e,t){n.i.set(e,t)}function AI(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function A0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function S0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(S0(e,FO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(S0(e,FO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(S0(t,"/"==t.charAt(0)?mB:gB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",S0(t,_B)),n.join("")};var FO=/[#\/\?@]/g,gB=/[#\?:]/g,mB=/[#\?]/g,yB=/[#\?@]/g,_B=/#/g;function x0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ih(n){n.g||(n.g=new Map,n.h=0,n.i&&function fB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function LO(n,e){Ih(n),e=Wm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function VO(n,e){return Ih(n),e=Wm(n,e),n.g.has(e)}function UO(n,e,t){LO(n,e),0<t.length&&(n.i=null,n.g.set(Wm(n,e),jx(t)),n.h+=t.length)}function Wm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BO(n){this.l=n||EB,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ka&&Kt.g.Ka()&&Kt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=x0.prototype).add=function(n,e){Ih(this),this.i=null,n=Wm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){Ih(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},at.ta=function(){Ih(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},at.Z=function(n){Ih(this);let e=[];if("string"==typeof n)VO(this,n)&&(e=e.concat(this.g.get(Wm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return Ih(this),this.i=null,VO(this,n=Wm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var EB=10;function jO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $O(n){return n.h?1:n.g?n.g.size:0}function gM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mM(n,e){n.g?n.g.add(e):n.h=e}function HO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return jx(n.i)}function bB(){this.g=new class{stringify(n){return Kt.JSON.stringify(n,void 0)}parse(n){return Kt.JSON.parse(n,void 0)}}}function IB(n,e,t){const r=t||"";try{NO(n,function(i,a){let l=i;p0(i)&&(l=iM(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function SI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function M0(n){this.l=n.fc||null,this.j=n.ob||!1}function xI(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=yM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BO.prototype.cancel=function(){if(this.i=zO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Mi(M0,uM),M0.prototype.g=function(){return new xI(this.l,this.j)},M0.prototype.i=function(n){return function(){return n}}({}),Mi(xI,Ri);var yM=0;function GO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function R0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,P0(n)}function P0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=xI.prototype).open=function(n,e){if(this.readyState!=yM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,P0(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Kt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,R0(this)),this.readyState=yM},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,P0(this)),this.g&&(this.readyState=3,P0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?R0(this):P0(this),3==this.readyState&&GO(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,R0(this))},at.Ya=function(n){this.g&&(this.response=n,R0(this))},at.ka=function(){this.g&&R0(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var DB=Kt.JSON.parse;function Lr(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qO,this.L=this.M=!1}Mi(Lr,Ri);var qO="",AB=/^https?$/i,SB=["POST","PUT"];function WO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZO(n),MI(n)}function ZO(n){n.F||(n.F=!0,Gi(n,"complete"),Gi(n,"error"))}function KO(n){if(n.h&&typeof Ux<"u"&&(!n.C[1]||4!=Il(n)||2!=n.da()))if(n.v&&4==Il(n))aM(n.La,0,n);else if(Gi(n,"readystatechange"),4==Il(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(OO)[1]||null;!i&&Kt.self&&Kt.self.location&&(i=Kt.self.location.protocol.slice(0,-1)),r=!AB.test(i?i.toLowerCase():"")}t=r}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var a=2<Il(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",ZO(n)}}finally{MI(n)}}}function MI(n,e){if(n.g){YO(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function YO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function Il(n){return n.g?n.g.readyState:0}function QO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case qO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function JO(n){let e="";return Kx(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _M(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=JO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lr(n,e,t))}function N0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XO(n){this.Ga=0,this.j=[],this.l=new vI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=N0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=N0("baseRetryDelayMs",5e3,n),this.hb=N0("retryDelaySeedMs",1e4,n),this.eb=N0("forwardChannelMaxRetries",2,n),this.xa=N0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new BO(n&&n.concurrentRequestLimit),this.Ja=new bB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vM(n){if(ek(n),3==n.H){var e=n.W++,t=Qc(n.I);if(lr(t,"SID",n.K),lr(t,"RID",e),lr(t,"TYPE","terminate"),O0(n,t),(e=new I0(n,n.l,e)).L=2,e.v=AI(Qc(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon)try{t=Kt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=lk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),T0(e)}ak(n)}function RI(n){n.g&&(EM(n),n.g.cancel(),n.g=null)}function ek(n){RI(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),NI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function PI(n){if(!jO(n.i)&&!n.m){n.m=!0;var e=n.Na;_0||mO(),v0||(_0(),v0=!0),sM.add(e,n),n.C=0}}function tk(n,e){var t;t=e?e.m:n.W++;const r=Qc(n.I);lr(r,"SID",n.K),lr(r,"RID",t),lr(r,"AID",n.V),O0(n,r),n.o&&n.s&&_M(r,n.o,n.s),t=new I0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=nk(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),mM(n.i,t),fM(t,r,e)}function O0(n,e){n.na&&Kx(n.na,function(t,r){lr(e,r,t)}),n.h&&NO({},function(t,r){lr(e,r,t)})}function nk(n,e,t){t=Math.min(n.j.length,t);var r=n.h?as(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].g;const D=i[y].map;if(w-=a,0>w)a=Math.max(0,i[y].g-100),f=!1;else try{IB(D,l,"req"+w+"_")}catch{r&&r(D)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function rk(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_0||mO(),v0||(_0(),v0=!0),sM.add(e,n),n.A=0}}function wM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=C0(as(n.Ma,n),ok(n,n.A)),n.A++,0))}function EM(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function ik(n){n.g=new I0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Qc(n.wa);lr(e,"RID","rpc"),lr(e,"SID",n.K),lr(e,"AID",n.V),lr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lr(e,"TO",n.qa),lr(e,"TYPE","xmlhttp"),O0(n,e),n.o&&n.s&&_M(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=AI(Qc(e)),t.s=null,t.S=!0,xO(t,n)}function NI(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function sk(n,e){var t=null;if(n.g==e){NI(n),EM(n),n.g=null;var r=2}else{if(!gM(n.i,e))return;t=e.F,HO(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Gi(r=wI(),new IO(r,t)),PI(n)}else rk(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function RB(n,e){return!($O(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=C0(as(n.Na,n,e),ok(n,n.C)),n.C++,0)))}(n,e)||2==r&&wM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ip(n,5);break;case 4:Ip(n,10);break;case 3:Ip(n,6);break;default:Ip(n,2)}}function ok(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ip(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=as(n.pb,n);t||(t=new bp("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||TI(t,"https"),AI(t)),function TB(n,e){const t=new vI;if(Kt.Image){const r=new Image;r.onload=fI(SI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fI(SI,t,r,"TestLoadImage: error",!1,e),r.onabort=fI(SI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fI(SI,t,r,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ss(2);n.H=0,n.h&&n.h.za(e),ak(n),ek(n)}function ak(n){if(n.H=0,n.ma=[],n.h){const e=zO(n.i);(0!=e.length||0!=n.j.length)&&(nO(n.ma,e),nO(n.ma,n.j),n.i.i.length=0,jx(n.j),n.j.length=0),n.h.ya()}}function uk(n,e,t){var r=t instanceof bp?Qc(t):new bp(t);if(""!=r.g)e&&(r.g=e+"."+r.g),DI(r,r.m);else{var i=Kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new bp(null);r&&TI(a,r),e&&(a.g=e),i&&DI(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&lr(r,t,e),lr(r,"VER",n.ra),O0(n,r),r}function lk(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t&&n.Ha&&!n.va?new M0({ob:!0}):n.va)).Oa(n.J),e}function ck(){}function OI(){if(Gm&&!(10<=Number(zU)))throw Error("Environmental error: no available transport.")}function Mo(n,e){Ri.call(this),this.g=new XO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!g0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!g0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zm(this)}function dk(n){lM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hk(){cM.call(this),this.status=1}function Zm(n){this.g=n}function gu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Ln(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(at=Lr.prototype).Oa=function(n){this.M=n},at.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dM.g(),this.C=function DO(n){return n.h||(n.h=n.i())}(this.u?this.u:dM),this.g.onreadystatechange=as(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void WO(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Kt.FormData&&n instanceof Kt.FormData,!(0<=tO(SB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YO(this),0<this.B&&((this.L=function xB(n){return Gm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.ua,this)):this.A=aM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){WO(this,a)}},at.ua=function(){typeof Ux<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),MI(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),MI(this,!0)),Lr.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?KO(this):this.kb())},at.kb=function(){KO(this)},at.isActive=function(){return!!this.g},at.da=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),DB(e)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=XO.prototype).ra=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new I0(this,this.l,n);let a=this.s;if(this.U&&(a?(a=aO(a),lO(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nk(this,i,e),lr(t=Qc(this.I),"RID",n),lr(t,"CVER",22),this.F&&lr(t,"X-HTTP-Session-Id",this.F),O0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(JO(a)))+"&"+e:this.o&&_M(t,this.o,a)),mM(this.i,i),this.bb&&lr(t,"TYPE","init"),this.P?(lr(t,"$req",e),lr(t,"SID","null"),i.aa=!0,fM(i,t,null)):fM(i,t,e),this.H=2}}else 3==this.H&&(n?tk(this,n):0==this.j.length||jO(this.i)||tk(this))},at.Ma=function(){if(this.u=null,ik(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=C0(as(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ss(10),RI(this),ik(this))},at.ib=function(){null!=this.v&&(this.v=null,RI(this),wM(this),Ss(19))},at.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ss(2)):(this.l.info("Failed to ping google.com"),Ss(1))},at.isActive=function(){return!!this.h&&this.h.isActive(this)},(at=ck.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.isActive=function(){return!0},at.Va=function(){},OI.prototype.g=function(n,e){return new Mo(n,e)},Mi(Mo,Ri),Mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ss(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uk(n,null,n.Y),PI(n)},Mo.prototype.close=function(){vM(this.g)},Mo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=iM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&PI(e)},Mo.prototype.N=function(){this.g.h=null,delete this.j,vM(this.g),delete this.g,Mo.$.N.call(this)},Mi(dk,lM),Mi(hk,cM),Mi(Zm,ck),Zm.prototype.Ba=function(){Gi(this.g,"a")},Zm.prototype.Aa=function(n){Gi(this.g,new dk(n))},Zm.prototype.za=function(n){Gi(this.g,new hk)},Zm.prototype.ya=function(){Gi(this.g,"b")},Mi(gu,function PB(){this.blockSize=-1}),gu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)CM(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){CM(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){CM(this,r),i=0;break}}this.h=i,this.i+=e},gu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var NB={};function bM(n){return-128<=n&&128>n?function jU(n,e){var t=NB;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function Tl(n){if(isNaN(n)||!isFinite(n))return Km;if(0>n)return qi(Tl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=IM;return new Ln(e,0)}var IM=4294967296,Km=bM(0),TM=bM(1),pk=bM(16777216);function Jc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ga(n){return-1==n.h}function qi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ln(t,~n.h).add(TM)}function kI(n,e){return n.add(qi(e))}function FI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function k0(n,e){this.g=n,this.h=e}function LI(n,e){if(Jc(e))throw Error("division by zero");if(Jc(n))return new k0(Km,Km);if(ga(n))return e=LI(qi(n),e),new k0(qi(e.g),qi(e.h));if(ga(e))return e=LI(n,qi(e)),new k0(qi(e.g),e.h);if(30<n.g.length){if(ga(n)||ga(e))throw Error("slowDivide_ only works with positive integers.");for(var t=TM,r=e;0>=r.X(n);)t=gk(t),r=gk(r);var i=Ym(t,1),a=Ym(r,1);for(r=Ym(r,2),t=Ym(t,2);!Jc(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Ym(r,1),t=Ym(t,1)}return e=kI(n,i.R(e)),new k0(i,e)}for(i=Km;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Tl(t)).R(e);ga(l)||0<l.X(n);)l=(a=Tl(t-=r)).R(e);Jc(a)&&(a=TM),i=i.add(a),n=kI(n,l)}return new k0(i,n)}function gk(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ln(t,n.h)}function Ym(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Ln(i,n.h)}(at=Ln.prototype).ea=function(){if(ga(this))return-qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:IM+r)*e,e*=IM}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Jc(this))return"0";if(ga(this))return"-"+qi(this).toString(n);for(var e=Tl(Math.pow(n,6)),t=this,r="";;){var i=LI(t,e).g,a=((0<(t=kI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Jc(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return ga(n=kI(this,n))?-1:Jc(n)?0:1},at.abs=function(){return ga(this)?qi(this):this},at.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},at.R=function(n){if(Jc(this)||Jc(n))return Km;if(ga(this))return ga(n)?qi(this).R(qi(n)):qi(qi(this).R(n));if(ga(n))return qi(this.R(qi(n)));if(0>this.X(pk)&&0>n.X(pk))return Tl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,FI(t,2*r+2*i),t[2*r+2*i+1]+=a*y,FI(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,FI(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,FI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ln(t,0)},at.gb=function(n){return LI(this,n).h},at.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ln(t,this.h&n.h)},at.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ln(t,this.h|n.h)},at.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ln(t,this.h^n.h)},OI.prototype.createWebChannel=OI.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,EI.NO_ERROR=0,EI.TIMEOUT=8,EI.HTTP_ERROR=6,TO.COMPLETE="complete",AO.EventType=b0,b0.OPEN="a",b0.CLOSE="b",b0.ERROR="c",b0.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,Lr.prototype.listenOnce=Lr.prototype.P,Lr.prototype.getLastError=Lr.prototype.Sa,Lr.prototype.getLastErrorCode=Lr.prototype.Ia,Lr.prototype.getStatus=Lr.prototype.da,Lr.prototype.getResponseJson=Lr.prototype.Wa,Lr.prototype.getResponseText=Lr.prototype.ja,Lr.prototype.send=Lr.prototype.ha,Lr.prototype.setWithCredentials=Lr.prototype.Oa,gu.prototype.digest=gu.prototype.l,gu.prototype.reset=gu.prototype.reset,gu.prototype.update=gu.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=Tl,Ln.fromString=function fk(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qi(fk(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Tl(Math.pow(e,8)),r=Km,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Tl(Math.pow(e,a)),r=r.R(a).add(Tl(l))):r=(r=r.R(t)).add(Tl(l))}return r};var OB=pu.createWebChannelTransport=function(){return new OI},kB=pu.getStatEventTarget=function(){return wI()},DM=pu.ErrorCode=EI,FB=pu.EventType=TO,LB=pu.Event=Ep,mk=pu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VB=pu.FetchXmlHttpFactory=M0,VI=pu.WebChannel=AO,UB=pu.XhrIo=Lr,BB=pu.Md5=gu,Qm=pu.Integer=Ln;const yk="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Jm="9.23.0";const Th=new ml.Yd("@firebase/firestore");function AM(){return Th.logLevel}function Ue(n,...e){if(Th.logLevel<=ml.in.DEBUG){const t=e.map(SM);Th.debug(`Firestore (${Jm}): ${n}`,...t)}}function qr(n,...e){if(Th.logLevel<=ml.in.ERROR){const t=e.map(SM);Th.error(`Firestore (${Jm}): ${n}`,...t)}}function ma(n,...e){if(Th.logLevel<=ml.in.WARN){const t=e.map(SM);Th.warn(`Firestore (${Jm}): ${n}`,...t)}}function SM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${Jm}) INTERNAL ASSERTION FAILED: `+n;throw qr(e),new Error(e)}function It(n,e){n||ft()}function st(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _k{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class zB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GB{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new _k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new Pi(e)}}class qB{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class WB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZB{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.T=t.token,new vk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function Xm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ek(n){return n+"\0"}class Er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Er(0,0))}static max(){return new Dt(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class F0{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===F0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof F0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends F0{construct(e,t,r){return new wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const YB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends F0{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return YB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(wn.fromString(e))}static fromName(e){return new rt(wn.fromString(e).popFirst(5))}static empty(){return new rt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new wn(e.slice()))}}class UI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xM(n){return n.fields.find(e=>2===e.kind)}function Tp(n){return n.fields.filter(e=>2!==e.kind)}UI.UNKNOWN_ID=-1;class BI{constructor(e,t){this.fieldPath=e,this.kind=t}}class L0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new L0(0,Ro.min())}}function Ck(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new Er(t+1,0):new Er(t,r));return new Ro(i,rt.empty(),e)}function bk(n){return new Ro(n.readTime,n.key,-1)}class Ro{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ro(Dt.min(),rt.empty(),-1)}static max(){return new Ro(Dt.max(),rt.empty(),-1)}}function MM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const Ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dh(n){return RM.apply(this,arguments)}function RM(){return RM=(0,ye.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==Ik)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),RM.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(D=>{l[w]=D,++f,f===a&&r(l)},D=>i(D))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class jI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new _i,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new V0(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=PM(r.target.error);this.v.reject(new V0(e,i))}}static open(e,t,r,i){try{return new jI(t,e.transaction(i,r))}catch(a){throw new V0(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ej(t)}}class mu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===mu.S((0,en.z$)())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Dp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,en.hl)())return!1;if(mu.C())return!0;const e=(0,en.z$)(),t=mu.S(e),r=0<t&&t<10,i=mu.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new V0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new V0(e,f))},a.onupgradeneeded=l=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ye.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=jI.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(D=>(y.P(),D)).catch(D=>(y.abort(D),ae.reject(D))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class XB{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Dp(this.L.delete())}}class V0 extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ah(n){return"IndexedDbTransactionError"===n.name}class ej{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dp(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Dp(this.store.add(e))}get(e){return Dp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Dp(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Dp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const l=PM(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new ae((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const y=new XB(f),w=t(f.primaryKey,f.value,y);if(w instanceof ae){const D=w.catch(S=>(y.done(),ae.reject(S)));r.push(D)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dp(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=PM(r.target.error);t(i)}})}let Dk=!1;function PM(n){const e=mu.S((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dk||(Dk=!0,setTimeout(()=>{throw r},0)),r}}return n}class tj{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ah(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Dh(r)}yield t.et(6e4)}))}}class nj{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ue("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=bk(a);MM(l,r)>0&&(r=l)}),new Ro(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Po=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function U0(n){return null==n}function B0(n){return 0===n&&1/n==-1/0}function Ak(n){return"number"==typeof n&&Number.isInteger(n)&&!B0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sk(e)),e=rj(n.get(t),e);return Sk(e)}function rj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Sk(n){return n+"\x01\x01"}function Dl(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&ft(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:ft()}a=l+2}return new wn(r)}const xk=["userId","batchId"];function $I(n,e){return[n,ls(e)]}function Mk(n,e,t){return[n,ls(e),t]}const ij={},sj=["prefixPath","collectionGroup","readTime","documentId"],oj=["prefixPath","collectionGroup","documentId"],aj=["collectionGroup","readTime","prefixPath","documentId"],uj=["canonicalId","targetId"],lj=["targetId","path"],cj=["path","targetId"],dj=["collectionId","parent"],hj=["indexId","uid"],fj=["uid","sequenceNumber"],pj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gj=["indexId","uid","orderedDocumentKey"],mj=["userId","collectionPath","documentId"],yj=["userId","collectionPath","largestBatchId"],_j=["userId","collectionGroup","largestBatchId"],Rk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vj=[...Rk,"documentOverlays"],Pk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nk=Pk,wj=[...Nk,"indexConfiguration","indexState","indexEntries"];class NM extends Tk{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=st(n);return mu.M(t.ht,e)}function Ok(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tr{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new HI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new HI(this.root,e,this.comparator,!1)}getReverseIterator(){return new HI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new HI(this.root,e,this.comparator,!0)}}class HI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=a??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Wi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fk(this.data.getIterator())}getIteratorFrom(e){return new Fk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class Fk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ey(n){return n.hasNext()?n.getNext():void 0}class Xs{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new Xs([])}unionWith(e){let t=new cr(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lk("Invalid base64 string: "+i):i}}(e);return new vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const Cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(n){if(It(!!n),"string"==typeof n){let e=0;const t=Cj.exec(n);if(It(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xc(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function zI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function GI(n){const e=n.mapValue.fields.__previous_value__;return zI(e)?GI(e):e}function j0(n){const e=xh(n.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}class bj{constructor(e,t,r,i,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=w}}class Mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}const Rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qI={nullValue:"NULL_VALUE"};function Ph(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zI(n)?4:jk(n)?9007199254740991:10:ft()}function Al(n,e){if(n===e)return!0;const t=Ph(n);if(t!==Ph(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return j0(n).isEqual(j0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=xh(r.timestampValue),l=xh(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xc(n.bytesValue).isEqual(Xc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ur(r.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ur(r.integerValue)===Ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ur(r.doubleValue),l=Ur(i.doubleValue);return a===l?B0(a)===B0(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Xm(n.arrayValue.values||[],e.arrayValue.values||[],Al);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Ok(a)!==Ok(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Al(a[f],l[f])))return!1;return!0}(n,e);default:return ft()}var i}function $0(n,e){return void 0!==(n.values||[]).find(t=>Al(t,e))}function Nh(n,e){if(n===e)return 0;const t=Ph(n),r=Ph(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ur(i.integerValue||i.doubleValue),f=Ur(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return Vk(n.timestampValue,e.timestampValue);case 4:return Vk(j0(n),j0(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Xc(i),f=Xc(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const w=Zt(l[y],f[y]);if(0!==w)return w}return Zt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Zt(Ur(i.latitude),Ur(a.latitude));return 0!==l?l:Zt(Ur(i.longitude),Ur(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const w=Nh(l[y],f[y]);if(w)return w}return Zt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Rh.mapValue&&a===Rh.mapValue)return 0;if(i===Rh.mapValue)return 1;if(a===Rh.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const S=Zt(f[D],w[D]);if(0!==S)return S;const B=Nh(l[f[D]],y[w[D]]);if(0!==B)return B}return Zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ft()}}function Vk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=xh(n),r=xh(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function ty(n){return OM(n)}function OM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xc(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=OM(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${OM(r.fields[f])}`;return a+"}"}(n.mapValue):ft();var e}function Ap(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kM(n){return!!n&&"integerValue"in n}function H0(n){return!!n&&"arrayValue"in n}function Uk(n){return!!n&&"nullValue"in n}function Bk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ZI(n){return!!n&&"mapValue"in n}function z0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=z0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=z0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ij(n){return"nullValue"in n?qI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ap(Mh.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Tj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ap(Mh.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rh:ft()}function $k(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Hk(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ZI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=z0(t)}setAll(e){let t=Vr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=z0(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());ZI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ZI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zi(z0(this.value))}}function zk(n){const e=[];return Sh(n.fields,(t,r)=>{const i=new Vr([t]);if(ZI(r)){const a=zk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Xs(e)}class dr{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new dr(e,0,Dt.min(),Dt.min(),Dt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Dt.min(),Dt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Dt.min(),Dt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function Gk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),t.key):Nh(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Al(n.position[t],e.position[t]))return!1;return!0}class ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wk{}class mn extends Wk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Aj(e,t,r):"array-contains"===t?new Mj(e,r):"in"===t?new Xk(e,r):"not-in"===t?new Rj(e,r):"array-contains-any"===t?new Pj(e,r):new mn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Sj(e,r):new xj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nh(t,this.value)):null!==t&&Ph(this.value)===Ph(t)&&this.matchesComparison(Nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends Wk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vn(e,t)}matches(e){return ry(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ry(n){return"and"===n.op}function FM(n){return"or"===n.op}function LM(n){return Zk(n)&&ry(n)}function Zk(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function VM(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+ty(n.value);if(LM(n))return n.filters.map(e=>VM(e)).join(",");{const e=n.filters.map(t=>VM(t)).join(",");return`${n.op}(${e})`}}function Kk(n,e){return n instanceof mn?(t=n,(r=e)instanceof mn&&t.op===r.op&&t.field.isEqual(r.field)&&Al(t.value,r.value)):n instanceof Vn?function(t,r){return r instanceof Vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&Kk(a,r.filters[l]),!0)}(n,e):void ft();var t,r}function Yk(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function Qk(n){return n instanceof mn?`${(e=n).field.canonicalString()} ${e.op} ${ty(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Qk).join(" ,")+"}"}(n):"Filter";var e}class Aj extends mn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sj extends mn{constructor(e,t){super(e,"in",t),this.keys=Jk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xj extends mn{constructor(e,t){super(e,"not-in",t),this.keys=Jk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class Mj extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return H0(t)&&$0(t.arrayValue,this.value)}}class Xk extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$0(this.value.arrayValue,t)}}class Rj extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if($0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$0(this.value.arrayValue,t)}}class Pj extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!H0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$0(this.value.arrayValue,r))}}class Nj{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function UM(n,e=null,t=[],r=[],i=null,a=null,l=null){return new Nj(n,e,t,r,i,a,l)}function Sp(n){const e=st(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),U0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ty(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ty(r)).join(",")),e.dt=t}return e.dt}function G0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qk(n.startAt,e.startAt)&&qk(n.endAt,e.endAt)}function KI(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function YI(n,e){return n.filters.filter(t=>t instanceof mn&&t.field.isEqual(e))}function eF(n,e,t){let r=qI,i=!0;for(const a of YI(n,e)){let l=qI,f=!0;switch(a.op){case"<":case"<=":l=Ij(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=qI}$k({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];$k({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function tF(n,e,t){let r=Rh,i=!0;for(const a of YI(n,e)){let l=Rh,f=!0;switch(a.op){case">=":case">":l=Tj(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Rh}Hk({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];Hk({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class ed{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function nF(n,e,t,r,i,a,l,f){return new ed(n,e,t,r,i,a,l,f)}function iy(n){return new ed(n)}function rF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function BM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function QI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jM(n){return null!==n.collectionGroup}function xp(n){const e=st(n);if(null===e.wt){e.wt=[];const t=QI(e),r=BM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ny(t)),e.wt.push(new ny(Vr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ny(Vr.keyField(),a))}}}return e.wt}function xs(n){const e=st(n);if(!e._t)if("F"===e.limitType)e._t=UM(e.path,e.collectionGroup,xp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of xp(e))t.push(new ny(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Oh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oh(e.startAt.position,e.startAt.inclusive):null;e._t=UM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function $M(n,e){e.getFirstInequalityField(),QI(n);const t=n.filters.concat([e]);return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function JI(n,e,t){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function q0(n,e){return G0(xs(n),xs(e))&&n.limitType===e.limitType}function iF(n){return`${Sp(xs(n))}|lt:${n.limitType}`}function HM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Qk(r)).join(", ")}]`),U0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ty(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ty(r)).join(",")),`Target(${t})`}(xs(n))}; limitType=${n.limitType})`}function W0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of xp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=Gk(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,xp(t),r)||t.endAt&&!function(i,a,l){const f=Gk(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,xp(t),r)));var t,r}function sF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oF(n){return(e,t)=>{let r=!1;for(const i of xp(n)){const a=Oj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Oj(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?Nh(f,y):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class td{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return kk(this.inner)}size(){return this.innerSize}}const kj=new tr(rt.comparator);function eo(){return kj}const aF=new tr(rt.comparator);function Z0(...n){let e=aF;for(const t of n)e=e.insert(t.key,t);return e}function uF(n){let e=aF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Sl(){return K0()}function lF(){return K0()}function K0(){return new td(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fj=new tr(rt.comparator),Lj=new cr(rt.comparator);function nn(...n){let e=Lj;for(const t of n)e=e.add(t);return e}const Vj=new cr(Zt);function zM(){return Vj}function cF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function dF(n){return{integerValue:""+n}}function hF(n,e){return Ak(e)?dF(e):cF(n,e)}class XI{constructor(){this._=void 0}}function Uj(n,e,t){return n instanceof sy?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&zI(i)&&(i=GI(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Mp?pF(n,e):n instanceof Rp?gF(n,e):function(r,i){const a=fF(r,i),l=mF(a)+mF(r.gt);return kM(a)&&kM(r.gt)?dF(l):cF(r.serializer,l)}(n,e)}function Bj(n,e,t){return n instanceof Mp?pF(n,e):n instanceof Rp?gF(n,e):t}function fF(n,e){return n instanceof oy?kM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sy extends XI{}class Mp extends XI{constructor(e){super(),this.elements=e}}function pF(n,e){const t=yF(e);for(const r of n.elements)t.some(i=>Al(i,r))||t.push(r);return{arrayValue:{values:t}}}class Rp extends XI{constructor(e){super(),this.elements=e}}function gF(n,e){let t=yF(e);for(const r of n.elements)t=t.filter(i=>!Al(i,r));return{arrayValue:{values:t}}}class oy extends XI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function mF(n){return Ur(n.integerValue||n.doubleValue)}function yF(n){return H0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Y0{constructor(e,t){this.field=e,this.transform=t}}class $j{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tT{}function _F(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uy(n.key,Cr.none()):new ay(n.key,n.data,Cr.none());{const t=n.data,r=Zi.empty();let i=new cr(Vr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new nd(n.key,r,new Xs(i.toArray()),Cr.none())}}function Hj(n,e,t){n instanceof ay?function(r,i,a){const l=r.value.clone(),f=EF(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof nd?function(r,i,a){if(!eT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=EF(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(wF(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Q0(n,e,t,r){return n instanceof ay?function(i,a,l,f){if(!eT(i.precondition,a))return l;const y=i.value.clone(),w=CF(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof nd?function(i,a,l,f){if(!eT(i.precondition,a))return l;const y=CF(i.fieldTransforms,f,a),w=a.data;return w.setAll(wF(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(l=t,eT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function zj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=fF(r.transform,i||null);null!=a&&(null===t&&(t=Zi.empty()),t.set(r.field,a))}return t||null}function vF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Xm(t,r,(i,a)=>function jj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mp&&r instanceof Mp||t instanceof Rp&&r instanceof Rp?Xm(t.elements,r.elements,Al):t instanceof oy&&r instanceof oy?Al(t.gt,r.gt):t instanceof sy&&r instanceof sy);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ay extends tT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nd extends tT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EF(n,e,t){const r=new Map;It(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,Bj(l,f,t[i]))}return r}function CF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,Uj(a,l,e))}return r}class uy extends tT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends tT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Hj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Q0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Q0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lF();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=_F(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Xm(this.mutations,e.mutations,(t,r)=>vF(t,r))&&Xm(this.baseMutations,e.baseMutations,(t,r)=>vF(t,r))}}class WM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){It(e.mutations.length===r.length);let i=Fj;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new WM(e,t,r,i)}}class ZM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qj{constructor(e,t){this.count=e,this.unchangedNames=t}}var ni,En;function bF(n){switch(n){default:return ft();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function IF(n){if(void 0===n)return qr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ni.OK:return pe.OK;case ni.CANCELLED:return pe.CANCELLED;case ni.UNKNOWN:return pe.UNKNOWN;case ni.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ni.INTERNAL:return pe.INTERNAL;case ni.UNAVAILABLE:return pe.UNAVAILABLE;case ni.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ni.NOT_FOUND:return pe.NOT_FOUND;case ni.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ni.ABORTED:return pe.ABORTED;case ni.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ni.DATA_LOSS:return pe.DATA_LOSS;default:return ft()}}(En=ni||(ni={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class KM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nT}static getOrCreateInstance(){return null===nT&&(nT=new KM),nT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nT=null;function TF(){return new TextEncoder}const Wj=new Qm([4294967295,4294967295],0);function DF(n){const e=TF().encode(n),t=new BB;return t.update(e),new Uint8Array(t.digest())}function AF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qm([t,r],0),new Qm([i,a],0)]}class YM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new J0(`Invalid padding: ${t}`);if(r<0)throw new J0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new J0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new J0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qm.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Qm.fromNumber(r)));return 1===i.compare(Wj)&&(i=new Qm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=DF(e),[r,i]=AF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new YM(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=DF(e),[r,i]=AF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class J0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class X0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ew.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new X0(Dt.min(),i,new tr(Zt),eo(),nn())}}class ew{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ew(r,t,nn(),nn(),nn())}}class rT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class SF{constructor(e,t){this.targetId=e,this.Vt=t}}class xF{constructor(e,t,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class MF{constructor(){this.St=0,this.Dt=PF(),this.Ct=vi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),r=nn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new ew(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=PF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=eo(),this.zt=RF(),this.Wt=new tr(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(KI(l))if(0===i){const f=new rt(l.path);this.Yt(r,f,dr.newNoDocument(f,Dt.min()))}else It(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=KM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,D,S){var B,H,K,se,ce,Be;const Qe={localCacheCount:D,existenceFilterCount:S.count},We=S.unchangedNames;return We&&(Qe.bloomFilter={applied:0===w,hashCount:null!==(B=We?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(se=null===(K=null===(H=We?.bits)||void 0===H?void 0:H.bitmap)||void 0===K?void 0:K.length)&&void 0!==se?se:0,padding:null!==(Be=null===(ce=We?.bits)||void 0===ce?void 0:ce.padding)&&void 0!==Be?Be:0}),Qe}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,w;try{y=Xc(a).toUint8Array()}catch(D){if(D instanceof Lk)return ma("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{w=new YM(y,l,f)}catch(D){return ma(D instanceof J0?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&KI(f.target)){const y=new rt(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,dr.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=nn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new X0(e,t,this.Wt,this.jt,r);return this.jt=eo(),this.zt=RF(),this.Wt=new tr(Zt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new MF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cr(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new MF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function RF(){return new tr(rt.comparator)}function PF(){return new tr(rt.comparator)}const Kj={asc:"ASCENDING",desc:"DESCENDING"},Yj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qj={and:"AND",or:"OR"};class Jj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QM(n,e){return n.useProto3Json||U0(e)?e:{value:e}}function ly(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xj(n,e){return ly(n,e.toTimestamp())}function Wr(n){return It(!!n),Dt.fromTimestamp(function(e){const t=xh(e);return new Er(t.seconds,t.nanos)}(n))}function JM(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OF(n){const e=wn.fromString(n);return It(HF(e)),e}function tw(n,e){return JM(n.databaseId,e.path)}function xl(n,e){const t=OF(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(FF(t))}function XM(n,e){return JM(n.databaseId,e)}function kF(n){const e=OF(n);return 4===e.length?wn.emptyPath():FF(e)}function nw(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FF(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function LF(n,e,t){return{name:tw(n,e),fields:t.value.mapValue.fields}}function VF(n,e,t){const r=xl(n,e.name),i=Wr(e.updateTime),a=e.createTime?Wr(e.createTime):Dt.min(),l=new Zi({mapValue:{fields:e.fields}}),f=dr.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function rw(n,e){let t;if(e instanceof ay)t={update:LF(n,e.key,e.value)};else if(e instanceof uy)t={delete:tw(n,e.key)};else if(e instanceof nd)t={update:LF(n,e.key,e.data),updateMask:a$(e.fieldMask)};else{if(!(e instanceof GM))return ft();t={verify:tw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof sy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oy)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Xj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function e1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Cr.updateTime(Wr(i.updateTime)):void 0!==i.exists?Cr.exists(i.exists):Cr.none():Cr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(It("REQUEST_TIME"===l.setToServerValue),f=new sy):"appendMissingElements"in l?f=new Mp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Rp(l.removeAllFromArray.values||[]):"increment"in l?f=new oy(a,l.increment):ft();const y=Vr.fromServerFormat(l.fieldPath);return new Y0(y,f)}(n,i)):[];var i;if(e.update){const i=xl(n,e.update.name),a=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Xs((e.updateMask.fieldPaths||[]).map(w=>Vr.fromServerFormat(w)));return new nd(i,a,l,t,r)}return new ay(i,a,t,r)}if(e.delete){const i=xl(n,e.delete);return new uy(i,t)}if(e.verify){const i=xl(n,e.verify);return new GM(i,t)}return ft()}function UF(n,e){return{documents:[XM(n,e.path)]}}function t1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return $F(Vn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:kh((D=w).field),direction:i$(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=QM(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function BF(n){let e=kF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){It(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const S=jF(D);return S instanceof Vn&&LM(S)?S.getFilters():[S]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(D=>{return new ny(cy((S=D).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(D){let S;return S="object"==typeof D?D.value:D,U0(S)?null:S}(t.limit));let y=null;var D;t.startAt&&(y=new Oh((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Oh(D.values||[],!D.before)}(t.endAt)),nF(e,i,l,a,f,"F",y,w)}function jF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cy(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=cy(e.unaryFilter.field);return mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cy(e.unaryFilter.field);return mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cy(e.unaryFilter.field);return mn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?mn.create(cy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>jF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function i$(n){return Kj[n]}function s$(n){return Yj[n]}function o$(n){return Qj[n]}function kh(n){return{fieldPath:n.canonicalString()}}function cy(n){return Vr.fromServerFormat(n.fieldPath)}function $F(n){return n instanceof mn?function(e){if("=="===e.op){if(Bk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NAN"}};if(Uk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NAN"}};if(Uk(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(e.field),op:s$(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(r=>$F(r));return 1===t.length?t[0]:{compositeFilter:{op:o$(e.op),filters:t}}}(n):ft()}function a$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class rd{constructor(e,t,r,i,a=Dt.min(),l=Dt.min(),f=vi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zF{constructor(e){this.fe=e}}function GF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:iT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:tw(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ly(i,a.version.toTimestamp()),createTime:ly(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pp(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:Pp(e.version)}}var i,a;return r}function iT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Np(n){const e=new Er(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Op(n,e){const t=(e.baseMutations||[]).map(a=>e1(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(l.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>e1(n.fe,a)),i=Er.fromMillis(e.localWriteTimeMs);return new qM(e.batchId,i,t,r)}function iw(n){const e=Np(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Np(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(It(1===(i=n.query).documents.length),r=xs(iy(kF(i.documents[0])))):r=xs(BF(n.query)),new rd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function qF(n,e){const t=Pp(e.snapshotVersion),r=Pp(e.lastLimboFreeSnapshotVersion);let i;i=KI(e.target)?UF(n.fe,e.target):t1(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function n1(n){const e=BF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?JI(e,e.limit,"L"):e}function r1(n,e){return new ZM(e.largestBatchId,e1(n.fe,e.overlayMutation))}function WF(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function ZF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Pp(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class l${getBundleMetadata(e,t){return KF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Np(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return KF(e).put({bundleId:(r=t).id,createTime:Pp(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:n1(i.bundledQuery),readTime:Np(i.readTime)};var i})}saveNamedQuery(e,t){return YF(e).put({name:(r=t).name,readTime:Pp(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function KF(n){return Ni(n,"bundles")}function YF(n){return Ni(n,"namedQueries")}class sT{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new sT(e,t.uid||"")}getOverlay(e,t){return sw(e).get(WF(this.userId,t)).next(r=>r?r1(this.serializer,r):null)}getOverlays(e,t){const r=Sl();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new ZM(t,l);i.push(this.we(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(ls(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(sw(e).J("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Sl(),a=ls(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sw(e).j("collectionPathOverlayIndex",l).next(f=>{for(const y of f){const w=r1(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Sl();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sw(e).X({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const S=r1(this.serializer,w);a.size()<i||S.largestBatchId===l?(a.set(S.getKey(),S),l=S.largestBatchId):D.done()}).next(()=>a)}we(e,t){return sw(e).put(function(r,i,a){const[l,f,y]=WF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:rw(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function sw(n){return Ni(n,"documentOverlays")}class kp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),B0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Xc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?jk(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function c$(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function QF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=c$(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}kp.Ve=new kp;class d${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=QF(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=QF(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class h${constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class f${constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ow{constructor(){this.je=new d$,this.ze=new h$(this.je),this.We=new f$(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fp(this.indexId,this.documentKey,this.arrayValue,r)}}function Fh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=JF(n.arrayValue,e.arrayValue),0!==t?t:(t=JF(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function JF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class p${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){It(e.collectionGroup===this.collectionId);const t=xM(e);if(void 0!==t&&!this.en(t))return!1;const r=Tp(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a){const f=r[a];if(l>=this.Ye.length||!this.sn(this.Ye[l++],f))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function XF(n){var e,t;if(It(n instanceof mn||n instanceof Vn),n instanceof mn){if(n instanceof Xk){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>mn.create(n.field,"==",a)))||[];return Vn.create(i,"or")}return n}const r=n.filters.map(i=>XF(i));return Vn.create(r,n.op)}function g$(n){if(0===n.getFilters().length)return[];const e=o1(XF(n));return It(eL(e)),i1(e)||s1(e)?[e]:e.getFilters()}function i1(n){return n instanceof mn}function s1(n){return n instanceof Vn&&LM(n)}function eL(n){return i1(n)||s1(n)||function(e){if(e instanceof Vn&&FM(e)){for(const t of e.getFilters())if(!i1(t)&&!s1(t))return!1;return!0}return!1}(n)}function o1(n){if(It(n instanceof mn||n instanceof Vn),n instanceof mn)return n;if(1===n.filters.length)return o1(n.filters[0]);const e=n.filters.map(r=>o1(r));let t=Vn.create(e,n.op);return t=oT(t),eL(t)?t:(It(t instanceof Vn),It(ry(t)),It(t.filters.length>1),t.filters.reduce((r,i)=>a1(r,i)))}function a1(n,e){let t;return It(n instanceof mn||n instanceof Vn),It(e instanceof mn||e instanceof Vn),t=n instanceof mn?e instanceof mn?Vn.create([n,e],"and"):tL(n,e):e instanceof mn?tL(e,n):function(r,i){if(It(r.filters.length>0&&i.filters.length>0),ry(r)&&ry(i))return Yk(r,i.getFilters());const a=FM(r)?r:i,l=FM(r)?i:r,f=a.filters.map(y=>a1(y,l));return Vn.create(f,"or")}(n,e),oT(t)}function tL(n,e){if(ry(e))return Yk(e,n.getFilters());{const t=e.filters.map(r=>a1(n,r));return Vn.create(t,"or")}}function oT(n){if(It(n instanceof mn||n instanceof Vn),n instanceof mn)return n;const e=n.getFilters();if(1===e.length)return oT(e[0]);if(Zk(n))return n;const t=e.map(i=>oT(i)),r=[];return t.forEach(i=>{i instanceof mn?r.push(i):i instanceof Vn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Vn.create(r,n.op)}class m${constructor(){this.rn=new u1}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Ro.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class u1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cr(wn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(wn.comparator)).toArray()}}const aT=new Uint8Array(0);class y${constructor(e,t){this.user=e,this.databaseId=t,this.on=new u1,this.un=new td(r=>Sp(r),(r,i)=>G0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:ls(i)};return nL(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ek(t),""],!1,!0);return nL(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Dl(l.parent))}return r})}addFieldIndex(e,t){const r=uT(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=uw(e);return a.next(f=>{l.put(ZF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=uT(e),i=uw(e),a=aw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=aw(e);let i=!0;const a=new Map;return ae.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=nn();const f=[];return ae.forEach(a,(y,w)=>{var D;Ue("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${Sp(t)}`);const S=function(We,Xe){const Ut=xM(Xe);if(void 0===Ut)return null;for(const Bt of YI(We,Ut.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(w,y),B=function(We,Xe){const Ut=new Map;for(const Bt of Tp(Xe))for(const _n of YI(We,Bt.fieldPath))switch(_n.op){case"==":case"in":Ut.set(Bt.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Ut.set(Bt.fieldPath.canonicalString(),_n.value),Array.from(Ut.values())}return null}(w,y),H=function(We,Xe){const Ut=[];let Bt=!0;for(const _n of Tp(Xe)){const Dr=0===_n.kind?eF(We,_n.fieldPath,We.startAt):tF(We,_n.fieldPath,We.startAt);Ut.push(Dr.value),Bt&&(Bt=Dr.inclusive)}return new Oh(Ut,Bt)}(w,y),K=function(We,Xe){const Ut=[];let Bt=!0;for(const _n of Tp(Xe)){const Dr=0===_n.kind?tF(We,_n.fieldPath,We.endAt):eF(We,_n.fieldPath,We.endAt);Ut.push(Dr.value),Bt&&(Bt=Dr.inclusive)}return new Oh(Ut,Bt)}(w,y),se=this.hn(y,w,H),ce=this.hn(y,w,K),Be=this.ln(y,w,B),Qe=this.fn(y.indexId,S,se,H.inclusive,ce,K.inclusive,Be);return ae.forEach(Qe,We=>r.H(We,t.limit).next(Xe=>{Xe.forEach(Ut=>{const Bt=rt.fromSegments(Ut.documentKey);l.has(Bt)||(l=l.add(Bt),f.push(Bt))})}))}).next(()=>f)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:g$(Vn.create(e.filters,"and")).map(r=>UM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),D=[];for(let S=0;S<y;++S){const B=t?this.dn(t[S/w]):aT,H=this.wn(e,B,r[S%w],i),K=this._n(e,B,a[S%w],l),se=f.map(ce=>this.wn(e,B,ce,!0));D.push(...this.createRange(H,K,se))}return D}wn(e,t,r,i){const a=new Fp(e,rt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Fp(e,rt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new p$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return ae.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let y=new cr(Vr.comparator),w=!1;for(const D of f.filters)for(const S of D.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:y=y.add(S.field));for(const D of f.orderBy)D.field.isKeyField()||(y=y.add(D.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new ow;for(const i of Tp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);kp.Ve._e(a,l)}return r.Qe()}dn(e){const t=new ow;return kp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new ow;return kp.Ve._e(Ap(this.databaseId,t),r.He(function(i){const a=Tp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new ow);let a=0;for(const l of Tp(e)){const f=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&H0(f))i=this.pn(i,l,f);else{const w=y.He(l.kind);kp.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const y=new ow;y.seed(f.Qe()),kp.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof mn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=uT(e),i=uw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{l.push(function(w,D){const S=D?new L0(D.sequenceNumber,new Ro(Np(D.readTime),new rt(Dl(D.documentKey)),D.largestBatchId)):L0.empty(),B=w.fields.map(([H,K])=>new BI(Vr.fromServerFormat(H),K));return new UI(w.indexId,w.collectionGroup,B,S)}(f,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=uT(e),a=uw(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,y=>a.put(ZF(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,y=>this.En(e,i,y).next(w=>{const D=this.An(a,y);return w.isEqual(D)?ae.resolve():this.vn(e,a,y,w,D)}))))})}Rn(e,t,r,i){return aw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return aw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=aw(e);let a=new cr(Fh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new Fp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new cr(Fh);const i=this.mn(t,e);if(null==i)return r;const a=xM(t);if(null!=a){const l=e.data.field(a.fieldPath);if(H0(l))for(const f of l.arrayValue.values||[])r=r.add(new Fp(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Fp(t.indexId,e.key,aT,i));return r}vn(e,t,r,i,a){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,y,w,D,S){const B=f.getIterator(),H=y.getIterator();let K=ey(B),se=ey(H);for(;K||se;){let ce=!1,Be=!1;if(K&&se){const Qe=w(K,se);Qe<0?Be=!0:Qe>0&&(ce=!0)}else null!=K?Be=!0:ce=!0;ce?(D(se),se=ey(H)):Be?(S(K),K=ey(B)):(K=ey(B),se=ey(H))}}(i,a,Fh,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),ae.waitFor(l)}Tn(e){let t=1;return uw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>Fh(l,f)).filter((l,f,y)=>!f||0!==Fh(l,y[f-1]));const i=[];i.push(e);for(const l of r){const f=Fh(l,e),y=Fh(l,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,aT,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,aT,[]]))}return a}bn(e,t){return Fh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rL)}getMinOffset(e,t){return ae.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ft())).next(rL)}}function nL(n){return Ni(n,"collectionParents")}function aw(n){return Ni(n,"indexEntries")}function uT(n){return Ni(n,"indexConfiguration")}function uw(n){return Ni(n,"indexState")}function rL(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ro(e.readTime,e.documentKey,t)}const iL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:l},(D,S,B)=>(f++,B.delete()));a.push(y.next(()=>{It(1===f)}));const w=[];for(const D of t.mutations){const S=Mk(e,D.key.path,t.batchId);a.push(i.delete(S)),w.push(D.key)}return ae.waitFor(a).next(()=>w)}function lT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class cT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){It(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new cT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=dy(e),l=Lh(e);return l.add({}).next(f=>{It("number"==typeof f);const y=new qM(f,t,r,i),w=function(B,H,K){const se=K.baseMutations.map(Be=>rw(B.fe,Be)),ce=K.mutations.map(Be=>rw(B.fe,Be));return{userId:H,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:se,mutations:ce}}(this.serializer,this.userId,y),D=[];let S=new cr((B,H)=>Zt(B.canonicalString(),H.canonicalString()));for(const B of i){const H=Mk(this.userId,B.key.path,f);S=S.add(B.key.path.popLast()),D.push(l.put(w)),D.push(a.put(H,ij))}return S.forEach(B=>{D.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),ae.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return Lh(e).get(t).next(r=>r?(It(r.userId===this.userId),Op(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Lh(e).X({index:"userMutationsIndex",range:i},(l,f,y)=>{f.userId===this.userId&&(It(f.batchId>=r),a=Op(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Lh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).j("userMutationsIndex",t).next(r=>r.map(i=>Op(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$I(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dy(e).X({range:i},(l,f,y)=>{const[w,D,S]=l,B=Dl(D);if(w===this.userId&&t.path.isEqual(B))return Lh(e).get(S).next(H=>{if(!H)throw ft();It(H.userId===this.userId),a.push(Op(this.serializer,H))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Zt);const i=[];return t.forEach(a=>{const l=$I(this.userId,a.path),f=IDBKeyRange.lowerBound(l),y=dy(e).X({range:f},(w,D,S)=>{const[B,H,K]=w,se=Dl(H);B===this.userId&&a.path.isEqual(se)?r=r.add(K):S.done()});i.push(y)}),ae.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=$I(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new cr(Zt);return dy(e).X({range:l},(y,w,D)=>{const[S,B,H]=y,K=Dl(B);S===this.userId&&r.isPrefixOf(K)?K.length===i&&(f=f.add(H)):D.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Lh(e).get(a).next(l=>{if(null===l)throw ft();It(l.userId===this.userId),r.push(Op(this.serializer,l))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sL(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dy(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const y=Dl(a[1]);i.push(y)}else f.done()}).next(()=>{It(0===i.length)})})}containsKey(e,t){return oL(e,this.userId,t)}xn(e){return aL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oL(n,e,t){const r=$I(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return dy(n).X({range:a,Y:!0},(f,y,w)=>{const[D,S,B]=f;D===e&&S===i&&(l=!0),w.done()}).next(()=>l)}function Lh(n){return Ni(n,"mutations")}function dy(n){return Ni(n,"documentMutations")}function aL(n){return Ni(n,"mutationQueues")}class Lp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lp(0)}static Mn(){return new Lp(-1)}}class _${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Lp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Dt.fromTimestamp(new Er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return hy(e).X((l,f)=>{const y=iw(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return hy(e).X((r,i)=>{const a=iw(i);t(a)})}$n(e){return uL(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}On(e,t){return uL(e).put("targetGlobalKey",t)}Fn(e,t){return hy(e).put(qF(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return hy(e).X({range:i,index:"queryTargetsIndex"},(l,f,y)=>{const w=iw(f);G0(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Vh(e);return t.forEach(l=>{const f=ls(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vh(e);return ae.forEach(t,a=>{const l=ls(a.path);return ae.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Vh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vh(e);let a=nn();return i.X({range:r,Y:!0},(l,f,y)=>{const w=Dl(l[1]),D=new rt(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[Ek(r)],!1,!0);let a=0;return Vh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return hy(e).get(t).next(r=>r?iw(r):null)}}function hy(n){return Ni(n,"targets")}function uL(n){return Ni(n,"targetGlobal")}function Vh(n){return Ni(n,"targetDocuments")}function lL([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class v${constructor(e){this.Ln=e,this.buffer=new cr(lL),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ah(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Dh(r)}yield t.Qn(3e5)}))}}class w${constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Po.ct);const r=new v$(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(iL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iL):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,l=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),AM()<=ml.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-D}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${S} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class E${constructor(e,t){this.db=e,this.garbageCollector=function dL(n,e){return new w$(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return dT(e,r)}removeReference(e,t,r){return dT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dT(e,t)}Xn(e,t){return function(r,i){let a=!1;return aL(r).Z(l=>oL(r,l,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Dt.min()),Vh(e).delete([0,ls(l.path)])))});i.push(y)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dT(e,t)}Yn(e,t){const r=Vh(e);let i,a=Po.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:y,sequenceNumber:w})=>{0===l?(a!==Po.ct&&t(new rt(Dl(i)),a),a=w,i=y):a=Po.ct}).next(()=>{a!==Po.ct&&t(new rt(Dl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dT(n,e){return Vh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class hL{constructor(){this.changes=new td(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vp(e).put(r)}removeEntry(e,t,r){return Vp(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],iT(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(i,a)=>{r={document:this.ts(t,a),size:lT(a)}}).next(()=>r)}getEntries(e,t){let r=eo();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=eo(),i=new tr(rt.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,lT(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ae.resolve();let i=new cr(mL);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(lw(i.first()),lw(i.last())),l=i.getIterator();let f=l.getNext();return Vp(e).X({index:"documentKeyIndex",range:a},(y,w,D)=>{const S=rt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&mL(f,S)<0;)r(f,null),f=l.getNext();f&&f.isEqual(S)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?D.G(lw(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),iT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vp(e).j(IDBKeyRange.bound(l,f,!0)).next(y=>{let w=eo();for(const D of y){const S=this.ts(rt.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);S.isFoundDocument()&&(W0(t,S)||i.has(S.key))&&(w=w.insert(S.key,S))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=eo();const l=gL(t,r),f=gL(t,Ro.max());return Vp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(y,w,D)=>{const S=this.ts(rt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new b$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pL(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Zn(e,t){return pL(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function u$(n,e){let t;if(e.document)t=VF(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),i=Np(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=rt.fromSegments(e.unknownDocument.path),i=Np(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Er(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return dr.newInvalidDocument(e)}}function fL(n){return new C$(n)}class b$ extends hL{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new td(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cr((a,l)=>Zt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const y=GF(this.os.serializer,l);i=i.add(a.path.popLast()),r+=lT(y)-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=GF(this.os.serializer,l.convertToNoDocument(Dt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function pL(n){return Ni(n,"remoteDocumentGlobal")}function Vp(n){return Ni(n,"remoteDocumentsV14")}function lw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gL(n,e){const t=e.documentKey.path.toArray();return[n,iT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Zt(t[a],r[a]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class I${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Q0(r.mutation,i,Xs.empty(),Er.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const i=Sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Z0();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Sl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=eo();const l=K0(),f=K0();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof nd)?a=a.insert(w.key,w):void 0!==D?(l.set(w.key,D.mutation.getFieldMask()),Q0(D.mutation,w,D.mutation.getFieldMask(),Er.now())):l.set(w.key,Xs.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,D)=>l.set(w,D)),t.forEach((w,D)=>{var S;return f.set(w,new I$(D,null!==(S=l.get(w))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=K0();let i=new tr((l,f)=>l-f),a=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||Xs.empty();D=f.applyToLocalView(w,D),r.set(y,D);const S=(i.get(f.batchId)||nn()).add(y);i=i.insert(f.batchId,S)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,S=lF();D.forEach(B=>{if(!a.has(B)){const H=_F(t.get(B),r.get(B));null!==H&&S.set(B,H),a=a.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,S))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(Sl());let f=-1,y=a;return l.next(w=>ae.forEach(w,(D,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(D)?ae.resolve():this.remoteDocumentCache.getEntry(e,D).next(B=>{y=y.insert(D,B)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,nn())).next(D=>({batchId:f,changes:uF(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=Z0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Z0();return this.indexManager.getCollectionParents(e,i).next(l=>ae.forEach(l,f=>{const y=(w=t,D=f.child(i),new ed(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,S)=>{a=a.insert(D,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,dr.newInvalidDocument(w)))});let l=Z0();return a.forEach((f,y)=>{const w=i.get(f);void 0!==w&&Q0(w.mutation,y,Xs.empty(),Er.now()),W0(t,y)&&(l=l.insert(f,y))}),l})}}class T${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:n1(r.bundledQuery),readTime:Wr(r.readTime)}),ae.resolve();var r}}class D${constructor(){this.overlays=new tr(rt.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sl();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Sl(),a=t.length+1,l=new rt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new tr((w,D)=>w-D);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=a.get(w.largestBatchId);null===D&&(D=Sl(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Sl(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return ae.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZM(t,r));let a=this.ls.get(t);void 0===a&&(a=nn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class l1{constructor(){this.fs=new cr(Oi.ds),this.ws=new cr(Oi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Oi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Oi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new rt(new wn([])),r=new Oi(t,e),i=new Oi(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new wn([])),r=new Oi(t,e),i=new Oi(t,e+1);let a=nn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Oi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Oi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||rt.comparator(e.key,t.key)}}class A${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cr(Oi.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new qM(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Oi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Oi(t,0),i=new Oi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Zt);return t.forEach(i=>{const a=new Oi(i,0),l=new Oi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;rt.isDocumentKey(a)||(a=a.child(""));const l=new Oi(new rt(a),0);let f=new cr(Zt);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.As)),!0)},l),ae.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){It(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const a=new Oi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Oi(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class S${constructor(e){this.Ds=e,this.docs=new tr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():dr.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=eo();const l=t.path,f=new rt(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:D}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||MM(bk(D),r)<=0||(i.has(D.key)||W0(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ft()}Cs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new x$(this)}getSize(e){return ae.resolve(this.size)}}class x$ extends hL{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class M${constructor(e){this.persistence=e,this.xs=new td(t=>Sp(t),G0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new l1,this.targetCount=0,this.Ms=Lp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class c1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Po(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new M$(this),this.indexManager=new m$,this.remoteDocumentCache=new S$(r=>this.referenceDelegate.Ls(r)),this.serializer=new zF(t),this.qs=new T$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new A$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new R$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class R$ extends Tk{constructor(e){super(),this.currentSequenceNumber=e}}class hT{constructor(e){this.persistence=e,this.Qs=new l1,this.js=null}static zs(e){return new hT(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class P${constructor(e){this.serializer=e}O(e,t,r,i){const a=new jI("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xk,{unique:!0}),f.createObjectStore("documentMutations"),_L(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),_L(e)),l=l.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,y){return y.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xk,{unique:!0});const D=y.store("mutations"),S=w.map(B=>D.put(B));return ae.waitFor(S)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:mj});y.createIndex("collectionPathOverlayIndex",yj,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",_j,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:sj});y.createIndex("documentKeyIndex",oj),y.createIndex("collectionGroupIndex",aj)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:hj}).createIndex("sequenceNumberIndex",fj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:pj}).createIndex("documentKeyIndex",gj,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=lT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ae.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>ae.forEach(f,y=>{It(y.userId===a.userId);const w=Op(this.serializer,y);return sL(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const y=new wn(l),w=[0,ls(y)];a.push(t.get(w).next(D=>D?ae.resolve():t.put({targetId:0,path:ls(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:dj});const r=t.store("collectionParents"),i=new u1,a=l=>{if(i.add(l)){const f=l.lastSegment(),y=l.popLast();return r.put({collectionId:f,parent:ls(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const y=new wn(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,y],w)=>{const D=Dl(f);return a(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=iw(i),l=qF(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),y=(w=l,w.document?new rt(wn.fromString(w.document.name).popFirst(5)):w.noDocument?rt.fromSegments(w.noDocument.path):w.unknownDocument?rt.fromSegments(w.unknownDocument.path):ft()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(D))}).next(()=>ae.waitFor(i))}si(e,t){const r=t.store("mutations"),i=fL(this.serializer),a=new c1(hT.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:nn();Op(this.serializer,y).keys().forEach(S=>D=D.add(S)),f.set(y.userId,D)}),ae.forEach(f,(y,w)=>{const D=new Pi(w),S=sT.de(this.serializer,D),B=a.getIndexManager(D),H=cT.de(D,this.serializer,B,a.referenceDelegate);return new yL(i,H,S,B).recalculateAndSaveOverlaysForDocumentKeys(new NM(t,Po.ct),y).next()})})}}function _L(n){n.createObjectStore("targetDocuments",{keyPath:lj}).createIndex("documentTargetsIndex",cj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uj,{unique:!0}),n.createObjectStore("targetGlobal")}const d1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h1{constructor(e,t,r,i,a,l,f,y,w,D,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=D,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!h1.D())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E$(this,i),this.di=t+"main",this.serializer=new zF(y),this.wi=new mu(this.di,this.ui,new P$(this.serializer)),this.Bs=new _$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fL(this.serializer),this.qs=new l$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,d1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Po(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ah(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cw(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return pT(e).delete(this.clientId)}bi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ni(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(y=>-1===l.indexOf(y));return ae.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):cw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,d1);return!1}}return!(!this.networkEnabled||!this.inForeground)||pT(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new NM(t,Po.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>pT(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return cT.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y$(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return sT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?wj:14===l?Nk:13===l?Pk:12===l?vj:11===l?Rk:void ft();var l;let f;return this.wi.runTransaction(e,i,a,y=>(f=new NM(y,this.Os?this.Os.next():Po.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(pe.FAILED_PRECONDITION,Ik);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return cw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,d1)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cw(e).put("owner",t)}static D(){return mu.D()}Ai(e){const t=cw(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,en.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cw(n){return Ni(n,"owner")}function pT(n){return Ni(n,"clientMetadata")}function f1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class p1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=nn(),i=nn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new p1(e,t.fromCache,r,i)}}class vL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(rF(t))return ae.resolve(null);let r=xs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=JI(t,null,"F"),r=xs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=nn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,f);return this.zi(t,w,l,y.readTime)?this.Ki(e,JI(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return rF(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(AM()<=ml.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),HM(t)),this.Wi(e,l,t,Ck(i,-1)))})}ji(e,t){let r=new cr(oF(e));return t.forEach((i,a)=>{W0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return AM()<=ml.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",HM(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ro.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class N${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new tr(Zt),this.Yi=new td(a=>Sp(a),G0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wL(n,e,t,r){return new N$(n,e,t,r)}function EL(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,ye.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=nn();for(const w of i){l.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),g1.apply(this,arguments)}function O$(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,w){const D=y.batch,S=D.keys();let B=ae.resolve();return S.forEach(H=>{B=B.next(()=>w.getEntry(f,H)).next(K=>{const se=y.docVersions.get(H);It(null!==se),K.version.compareTo(se)<0&&(D.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),w.addEntry(K)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=nn();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CL(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function k$(n,e){const t=st(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((D,S)=>{const B=i.get(S);if(!B)return;f.push(t.Bs.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(a,D.addedDocuments,S)));let H=B.withSequenceNumber(a.currentSequenceNumber);var K,se,ce;null!==e.targetMismatches.get(S)?H=H.withResumeToken(vi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),i=i.insert(S,H),se=H,ce=D,(0===(K=B).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,H))});let y=eo(),w=nn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(bL(a,l,e.documentUpdates).next(D=>{y=D.nr,w=D.sr})),!r.isEqual(Dt.min())){const D=t.Bs.getLastRemoteSnapshotVersion(a).next(S=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return ae.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}function bL(n,e,t){let r=nn(),i=nn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=eo();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Dt.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function F$(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fy(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new rd(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function py(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,ye.Z)(function*(n,e,t){const r=st(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ah(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),m1.apply(this,arguments)}function gT(n,e,t){const r=st(n);let i=Dt.min(),a=nn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,w){const D=st(f),S=D.Yi.get(w);return void 0!==S?ae.resolve(D.Ji.get(S)):D.Bs.getTargetData(y,w)}(r,l,xs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Dt.min(),t?a:nn())).next(f=>(DL(r,sF(e),f),{documents:f,ir:a})))}function IL(n,e){const t=st(n),r=st(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function TL(n,e){const t=st(n),r=t.Xi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Ck(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(DL(t,e,i),i))}function DL(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function y1(){return y1=(0,ye.Z)(function*(n,e,t,r){const i=st(n);let a=nn(),l=eo();for(const w of t){const D=e.rr(w.metadata.name);w.document&&(a=a.add(D));const S=e.ur(w);S.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(D,S)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield fy(i,(w=r,xs(iy(wn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>bL(w,f,l).next(D=>(f.apply(w),D)).next(D=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.nr,D.sr)).next(()=>D.nr)))}),y1.apply(this,arguments)}function V$(n,e){return _1.apply(this,arguments)}function _1(){return _1=(0,ye.Z)(function*(n,e,t=nn()){const r=yield fy(n,xs(n1(e.bundledQuery))),i=st(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Wr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(vi.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),_1.apply(this,arguments)}function AL(n,e){return`firestore_clients_${n}_${e}`}function SL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function v1(n,e){return`firestore_targets_${n}_${e}`}class mT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Fe(i.error.code,i.error.message))),l?new mT(e,t,i.state,a):(qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new dw(e,r.state,i):(qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=zM();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Ak(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new yT(e,a):(qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class w1{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new w1(t.clientId,t.onlineState):(qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class E1{constructor(){this.activeTargetIds=zM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C1{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new tr(Zt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=AL(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new E1),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(AL(e.persistenceKey,i));if(a){const l=yT.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(v1(this.persistenceKey,e));if(r){const i=dw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v1(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Po.ct;if(null!=a)try{const f=JSON.parse(a);It("number"==typeof f),l=f}catch(f){qr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Po.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new mT(this.currentUser,e,t,r),a=SL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=SL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=v1(this.persistenceKey,e),a=new dw(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return yT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return mT.ar(new Pi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return dw.ar(i,t)}br(e){return w1.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=zM();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class xL{constructor(){this.Hr=new E1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new E1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U${Yr(e){}shutdown(){}}class ML{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _T=null;function b1(){return null===_T?_T=268435456+Math.round(2147483648*Math.random()):_T++,"0x"+_T.toString(16)}const B$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ds="WebChannelConnection";class $$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=b1(),f=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(w=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw ma("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${B$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=b1();return new Promise((l,f)=>{const y=new UB;y.setWithCredentials(!0),y.listenOnce(FB.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case DM.NO_ERROR:const D=y.getResponseJson();Ue(ds,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),l(D);break;case DM.TIMEOUT:Ue(ds,`RPC '${e}' ${a} timed out`),f(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case DM.HTTP_ERROR:const S=y.getStatus();if(Ue(ds,`RPC '${e}' ${a} failed with status:`,S,"response text:",y.getResponseText()),S>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const K=function(se){const ce=se.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ce)>=0?ce:pe.UNKNOWN}(H.status);f(new Fe(K,H.message))}else f(new Fe(pe.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ue(ds,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Ue(ds,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=b1(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=OB(),f=kB(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new VB({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const D=a.join("");Ue(ds,`Creating RPC '${e}' stream ${i}: ${D}`,y);const S=l.createWebChannel(D,y);let B=!1,H=!1;const K=new j$({ro:ce=>{H?Ue(ds,`Not sending because RPC '${e}' stream ${i} is closed:`,ce):(B||(Ue(ds,`Opening RPC '${e}' stream ${i} transport.`),S.open(),B=!0),Ue(ds,`RPC '${e}' stream ${i} sending:`,ce),S.send(ce))},oo:()=>S.close()}),se=(ce,Be,Qe)=>{ce.listen(Be,We=>{try{Qe(We)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return se(S,VI.EventType.OPEN,()=>{H||Ue(ds,`RPC '${e}' stream ${i} transport opened.`)}),se(S,VI.EventType.CLOSE,()=>{H||(H=!0,Ue(ds,`RPC '${e}' stream ${i} transport closed`),K.wo())}),se(S,VI.EventType.ERROR,ce=>{H||(H=!0,ma(ds,`RPC '${e}' stream ${i} transport errored:`,ce),K.wo(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),se(S,VI.EventType.MESSAGE,ce=>{var Be;if(!H){const Qe=ce.data[0];It(!!Qe);const We=Qe,Xe=We.error||(null===(Be=We[0])||void 0===Be?void 0:Be.error);if(Xe){Ue(ds,`RPC '${e}' stream ${i} received error:`,Xe);const Ut=Xe.status;let Bt=function(Dr){const hs=ni[Dr];if(void 0!==hs)return IF(hs)}(Ut),_n=Xe.message;void 0===Bt&&(Bt=pe.INTERNAL,_n="Unknown error status: "+Ut+" with message "+Xe.message),H=!0,K.wo(new Fe(Bt,_n)),S.close()}else Ue(ds,`RPC '${e}' stream ${i} received:`,Qe),K._o(Qe)}}),se(f,LB.STAT_EVENT,ce=>{ce.stat===mk.PROXY?Ue(ds,`RPC '${e}' stream ${i} detected buffering proxy`):ce.stat===mk.NOPROXY&&Ue(ds,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function RL(){return typeof window<"u"?window:null}function vT(){return typeof document<"u"?document:null}function hw(n){return new Jj(n,!0)}class I1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class PL{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new I1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H$ extends PL{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function t$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ft(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(It(void 0===w||"string"==typeof w),vi.fromBase64String(w||"")):(It(void 0===w||w instanceof Uint8Array),vi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const w=void 0===y.code?pe.UNKNOWN:IF(y.code);return new Fe(w,y.message||"")}(l);t=new xF(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=xl(n,r.document.name),a=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):Dt.min(),f=new Zi({mapValue:{fields:r.document.fields}}),y=dr.newFoundDocument(i,a,l,f);t=new rT(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=xl(n,r.document),a=r.readTime?Wr(r.readTime):Dt.min(),l=dr.newNoDocument(i,a);t=new rT([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=xl(n,r.document);t=new rT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new qj(i,a);t=new SF(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?Wr(a.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=nw(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=KI(f)?{documents:UF(i,f)}:{query:t1(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=NF(i,a.resumeToken);const y=QM(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Dt.min())>0){l.readTime=ly(i,a.snapshotVersion.toTimestamp());const y=QM(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function r$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=nw(this.serializer),t.removeTarget=e,this.Wo(t)}}class z$ extends PL{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function n$(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,i){let a=Wr(r.updateTime?r.updateTime:i);return a.isEqual(Dt.min())&&(a=Wr(i)),new $j(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.cu(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=nw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rw(this.serializer,r))};this.Wo(t)}}class G$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(pe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(pe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class W${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Z${constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,ye.Z)(function*(){var y;Uh(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ye.Z)(function*(w){const D=st(w);D.vu.add(4),yield gy(D),D.bu.set("Unknown"),D.vu.delete(4),yield fw(D)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new W$(r,i)}}function fw(n){return D1.apply(this,arguments)}function D1(){return D1=(0,ye.Z)(function*(n){if(Uh(n))for(const e of n.Ru)yield e(!0)}),D1.apply(this,arguments)}function gy(n){return A1.apply(this,arguments)}function A1(){return A1=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),A1.apply(this,arguments)}function wT(n,e){const t=st(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),M1(t)?x1(t):yy(t).Ko()&&S1(t,e))}function pw(n,e){const t=st(n),r=yy(t);t.Au.delete(e),r.Ko()&&NL(t,e),0===t.Au.size&&(r.Ko()?r.jo():Uh(t)&&t.bu.set("Unknown"))}function S1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yy(n).su(e)}function NL(n,e){n.Vu.qt(e),yy(n).iu(e)}function x1(n){n.Vu=new Zj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),yy(n).start(),n.bu.gu()}function M1(n){return Uh(n)&&!yy(n).Uo()&&n.Au.size>0}function Uh(n){return 0===st(n).vu.size}function OL(n){n.Vu=void 0}function K$(n){return R1.apply(this,arguments)}function R1(){return R1=(0,ye.Z)(function*(n){n.Au.forEach((e,t)=>{S1(n,e)})}),R1.apply(this,arguments)}function Y$(n,e){return P1.apply(this,arguments)}function P1(){return P1=(0,ye.Z)(function*(n,e){OL(n),M1(n)?(n.bu.Iu(e),x1(n)):n.bu.set("Unknown")}),P1.apply(this,arguments)}function Q$(n,e,t){return N1.apply(this,arguments)}function N1(){return N1=(0,ye.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof xF&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ET(n,r)}else if(e instanceof rT?n.Vu.Ht(e):e instanceof SF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield CL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(vi.EMPTY_BYTE_STRING,w.snapshotVersion)),NL(i,f);const D=new rd(w.target,f,y,w.sequenceNumber);S1(i,D)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield ET(n,r)}var r}),N1.apply(this,arguments)}function ET(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,ye.Z)(function*(n,e,t){if(!Ah(e))throw e;n.vu.add(1),yield gy(n),n.bu.set("Offline"),t||(t=()=>CL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield fw(n)}))}),O1.apply(this,arguments)}function kL(n,e){return e().catch(t=>ET(n,t,e))}function my(n){return k1.apply(this,arguments)}function k1(){return k1=(0,ye.Z)(function*(n){const e=st(n),t=Bh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;J$(e);)try{const i=yield F$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,X$(e,i)}catch(i){yield ET(e,i)}FL(e)&&LL(e)}),k1.apply(this,arguments)}function J$(n){return Uh(n)&&n.Eu.length<10}function X$(n,e){n.Eu.push(e);const t=Bh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function FL(n){return Uh(n)&&!Bh(n).Uo()&&n.Eu.length>0}function LL(n){Bh(n).start()}function eH(n){return F1.apply(this,arguments)}function F1(){return F1=(0,ye.Z)(function*(n){Bh(n).hu()}),F1.apply(this,arguments)}function tH(n){return L1.apply(this,arguments)}function L1(){return L1=(0,ye.Z)(function*(n){const e=Bh(n);for(const t of n.Eu)e.uu(t.mutations)}),L1.apply(this,arguments)}function nH(n,e,t){return V1.apply(this,arguments)}function V1(){return V1=(0,ye.Z)(function*(n,e,t){const r=n.Eu.shift(),i=WM.from(r,e,t);yield kL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield my(n)}),V1.apply(this,arguments)}function rH(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,ye.Z)(function*(n,e){var t;e&&Bh(n).ou&&(yield(t=(0,ye.Z)(function*(r,i){if(bF(a=i.code)&&a!==pe.ABORTED){const l=r.Eu.shift();Bh(r).Qo(),yield kL(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield my(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),FL(n)&&LL(n)}),U1.apply(this,arguments)}function VL(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,ye.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Uh(t);t.vu.add(3),yield gy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield fw(t)}),B1.apply(this,arguments)}function j1(n,e){return $1.apply(this,arguments)}function $1(){return $1=(0,ye.Z)(function*(n,e){const t=st(n);e?(t.vu.delete(2),yield fw(t)):e||(t.vu.add(2),yield gy(t),t.bu.set("Unknown"))}),$1.apply(this,arguments)}function yy(n){return n.Su||(n.Su=function(e,t,r){const i=st(e);return i.fu(),new H$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:K$.bind(null,n),ao:Y$.bind(null,n),nu:Q$.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Qo(),M1(n)?x1(n):n.bu.set("Unknown")):(yield n.Su.stop(),OL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Bh(n){return n.Du||(n.Du=function(e,t,r){const i=st(e);return i.fu(),new z$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:eH.bind(null,n),ao:rH.bind(null,n),au:tH.bind(null,n),cu:nH.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Du.Qo(),yield my(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class H1{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new H1(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Ah(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=Z0(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class UL{constructor(){this.Cu=new tr(rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wy{constructor(e,t,r,i,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new wy(e,t,vy.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class iH{constructor(){this.Nu=void 0,this.listeners=[]}}class sH{constructor(){this.queries=new td(e=>iF(e),q0),this.onlineState="Unknown",this.ku=new Set}}function z1(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ye.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new iH),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=_y(l,`Initialization of query '${HM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&Z1(t)}),G1.apply(this,arguments)}function q1(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,ye.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),W1.apply(this,arguments)}function oH(n,e){const t=st(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&Z1(t)}function aH(n,e,t){const r=st(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Z1(n){n.ku.forEach(e=>{e.next()})}class K1{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uH{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class BL{constructor(e){this.serializer=e}rr(e){return xl(this.serializer,e)}ur(e){return e.metadata.exists?VF(this.serializer,e.document,!1):dr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wr(e)}}class lH{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=wn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new BL(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||nn()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function L$(n,e,t,r){return y1.apply(this,arguments)}(e.localStore,new BL(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield V$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function jL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $L{constructor(e){this.key=e}}class HL{constructor(e){this.key=e}}class zL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=oF(e),this.ec=new vy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new UL,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,S)=>{const B=i.get(D),H=W0(this.query,S)?S:null,K=!!B&&this.mutatedKeys.has(B.key),se=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ce=!1;B&&H?B.data.isEqual(H.data)?K!==se&&(r.track({type:3,doc:H}),ce=!0):this.rc(B,H)||(r.track({type:2,doc:H}),ce=!0,(y&&this.tc(H,y)>0||w&&this.tc(H,w)<0)&&(f=!0)):!B&&H?(r.track({type:0,doc:H}),ce=!0):B&&!H&&(r.track({type:1,doc:B}),ce=!0,(y||w)&&(f=!0)),ce&&(H?(l=l.add(H),a=se?a.add(D):a.delete(D)):(l=l.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const D="F"===this.query.limitType?l.last():l.first();l=l.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,D)=>function(S,B){const H=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return H(S)-H(B)}(w.type,D.type)||this.tc(w.doc,D.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new wy(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new HL(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new $L(r))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dH{constructor(e){this.key=e,this.fc=!1}}class hH{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new td(f=>iF(f),q0),this._c=new Map,this.mc=new Set,this.gc=new tr(rt.comparator),this.yc=new Map,this.Ic=new l1,this.Tc={},this.Ec=new Map,this.Ac=Lp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fH(n,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ye.Z)(function*(n,e){const t=vR(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield fy(t.localStore,xs(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield Q1(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&wT(t.remoteStore,l)}return i}),Y1.apply(this,arguments)}function Q1(n,e,t,r,i){return J1.apply(this,arguments)}function J1(){return J1=(0,ye.Z)(function*(n,e,t,r,i){n.Rc=(S,B,H)=>{return(K=(0,ye.Z)(function*(se,ce,Be,Qe){let We=ce.view.sc(Be);We.zi&&(We=yield gT(se.localStore,ce.query,!1).then(({documents:Bt})=>ce.view.sc(Bt,We)));const Xe=Qe&&Qe.targetChanges.get(ce.targetId),Ut=ce.view.applyChanges(We,se.isPrimaryClient,Xe);return uR(se,ce.targetId,Ut.cc),Ut.snapshot}),function(se,ce,Be,Qe){return K.apply(this,arguments)})(n,S,B,H);var K};const a=yield gT(n.localStore,e,!0),l=new zL(e,a.ir),f=l.sc(a.documents),y=ew.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,y);uR(n,t,w.cc);const D=new cH(e,t,l);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),J1.apply(this,arguments)}function pH(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,ye.Z)(function*(n,e){const t=st(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!q0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),pw(t.remoteStore,r.targetId),Ey(t,r.targetId)}).catch(Dh))):(Ey(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),X1.apply(this,arguments)}function eR(){return eR=(0,ye.Z)(function*(n,e,t){const r=wR(n);try{const i=yield function(a,l){const f=st(a),y=Er.now(),w=l.reduce((B,H)=>B.add(H.key),nn());let D,S;return f.persistence.runTransaction("Locally write mutations","readwrite",B=>{let H=eo(),K=nn();return f.Zi.getEntries(B,w).next(se=>{H=se,H.forEach((ce,Be)=>{Be.isValidDocument()||(K=K.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(B,H)).next(se=>{D=se;const ce=[];for(const Be of l){const Qe=zj(Be,D.get(Be.key).overlayedDocument);null!=Qe&&ce.push(new nd(Be.key,Qe,zk(Qe.value.mapValue),Cr.exists(!0)))}return f.mutationQueue.addMutationBatch(B,y,ce,l)}).next(se=>{S=se;const ce=se.applyToLocalDocumentSet(D,K);return f.documentOverlayCache.saveOverlays(B,se.batchId,ce)})}).then(()=>({batchId:S.batchId,changes:uF(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new tr(Zt)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield id(r,i.changes),yield my(r.remoteStore)}catch(i){const a=_y(i,"Failed to persist write");t.reject(a)}}),eR.apply(this,arguments)}function GL(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,ye.Z)(function*(n,e){const t=st(n);try{const r=yield k$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?It(l.fc):i.removedDocuments.size>0&&(It(l.fc),l.fc=!1))}),yield id(t,r,e)}catch(r){yield Dh(r)}}),tR.apply(this,arguments)}function qL(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=st(a);f.onlineState=l;let y=!1;f.queries.forEach((w,D)=>{for(const S of D.listeners)S.Mu(l)&&(y=!0)}),y&&Z1(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mH(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,ye.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new tr(rt.comparator);l=l.insert(a,dr.newNoDocument(a,Dt.min()));const f=nn().add(a),y=new X0(Dt.min(),new Map,new tr(Zt),l,f);yield GL(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),lR(r)}else yield py(r.localStore,e,!1).then(()=>Ey(r,e,t)).catch(Dh)}),nR.apply(this,arguments)}function yH(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,ye.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const i=yield O$(t.localStore,e);aR(t,r,null),oR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield id(t,i)}catch(i){yield Dh(i)}}),rR.apply(this,arguments)}function _H(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=(0,ye.Z)(function*(n,e,t){const r=st(n);try{const i=yield function(a,l){const f=st(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,l).next(D=>(It(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);aR(r,e,t),oR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield id(r,i)}catch(i){yield Dh(i)}}),iR.apply(this,arguments)}function sR(){return sR=(0,ye.Z)(function*(n,e){const t=st(n);Uh(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=st(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=_y(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),sR.apply(this,arguments)}function oR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function aR(n,e,t){const r=st(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||WL(n,r)})}function WL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(pw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),lR(n))}function uR(n,e,t){for(const r of t)r instanceof $L?(n.Ic.addReference(r.key,e),wH(n,r)):r instanceof HL?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||WL(n,r.key)):ft()}function wH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),lR(n))}function lR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(wn.fromString(e)),r=n.Ac.next();n.yc.set(r,new dH(t)),n.gc=n.gc.insert(t,r),wT(n.remoteStore,new rd(xs(iy(t.path)),r,"TargetPurposeLimboResolution",Po.ct))}}function id(n,e,t){return cR.apply(this,arguments)}function cR(){return cR=(0,ye.Z)(function*(n,e,t){const r=st(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=p1.Li(y.targetId,w);a.push(D)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,ye.Z)(function*(y,w){const D=st(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(w,B=>ae.forEach(B.Fi,H=>D.persistence.referenceDelegate.addReference(S,B.targetId,H)).next(()=>ae.forEach(B.Bi,H=>D.persistence.referenceDelegate.removeReference(S,B.targetId,H)))))}catch(S){if(!Ah(S))throw S;Ue("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const B=S.targetId;if(!S.fromCache){const H=D.Ji.get(B),se=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.Ji=D.Ji.insert(B,se)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),cR.apply(this,arguments)}function EH(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,ye.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield EL(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield id(t,r.er)}var i}),dR.apply(this,arguments)}function CH(n,e){const t=st(n),r=t.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let i=nn();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function bH(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,ye.Z)(function*(n,e){const t=st(n),r=yield gT(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&uR(t,e.targetId,i.cc),i}),hR.apply(this,arguments)}function IH(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,ye.Z)(function*(n,e){const t=st(n);return TL(t.localStore,e).then(r=>id(t,r))}),fR.apply(this,arguments)}function TH(n,e,t,r){return pR.apply(this,arguments)}function pR(){return pR=(0,ye.Z)(function*(n,e,t,r){const i=st(n),a=yield function(l,f){const y=st(l),w=st(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Sn(D,f).next(S=>S?y.localDocuments.getDocuments(D,S):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield my(i.remoteStore):"acknowledged"===t||"rejected"===t?(aR(i,e,r||null),oR(i,e),f=e,st(st(i.localStore).mutationQueue).Cn(f)):ft(),yield id(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),pR.apply(this,arguments)}function gR(){return gR=(0,ye.Z)(function*(n,e){const t=st(n);if(vR(t),wR(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ZL(t,r.toArray());t.vc=!0,yield j1(t.remoteStore,!0);for(const a of i)wT(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Ey(t,l),py(t.localStore,l,!0))),pw(t.remoteStore,l)}),yield i,yield ZL(t,r),function(a){const l=st(a);l.yc.forEach((f,y)=>{pw(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new tr(rt.comparator)}(t),t.vc=!1,yield j1(t.remoteStore,!1)}}),gR.apply(this,arguments)}function ZL(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=(0,ye.Z)(function*(n,e,t){const r=st(n),i=[],a=[];for(const l of e){let f;const y=r._c.get(l);if(y&&0!==y.length){f=yield fy(r.localStore,xs(y[0]));for(const w of y){const D=r.wc.get(w),S=yield bH(r,D);S.snapshot&&a.push(S.snapshot)}}else{const w=yield IL(r.localStore,l);f=yield fy(r.localStore,w),yield Q1(r,KL(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),mR.apply(this,arguments)}function KL(n){return nF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AH(n){const e=st(n);return st(st(e.localStore).persistence).$i()}function SH(n,e,t,r){return yR.apply(this,arguments)}function yR(){return yR=(0,ye.Z)(function*(n,e,t,r){const i=st(n);if(i.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield TL(i.localStore,sF(a[0])),f=X0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vi.EMPTY_BYTE_STRING);yield id(i,l,f);break}case"rejected":yield py(i.localStore,e,!0),Ey(i,e,r);break;default:ft()}}),yR.apply(this,arguments)}function xH(n,e,t){return _R.apply(this,arguments)}function _R(){return _R=(0,ye.Z)(function*(n,e,t){const r=vR(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield IL(r.localStore,i),l=yield fy(r.localStore,a);yield Q1(r,KL(a),l.targetId,!1,l.resumeToken),wT(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield py(r.localStore,i,!1).then(()=>{pw(r.remoteStore,i),Ey(r,i)}).catch(Dh))}}),_R.apply(this,arguments)}function vR(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mH.bind(null,e),e.dc.nu=oH.bind(null,e.eventManager),e.dc.Pc=aH.bind(null,e.eventManager),e}function wR(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_H.bind(null,e),e}class gw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=hw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wL(this.persistence,new vL,e.initialUser,this.serializer)}createPersistence(e){return new c1(hT.zs,this.serializer)}createSharedClientState(e){return new xL}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ER extends gw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield wR(r.Vc.syncEngine),yield my(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return wL(this.persistence,new vL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new nj(t,this.persistence);return new tj(e.asyncQueue,r)}createPersistence(e){const t=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new h1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,RL(),vT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xL}}class YL extends ER{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof C1&&(r.sharedClientState.syncEngine={jr:TH.bind(null,i),zr:SH.bind(null,i),Wr:xH.bind(null,i),$i:AH.bind(null,i),Qr:IH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,ye.Z)(function*(l){yield function DH(n,e){return gR.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=RL();if(!C1.D(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cy{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=EH.bind(null,r.syncEngine),yield j1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sH}createDatastore(e){const t=hw(e.databaseInfo.databaseId),r=new $$(e.databaseInfo);return new G$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>qL(this.syncEngine,f,0),l=ML.D()?new ML:new U$,new Z$(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,w){const D=new hH(r,i,a,l,f,y);return w&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=st(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function QL(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PH{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new _i,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new uH(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class NH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(a,l){const f=st(a),y=nw(f.serializer)+"/documents",w={documents:l.map(H=>tw(f.serializer,H))},D=yield f.vo("BatchGetDocuments",y,w,l.length),S=new Map;D.forEach(H=>{const K=function e$(n,e){return"found"in e?function(t,r){It(!!r.found);const i=xl(t,r.found.name),a=Wr(r.found.updateTime),l=r.found.createTime?Wr(r.found.createTime):Dt.min(),f=new Zi({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const i=xl(t,r.missing),a=Wr(r.readTime);return dr.newNoDocument(i,a)}(n,e):ft()}(f.serializer,H);S.set(K.key.toString(),K)});const B=[];return l.forEach(H=>{const K=S.get(H.toString());It(!!K),B.push(K)}),B}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=rt.fromPath(i);e.mutations.push(new GM(a,e.precondition(a)))}),yield(r=(0,ye.Z)(function*(i,a){const l=st(i),f=nw(l.serializer)+"/documents",y={writes:a.map(w=>rw(l.serializer,w))};yield l.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?Cr.exists(!1):Cr.updateTime(t):Cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(t)}return Cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new I1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ye.Z)(function*(){const t=new NH(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!U0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bF(t)}return!1}}class kH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=wk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ye.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_y(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function bT(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(a){r.isEqual(a)||(yield EL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),CR.apply(this,arguments)}function bR(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield TR(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>VL(e.remoteStore,a)),n._onlineComponents=e}),IR.apply(this,arguments)}function JL(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function TR(n){return DR.apply(this,arguments)}function DR(){return DR=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!JL(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),yield bT(n,new gw)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield bT(n,new gw);return n._offlineComponents}),DR.apply(this,arguments)}function IT(n){return AR.apply(this,arguments)}function AR(){return AR=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield bR(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield bR(n,new Cy))),n._onlineComponents}),AR.apply(this,arguments)}function XL(n){return TR(n).then(e=>e.persistence)}function TT(n){return TR(n).then(e=>e.localStore)}function e2(n){return IT(n).then(e=>e.remoteStore)}function SR(n){return IT(n).then(e=>e.syncEngine)}function by(n){return xR.apply(this,arguments)}function xR(){return xR=(0,ye.Z)(function*(n){const e=yield IT(n),t=e.eventManager;return t.onListen=fH.bind(null,e.syncEngine),t.onUnlisten=pH.bind(null,e.syncEngine),t}),xR.apply(this,arguments)}function n2(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,l,f,y){const w=new CT({next:S=>{a.enqueueAndForget(()=>q1(i,D));const B=S.docs.has(l);!B&&S.fromCache?y.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&f&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),D=new K1(iy(l.path),w,{includeMetadataChanges:!0,Ku:!0});return z1(i,D)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function r2(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,a,l,f,y){const w=new CT({next:S=>{a.enqueueAndForget(()=>q1(i,D)),S.fromCache&&"server"===f.source?y.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),D=new K1(l,w,{includeMetadataChanges:!0,Ku:!0});return z1(i,D)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function i2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const s2=new Map;function MR(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function o2(n,e,t,r){if(!0===e&&!0===r)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function a2(n){if(!rt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u2(n){if(rt.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=DT(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function l2(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class c2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=i2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HB;switch(t.type){case"firstParty":return new WB(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=s2.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),s2.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Ml extends Ki{constructor(e,t,r){super(e,t,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new rt(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function h2(n,e,...t){if(n=(0,en.m9)(n),MR("collection","path",e),n instanceof mw){const r=wn.fromString(e,...t);return u2(r),new Ml(n,null,r)}{if(!(n instanceof hr||n instanceof Ml))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return u2(r),new Ml(n.firestore,null,r)}}function AT(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=wk.A()),MR("doc","path",e),n instanceof mw){const r=wn.fromString(e,...t);return a2(r),new hr(n,null,new rt(r))}{if(!(n instanceof hr||n instanceof Ml))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return a2(r),new hr(n.firestore,n instanceof Ml?n.converter:null,new rt(r))}}function f2(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof hr||n instanceof Ml)&&(e instanceof hr||e instanceof Ml)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RR(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&q0(n._query,e._query)&&n.converter===e.converter}class GH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new I1(this,"async_queue_retry"),this.Xc=()=>{const t=vT();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=vT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=vT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new _i;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ah(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=H1.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function PR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class qH{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends mw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new GH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||p2(this),this._firestoreClient.terminate()}}function Zr(n){return n._firestoreClient||p2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function p2(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bj(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,i2(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new kH(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function g2(n,e,t){const r=new _i;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield bT(n,t),yield bR(n,e),r.resolve()}catch(i){const a=i;if(!JL(a))throw a;ma("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function m2(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(vi.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rl(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._methodName=e}}class ST{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const r3=/^__.*__$/;class i3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}class y2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class xT{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return PT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_2(this.ca)&&r3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class s3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hw(e)}ya(e,t,r,i=!1){return new xT({ca:e,methodName:t,ga:r,path:Vr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=hw(n._databaseId);return new s3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MT(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);FR("Data must be an object, but it was:",l,r);const f=E2(r,l);let y,w;if(a.merge)y=new Xs(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const D=[];for(const S of a.mergeFields){const B=vw(e,S,t);if(!l.contains(B))throw new Fe(pe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);b2(D,B)||D.push(B)}y=new Xs(D),w=l.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,w=l.fieldTransforms;return new i3(new Zi(f),y,w)}class _w extends Up{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _w}}function v2(n,e,t){return new xT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NR extends Up{_toFieldTransform(e){return new Y0(e.path,new sy)}isEqual(e){return e instanceof NR}}class o3 extends Up{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=v2(this,e,!0),r=this.pa.map(a=>jp(a,t)),i=new Mp(r);return new Y0(e.path,i)}isEqual(e){return this===e}}class a3 extends Up{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=v2(this,e,!0),r=this.pa.map(a=>jp(a,t)),i=new Rp(r);return new Y0(e.path,i)}isEqual(e){return this===e}}class u3 extends Up{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new oy(e.serializer,hF(e.serializer,this.Ia));return new Y0(e.path,t)}isEqual(e){return this===e}}function OR(n,e,t,r){const i=n.ya(1,e,t);FR("Data must be an object, but it was:",i,r);const a=[],l=Zi.empty();Sh(r,(y,w)=>{const D=RT(e,y,t);w=(0,en.m9)(w);const S=i.da(D);if(w instanceof _w)a.push(D);else{const B=jp(w,S);null!=B&&(a.push(D),l.set(D,B))}});const f=new Xs(a);return new y2(l,f,i.fieldTransforms)}function kR(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[vw(e,r,t)],y=[i];if(a.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)f.push(vw(e,a[B])),y.push(a[B+1]);const w=[],D=Zi.empty();for(let B=f.length-1;B>=0;--B)if(!b2(w,f[B])){const H=f[B];let K=y[B];K=(0,en.m9)(K);const se=l.da(H);if(K instanceof _w)w.push(H);else{const ce=jp(K,se);null!=ce&&(w.push(H),D.set(H,ce))}}const S=new Xs(w);return new y2(D,S,l.fieldTransforms)}function w2(n,e,t,r=!1){return jp(t,n.ya(r?4:3,e))}function jp(n,e){if(C2(n=(0,en.m9)(n)))return FR("Unsupported field value:",e,n),E2(n,e);if(n instanceof Up)return function(t,r){if(!_2(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=jp(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,en.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Er.fromDate(t);return{timestampValue:ly(r.serializer,i)}}if(t instanceof Er){const i=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ly(r.serializer,i)}}if(t instanceof ST)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rl)return{bytesValue:NF(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${DT(t)}`)}(n,e)}function E2(n,e){const t={};return kk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sh(n,(r,i)=>{const a=jp(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function C2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof ST||n instanceof Rl||n instanceof hr||n instanceof Up)}function FR(n,e,t){if(!C2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=DT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function vw(n,e,t){if((e=(0,en.m9)(e))instanceof sd)return e._internalPath;if("string"==typeof e)return RT(n,e);throw PT("Field path arguments must be of type string or ",n,!1,void 0,t)}const l3=new RegExp("[~\\*/\\[\\]]");function RT(n,e,t){if(e.search(l3)>=0)throw PT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw PT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PT(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Fe(pe.INVALID_ARGUMENT,f+n+y)}function b2(n,e){return n.some(t=>t.isEqual(e))}class ww{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(NT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class c3 extends ww{data(){return super.data()}}function NT(n,e){return"string"==typeof e?RT(n,e):e instanceof sd?e._internalPath:e._delegate._internalPath}function I2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LR{}class Ew extends LR{}function jh(n,e,...t){let r=[];e instanceof LR&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Iy).length,l=i.filter(f=>f instanceof Cw).length;if(a>1||a>0&&l>0)throw new Fe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Cw extends Ew{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cw(e,t,r)}_apply(e){const t=this._parse(e);return S2(e._query,t),new Ki(e.firestore,e.converter,$M(e._query,t))}_parse(e){const t=Bp(e.firestore);return function(i,a,l,f,y,w,D){let S;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){A2(D,w);const B=[];for(const H of D)B.push(D2(f,i,H));S={arrayValue:{values:B}}}else S=D2(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||A2(D,w),S=w2(l,"where",D,"in"===w||"not-in"===w);return mn.create(y,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iy extends LR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)S2(a,f),a=$M(a,f)}(e._query,t),new Ki(e.firestore,e.converter,$M(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VR extends Ew{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VR(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new ny(i,a);return function(f,y){if(null===BM(f)){const w=QI(f);null!==w&&x2(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ed(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class OT extends Ew{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new OT(e,t,r)}_apply(e){return new Ki(e.firestore,e.converter,JI(e._query,this._limit,this._limitType))}}class kT extends Ew{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new kT(e,t,r)}_apply(e){const t=T2(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class FT extends Ew{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new FT(e,t,r)}_apply(e){const t=T2(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function T2(n,e,t,r){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof ww)return function(i,a,l,f,y){if(!f)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const D of xp(i))if(D.field.isKeyField())w.push(Ap(a,f.key));else{const S=f.data.field(D.field);if(zI(S))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=D.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}w.push(S)}return new Oh(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Bp(n.firestore);return function(a,l,f,y,w,D){const S=a.explicitOrderBy;if(w.length>S.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let H=0;H<w.length;H++){const K=w[H];if(S[H].field.isKeyField()){if("string"!=typeof K)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof K}`);if(!jM(a)&&-1!==K.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${K}' contains a slash.`);const se=a.path.child(wn.fromString(K));if(!rt.isDocumentKey(se))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const ce=new rt(se);B.push(Ap(l,ce))}else{const se=w2(f,y,K);B.push(se)}}return new Oh(B,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function D2(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jM(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wn.fromString(t));if(!rt.isDocumentKey(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ap(n,new rt(r))}if(t instanceof hr)return Ap(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DT(t)}.`)}function A2(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S2(n,e){if(e.isInequality()){const r=QI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=BM(n);null!==a&&x2(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function x2(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class UR{convertValue(e,t="none"){switch(Ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sh(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new ST(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=GI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(j0(e));default:return null}}convertTimestamp(e){const t=xh(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wn.fromString(e);It(HF(r));const i=new Mh(r.get(1),r.get(3)),a=new rt(r.popFirst(5));return i.isEqual(t)||qr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function LT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class v3 extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends ww{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(NT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bw extends od{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $p(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bw(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new bw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new $p(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new bw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new $p(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:E3(l.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function E3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function R2(n,e){return n instanceof od&&e instanceof od?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&RR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hh extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function P2(n,e,t){n=yn(n,hr);const r=yn(n.firestore,fr),i=LT(n.converter,e,t);return Ty(r,[MT(Bp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Cr.none())])}function N2(n,e,t,...r){n=yn(n,hr);const i=yn(n.firestore,fr),a=Bp(i);let l;return l="string"==typeof(e=(0,en.m9)(e))||e instanceof sd?kR(a,"updateDoc",n._key,e,t,r):OR(a,"updateDoc",n._key,e),Ty(i,[l.toMutation(n._key,Cr.exists(!0))])}function O2(n,...e){var t,r,i;n=(0,en.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||PR(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(PR(e[l])){const S=e[l];e[l]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[l+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[l+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,w,D;if(n instanceof hr)w=yn(n.firestore,fr),D=iy(n._key.path),y={next:S=>{e[l]&&e[l](BR(w,n,S))},error:e[l+1],complete:e[l+2]};else{const S=yn(n,Ki);w=yn(S.firestore,fr),D=S._query;const B=new Hh(w);y={next:H=>{e[l]&&e[l](new $h(w,B,S,H))},error:e[l+1],complete:e[l+2]},I2(n._query)}return function(S,B,H,K){const se=new CT(K),ce=new K1(B,se,H);return S.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return z1(yield by(S),ce)})),()=>{se.Dc(),S.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return q1(yield by(S),ce)}))}}(Zr(w),D,f,y)}function Ty(n,e){return function(t,r){const i=new _i;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function gH(n,e,t){return eR.apply(this,arguments)}(yield SR(t),r,i)})),i.promise}(Zr(n),e)}function BR(n,e,t){const r=t.docs.get(e._key),i=new Hh(n);return new od(n,i,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}const U3={maxAttempts:5};class k2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bp(e)}set(e,t,r){this._verifyNotCommitted();const i=zh(e,this._firestore),a=LT(i.converter,t,r),l=MT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Cr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=zh(e,this._firestore);let l;return l="string"==typeof(t=(0,en.m9)(t))||t instanceof sd?kR(this._dataReader,"WriteBatch.update",a._key,t,r,i):OR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zh(e,this._firestore);return this._mutations=this._mutations.concat(new uy(t._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zh(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class B3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bp(e)}get(e){const t=zh(e,this._firestore),r=new v3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const a=i[0];if(a.isFoundDocument())return new ww(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new ww(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=zh(e,this._firestore),a=LT(i.converter,t,r),l=MT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=zh(e,this._firestore);let l;return l="string"==typeof(t=(0,en.m9)(t))||t instanceof sd?kR(this._dataReader,"Transaction.update",a._key,t,r,i):OR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zh(e,this._firestore),r=new Hh(this._firestore);return super.get(e).then(i=>new od(this._firestore,r,t._key,i._document,new $p(!1,!1),t.converter))}}function jR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function L2(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function V2(){if(!function Ej(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jm=Ds.SDK_VERSION,(0,Ds._registerComponent)(new yh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new fr(new GB(t.getProvider("auth-internal")),new ZB(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(yk,"3.13.0",n),(0,Ds.registerVersion)(yk,"3.13.0","esm2017")}();class Iw{constructor(e){this._delegate=e}static fromBase64String(e){return V2(),new Iw(Rl.fromBase64String(e))}static fromUint8Array(e){return L2(),new Iw(Rl.fromUint8Array(e))}toBase64(){return V2(),this._delegate.toBase64()}toUint8Array(){return L2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $R(n){return function K3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Y3{enableIndexedDbPersistence(e,t){return function ZH(n,e){m2(n=yn(n,fr));const t=Zr(n);if(t._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");ma("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Cy;return g2(t,i,new ER(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KH(n){m2(n=yn(n,fr));const e=Zr(n);if(e._uninitializedComponentsProvider)throw new Fe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");ma("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Cy;return g2(e,r,new YL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YH(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!mu.D())return Promise.resolve();const i=r+"main";yield mu.delete(i)}),function(r){return t.apply(this,arguments)})(f1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class U2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function d2(n,e,t,r={}){var i;const a=(n=yn(n,mw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Pi.MOCK_USER;else{f=(0,en.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pi(w)}n._authCredentials=new zB(new _k(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function JH(n){return function FH(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield XL(n),t=yield e2(n);return e.setNetworkEnabled(!0),function(r){const i=st(r);return i.vu.delete(0),fw(i)}(t)}))}(Zr(n=yn(n,fr)))}(this._delegate)}disableNetwork(){return function XH(n){return function LH(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield XL(n),t=yield e2(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const a=st(i);a.vu.add(0),yield gy(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zr(n=yn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,o2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function QH(n){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function vH(n,e){return sR.apply(this,arguments)}(yield SR(e),t)})),t.promise}(Zr(n=yn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function M3(n,e){return function BH(n,e){const t=new CT(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield by(n),i=t,st(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield by(n),i=t,void st(r).ku.delete(i);var r,i}))}}(Zr(n=yn(n,fr)),PR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dy(this,h2(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,AT(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function zH(n,e){if(n=yn(n,mw),MR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new ed(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function j3(n,e,t){n=yn(n,fr);const r=Object.assign(Object.assign({},U3),t);return function(i){if(i.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new _i;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const y=yield function t2(n){return IT(n).then(e=>e.datastore)}(i);new OH(i.asyncQueue,y,l,a,f).run()})),f.promise}(Zr(n),i=>e(new B3(n,i)),r)}(this._delegate,t=>e(new B2(this,t)))}batch(){return Zr(this._delegate),new j2(new k2(this._delegate,e=>Ty(this._delegate,e)))}loadBundle(e){return function e3(n,e){const t=Zr(n=yn(n,fr)),r=new qH;return function jH(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?TF().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return QL(y,w);if(y instanceof ArrayBuffer)return QL(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new PH(y,l);var y}(t,hw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function MH(n,e,t){const r=st(n);var i;(i=(0,ye.Z)(function*(a,l,f){try{const y=yield l.getMetadata();if(yield function(B,H){const K=st(B),se=Wr(H.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",ce=>K.qs.getBundleMetadata(ce,H.id)).then(ce=>!!ce&&ce.createTime.compareTo(se)>=0)}(a.localStore,y))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(B=y).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);f._updateProgress(jL(y));const w=new lH(y,a.localStore,l.serializer);let D=yield l.bc();for(;D;){const B=yield w.zu(D);B&&f._updateProgress(B),D=yield l.bc()}const S=yield w.complete();return yield id(a,S.Ju,void 0),yield function(B,H){const K=st(B);return K.persistence.runTransaction("Save bundle","readwrite",se=>K.qs.saveBundleMetadata(se,H))}(a.localStore,y),f._completeWith(S.progress),Promise.resolve(S.Hu)}catch(y){return ma("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var B}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function t3(n,e){return function $H(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=st(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield TT(n),e)}))}(Zr(n=yn(n,fr)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class VT extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iw(new Rl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class B2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new Tw(this._firestore,new od(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=zp(e);return r?(jR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class j2{constructor(e){this._delegate=e}set(e,t,r){const i=zp(e);return r?(jR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Hp(e,new VT(e),t),i.set(t,a)),a}}Hp.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new hr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new ya(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dy(this.firestore,h2(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof hr&&f2(this._delegate,e)}set(e,t){t=jR("DocumentReference.set",t);try{return t?P2(this._delegate,e,t):P2(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?N2(this._delegate,e):N2(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function S3(n){return Ty(yn(n.firestore,fr),[new uy(n._key,Cr.none())])}(this._delegate)}onSnapshot(...e){const t=$2(e),r=H2(e,i=>new Tw(this.firestore,new od(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return O2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function b3(n){n=yn(n,hr);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return function VH(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,l){try{const f=yield function(y,w){const D=st(y);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=_y(f,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield TT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new od(e,r,n._key,i,new $p(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function I3(n){n=yn(n,hr);const e=yn(n.firestore,fr);return n2(Zr(e),n._key,{source:"server"}).then(t=>BR(e,n,t))}(this._delegate):function C3(n){n=yn(n,hr);const e=yn(n.firestore,fr);return n2(Zr(e),n._key).then(t=>BR(e,n,t))}(this._delegate),t.then(r=>new Tw(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function $2(n){for(const e of n)if("object"==typeof e&&!$R(e))return e;return{}}function H2(n,e){var t,r;let i;return i=$R(n[0])?n[0]:$R(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Tw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return R2(this._delegate,e._delegate)}}class Dw extends Tw{data(e){const t=this._delegate.data(e);return function $B(n,e){n||ft()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VT(e)}where(e,t,r){try{return new Rs(this.firestore,jh(this._delegate,function d3(n,e,t){const r=e,i=NT("where",n);return Cw._create(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,jh(this._delegate,function h3(n,e="asc"){const t=e,r=NT("orderBy",n);return VR._create(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,jh(this._delegate,function f3(n){return l2("limit",n),OT._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,jh(this._delegate,function p3(n){return l2("limitToLast",n),OT._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,jh(this._delegate,function g3(...n){return kT._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,jh(this._delegate,function m3(...n){return kT._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,jh(this._delegate,function y3(...n){return FT._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,jh(this._delegate,function _3(...n){return FT._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return RR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function D3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return function UH(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,a,l){try{const f=yield gT(i,a,!0),y=new zL(a,f.ir),w=y.sc(f.documents),D=y.applyChanges(w,!1);l.resolve(D.snapshot)}catch(f){const y=_y(f,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield TT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate):"server"===e?.source?function A3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return r2(t,n._query,{source:"server"}).then(i=>new $h(e,r,n,i))}(this._delegate):function T3(n){n=yn(n,Ki);const e=yn(n.firestore,fr),t=Zr(e),r=new Hh(e);return I2(n._query),r2(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate),t.then(r=>new HR(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=$2(e),r=H2(e,i=>new HR(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return O2(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}class J3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new J3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dw(this._firestore,r))})}isEqual(e){return R2(this._delegate,e._delegate)}}class Dy extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?AT(this._delegate):AT(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function x3(n,e){const t=yn(n.firestore,fr),r=AT(n),i=LT(n.converter,e);return Ty(t,[MT(Bp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return f2(this._delegate,e._delegate)}withConverter(e){return new Dy(this.firestore,this._delegate.withConverter(e?Hp.getInstance(this.firestore,e):null))}}function zp(n){return yn(n,hr)}class zR{constructor(...e){this._delegate=new sd(...e)}static documentId(){return new zR(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof sd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H3(){return new NR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gp(e)}static delete(){const e=function $3(){return new _w("deleteField")}();return e._methodName="FieldValue.delete",new Gp(e)}static arrayUnion(...e){const t=function z3(...n){return new o3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gp(t)}static arrayRemove(...e){const t=function G3(...n){return new a3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gp(t)}static increment(e){const t=function q3(n){return new u3("increment",n)}(e);return t._methodName="FieldValue.increment",new Gp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const X3={Firestore:U2,GeoPoint:ST,Timestamp:Er,Blob:Iw,Transaction:B2,WriteBatch:j2,DocumentReference:ya,DocumentSnapshot:Tw,Query:Rs,QueryDocumentSnapshot:Dw,QuerySnapshot:HR,CollectionReference:Dy,FieldPath:zR,FieldValue:Gp,setLogLevel:function Q3(n){!function jB(n){Th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function z2(n,e){return function n4(n,e=MU.z){return new xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function GR(n,e){return z2(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function UT(n,e){return GR(n,e).pipe(jf(void 0),Vx(),(0,pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const y=i.find(D=>D.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function G2(n,e,t){return UT(n,t).pipe(sh((r,i)=>function i4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function s4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function RU(n,e=Lf.y){return n=n??PU,(0,gi.e)((t,r)=>{let i,a=!0;t.subscribe((0,Zn.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}(),(0,pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function q2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function t4(n){(function e4(n,e){n.INTERNAL.registerComponent(new yh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},X3)))})(n,(e,t)=>new U2(e,t,new Y3)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(NU.Z);class W2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(jf(void 0),Vx(),Ws(([r,i])=>i.length>0||!r),(0,pt.U)(([r,i])=>i),gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=q2(e);return G2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return GR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(gn.iC)}add(e){return this.ref.add(e)}doc(e){return new Z2(this.ref.doc(e),this.afs)}}class Z2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=K2(r,t);return new W2(i,a,this.afs)}snapshotChanges(){return function r4(n,e){return z2(n,e).pipe(jf(void 0),Vx(),(0,pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(gn.iC)}}class o4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UT(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ws(t=>t.length>0),gn.iC):UT(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(sh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=q2(e);return G2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return GR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(gn.iC)}}const a4=new c.OlP("angularfire2.enableFirestorePersistence"),u4=new c.OlP("angularfire2.firestore.persistenceSettings"),l4=new c.OlP("angularfire2.firestore.settings"),c4=new c.OlP("angularfire2.firestore.use-emulator");function K2(n,e=(t=>t)){return{query:e(n),ref:n}}let WR=(()=>{class n{constructor(t,r,i,a,l,f,y,w,D,S,B,H,K,se,ce,Be,Qe){this.schedulers=y;const We=(0,Ao.on)(t,f,r),Xe=D;S&&WS(We,f,B,K,se,ce,H,Be),[this.firestore,this.persistenceEnabled$]=(0,Ao.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const Ut=f.runOutsideAngular(()=>We.firestore());if(a&&Ut.settings(a),Xe&&Ut.useEmulator(...Xe),i&&!Ns(l)){const Bt=()=>{try{return(0,bn.D)(Ut.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(_n){return typeof console<"u"&&console.warn(_n),bt(!1)}};return[Ut,f.runOutsideAngular(Bt)]}return[Ut,bt(!1)]},[a,Xe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=K2(i,r),f=this.schedulers.ngZone.run(()=>a);return new W2(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new o4(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Z2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ao.Dh),c.LFG(Ao.xv,8),c.LFG(a4,8),c.LFG(l4,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gn.HU),c.LFG(u4,8),c.LFG(c4,8),c.LFG(_l,8),c.LFG(jS,8),c.LFG($S,8),c.LFG(HS,8),c.LFG(zS,8),c.LFG(GS,8),c.LFG(qS,8),c.LFG(Mm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d4=(()=>{class n{constructor(t){this.firestore=t}getVideos(){return this.firestore.collection("videos").snapshotChanges()}getVideoById(t){return this.firestore.collection("videos").doc(t).valueChanges()}updateVideo(t,r){return this.firestore.collection("videos").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(WR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h4=(()=>{class n{constructor(t){this.firestore=t}updateLikesVideo(t,r){return this.firestore.collection("likes").doc(r).set({[t.id]:{likesCount:t.likesCountVideo,likedBy:t.likedByVideo}},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(WR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",14)(1,"video",15),c._UZ(2,"source",16),c.qZA(),c.TgZ(3,"div",17)(4,"div",18)(5,"p",19),c._uU(6),c.qZA()(),c.TgZ(7,"div",20)(8,"div",21)(9,"i",22),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw();return c.KtG(l.abrirCom(a))}),c.qZA(),c.TgZ(10,"span"),c._uU(11),c.qZA()(),c.TgZ(12,"div",23)(13,"i",24),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw();return c.KtG(l.likeVideo(a))}),c.qZA(),c.TgZ(14,"span"),c._uU(15),c.qZA()()()()()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(2),c.Q6J("src",t.url,c.LSH),c.xp6(4),c.hij(" ",t.nombre," "),c.xp6(5),c.Oqu(t.commentsVideo.length),c.xp6(2),c.ekj("liked",t.likedByVideo.includes(r.currentUser.uid)),c.xp6(2),c.Oqu(t.likesCountVideo)}}function p4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",25)(1,"div",26)(2,"span",27),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.close())}),c.qZA(),c.TgZ(3,"div",28)(4,"p"),c._uU(5," Primero debes "),c.TgZ(6,"a",29),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.salir())}),c._uU(7,"Iniciar Sesion"),c.qZA(),c._uU(8," o "),c.TgZ(9,"a",30),c._uU(10,"Registrate"),c.qZA()()()()()}}function g4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",43),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.close())}),c.qZA()}}function m4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"span"),c._uU(2),c.qZA(),c.TgZ(3,"div",44)(4,"p",45),c._uU(5),c.qZA(),c.TgZ(6,"div",46)(7,"div")(8,"i",24),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.likeComment(a))}),c.qZA(),c.TgZ(9,"span"),c._uU(10),c.qZA()(),c.TgZ(11,"i",47),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.abrirEditar(a))}),c.qZA(),c.TgZ(12,"i",48),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.deleteModal(a))}),c.qZA()()()()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.xp6(2),c.Oqu(t.usuario),c.xp6(3),c.Oqu(t.comentario),c.xp6(3),c.ekj("liked",t.likedByComment.includes(r.currentUser.uid)),c.xp6(2),c.Oqu(t.likesCountComment)}}function y4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",31)(1,"div",32),c.YNc(2,g4,1,0,"span",33),c.TgZ(3,"h3"),c._uU(4,"Comentarios:"),c.qZA(),c.TgZ(5,"div",34)(6,"div",35),c.YNc(7,m4,13,5,"div",36),c.qZA()(),c.TgZ(8,"div",37)(9,"form",38,39),c.NdJ("submit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.addComment(i.comentario))}),c.TgZ(11,"label",40),c._uU(12,"Agregar comentario:"),c.qZA(),c._UZ(13,"br"),c.TgZ(14,"textarea",41),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.comentario=i)}),c.qZA(),c._UZ(15,"br"),c.TgZ(16,"button",42),c._uU(17," Comentar "),c.qZA()()()()()}if(2&n){const t=c.MAs(10),r=c.oxw();c.xp6(2),c.Q6J("ngIf",r.ocultarx),c.xp6(5),c.Q6J("ngForOf",r.dataVideoId.commentsVideo),c.xp6(7),c.Q6J("ngModel",r.comentario),c.xp6(2),c.Q6J("disabled",!t.valid)}}function _4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",49)(1,"div",26)(2,"div",28)(3,"p"),c._uU(4,"\xbfDeseas eliminar este Comentario?"),c.qZA()(),c.TgZ(5,"div",50)(6,"button",51),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.closeDelete())}),c._uU(7,"Cancelar"),c.qZA(),c.TgZ(8,"button",51),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.borrarComentario())}),c._uU(9,"Aceptar"),c.qZA()()()()}}function v4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",52)(1,"div",26)(2,"div",28)(3,"p"),c._uU(4,"Editar comentario:"),c.qZA(),c.TgZ(5,"textarea",53),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.esteComentario=i)}),c.qZA()(),c.TgZ(6,"div",54)(7,"button",51),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.closeDelete())}),c._uU(8,"Cancelar"),c.qZA(),c.TgZ(9,"button",51),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.editarComentario())}),c._uU(10,"Aceptar"),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(5),c.Q6J("ngModel",t.esteComentario)}}let w4=(()=>{class n{constructor(t,r,i,a,l,f){this.storage=t,this.afAuth=r,this._videosService=i,this.afs=a,this._users=l,this.router=f,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(t=>{this.currentUser=t,"rm01jawdLvYSObMPDc8BTBasbJp2"==t?.uid&&(this.esInvitado=!0)})}getVideos(){this._videosService.getVideos().subscribe(t=>{this.videos=[],t.forEach(r=>{const i=r.payload.doc.data();this.videos.push({id:r.payload.doc.id,...i,likesCountVideo:i.likesCountVideo||0,likedByVideo:i.likedByVideo||[],userVideoLikes:i.userVideoLikes||[],commentsVideo:i.commentsVideo||[]})})})}likeVideo(t){var r=this;return(0,ye.Z)(function*(){const i=yield r.afAuth.currentUser;if(i&&!r.esInvitado){const a=i.uid,l=i.displayName,f=i.email,y=t.likedByVideo.indexOf(a);-1!==y?(t.likedByVideo.splice(y,1),t.userVideoLikes.splice(y,1),t.likesCountVideo--):(t.likedByVideo.push(a),t.likesCountVideo++,t.userVideoLikes.push({usuario:l,correo:f}));const w=t.id,D={likesCountVideo:t.likesCountVideo,likedByVideo:t.likedByVideo,userVideoLikes:t.userVideoLikes};yield r._videosService.updateVideo(w,D)}else r.modal=!0})()}addComment(t){var r=this;return(0,ye.Z)(function*(){const i=yield r.afAuth.currentUser;if(i){const a=r.dataVideoId,l=r.dataVideoId.id;a.commentsVideo.push({usuario:i.displayName,correo:i.email,comentario:t});const w={commentsVideo:a.commentsVideo};yield r._videosService.updateVideo(l,w),r.comentario=""}})()}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}abrirCom(t){var r=this;return(0,ye.Z)(function*(){r.dataVideoId=t;(yield r.afAuth.currentUser)&&!r.esInvitado?r.modalcom=!0:r.modal=!0})()}deleteModal(t){var r=this;return(0,ye.Z)(function*(){const i=yield r.afAuth.currentUser;(i?.email===t.correo||"administrador.sistema@gmail.com"==i?.email)&&(r.modalDelete=!0,r.ocultarx=!1),r.comentarioDel=t})()}borrarComentario(){const t=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==t?(this.dataVideoId.commentsVideo.splice(t,1),this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(a=>{console.error("Error al eliminar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}abrirEditar(t){var r=this;return(0,ye.Z)(function*(){(yield r.afAuth.currentUser)?.email===t.correo&&(r.modalEditar=!0,r.ocultarx=!1),r.comentarioDel=t,r.esteComentario=t.comentario})()}editarComentario(){const t=this.esteComentario,r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo[r].comentario=t,this._videosService.updateVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(l=>{console.error("Error al editar el comentario:",l)})):console.error("\xcdndice de comentario no v\xe1lido")}likeComment(t){var r=this;return(0,ye.Z)(function*(){const i=yield r.afAuth.currentUser;if(i&&!r.esInvitado){if(!t)return void console.error("El comentario no est\xe1 definido");t.likedByComment||(t.likedByComment=[]);const a=i.uid,l=t.likedByComment.indexOf(a);-1!==l?(t.likedByComment.splice(l,1),t.likesCountComment=Math.max(0,t.likesCountComment-1)):(t.likedByComment.push(a),t.likesCountComment=(t.likesCountComment||0)+1);const f=r.dataVideoId.id;if(-1!==r.dataVideoId.commentsVideo.findIndex(w=>w===t)){const w={commentsVideo:r.dataVideoId.commentsVideo};yield r._videosService.updateVideo(f,w),console.log(w)}}else r.modal=!0})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zm),c.Y36(_l),c.Y36(d4),c.Y36(WR),c.Y36(h4),c.Y36(Fn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-videos"]],decls:21,vars:5,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"video-container"],[1,"video"],["width","320","height","240","class","gallery-video",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","modalcom",4,"ngIf"],["class","modalDelete",4,"ngIf"],["class","modalEditar",4,"ngIf"],["width","320","height","240",1,"gallery-video"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],[1,"far","fa-comment",2,"cursor","pointer",3,"click"],[1,"likes"],[1,"far","fa-thumbs-up",2,"cursor","pointer",3,"click"],[1,"modal"],[1,"modal-con"],[1,"fas","fa-times","lax",3,"click"],[2,"text-align","center"],[1,"iniciar",3,"click"],["routerLink","/registrar",1,"registrar"],[1,"modalcom"],[1,"modal-com"],["class","fas fa-times lax2",3,"click",4,"ngIf"],[1,"comments-container"],[1,"comments-list"],[4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["commentForm","ngForm"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModel","ngModelChange"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[1,"fas","fa-times","lax2",3,"click"],[2,"display","flex","align-items","center","justify-content","space-between"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[1,"fas","fa-pencil-alt",2,"cursor","pointer","color","blue",3,"click"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"modalDelete"],[2,"display","flex","justify-content","space-evenly"],[1,"buttonDel",3,"click"],[1,"modalEditar"],["name","esteComentario","id","esteComentario","cols","30","rows","10",2,"padding","12px",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-evenly","margin-top","11px"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),c._uU(5,"INICIO"),c.qZA(),c.TgZ(6,"a",4),c._uU(7,"IMAGENES"),c.qZA(),c.TgZ(8,"a",5),c._uU(9,"VIDEOS"),c.qZA(),c.TgZ(10,"a",6),c._uU(11,"MUSICA"),c.qZA()()(),c.TgZ(12,"div",7)(13,"div",8),c.YNc(14,f4,16,6,"div",9),c.qZA()()()(),c.TgZ(15,"div"),c.YNc(16,p4,11,0,"div",10),c.qZA(),c.YNc(17,y4,18,4,"div",11),c.TgZ(18,"div"),c.YNc(19,_4,10,0,"div",12),c.qZA(),c.YNc(20,v4,11,1,"div",13)),2&t&&(c.xp6(14),c.Q6J("ngForOf",r.videos),c.xp6(2),c.Q6J("ngIf",r.modal),c.xp6(1),c.Q6J("ngIf",r.modalcom),c.xp6(2),c.Q6J("ngIf",r.modalDelete),c.xp6(1),c.Q6J("ngIf",r.modalEditar))},dependencies:[Ps,Nn,du,eu,Zo,yo,Xr,Hs,vf,Ac],styles:['@charset "UTF-8";.contenedor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.modal[_ngcontent-%COMP%]{background-color:#f4f4f4;width:287px;height:105px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.modalDelete[_ngcontent-%COMP%]{border-radius:6px;background-color:#b8b5b5;width:287px;height:105px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.modalEditar[_ngcontent-%COMP%]{border-radius:6px;background-color:#b8b5b5;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.buttonDel[_ngcontent-%COMP%]{cursor:pointer;border-radius:5px;padding:3px}.buttonDel[_ngcontent-%COMP%]:hover{background-color:#d3e1dd}.modal-con[_ngcontent-%COMP%]{padding:18px}.iniciar[_ngcontent-%COMP%]{color:#00f;cursor:pointer}.iniciar[_ngcontent-%COMP%]:hover{color:red}.registrar[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:none}.registrar[_ngcontent-%COMP%]:hover{color:red}.lax[_ngcontent-%COMP%]{position:absolute;top:7px;right:8px;cursor:pointer}.lax[_ngcontent-%COMP%]:hover{color:red}.modalcom[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.modalcom[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px;border-bottom:1px solid #ddd;padding-bottom:20px}.modal-com[_ngcontent-%COMP%]{background-color:#fff;padding:20px;max-width:80%;max-height:80%;overflow-y:auto;border-radius:10px;box-shadow:0 0 10px #0000001a;display:flex;flex-direction:column;height:80%}.comments-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.comment-input[_ngcontent-%COMP%]{margin-top:10px}.comments-list[_ngcontent-%COMP%]{padding-right:10px}.comments-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.last[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:none}.comment-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:sticky;bottom:0;background-color:#fff;padding:10px;box-shadow:0 -2px 5px #0000001a}.lax2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.lax2[_ngcontent-%COMP%]:hover{color:red}.liked[_ngcontent-%COMP%]{color:#10e208}.comment-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:calc(100% - 90px);margin-bottom:5px}textarea#comentario[_ngcontent-%COMP%]{border-radius:6px;padding:9px;width:93%}.comment-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px}@media (max-width: 900px){.caja[_ngcontent-%COMP%]{font-size:15px}.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}']}),n})();function E4(n,e){if(1&n&&(c.TgZ(0,"div",9)(1,"p",10),c._uU(2),c.qZA(),c.TgZ(3,"audio",11),c._UZ(4,"source",12),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.title),c.xp6(2),c.Q6J("src",t.url,c.LSH)}}let C4=(()=>{class n{constructor(t){this.storage=t,this.musica=[],this.titulos=["Aguanile","Arrepientete","Asi soy yo","Bam bam bidi bim bam bam","Batman y el hombre Ara\xf1a","Caderona","Con la punta del pie","Donde estabas tu","Welcome to party","La negra tiene tumbao","Llora Corazon","Payaso","Cancion 13","Lupita","Paloma","Yo soy el rey","Cancion 17","Sangre son colora","Sangre son colora (editado)","boogalo 1","Cancion 21","Cancion 22","Cancion 23","Todo tiene su final (editado)","Cancion 25","Cancion 26","Cancion 27","Omele","Boogalo 2","Aguazate","Aqui no ha pasado nada","Saraguey santoja","Arranca en fa","Arroyando","Asi soy yo (edit)","Askarakatiski","Ballandel","Bam bam (edit)","Bomba caranbomba","Boogalo 3","Boogalo 4","Boogalo 5","Boogalo 6","Cancion 45","Boogalo 7","Boogalo 8","Boogalo 9","Boogalo 10","Boogalo 11","Boogalo 12","Boogalo 13","Cancion 53","Cachondea","Cancion 54","Camina como chencha","Cancion 56","Carmen","Cancion 57","Cancion 58","Cancion 59","Cancion 60","Cancion 61","Ran kan kan","Echo chi echo no","El malo","Cancion 65","Federico boogalo","Fuego pal 23","Hagan silencio","Indestructible","Lancion 70","cancion 71","La bamba","Cancion 73","La luz del cielo","La pelota","Cancion 76","Mambo rock","Merecumbe","Boogalo 14","Boogalo 15","Mondongo","Oh mayi","Pal 23","Cancion 85","Pruebalo","Quimbara (edit)","Quimbara","Cancion 89","Cancion 90","Cancion 91","Cancion 92","Cancion 93","Fuma el barco","Sonido bestial","Cancion 96","Cancion 97","Cancion 98","Cancion 99","El yoyo","Tremendo rumbon","Tres pata","Tres pata v2","Cancion 104","Cancion 105"]}ngOnInit(){this.getMusica()}subirArchivo(t){const r=t.target.files[0],i=dI(this.storage,`videos/${r.name}`);eO(i,r).then(()=>{this.getMusica()}).catch(a=>console.log(a))}getMusica(){var t=this;return(0,ye.Z)(function*(){const r=dI(t.storage,"musica");try{const i=yield XN(r);t.musica=yield Promise.all(i.items.map(function(){var a=(0,ye.Z)(function*(l,f){const y=yield JN(l);return{title:t.titulos[f]||`Canci\xf3n ${f+1}`,url:y}});return function(l,f){return a.apply(this,arguments)}}()))}catch(i){console.log(i)}})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-musica"]],decls:14,vars:1,consts:[[1,"contenedor"],[1,"box"],[1,"caja"],["routerLink","/main",1,"nav-link"],["routerLink","/galeria",1,"nav-link"],["routerLink","/videos",1,"nav-link"],["routerLink","/musica",1,"nav-link"],[1,"musica-container"],["class","musica",4,"ngFor","ngForOf"],[1,"musica"],[2,"margin-bottom","10px"],["controls",""],["type","audio/mp3",3,"src"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"a",3),c._uU(5,"INICIO"),c.qZA(),c.TgZ(6,"a",4),c._uU(7,"IMAGENES"),c.qZA(),c.TgZ(8,"a",5),c._uU(9,"VIDEOS"),c.qZA(),c.TgZ(10,"a",6),c._uU(11,"MUSICA"),c.qZA()()(),c.TgZ(12,"div",7),c.YNc(13,E4,5,2,"div",8),c.qZA()()()),2&t&&(c.xp6(13),c.Q6J("ngForOf",r.musica))},dependencies:[Ps,du],styles:[".contenedor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fpngwing.com.png?alt=media&token=4e0dc339-1658-4b69-b385-4e1e5c787abf);display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;font-size:24px;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.musica-container[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex-wrap:wrap;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}@media (max-width: 767px){.caja[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 350px){.caja[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),Y2=(()=>{class n{constructor(t){this.toastr=t}mensaje(t){return"auth/invalid-email"===t?"Por favor, introduce un correo electr\xf3nico v\xe1lido.":""}errorFirebase(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Eh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner"],[1,"visually-hidden"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"Loading..."),c.qZA()())},styles:['@charset "UTF-8";.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}']}),n})();function b4(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es requerido"),c.qZA())}function I4(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es invalido"),c.qZA())}function T4(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1,"La "),c.TgZ(2,"strong"),c._uU(3,"contrase\xf1a "),c.qZA(),c._uU(4,"debe contener mas de 6 caracteres"),c.qZA())}function D4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",3)(1,"form",4),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.login())}),c.TgZ(2,"div")(3,"h2",5),c._uU(4,"Asi Somos Asi Bailamos"),c.qZA()(),c.TgZ(5,"h2",6),c._uU(6,"Iniciar sesi\xf3n"),c.qZA(),c.TgZ(7,"div",7)(8,"label",8),c._uU(9,"Correo electr\xf3nico"),c.qZA(),c._UZ(10,"input",9),c.YNc(11,b4,5,0,"span",10),c.YNc(12,I4,5,0,"span",10),c.qZA(),c.TgZ(13,"div",7)(14,"label",11),c._uU(15,"Contrase\xf1a"),c.qZA(),c._UZ(16,"input",12),c.YNc(17,T4,5,0,"span",10),c.qZA(),c.TgZ(18,"div",13)(19,"a",14),c._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),c.qZA(),c.TgZ(21,"a",15),c._uU(22,"Registrarse"),c.qZA()(),c.TgZ(23,"button",16),c._uU(24,"Iniciar sesi\xf3n"),c.qZA(),c.TgZ(25,"div",17)(26,"a",18),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.loginAsGuest())}),c._uU(27,"Iniciar sesi\xf3n como invitado"),c.qZA()()()()}if(2&n){const t=c.oxw();let r,i,a;c.xp6(1),c.Q6J("formGroup",t.loginUsuario),c.xp6(10),c.Q6J("ngIf",(null==(r=t.loginUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.loginUsuario.get("email"))?null:r.touched)),c.xp6(1),c.Q6J("ngIf",(null==(i=t.loginUsuario.get("email"))?null:i.hasError("email"))&&(null==(i=t.loginUsuario.get("email"))?null:i.touched)),c.xp6(5),c.Q6J("ngIf",(null==(a=t.loginUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.loginUsuario.get("password"))?null:a.touched))}}function A4(n,e){1&n&&(c.TgZ(0,"div",20)(1,"h2",21),c._uU(2,"Asi Somos Asi Bailamos"),c.qZA(),c.TgZ(3,"span",22),c._uU(4,"Iniciando sesion..."),c.qZA(),c._UZ(5,"app-spinner"),c.qZA())}let S4=(()=>{class n{constructor(t,r,i,a,l){this.toastr=t,this.fb=r,this.firebaseError=i,this.afAuth=a,this.router=l,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Rr.required,Rr.email]],password:["",Rr.required]})}ngOnInit(){}login(){const t=this.loginUsuario.value.email,r=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.router.navigate(["/main"]),console.log(i),this.loading=!1}).catch(i=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(i.code),this.message=this.firebaseError.mensaje(i.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.loading=!1,this.router.navigate(["/main"])}).catch(i=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Eh),c.Y36(Cf),c.Y36(Y2),c.Y36(_l),c.Y36(Fn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center","height","100vh","background-color","white"],["class","container-login",4,"ngIf"],["style","\n      display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;\n    ",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2",2,"user-select","none"],[1,"form-title",2,"user-select","none"],[1,"form-group"],["for","email",2,"user-select","none"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password",2,"user-select","none"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["routerLink","/recuperar",1,"forgot-password",2,"user-select","none"],["routerLink","/registrar",1,"register-link",2,"user-select","none"],["type","submit",1,"submit-button"],[2,"text-align","center","margin-top","14px"],[1,"register-link",2,"user-select","none","cursor","pointer",3,"click"],[1,"text-danger","errorLabel"],[2,"display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[1,"elH2"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,D4,28,4,"div",1),c.YNc(2,A4,6,0,"div",2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[Nn,du,eu,Zo,yo,Xr,il,Wd,ZR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px;-webkit-user-select:none;user-select:none}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#0040ff;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function x4(n,e){1&n&&(c.TgZ(0,"span",20),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"nombre de usuario"),c.qZA(),c._uU(4," es requerido"),c.qZA())}function M4(n,e){1&n&&(c.TgZ(0,"span",20),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es requerido"),c.qZA())}function R4(n,e){1&n&&(c.TgZ(0,"span",20),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es inv\xe1lido"),c.qZA())}function P4(n,e){1&n&&(c.TgZ(0,"span",20),c._uU(1,"La "),c.TgZ(2,"strong"),c._uU(3,"contrase\xf1a "),c.qZA(),c._uU(4,"debe contener m\xe1s de 6 caracteres"),c.qZA())}function N4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"form",3,4),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.registrar())}),c.TgZ(3,"h2",5),c._uU(4,"Asi Somos Asi Bailamos"),c.qZA(),c.TgZ(5,"h2",6),c._uU(6,"REGISTRARSE"),c.qZA(),c.TgZ(7,"div",7)(8,"label",8),c._uU(9,"Nombre de Usuario"),c.qZA(),c._UZ(10,"input",9),c.YNc(11,x4,5,0,"span",10),c.qZA(),c.TgZ(12,"div",7)(13,"label",11),c._uU(14,"Correo electr\xf3nico"),c.qZA(),c._UZ(15,"input",12),c.YNc(16,M4,5,0,"span",10),c.YNc(17,R4,5,0,"span",10),c.qZA(),c.TgZ(18,"div",7)(19,"label",13),c._uU(20,"Contrase\xf1a"),c.qZA(),c._UZ(21,"input",14),c.YNc(22,P4,5,0,"span",10),c.qZA(),c.TgZ(23,"div",7)(24,"label",15),c._uU(25,"Repetir Contrase\xf1a"),c.qZA(),c._UZ(26,"input",16),c.qZA(),c.TgZ(27,"div",17)(28,"button",18),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.goBack())}),c._uU(29," Volver "),c.qZA(),c.TgZ(30,"button",19),c._uU(31,"Registrar"),c.qZA()()()()}if(2&n){const t=c.oxw();let r,i,a,l;c.xp6(1),c.Q6J("formGroup",t.registrarUsuario),c.xp6(10),c.Q6J("ngIf",(null==(r=t.registrarUsuario.get("username"))?null:r.hasError("required"))&&(null==(r=t.registrarUsuario.get("username"))?null:r.touched)),c.xp6(5),c.Q6J("ngIf",(null==(i=t.registrarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.registrarUsuario.get("email"))?null:i.touched)),c.xp6(1),c.Q6J("ngIf",(null==(a=t.registrarUsuario.get("email"))?null:a.hasError("email"))&&(null==(a=t.registrarUsuario.get("email"))?null:a.touched)),c.xp6(5),c.Q6J("ngIf",(null==(l=t.registrarUsuario.get("password"))?null:l.hasError("required"))&&(null==(l=t.registrarUsuario.get("password"))?null:l.touched)),c.xp6(8),c.Q6J("disabled",t.registrarUsuario.invalid)}}function O4(n,e){1&n&&(c.TgZ(0,"div",21)(1,"h2",5),c._uU(2,"Asi Somos Asi Bailamos"),c.qZA(),c.TgZ(3,"span",22),c._uU(4,"Registrando..."),c.qZA(),c._UZ(5,"app-spinner"),c.qZA())}let k4=(()=>{class n{constructor(t,r,i,a,l,f){this.fb=t,this.afAuth=r,this.router=i,this.firebaseError=a,this.toastr=l,this.location=f,this.loading=!1,this.registrarUsuario=this.fb.group({username:["",Rr.required],email:["",[Rr.required,Rr.email]],password:["",[Rr.required,Rr.minLength(6)]],repetirPassword:["",Rr.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.username,r=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password;i===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(r,i).then(l=>l.user?.updateProfile({displayName:t})).then(l=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(l=>{this.loading=!1,console.log(l),this.firebaseError.errorFirebase(l.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}goBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cf),c.Y36(_l),c.Y36(Fn),c.Y36(Y2),c.Y36(Eh),c.Y36(Se))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:2,vars:2,consts:[["class","content",4,"ngIf"],["style"," background-color: white; display: flex; height: 90vh; flex-direction: column; justify-content: center; align-items: center;",4,"ngIf"],[1,"content"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Nombre de Usuario","formControlName","username"],["class","text-danger errorLabel",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["for","repetirPassword"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button",1,"submit",2,"background-color","blue",3,"click"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"background-color","white","display","flex","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(c.YNc(0,N4,32,6,"div",0),c.YNc(1,O4,6,0,"div",1)),2&t&&(c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[Nn,eu,Zo,yo,Xr,il,Wd,ZR],styles:[".login-form[_ngcontent-%COMP%]{margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;height:94vh}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background:linear-gradient(to right,#e44d42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})();function F4(n,e){1&n&&(c.TgZ(0,"span",12),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es requerido"),c.qZA())}function L4(n,e){1&n&&(c.TgZ(0,"span",12),c._uU(1,"El "),c.TgZ(2,"strong"),c._uU(3,"correo "),c.qZA(),c._uU(4,"es invalido"),c.qZA())}function V4(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"form",3),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.recuperar())}),c.TgZ(2,"h2",4),c._uU(3,"Asi Somos Asi Bailamos"),c.qZA(),c.TgZ(4,"h2",5),c._uU(5,"RECUPERAR CUENTA"),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"input",7),c.YNc(8,F4,5,0,"span",8),c.YNc(9,L4,5,0,"span",8),c.qZA(),c.TgZ(10,"div",9)(11,"button",10),c._uU(12," Volver "),c.qZA(),c.TgZ(13,"button",11),c._uU(14,"Aceptar"),c.qZA()()()()}if(2&n){const t=c.oxw();let r,i;c.xp6(1),c.Q6J("formGroup",t.recuperarUsuario),c.xp6(7),c.Q6J("ngIf",(null==(r=t.recuperarUsuario.get("email"))?null:r.hasError("required"))&&(null==(r=t.recuperarUsuario.get("email"))?null:r.touched)),c.xp6(1),c.Q6J("ngIf",(null==(i=t.recuperarUsuario.get("email"))?null:i.hasError("email"))&&(null==(i=t.recuperarUsuario.get("email"))?null:i.touched)),c.xp6(4),c.Q6J("disabled",t.recuperarUsuario.invalid)}}function U4(n,e){1&n&&(c.TgZ(0,"div",13)(1,"h2",4),c._uU(2,"Asi Somos Asi Bailamos"),c.qZA(),c.TgZ(3,"span",14),c._uU(4,"Registrando..."),c.qZA(),c._UZ(5,"app-spinner"),c.qZA())}let B4=(()=>{class n{constructor(t,r,i,a){this.fb=t,this.afAuth=r,this.router=i,this.toastr=a,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Rr.required,Rr.email]]})}ngOnInit(){}recuperar(){const t=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(r=>{this.loading=!1,this.firebaseError(r.code)})}firebaseError(t){switch(t){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cf),c.Y36(_l),c.Y36(Fn),c.Y36(Eh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;background-color: white;\n    height: 90vh;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","background-color","white","height","90vh","flex-direction","column","justify-content","center","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,r){1&t&&(c.TgZ(0,"div"),c.YNc(1,V4,15,4,"div",0),c.YNc(2,U4,6,0,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[Nn,hm,eu,Zo,yo,Xr,il,Wd,ZR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;font-size:16px;background:linear-gradient(to right,#E44D42,#001eff);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#001aff}.submit[_ngcontent-%COMP%]:hover{background-color:#0d60db}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;font-size:36px;background-image:linear-gradient(to right,#fd1100,#001eff);-webkit-background-clip:text;background-clip:text;color:transparent}"]}),n})(),j4=(()=>{class n{constructor(t){this.afAuth=t}isLoggedIn(){return this.afAuth.authState.pipe((0,pt.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_l))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BT=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn().pipe((0,pt.U)(i=>!!i||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j4),c.LFG(Fn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $4=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:S4},{path:"registrar",component:k4},{path:"recuperar",component:B4},{path:"main",component:ix,canActivate:[BT]},{path:"galeria",component:xU,canActivate:[BT]},{path:"videos",component:w4,canActivate:[BT]},{path:"musica",component:C4,canActivate:[BT]},{path:"**",redirectTo:"/",pathMatch:"full"}];let H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fb.forRoot($4),fb]}),n})(),z4=(()=>{class n{constructor(){this.title="asi-somos-asi-bailamos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[X_]}),n})();const KR_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};let G4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[z4]}),n.\u0275inj=c.cJS({imports:[za,H4,sD,$w,JD,Ao.hO.initializeApp(KR_firebase),vb(()=>pS(KR_firebase)),vU(()=>wU()),Pm,Zv.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,c.G48)(),sc().bootstrapModule(G4).catch(n=>console.error(n))},9751:(wt,Oe,V)=>{V.d(Oe,{y:()=>ve});var c=V(2961),j=V(727),k=V(8822),re=V(9635),le=V(2416),me=V(576),fe=V(2806);let ve=(()=>{class J{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const De=new J;return De.source=this,De.operator=Ne,De}subscribe(Ne,De,it){const Ee=function G(J){return J&&J instanceof c.Lv||function q(J){return J&&(0,me.m)(J.next)&&(0,me.m)(J.error)&&(0,me.m)(J.complete)}(J)&&(0,j.Nn)(J)}(Ne)?Ne:new c.Hp(Ne,De,it);return(0,fe.x)(()=>{const{operator:_e,source:_t}=this;Ee.add(_e?_e.call(Ee,_t):_t?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(De){Ne.error(De)}}forEach(Ne,De){return new(De=we(De))((it,Ee)=>{const _e=new c.Hp({next:_t=>{try{Ne(_t)}catch(gt){Ee(gt),_e.unsubscribe()}},error:Ee,complete:it});this.subscribe(_e)})}_subscribe(Ne){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Ne)}[k.L](){return this}pipe(...Ne){return(0,re.U)(Ne)(this)}toPromise(Ne){return new(Ne=we(Ne))((De,it)=>{let Ee;this.subscribe(_e=>Ee=_e,_e=>it(_e),()=>De(Ee))})}}return J.create=$e=>new J($e),J})();function we(J){var $e;return null!==($e=J??le.v.Promise)&&void 0!==$e?$e:Promise}},7579:(wt,Oe,V)=>{V.d(Oe,{x:()=>fe});var c=V(9751),j=V(727);const re=(0,V(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=V(8737),me=V(2806);let fe=(()=>{class we extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new ve(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new re}next(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:$e,observers:Ne}=this;return J||$e?j.Lc:(this.currentObservers=null,Ne.push(G),new j.w0(()=>{this.currentObservers=null,(0,le.P)(Ne,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:$e,isStopped:Ne}=this;J?G.error($e):Ne&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return we.create=(q,G)=>new ve(q,G),we})();class ve extends fe{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,q)}error(q){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==J?J:j.Lc}}},2961:(wt,Oe,V)=>{V.d(Oe,{Hp:()=>it,Lv:()=>J});var c=V(576),j=V(727),k=V(2416),re=V(7849);function le(){}const me=we("C",void 0,void 0);function we(Se,Ie,xe){return{kind:Se,value:Ie,error:xe}}var q=V(3410),G=V(2806);class J extends j.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,j.Nn)(Ie)&&Ie.add(this)):this.destination=gt}static create(Ie,xe,ze){return new it(Ie,xe,ze)}next(Ie){this.isStopped?_t(function ve(Se){return we("N",Se,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?_t(function fe(Se){return we("E",void 0,Se)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?_t(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ne(Se,Ie){return $e.call(Se,Ie)}class De{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ie)}catch(ze){Ee(ze)}}error(Ie){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ie)}catch(ze){Ee(ze)}else Ee(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(xe){Ee(xe)}}}class it extends J{constructor(Ie,xe,ze){let Ge;if(super(),(0,c.m)(Ie)||!Ie)Ge={next:Ie??void 0,error:xe??void 0,complete:ze??void 0};else{let ue;this&&k.v.useDeprecatedNextContext?(ue=Object.create(Ie),ue.unsubscribe=()=>this.unsubscribe(),Ge={next:Ie.next&&Ne(Ie.next,ue),error:Ie.error&&Ne(Ie.error,ue),complete:Ie.complete&&Ne(Ie.complete,ue)}):Ge=Ie}this.destination=new De(Ge)}}function Ee(Se){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Se):(0,re.h)(Se)}function _t(Se,Ie){const{onStoppedNotification:xe}=k.v;xe&&q.z.setTimeout(()=>xe(Se,Ie))}const gt={closed:!0,next:le,error:function _e(Se){throw Se},complete:le}},727:(wt,Oe,V)=>{V.d(Oe,{Lc:()=>me,w0:()=>le,Nn:()=>fe});var c=V(576);const k=(0,V(3888).d)(we=>function(G){we(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,$e)=>`${$e+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var re=V(8737);class le{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ne of G)Ne.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,c.m)(J))try{J()}catch(Ne){q=Ne instanceof k?Ne.errors:[Ne]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ne of $e)try{ve(Ne)}catch(De){q=q??[],De instanceof k?q=[...q,...De.errors]:q.push(De)}}if(q)throw new k(q)}}add(q){var G;if(q&&q!==this)if(this.closed)ve(q);else{if(q instanceof le){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,re.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,re.P)(G,q),q instanceof le&&q._removeParent(this)}}le.EMPTY=(()=>{const we=new le;return we.closed=!0,we})();const me=le.EMPTY;function fe(we){return we instanceof le||we&&"closed"in we&&(0,c.m)(we.remove)&&(0,c.m)(we.add)&&(0,c.m)(we.unsubscribe)}function ve(we){(0,c.m)(we)?we():we.unsubscribe()}},2416:(wt,Oe,V)=>{V.d(Oe,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Oe,V)=>{V.d(Oe,{E:()=>j});const j=new(V(9751).y)(le=>le.complete())},8996:(wt,Oe,V)=>{V.d(Oe,{D:()=>Ie});var c=V(8421),j=V(5363),k=V(9468),me=V(9751),ve=V(2202),we=V(576),q=V(9672);function J(xe,ze){if(!xe)throw new Error("Iterable cannot be null");return new me.y(Ge=>{(0,q.f)(Ge,ze,()=>{const ue=xe[Symbol.asyncIterator]();(0,q.f)(Ge,ze,()=>{ue.next().then(Ke=>{Ke.done?Ge.complete():Ge.next(Ke.value)})},0,!0)})})}var $e=V(3670),Ne=V(8239),De=V(1144),it=V(6495),Ee=V(2206),_e=V(4532),_t=V(3260);function Ie(xe,ze){return ze?function Se(xe,ze){if(null!=xe){if((0,$e.c)(xe))return function re(xe,ze){return(0,c.Xf)(xe).pipe((0,k.R)(ze),(0,j.Q)(ze))}(xe,ze);if((0,De.z)(xe))return function fe(xe,ze){return new me.y(Ge=>{let ue=0;return ze.schedule(function(){ue===xe.length?Ge.complete():(Ge.next(xe[ue++]),Ge.closed||this.schedule())})})}(xe,ze);if((0,Ne.t)(xe))return function le(xe,ze){return(0,c.Xf)(xe).pipe((0,k.R)(ze),(0,j.Q)(ze))}(xe,ze);if((0,Ee.D)(xe))return J(xe,ze);if((0,it.T)(xe))return function G(xe,ze){return new me.y(Ge=>{let ue;return(0,q.f)(Ge,ze,()=>{ue=xe[ve.h](),(0,q.f)(Ge,ze,()=>{let Ke,At;try{({value:Ke,done:At}=ue.next())}catch(mt){return void Ge.error(mt)}At?Ge.complete():Ge.next(Ke)},0,!0)}),()=>(0,we.m)(ue?.return)&&ue.return()})}(xe,ze);if((0,_t.L)(xe))return function gt(xe,ze){return J((0,_t.Q)(xe),ze)}(xe,ze)}throw(0,_e.z)(xe)}(xe,ze):(0,c.Xf)(xe)}},8421:(wt,Oe,V)=>{V.d(Oe,{Xf:()=>$e});var c=V(7582),j=V(1144),k=V(8239),re=V(9751),le=V(3670),me=V(2206),fe=V(4532),ve=V(6495),we=V(3260),q=V(576),G=V(7849),J=V(8822);function $e(Se){if(Se instanceof re.y)return Se;if(null!=Se){if((0,le.c)(Se))return function Ne(Se){return new re.y(Ie=>{const xe=Se[J.L]();if((0,q.m)(xe.subscribe))return xe.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,j.z)(Se))return function De(Se){return new re.y(Ie=>{for(let xe=0;xe<Se.length&&!Ie.closed;xe++)Ie.next(Se[xe]);Ie.complete()})}(Se);if((0,k.t)(Se))return function it(Se){return new re.y(Ie=>{Se.then(xe=>{Ie.closed||(Ie.next(xe),Ie.complete())},xe=>Ie.error(xe)).then(null,G.h)})}(Se);if((0,me.D)(Se))return _e(Se);if((0,ve.T)(Se))return function Ee(Se){return new re.y(Ie=>{for(const xe of Se)if(Ie.next(xe),Ie.closed)return;Ie.complete()})}(Se);if((0,we.L)(Se))return function _t(Se){return _e((0,we.Q)(Se))}(Se)}throw(0,fe.z)(Se)}function _e(Se){return new re.y(Ie=>{(function gt(Se,Ie){var xe,ze,Ge,ue;return(0,c.mG)(this,void 0,void 0,function*(){try{for(xe=(0,c.KL)(Se);!(ze=yield xe.next()).done;)if(Ie.next(ze.value),Ie.closed)return}catch(Ke){Ge={error:Ke}}finally{try{ze&&!ze.done&&(ue=xe.return)&&(yield ue.call(xe))}finally{if(Ge)throw Ge.error}}Ie.complete()})})(Se,Ie).catch(xe=>Ie.error(xe))})}},6451:(wt,Oe,V)=>{V.d(Oe,{T:()=>me});var c=V(8189),j=V(8421),k=V(515),re=V(7669),le=V(8996);function me(...fe){const ve=(0,re.yG)(fe),we=(0,re._6)(fe,1/0),q=fe;return q.length?1===q.length?(0,j.Xf)(q[0]):(0,c.J)(we)((0,le.D)(q,ve)):k.E}},5403:(wt,Oe,V)=>{V.d(Oe,{x:()=>j});var c=V(2961);function j(re,le,me,fe,ve){return new k(re,le,me,fe,ve)}class k extends c.Lv{constructor(le,me,fe,ve,we,q){super(le),this.onFinalize=we,this.shouldUnsubscribe=q,this._next=me?function(G){try{me(G)}catch(J){le.error(J)}}:super._next,this._error=ve?function(G){try{ve(G)}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(wt,Oe,V)=>{V.d(Oe,{U:()=>k});var c=V(4482),j=V(5403);function k(re,le){return(0,c.e)((me,fe)=>{let ve=0;me.subscribe((0,j.x)(fe,we=>{fe.next(re.call(le,we,ve++))}))})}},8189:(wt,Oe,V)=>{V.d(Oe,{J:()=>k});var c=V(5577),j=V(4671);function k(re=1/0){return(0,c.z)(j.y,re)}},5577:(wt,Oe,V)=>{V.d(Oe,{z:()=>ve});var c=V(4004),j=V(8421),k=V(4482),re=V(9672),le=V(5403),fe=V(576);function ve(we,q,G=1/0){return(0,fe.m)(q)?ve((J,$e)=>(0,c.U)((Ne,De)=>q(J,Ne,$e,De))((0,j.Xf)(we(J,$e))),G):("number"==typeof q&&(G=q),(0,k.e)((J,$e)=>function me(we,q,G,J,$e,Ne,De,it){const Ee=[];let _e=0,_t=0,gt=!1;const Se=()=>{gt&&!Ee.length&&!_e&&q.complete()},Ie=ze=>_e<J?xe(ze):Ee.push(ze),xe=ze=>{Ne&&q.next(ze),_e++;let Ge=!1;(0,j.Xf)(G(ze,_t++)).subscribe((0,le.x)(q,ue=>{$e?.(ue),Ne?Ie(ue):q.next(ue)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(_e--;Ee.length&&_e<J;){const ue=Ee.shift();De?(0,re.f)(q,De,()=>xe(ue)):xe(ue)}Se()}catch(ue){q.error(ue)}}))};return we.subscribe((0,le.x)(q,Ie,()=>{gt=!0,Se()})),()=>{it?.()}}(J,$e,we,G)))}},5363:(wt,Oe,V)=>{V.d(Oe,{Q:()=>re});var c=V(9672),j=V(4482),k=V(5403);function re(le,me=0){return(0,j.e)((fe,ve)=>{fe.subscribe((0,k.x)(ve,we=>(0,c.f)(ve,le,()=>ve.next(we),me),()=>(0,c.f)(ve,le,()=>ve.complete(),me),we=>(0,c.f)(ve,le,()=>ve.error(we),me)))})}},3099:(wt,Oe,V)=>{V.d(Oe,{B:()=>le});var c=V(8421),j=V(7579),k=V(2961),re=V(4482);function le(fe={}){const{connector:ve=(()=>new j.x),resetOnError:we=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=fe;return J=>{let $e,Ne,De,it=0,Ee=!1,_e=!1;const _t=()=>{Ne?.unsubscribe(),Ne=void 0},gt=()=>{_t(),$e=De=void 0,Ee=_e=!1},Se=()=>{const Ie=$e;gt(),Ie?.unsubscribe()};return(0,re.e)((Ie,xe)=>{it++,!_e&&!Ee&&_t();const ze=De=De??ve();xe.add(()=>{it--,0===it&&!_e&&!Ee&&(Ne=me(Se,G))}),ze.subscribe(xe),!$e&&it>0&&($e=new k.Hp({next:Ge=>ze.next(Ge),error:Ge=>{_e=!0,_t(),Ne=me(gt,we,Ge),ze.error(Ge)},complete:()=>{Ee=!0,_t(),Ne=me(gt,q),ze.complete()}}),(0,c.Xf)(Ie).subscribe($e))})(J)}}function me(fe,ve,...we){if(!0===ve)return void fe();if(!1===ve)return;const q=new k.Hp({next:()=>{q.unsubscribe(),fe()}});return ve(...we).subscribe(q)}},9468:(wt,Oe,V)=>{V.d(Oe,{R:()=>j});var c=V(4482);function j(k,re=0){return(0,c.e)((le,me)=>{me.add(k.schedule(()=>le.subscribe(me),re))})}},8505:(wt,Oe,V)=>{V.d(Oe,{b:()=>le});var c=V(576),j=V(4482),k=V(5403),re=V(4671);function le(me,fe,ve){const we=(0,c.m)(me)||fe||ve?{next:me,error:fe,complete:ve}:me;return we?(0,j.e)((q,G)=>{var J;null===(J=we.subscribe)||void 0===J||J.call(we);let $e=!0;q.subscribe((0,k.x)(G,Ne=>{var De;null===(De=we.next)||void 0===De||De.call(we,Ne),G.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=we.complete)||void 0===Ne||Ne.call(we),G.complete()},Ne=>{var De;$e=!1,null===(De=we.error)||void 0===De||De.call(we,Ne),G.error(Ne)},()=>{var Ne,De;$e&&(null===(Ne=we.unsubscribe)||void 0===Ne||Ne.call(we)),null===(De=we.finalize)||void 0===De||De.call(we)}))}):re.y}},4408:(wt,Oe,V)=>{V.d(Oe,{o:()=>le});var c=V(727);class j extends c.w0{constructor(fe,ve){super()}schedule(fe,ve=0){return this}}const k={setInterval(me,fe,...ve){const{delegate:we}=k;return we?.setInterval?we.setInterval(me,fe,...ve):setInterval(me,fe,...ve)},clearInterval(me){const{delegate:fe}=k;return(fe?.clearInterval||clearInterval)(me)},delegate:void 0};var re=V(8737);class le extends j{constructor(fe,ve){super(fe,ve),this.scheduler=fe,this.work=ve,this.pending=!1}schedule(fe,ve=0){var we;if(this.closed)return this;this.state=fe;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,ve)),this.pending=!0,this.delay=ve,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(G,this.id,ve),this}requestAsyncId(fe,ve,we=0){return k.setInterval(fe.flush.bind(fe,this),we)}recycleAsyncId(fe,ve,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return ve;null!=ve&&k.clearInterval(ve)}execute(fe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(fe,ve);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ve){let q,we=!1;try{this.work(fe)}catch(G){we=!0,q=G||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ve}=this,{actions:we}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(we,this),null!=fe&&(this.id=this.recycleAsyncId(ve,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Oe,V)=>{V.d(Oe,{v:()=>k});var c=V(6063);class j{constructor(le,me=j.now){this.schedulerActionCtor=le,this.now=me}schedule(le,me=0,fe){return new this.schedulerActionCtor(this,le).schedule(fe,me)}}j.now=c.l.now;class k extends j{constructor(le,me=j.now){super(le,me),this.actions=[],this._active=!1}flush(le){const{actions:me}=this;if(this._active)return void me.push(le);let fe;this._active=!0;do{if(fe=le.execute(le.state,le.delay))break}while(le=me.shift());if(this._active=!1,fe){for(;le=me.shift();)le.unsubscribe();throw fe}}}},4986:(wt,Oe,V)=>{V.d(Oe,{z:()=>k});var c=V(4408);const k=new(V(7565).v)(c.o)},6063:(wt,Oe,V)=>{V.d(Oe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(wt,Oe,V)=>{V.d(Oe,{z:()=>c});const c={setTimeout(j,k,...re){const{delegate:le}=c;return le?.setTimeout?le.setTimeout(j,k,...re):setTimeout(j,k,...re)},clearTimeout(j){const{delegate:k}=c;return(k?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(wt,Oe,V)=>{V.d(Oe,{h:()=>j});const j=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Oe,V)=>{V.d(Oe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,Oe,V)=>{V.d(Oe,{_6:()=>me,jO:()=>re,yG:()=>le});var c=V(576);function k(fe){return fe[fe.length-1]}function re(fe){return(0,c.m)(k(fe))?fe.pop():void 0}function le(fe){return function j(fe){return fe&&(0,c.m)(fe.schedule)}(k(fe))?fe.pop():void 0}function me(fe,ve){return"number"==typeof k(fe)?fe.pop():ve}},8737:(wt,Oe,V)=>{function c(j,k){if(j){const re=j.indexOf(k);0<=re&&j.splice(re,1)}}V.d(Oe,{P:()=>c})},3888:(wt,Oe,V)=>{function c(j){const re=j(le=>{Error.call(le),le.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}V.d(Oe,{d:()=>c})},2806:(wt,Oe,V)=>{V.d(Oe,{O:()=>re,x:()=>k});var c=V(2416);let j=null;function k(le){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!j;if(me&&(j={errorThrown:!1,error:null}),le(),me){const{errorThrown:fe,error:ve}=j;if(j=null,fe)throw ve}}else le()}function re(le){c.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=le)}},9672:(wt,Oe,V)=>{function c(j,k,re,le=0,me=!1){const fe=k.schedule(function(){re(),me?j.add(this.schedule(null,le)):this.unsubscribe()},le);if(j.add(fe),!me)return fe}V.d(Oe,{f:()=>c})},4671:(wt,Oe,V)=>{function c(j){return j}V.d(Oe,{y:()=>c})},1144:(wt,Oe,V)=>{V.d(Oe,{z:()=>c});const c=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(wt,Oe,V)=>{V.d(Oe,{D:()=>j});var c=V(576);function j(k){return Symbol.asyncIterator&&(0,c.m)(k?.[Symbol.asyncIterator])}},576:(wt,Oe,V)=>{function c(j){return"function"==typeof j}V.d(Oe,{m:()=>c})},3670:(wt,Oe,V)=>{V.d(Oe,{c:()=>k});var c=V(8822),j=V(576);function k(re){return(0,j.m)(re[c.L])}},6495:(wt,Oe,V)=>{V.d(Oe,{T:()=>k});var c=V(2202),j=V(576);function k(re){return(0,j.m)(re?.[c.h])}},8239:(wt,Oe,V)=>{V.d(Oe,{t:()=>j});var c=V(576);function j(k){return(0,c.m)(k?.then)}},3260:(wt,Oe,V)=>{V.d(Oe,{L:()=>re,Q:()=>k});var c=V(7582),j=V(576);function k(le){return(0,c.FC)(this,arguments,function*(){const fe=le.getReader();try{for(;;){const{value:ve,done:we}=yield(0,c.qq)(fe.read());if(we)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ve)}}finally{fe.releaseLock()}})}function re(le){return(0,j.m)(le?.getReader)}},4482:(wt,Oe,V)=>{V.d(Oe,{A:()=>j,e:()=>k});var c=V(576);function j(re){return(0,c.m)(re?.lift)}function k(re){return le=>{if(j(le))return le.lift(function(me){try{return re(me,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(wt,Oe,V)=>{V.d(Oe,{U:()=>k,z:()=>j});var c=V(4671);function j(...re){return k(re)}function k(re){return 0===re.length?c.y:1===re.length?re[0]:function(me){return re.reduce((fe,ve)=>ve(fe),me)}}},7849:(wt,Oe,V)=>{V.d(Oe,{h:()=>k});var c=V(2416),j=V(3410);function k(re){j.z.setTimeout(()=>{const{onUnhandledError:le}=c.v;if(!le)throw re;le(re)})}},4532:(wt,Oe,V)=>{function c(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>c})},4650:(wt,Oe,V)=>{V.d(Oe,{$8M:()=>Md,$Z:()=>CE,AFp:()=>Bb,AaK:()=>ve,AsE:()=>Jf,BQk:()=>hl,CHM:()=>ql,CRH:()=>Am,CZH:()=>Nm,CqO:()=>Bc,D6c:()=>aI,EJc:()=>JS,EiD:()=>Wy,EpF:()=>H_,F4k:()=>z_,FYo:()=>DD,FiY:()=>vs,G48:()=>mN,GfV:()=>Eg,Gpc:()=>G,JOm:()=>Xr,JVY:()=>Hy,KtG:()=>Au,L6k:()=>XT,LAX:()=>kw,LFG:()=>or,LSH:()=>Zy,Lbi:()=>KS,Lck:()=>aS,MAs:()=>Wf,MMx:()=>gn,NdJ:()=>G_,OlP:()=>pn,Oqu:()=>MC,PXZ:()=>cN,Q6J:()=>U_,QGY:()=>Yg,QP$:()=>Ce,QbO:()=>YS,Qsj:()=>AD,R0b:()=>So,RDi:()=>KT,Rgc:()=>lp,SBq:()=>Tf,Sil:()=>ex,Suo:()=>Ov,TTD:()=>Ll,TgZ:()=>j_,Tol:()=>tm,Udp:()=>ch,VKq:()=>yh,X6Q:()=>gN,XFs:()=>ct,Xpm:()=>Rn,Xts:()=>Zw,Y36:()=>ou,YKP:()=>yb,YNc:()=>sC,Yjl:()=>F,Yz7:()=>Me,Z0I:()=>Rt,ZZ4:()=>Vm,_Bn:()=>mb,_UZ:()=>$_,_Vd:()=>If,_c5:()=>xx,_uU:()=>_A,aQg:()=>n0,c2e:()=>QS,cJS:()=>Tt,cg1:()=>rp,d8E:()=>nv,dDg:()=>sx,dqk:()=>tn,eBb:()=>Ow,eFA:()=>lx,ekj:()=>em,eoX:()=>ox,f3M:()=>dc,g9A:()=>$b,h0i:()=>hu,hGG:()=>r0,hij:()=>ev,iGM:()=>gp,ifc:()=>Ct,ip1:()=>Ub,jDz:()=>pl,kL8:()=>om,lG2:()=>$,lqb:()=>Rc,lri:()=>Fm,mCW:()=>gg,n5z:()=>$a,oAB:()=>_r,oJD:()=>aD,oxw:()=>lC,pB0:()=>xc,q3G:()=>Or,q4F:()=>tu,qLn:()=>pi,qOj:()=>Ks,qZA:()=>Kg,qzn:()=>Zd,rWj:()=>Zb,sBO:()=>yN,sIi:()=>zf,s_b:()=>Im,soG:()=>qv,tb:()=>Hb,tp0:()=>Wo,uIk:()=>k_,vHH:()=>De,vpe:()=>fa,wAp:()=>Lt,xp6:()=>ru,ynx:()=>dl,z2F:()=>Qv,z3N:()=>sa,zSh:()=>Yy,zs3:()=>Nc});var c=V(7579),j=V(727),k=V(9751),re=V(6451),le=V(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function we(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=me({__forward_ref__:me});function G(s){return s.__forward_ref__=G,s.toString=function(){return ve(this())},s}function J(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===G}class De extends Error{constructor(o,u){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Ie(s,o){throw new De(-201,!1)}function ie(s,o){null==s&&function ee(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Me(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Tt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xt(s){return rn(s,An)||rn(s,gr)}function Rt(s){return null!==Xt(s)}function rn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qn(s){return s&&(s.hasOwnProperty(Un)||s.hasOwnProperty(wi))?s[Un]:null}const An=me({\u0275prov:me}),Un=me({\u0275inj:me}),gr=me({ngInjectableDef:me}),wi=me({ngInjectorDef:me});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let mr;function zn(s){const o=mr;return mr=s,o}function Fi(s,o,u){const d=Xt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ct.Optional?null:void 0!==o?o:void Ie(ve(s))}function Pn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),Ct=(()=>{return(s=Ct||(Ct={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ct;var s})();const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},St=[],Gn=me({\u0275cmp:me}),qt=me({\u0275dir:me}),Ji=me({\u0275pipe:me}),sn=me({\u0275mod:me}),Bn=me({\u0275fac:me}),vn=me({__NG_ELEMENT_ID__:me});let Xn=0;function Rn(s){return Pn(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ct.Emulated,id:"c"+Xn++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return h.inputs=z(s.inputs,d),h.outputs=z(s.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(er).filter(Ei):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y).filter(Ei):null,h})}function er(s){return O(s)||R(s)}function Ei(s){return null!==s}function _r(s){return Pn(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return nr;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,o&&(o[h]=g)}return u}const $=Rn;function F(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[Gn]||null}function R(s){return s[qt]||null}function Y(s){return s[Ji]||null}function Ce(s){const o=O(s)||R(s)||Y(s);return null!==o&&o.standalone}function Ze(s,o){const u=s[sn]||null;if(!u&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}function br(s){return Array.isArray(s)&&"object"==typeof s[1]}function Hr(s){return Array.isArray(s)&&!0===s[1]}function Ca(s){return 0!=(8&s.flags)}function ps(s){return 2==(2&s.flags)}function ba(s){return 1==(1&s.flags)}function Ci(s){return null!==s.template}function Ia(s){return 0!=(256&s[2])}function io(s,o){return s.hasOwnProperty(Bn)?s[Bn]:null}class Xi{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ll(){return Eu}function Eu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Da),Vl}function Vl(){const s=Ul(this),o=s?.current;if(o){const u=s.previous;if(u===nr)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Da(s,o,u,d){const h=Ul(s)||function md(s,o){return s[gd]=o}(s,{previous:nr,current:null}),g=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[u],I=_[b];g[b]=new Xi(I&&I.currentValue,o,_===nr),s[d]=o}Ll.ngInherit=!0;const gd="__ngSimpleChanges__";function Ul(s){return s[gd]||null}function Cn(s){for(;Array.isArray(s);)s=s[0];return s}function so(s,o){return Cn(o[s])}function si(s,o){return Cn(o[s.index])}function $l(s,o){return s.data[o]}function Sr(s,o){const u=o[s];return br(u)?u:u[0]}function bu(s){return 64==(64&s[2])}function bi(s,o){return null==o?null:s[o]}function Ir(s){s[18]=0}function Fo(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Pt={lFrame:Na(null),bindingsEnabled:!0};function Tu(){return Pt.bindingsEnabled}function Re(){return Pt.lFrame.lView}function Jt(){return Pt.lFrame.tView}function ql(s){return Pt.lFrame.contextLView=s,s[8]}function Au(s){return Pt.lFrame.contextLView=null,s}function Wn(){let s=Sa();for(;null!==s&&64===s.type;)s=s.parent;return s}function Sa(){return Pt.lFrame.currentTNode}function Ii(s,o){const u=Pt.lFrame;u.currentTNode=s,u.isParent=o}function xa(){return Pt.lFrame.isParent}function Su(){Pt.lFrame.isParent=!1}function oo(){return Pt.lFrame.bindingIndex++}function ui(s){const o=Pt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Ed(s,o){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ra(o)}function Ra(s){Pt.lFrame.currentDirectiveIndex=s}function Zl(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Lo(){return Pt.lFrame.currentQueryIndex}function Jr(s){Pt.lFrame.currentQueryIndex=s}function Mu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Kl(s,o,u){if(u&ct.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&ct.Host||(h=Mu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Pt.lFrame=Pa();return d.currentTNode=o,d.lView=s,!0}function ao(s){const o=Pa(),u=s[1];Pt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Pa(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?Na(s):o}function Na(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Yl(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Cd=Yl;function ks(){const s=Yl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cn(){return Pt.lFrame.selectedIndex}function uo(s){Pt.lFrame.selectedIndex=s}function Dn(){const s=Pt.lFrame;return $l(s.tView,s.selectedIndex)}function ka(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:P}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),b&&((s.contentHooks||(s.contentHooks=[])).push(u,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(u,P)}}function lo(s,o,u){Ql(s,o,3,u)}function Nu(s,o,u,d){(3&s[2])===u&&Ql(s,o,u,d)}function Ou(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Ql(s,o,u,d){const g=d??-1,_=o.length-1;let b=0;for(let I=void 0!==d?65535&s[18]:0;I<_;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=d&&b>=d)break}else o[I]<0&&(s[18]+=65536),(b<g||-1==g)&&(Xh(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function Xh(s,o,u,d){const h=u[d]<0,g=u[d+1],b=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Vo{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Xl(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],_=u[d++],b=u[d++];s.setAttribute(o,_,b,g)}else{const g=h,_=u[++d];Sd(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),d++}}return d}function Fu(s){return 3===s||4===s||6===s}function Sd(s){return 64===s.charCodeAt(0)}function Bo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||tf(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function tf(s,o,u,d,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function ec(s){return-1!==s}function Fa(s){return 32767&s}function ts(s,o){let u=function nf(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let Fs=!0;function li(s){const o=Fs;return Fs=s,o}let La=0;const Bi={};function jo(s,o){const u=ho(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Va(d.data,s),Va(o,null),Va(d.blueprint,null));const h=Ua(s,o),g=s.injectorIndex;if(ec(h)){const _=Fa(h),b=ts(h,o),I=b[1].data;for(let A=0;A<8;A++)o[g+A]=b[_+A]|I[_+A]}return o[g+8]=h,g}function Va(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ho(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ua(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=ic(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Vs(s,o,u){!function Vu(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(vn)&&(d=u[vn]),null==d&&(d=u[vn]=La++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function nc(s,o,u){if(u&ct.Optional||void 0!==s)return s;Ie()}function rf(s,o,u,d){if(u&ct.Optional&&void 0===d&&(d=null),0==(u&(ct.Self|ct.Host))){const h=s[9],g=zn(void 0);try{return h?h.get(o,d,u&ct.Optional):Fi(o,d,u&ct.Optional)}finally{zn(g)}}return nc(d,0,u)}function $o(s,o,u,d=ct.Default,h){if(null!==s){if(1024&o[2]){const _=function rc(s,o,u,d,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=ja(g,_,u,d|ct.Self,Bi);if(b!==Bi)return b;let I=g.parent;if(!I){const A=_[21];if(A){const P=A.get(u,Bi,d);if(P!==Bi)return P}I=ic(_),_=_[15]}g=I}return h}(s,o,u,d,Bi);if(_!==Bi)return _}const g=ja(s,o,u,d,Bi);if(g!==Bi)return g}return rf(o,u,d,h)}function ja(s,o,u,d,h){const g=function Xp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(vn)?s[vn]:void 0;return"number"==typeof o?o>=0?255&o:rr:o}(u);if("function"==typeof g){if(!Kl(o,s,d))return d&ct.Host?nc(h,0,d):rf(o,u,d,h);try{const _=g(d);if(null!=_||d&ct.Optional)return _;Ie()}finally{Cd()}}else if("number"==typeof g){let _=null,b=ho(s,o),I=-1,A=d&ct.Host?o[16][6]:null;for((-1===b||d&ct.SkipSelf)&&(I=-1===b?Ua(s,o):o[b+8],-1!==I&&Bs(d,!1)?(_=o[1],b=Fa(I),o=ts(I,o)):b=-1);-1!==b;){const P=o[1];if(sf(g,b,P.data)){const U=xd(b,o,u,_,d,A);if(U!==Bi)return U}I=o[b+8],-1!==I&&Bs(d,o[1].data[b+8]===A)&&sf(g,b,o)?(_=P,b=Fa(I),o=ts(I,o)):b=-1}}return h}function xd(s,o,u,d,h,g){const _=o[1],b=_.data[s+8],P=Ho(b,_,u,null==d?ps(b)&&Fs:d!=_&&0!=(3&b.type),h&ct.Host&&g===b);return null!==P?Us(o,_,P,b):Bi}function Ho(s,o,u,d,h){const g=s.providerIndexes,_=o.data,b=1048575&g,I=s.directiveStart,P=g>>20,Z=h?b+P:s.directiveEnd;for(let te=d?b:b+P;te<Z;te++){const Te=_[te];if(te<I&&u===Te||te>=I&&Te.type===u)return te}if(h){const te=_[I];if(te&&Ci(te)&&te.type===u)return I}return null}function Us(s,o,u,d){let h=s[u];const g=o.data;if(function Td(s){return s instanceof Vo}(h)){const _=h;_.resolving&&function _t(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${u}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(g[u]));const b=li(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?zn(_.injectImpl):null;Kl(s,d,ct.Default);try{h=s[u]=_.factory(void 0,g,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Oa(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const _=Eu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==I&&zn(I),li(b),_.resolving=!1,Cd()}}return h}function sf(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Bs(s,o){return!(s&ct.Self||s&ct.Host&&o)}class zo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return $o(this._tNode,this._lView,o,d,u)}}function rr(){return new zo(Wn(),Re())}function $a(s){return Pn(()=>{const o=s.prototype.constructor,u=o[Bn]||Ha(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Bn]||Ha(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ha(s){return $e(s)?()=>{const o=Ha(J(s));return o&&o()}:io(s)}function ic(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Md(s){return function Ba(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Fu(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(Wn(),s)}const kn="__parameters__";function Ti(s,o,u){return Pn(()=>{const d=function Uu(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(I,A,P){const U=I.hasOwnProperty(kn)?I[kn]:Object.defineProperty(I,kn,{value:[]})[kn];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(_),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Me({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),Tr(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(u=>Array.isArray(u)?ji(u,o):o(u))}function oc(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Ga(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ci(s,o,u){let d=fo(s,o);return d>=0?s[1|d]=u:(d=~d,function ng(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Gu(s,o){const u=fo(s,o);if(u>=0)return s[1|u]}function fo(s,o){return function uc(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),_=s[g<<u];if(o===_)return g<<u;_>o?h=g:d=g+1}return~(h<<u)}(s,o,1)}const di={},Wa="__NG_DI_FLAG__",hi="ngTempTokenPath",Vd=/\n/gm,_s="__source";let Zn;function pt(s){const o=Zn;return Zn=s,o}function Za(s,o=ct.Default){if(void 0===Zn)throw new De(-203,!1);return null===Zn?Fi(s,void 0,o):Zn.get(s,o&ct.Optional?null:void 0,o)}function or(s,o=ct.Default){return(function Jn(){return mr}()||Za)(J(s),o)}function dc(s,o=ct.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),or(s,o)}function Wu(s){const o=[];for(let u=0;u<s.length;u++){const d=J(s[u]);if(Array.isArray(d)){if(0===d.length)throw new De(900,!1);let h,g=ct.Default;for(let _=0;_<d.length;_++){const b=d[_],I=po(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}o.push(or(h,g))}else o.push(or(d))}return o}function js(s,o){return s[Wa]=o,s.prototype[Wa]=o,s}function po(s){return s[Wa]}const vs=js(Ti("Optional"),8),Wo=js(Ti("SkipSelf"),4);var Xr=(()=>((Xr=Xr||{})[Xr.Important=1]="Important",Xr[Xr.DashCase=2]="DashCase",Xr))();const x=new Map;let L=0;const Pr="__ngContext__";function dn(s,o){br(o)?(s[Pr]=o[20],function X(s){x.set(s[20],s)}(o)):s[Pr]=o}function $d(s,o){return undefined(s,o)}function zd(s){const o=s[3];return Hr(o)?o[3]:o}function Tc(s){return p(s[13])}function v(s){return p(s[4])}function p(s){for(;null!==s&&!Hr(s);)s=s[4];return s}function C(s,o,u,d,h){if(null!=d){let g,_=!1;Hr(d)?g=d:br(d)&&(_=!0,d=d[0]);const b=Cn(d);0===s&&null!==u?null==h?Xa(o,u,b):_o(o,u,b,h||null,!0):1===s&&null!==u?_o(o,u,b,h||null,!0):2===s?function hg(s,o,u){const d=nl(s,o);d&&function qd(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}(o,b,_):3===s&&o.destroyNode(b),null!=g&&function GT(s,o,u,d,h){const g=u[7];g!==Cn(u)&&C(o,s,d,g,h);for(let b=10;b<u.length;b++){const I=u[b];eu(I[1],I,s,o,d,g)}}(o,s,g,u,h)}}function de(s,o,u){return s.createElement(o,u)}function el(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Fo(h,-1)),u.splice(d,1)}function mf(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&el(h,d),o>0&&(s[u-1][4]=d[4]);const g=Ga(s,10+o);!function He(s,o){eu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const _=g[19];null!==_&&_.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function tl(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&eu(s,o,u,3,null,null),function an(s){let o=s[13];if(!o)return Gd(s[1],s);for(;o;){let u=null;if(br(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)br(o)&&Gd(o[1],o),o=o[3];null===o&&(o=s),br(o)&&Gd(o[1],o),u=o&&o[4]}o=u}}(o)}}function Gd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Dc(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Vo)){const g=u[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],I=g[_+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function yf(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],b="function"==typeof _?_(o):Cn(o[_]),I=d[h=u[g+2]],A=u[g+3];"boolean"==typeof A?b.removeEventListener(u[g],I,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const _=d[h=u[g+1]];u[g].call(_)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Hr(o[3])){u!==o[3]&&el(u,o);const d=o[19];null!==d&&d.detachView(s)}!function Ye(s){x.delete(s[20])}(o)}}function _f(s,o,u){return function cg(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Ct.None||h===Ct.Emulated)return null}return si(d,u)}(s,o.parent,u)}function _o(s,o,u,d,h){s.insertBefore(o,u,d,h)}function Xa(s,o,u){s.appendChild(o,u)}function Ac(s,o,u,d,h){null!==d?_o(s,o,u,d,h):Xa(s,o,u)}function nl(s,o){return s.parentNode(o)}let wf,il,pg,$T=function Py(s,o,u){return 40&s.type?si(s,u):null};function Ny(s,o,u,d){const h=_f(s,d,o),g=o[11],b=function Mw(s,o,u){return $T(s,o,u)}(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Ac(g,h,u[I],b,!1);else Ac(g,h,u,b,!1)}function dg(s,o){if(null!==o){const u=o.type;if(3&u)return si(o,s);if(4&u)return ky(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return dg(s,d);{const h=s[o.index];return Hr(h)?ky(-1,h):Cn(h)}}if(32&u)return $d(o,s)()||Cn(s[o.index]);{const d=Oy(s,o);return null!==d?Array.isArray(d)?d[0]:dg(zd(s[16]),d):dg(s,o.next)}}return null}function Oy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ky(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return dg(d,h)}return o[7]}function vf(s,o,u,d,h,g,_){for(;null!=u;){const b=d[u.index],I=u.type;if(_&&0===o&&(b&&dn(Cn(b),d),u.flags|=4),64!=(64&u.flags))if(8&I)vf(s,o,u.child,d,h,g,!1),C(o,s,h,b,g);else if(32&I){const A=$d(u,d);let P;for(;P=A();)C(o,s,h,P,g);C(o,s,h,b,g)}else 16&I?Fy(s,o,d,u,h,g):C(o,s,h,b,g);u=_?u.projectionNext:u.next}}function eu(s,o,u,d,h,g){vf(u,d,s.firstChild,o,h,g,!1)}function Fy(s,o,u,d,h,g){const _=u[16],I=_[6].projection[d.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)C(o,s,h,I[A],g);else vf(s,o,I,_[3],h,g,!0)}function Ly(s,o,u){s.setAttribute(o,"style",u)}function Vy(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function rl(s){return function Uy(){if(void 0===wf&&(wf=null,tn.trustedTypes))try{wf=tn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return wf}()?.createHTML(s)||s}function KT(s){il=s}function jy(s){return function Ef(){if(void 0===pg&&(pg=null,tn.trustedTypes))try{pg=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return pg}()?.createHTML(s)||s}class Sc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nw extends Sc{getTypeName(){return"HTML"}}class YT extends Sc{getTypeName(){return"Style"}}class $y extends Sc{getTypeName(){return"Script"}}class QT extends Sc{getTypeName(){return"URL"}}class JT extends Sc{getTypeName(){return"ResourceURL"}}function sa(s){return s instanceof Sc?s.changingThisBreaksApplicationSecurity:s}function Zd(s,o){const u=function XR(s){return s instanceof Sc&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Hy(s){return new Nw(s)}function XT(s){return new YT(s)}function Ow(s){return new $y(s)}function kw(s){return new QT(s)}function xc(s){return new JT(s)}class Lw{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(rl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class eD{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=rl(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=rl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const tD=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gg(s){return(s=String(s)).match(tD)?s:"unsafe:"+s}function Hs(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Kd(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const Uw=Hs("area,br,col,hr,img,wbr"),zy=Hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bw=Hs("rp,rt"),Gy=Kd(Uw,Kd(zy,Hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kd(Bw,Hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kd(Bw,zy)),mg=Hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iD=Kd(mg,Hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jw=Hs("script,style,template");class sD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Gy.hasOwnProperty(u))return this.sanitizedSomething=!0,!jw.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),_=g.name,b=_.toLowerCase();if(!iD.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=g.value;mg[b]&&(I=gg(I)),this.buf.push(" ",_,'="',oD(I),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Gy.hasOwnProperty(u)&&!Uw.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(oD(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const $w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hw=/([^\#-~ |!])/g;function oD(s){return s.replace(/&/g,"&amp;").replace($w,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Hw,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qy;function Wy(s,o){let u=null;try{qy=qy||function Fw(s){const o=new eD(s);return function Vw(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch{return!1}}()?new Lw(o):o}(s);let d=o?String(o):"";u=qy.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=qy.getInertBodyElement(d)}while(d!==g);return rl((new sD).sanitizeChildren(Cf(u)||u))}finally{if(u){const d=Cf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Cf(s){return"content"in s&&function tP(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function aD(s){const o=Yd();return o?jy(o.sanitize(Or.HTML,s)||""):Zd(s,"HTML")?jy(sa(s)):Wy(function fg(){return void 0!==il?il:typeof document<"u"?document:void 0}(),Ee(s))}function Zy(s){const o=Yd();return o?o.sanitize(Or.URL,s)||"":Zd(s,"URL")?sa(s):gg(Ee(s))}function Yd(){const s=Re();return s&&s[12]}const Zw=new pn("ENVIRONMENT_INITIALIZER"),lD=new pn("INJECTOR",-1),cD=new pn("INJECTOR_DEF_TYPES");class dD{get(o,u=di){if(u===di){const d=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw d.name="NullInjectorError",d}return u}}function rP(...s){return{\u0275providers:Ky(0,s)}}function Ky(s,...o){const u=[],d=new Set;let h;return ji(o,g=>{const _=g;yg(_,u,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&Qd(h,u),u}function Qd(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];ji(h,g=>{o.push(g)})}}function yg(s,o,u,d){if(!(s=J(s)))return!1;let h=null,g=Qn(s);const _=!g&&O(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const I=s.ngModule;if(g=Qn(I),!g)return!1;h=I}const b=d.has(h);if(_){if(b)return!1;if(d.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of I)yg(A,o,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let A;d.add(h);try{ji(g.imports,P=>{yg(P,o,u,d)&&(A||(A=[]),A.push(P))})}finally{}void 0!==A&&Qd(A,o)}if(!b){const A=io(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:St},{provide:cD,useValue:h,multi:!0},{provide:Zw,useValue:()=>or(h),multi:!0})}const I=g.providers;null==I||b||ji(I,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}const iP=me({provide:String,useValue:me});function _g(s){return null!==s&&"object"==typeof s&&iP in s}function Mc(s){return"function"==typeof s}const Yy=new pn("Set Injector scope."),vg={},fD={};let Qy;function wg(){return void 0===Qy&&(Qy=new dD),Qy}class Rc{}class pD extends Rc{constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xy(o,_=>this.processProvider(_)),this.records.set(lD,Jd(void 0,this)),h.has("environment")&&this.records.set(Rc,Jd(void 0,this));const g=this.records.get(Yy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cD.multi,St,ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=pt(this),d=zn(void 0);try{return o()}finally{pt(u),zn(d)}}get(o,u=di,d=ct.Default){this.assertNotDestroyed();const h=pt(this),g=zn(void 0);try{if(!(d&ct.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function vD(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&Xt(o);b=I&&this.injectableDefInScope(I)?Jd(Jy(o),vg):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(d&ct.Self?wg():this.parent).get(o,u=d&ct.Optional&&u===di?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[hi]=_[hi]||[]).unshift(ve(o)),h)throw _;return function Mr(s,o,u,d){const h=s[hi];throw o[_s]&&h.unshift(o[_s]),s.message=function sg(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ve(o);if(Array.isArray(o))h=o.map(ve).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):ve(b)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Vd,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[hi]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{zn(g),pt(h)}}resolveInjectorInitializers(){const o=pt(this),u=zn(void 0);try{const d=this.get(Zw.multi,St,ct.Self);for(const h of d)h()}finally{pt(o),zn(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(ve(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let u=Mc(o=J(o))?o:J(o&&o.provide);const d=function mD(s){return _g(s)?Jd(void 0,s.useValue):Jd(Jw(s),vg)}(o);if(Mc(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Jd(void 0,vg,!0),h.factory=()=>Wu(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===vg&&(u.value=fD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _D(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=J(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Jy(s){const o=Xt(s),u=null!==o?o.factory:io(s);if(null!==u)return u;if(s instanceof pn)throw new De(204,!1);if(s instanceof Function)return function gD(s){const o=s.length;if(o>0)throw function zu(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}(o,"?"),new De(204,!1);const u=function Mn(s){const o=s&&(s[An]||s[gr]);if(o){const u=function hn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new De(204,!1)}function Jw(s,o,u){let d;if(Mc(s)){const h=J(s);return io(h)||Jy(h)}if(_g(s))d=()=>J(s.useValue);else if(function Qw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Wu(s.deps||[]));else if(function Yw(s){return!(!s||!s.useExisting)}(s))d=()=>or(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function yD(s){return!!s.deps}(s))return io(h)||Jy(h);d=()=>new h(...Wu(s.deps))}return d}function Jd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function wD(s){return!!s.\u0275providers}function Xy(s,o){for(const u of s)Array.isArray(u)?Xy(u,o):wD(u)?Xy(u.\u0275providers,o):o(u)}class Xw{}class bD{resolveComponentFactory(o){throw function CD(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let If=(()=>{class s{}return s.NULL=new bD,s})();function ID(){return Xd(Wn(),Re())}function Xd(s,o){return new Tf(si(s,o))}let Tf=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=ID,s})();function TD(s){return s instanceof Tf?s.nativeElement:s}class DD{}let AD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function SD(){const s=Re(),u=Sr(Wn().index,s);return(br(u)?u:s)[11]}(),s})(),xD=(()=>{class s{}return s.\u0275prov=Me({token:s,providedIn:"root",factory:()=>null}),s})();class Eg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const tu=new Eg("14.3.0"),Cg={};function Af(s){return s.ngOriginalError}class pi{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Af(o);for(;u&&Af(u);)u=Af(u);return u||null}}function aa(s){return s instanceof Function?s():s}function i_(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const sE="ng-template";function oE(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==i_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function aE(s){return 4===s.type&&s.value!==sE}function s_(s,o,u){return o===(4!==s.type||u?s.value:sE)}function bg(s,o,u){let d=4;const h=s.attrs||[],g=function nu(s){for(let o=0;o<s.length;o++)if(Fu(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!_)if(4&d){if(d=2|1&d,""!==I&&!s_(s,I,u)||""===I&&1===o.length){if(ss(d))return!1;_=!0}}else{const A=8&d?I:o[++b];if(8&d&&null!==s.attrs){if(!oE(s.attrs,A,u)){if(ss(d))return!1;_=!0}continue}const U=Ig(8&d?"class":I,h,aE(s),u);if(-1===U){if(ss(d))return!1;_=!0;continue}if(""!==A){let Z;Z=U>g?"":h[U+1].toLowerCase();const te=8&d?Z:null;if(te&&-1!==i_(te,A,0)||2&d&&A!==Z){if(ss(d))return!1;_=!0}}}}else{if(!_&&!ss(d)&&!ss(I))return!1;if(_&&ss(I))continue;_=!1,d=I|1&d}}return ss(d)||_}function ss(s){return 0==(1&s)}function Ig(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function u_(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function o_(s,o,u=!1){for(let d=0;d<o.length;d++)if(bg(s,o[d],u))return!0;return!1}function uE(s,o){return s?":not("+o.trim()+")":o}function Sf(s){let o=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&d){const b=s[++u];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!ss(_)&&(o+=uE(g,h),h=""),d=_,g=g||!ss(d);u++}return""!==h&&(o+=uE(g,h)),o}const Wt={};function ru(s){l_(Jt(),Re(),cn()+s,!1)}function l_(s,o,u,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&lo(o,g,u)}else{const g=s.preOrderHooks;null!==g&&Nu(o,g,0,u)}uo(u)}function dE(s,o=null,u=null,d){const h=Ag(s,o,u,d);return h.resolveInjectorInitializers(),h}function Ag(s,o=null,u=null,d,h=new Set){const g=[u||St,rP(s)];return d=d||("object"==typeof s?void 0:ve(s)),new pD(g,o||wg(),d||null,h)}let Nc=(()=>{class s{static create(u,d){if(Array.isArray(u))return dE({name:""},d,u,"");{const h=u.name??"";return dE({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=di,s.NULL=new dD,s.\u0275prov=Me({token:s,providedIn:"any",factory:()=>or(lD)}),s.__NG_ELEMENT_ID__=-1,s})();function ou(s,o=ct.Default){const u=Re();return null===u?or(s,o):$o(Wn(),u,J(s),o)}function CE(){throw new Error("invalid")}function Mg(s,o){return s<<17|o<<2}function vo(s){return s>>17&32767}function v_(s){return 2|s}function Gs(s){return(131068&s)>>2}function Rf(s,o){return-131069&s|o<<2}function w_(s){return 1|s}function Cs(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],g=u[d+1];if(-1!==g){const _=s.data[g];Jr(h),_.contentQueries(2,o[g],g)}}}function Og(s,o,u,d,h,g,_,b,I,A,P){const U=o.blueprint.slice();return U[0]=h,U[2]=76|d,(null!==P||s&&1024&s[2])&&(U[2]|=1024),Ir(U),U[3]=U[15]=s,U[8]=u,U[10]=_||s&&s[10],U[11]=b||s&&s[11],U[12]=I||s&&s[12]||null,U[9]=A||s&&s[9]||null,U[6]=g,U[20]=function W(){return L++}(),U[21]=P,U[16]=2==o.type?s[16]:U,U}function Oc(s,o,u,d,h){let g=s.data[o];if(null===g)g=function A_(s,o,u,d,h){const g=Sa(),_=xa(),I=s.data[o]=function UE(s,o,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(_?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,u,d,h),function Ma(){return Pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const _=function Os(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Ii(g,!0),g}function kc(s,o,u,d){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function rh(s,o,u){ao(o);try{const d=s.viewQuery;null!==d&&kr(1,d,u);const h=s.template;null!==h&&FE(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Cs(s,o),s.staticViewQueries&&kr(2,s.viewQuery,u);const g=s.components;null!==g&&function WD(s,o){for(let u=0;u<o.length;u++)Uf(s,o[u])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ks()}}function kg(s,o,u,d){const h=o[2];if(128!=(128&h)){ao(o);try{Ir(o),function ai(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&FE(s,o,u,2,d);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&lo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Nu(o,A,0,null),Ou(o,0)}if(function qE(s){for(let o=Tc(s);null!==o;o=v(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],g=h[3];0==(512&h[2])&&Fo(g,1),h[2]|=512}}}(o),function R_(s){for(let o=Tc(s);null!==o;o=v(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];bu(d)&&kg(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Cs(s,o),_){const A=s.contentCheckHooks;null!==A&&lo(o,A)}else{const A=s.contentHooks;null!==A&&Nu(o,A,1),Ou(o,1)}!function kE(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)uo(~h);else{const g=h,_=u[++d],b=u[++d];Ed(_,g),b(2,o[g])}}}finally{uo(-1)}}(s,o);const b=s.components;null!==b&&function nh(s,o){for(let u=0;u<o.length;u++)tA(s,o[u])}(o,b);const I=s.viewQuery;if(null!==I&&kr(2,I,d),_){const A=s.viewCheckHooks;null!==A&&lo(o,A)}else{const A=s.viewHooks;null!==A&&Nu(o,A,2),Ou(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Fo(o[3],-1))}finally{ks()}}}function FE(s,o,u,d,h){const g=cn(),_=2&d;try{uo(-1),_&&o.length>22&&l_(s,o,22,!1),u(d,h)}finally{uo(g)}}function Fg(s,o,u){if(Ca(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}function S_(s,o,u){!Tu()||(function JD(s,o,u,d){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||jo(u,o),dn(d,o);const _=u.initialInputs;for(let b=h;b<g;b++){const I=s.data[b],A=Ci(I);A&&Lf(o,u,I);const P=Us(o,s,b,u);dn(P,o),null!==_&&eA(0,b-h,P,I,0,_),A&&(Sr(u.index,o)[8]=P)}}(s,o,u,si(u,o)),128==(128&u.flags)&&function IP(s,o,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,_=function xu(){return Pt.lFrame.currentDirectiveIndex}();try{uo(g);for(let b=d;b<h;b++){const I=s.data[b],A=o[b];Ra(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&XD(I,A)}}finally{uo(-1),Ra(_)}}(s,o,u))}function Lg(s,o,u=si){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],b=-1===_?u(o,s):s[_];s[h++]=b}}}function LE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=x_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function x_(s,o,u,d,h,g,_,b,I,A){const P=22+d,U=P+h,Z=function ZD(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Wt);return u}(P,U),te="function"==typeof A?A():A;return Z[1]={type:s,blueprint:Z,template:u,queries:null,viewQuery:b,declTNode:o,data:Z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:te,incompleteFirstPass:!1}}function kf(s,o,u,d){const h=jf(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Ws(s).push(d,h.length-1))}function BE(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function M_(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,_=[];let b=null,I=null;for(let A=o.directiveStart;A<d;A++){const P=h[A],U=P.inputs,Z=null===g||aE(o)?null:zE(U,g);_.push(Z),b=BE(U,A,b),I=BE(P.outputs,A,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=I}function bs(s,o,u,d,h,g,_,b){const I=si(o,u);let P,A=o.inputs;!b&&null!=A&&(P=A[d])?(Hg(s,u,P,d,h),ps(o)&&jE(u,o.index)):3&o.type&&(d=function KD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=_?_(h,o.value||"",d):h,g.setProperty(I,d,h))}function jE(s,o){const u=Sr(o,s);16&u[2]||(u[2]|=32)}function Vg(s,o,u,d){let h=!1;if(Tu()){const g=function TP(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const _=d[g];o_(u,_.selectors,!1)&&(h||(h=[]),Vs(jo(u,o),s,_.type),Ci(_)?(bt(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===d?null:{"":-1};if(null!==g){h=!0,HE(u,s.data.length,g.length);for(let P=0;P<g.length;P++){const U=g[P];U.providersResolver&&U.providersResolver(U)}let b=!1,I=!1,A=kc(s,o,g.length,null);for(let P=0;P<g.length;P++){const U=g[P];u.mergedAttrs=Bo(u.mergedAttrs,U.hostAttrs),Ff(s,u,o,A,U),Eo(A,U,_),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const Z=U.type.prototype;!b&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),b=!0),!I&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),A++}M_(s,u)}_&&function Ai(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new De(-301,!1);d.push(o[h],g)}}}(u,d,_)}return u.mergedAttrs=Bo(u.mergedAttrs,u.attrs),h}function Ug(s,o,u,d,h,g){const _=g.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function $E(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(b)!=I&&b.push(I),b.push(d,h,_)}}function XD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function bt(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Eo(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;Ci(o)&&(u[""]=s)}}function HE(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Ff(s,o,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=io(h.type)),_=new Vo(g,Ci(h),ou);s.blueprint[d]=_,u[d]=_,Ug(s,o,0,d,kc(s,u,h.hostVars,Wt),h)}function Lf(s,o,u){const d=si(o,s),h=LE(u),g=s[10],_=Bf(s,Og(s,h,null,u.onPush?32:16,d,o,g,g.createRenderer(d,u),null,null,null));s[o.index]=_}function la(s,o,u,d,h,g){const _=si(s,o);!function Bg(s,o,u,d,h,g,_){if(null==g)s.removeAttribute(o,h,u);else{const b=null==_?Ee(g):_(g,d||"",h);s.setAttribute(o,h,b,u)}}(o[11],_,g,s.value,u,d,h)}function eA(s,o,u,d,h,g){const _=g[o];if(null!==_){const b=d.setInput;for(let I=0;I<_.length;){const A=_[I++],P=_[I++],U=_[I++];null!==b?d.setInput(u,U,A,P):u[P]=U}}}function zE(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function GE(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function tA(s,o){const u=Sr(o,s);if(bu(u)){const d=u[1];48&u[2]?kg(d,u,d.template,u[8]):u[5]>0&&Vf(u)}}function Vf(s){for(let d=Tc(s);null!==d;d=v(d))for(let h=10;h<d.length;h++){const g=d[h];if(bu(g))if(512&g[2]){const _=g[1];kg(_,g,_.template,g[8])}else g[5]>0&&Vf(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Sr(u[d],s);bu(h)&&h[5]>0&&Vf(h)}}function Uf(s,o){const u=Sr(o,s),d=u[1];(function Fc(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),rh(d,u,u[8])}function Bf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function gi(s){for(;s;){s[2]|=32;const o=zd(s);if(Ia(s)&&!o)return s;s=o}return null}function ih(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{kg(s,o,s.template,u)}catch(_){throw d&&$f(o,_),_}finally{h.end&&h.end()}}function kr(s,o,u){Jr(0),o(s,u)}function jf(s){return s[7]||(s[7]=[])}function Ws(s){return s.cleanup||(s.cleanup=[])}function $f(s,o){const u=s[9],d=u?u.get(pi,null):null;d&&d.handleError(o)}function Hg(s,o,u,d,h){for(let g=0;g<u.length;){const _=u[g++],b=u[g++],I=o[_],A=s.data[_];null!==A.setInput?A.setInput(I,h,d,b):I[b]=h}}function au(s,o,u){const d=so(o,s);!function N(s,o,u){s.setValue(o,u)}(s[11],d,u)}function Zs(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?h=we(h,b):2==g&&(d=we(d,b+": "+o[++_]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function ca(s,o,u,d,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&d.push(Cn(g)),Hr(g))for(let b=10;b<g.length;b++){const I=g[b],A=I[1].firstChild;null!==A&&ca(I[1],I,A,d)}const _=u.type;if(8&_)ca(s,o,u.child,d);else if(32&_){const b=$d(u,o);let I;for(;I=b();)d.push(I)}else if(16&_){const b=Oy(o,u);if(Array.isArray(b))d.push(...b);else{const I=zd(o[16]);ca(I[1],I,b,d,!0)}}u=h?u.projectionNext:u.next}return d}class Fr{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return ca(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Hr(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(mf(o,d),Ga(u,d))}this._attachedToViewContainer=!1}tl(this._lView[1],this._lView)}onDestroy(o){kf(this._lView[1],this._lView,null,o)}markForCheck(){gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ih(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vt(s,o){eu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class ol extends Fr{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ih(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class P_ extends If{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=O(o);return new Hf(u,this.ngModule)}}function sh(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class WE{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){const h=this.injector.get(o,Cg,d);return h!==Cg||u===Cg?h:this.parentInjector.get(o,u,d)}}class Hf extends Xw{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function lE(s){return s.map(Sf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return sh(this.componentDef.inputs)}get outputs(){return sh(this.componentDef.outputs)}create(o,u,d,h){let g=(h=h||this.ngModule)instanceof Rc?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new WE(o,g):o,b=_.get(DD,null);if(null===b)throw new De(407,!1);const I=_.get(xD,null),A=b.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=d?function VE(s,o,u){return s.selectRootElement(o,u===Ct.ShadowDom)}(A,d,this.componentDef.encapsulation):de(A,P,function N_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),Z=this.componentDef.onPush?288:272,te=x_(0,null,null,1,0,null,null,null,null,null),Te=Og(null,te,null,Z,null,null,b,A,I,_,null);let je,Je;ao(Te);try{const ot=function iA(s,o,u,d,h,g){const _=u[1];u[22]=s;const I=Oc(_,22,2,"#host",null),A=I.mergedAttrs=o.hostAttrs;null!==A&&(Zs(I,A,!0),null!==s&&(Xl(h,s,A),null!==I.classes&&Vy(h,s,I.classes),null!==I.styles&&Ly(h,s,I.styles)));const P=d.createRenderer(s,o),U=Og(u,LE(o),null,o.onPush?32:16,u[22],I,d,P,g||null,null,null);return _.firstCreatePass&&(Vs(jo(I,u),_,o.type),bt(_,I),HE(I,u.length,1)),Bf(u,U),u[22]=U}(U,this.componentDef,Te,b,A);if(U)if(d)Xl(A,U,["ng-version",tu.full]);else{const{attrs:Mt,classes:ke}=function ND(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&u.push(g);else{if(!ss(h))break;h=g}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Mt&&Xl(A,U,Mt),ke&&ke.length>0&&Vy(A,U,ke.join(" "))}if(Je=$l(te,22),void 0!==u){const Mt=Je.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Vt=u[ke];Mt.push(null!=Vt?Array.from(Vt):null)}}je=function oh(s,o,u,d){const h=u[1],g=function QD(s,o,u){const d=Wn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Ff(s,d,o,kc(s,o,1,null),u),M_(s,d));const h=Us(o,s,d.directiveStart,d);dn(h,o);const g=si(d,o);return g&&dn(g,o),h}(h,u,o);if(s[8]=u[8]=g,null!==d)for(const b of d)b(g,o);if(o.contentQueries){const b=Wn();o.contentQueries(1,g,b.directiveStart)}const _=Wn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(uo(_.index),Ug(u[1],_,0,_.directiveStart,_.directiveEnd,o),XD(o,g)),g}(ot,this.componentDef,Te,[sA]),rh(te,Te,null)}finally{ks()}return new un(this.componentType,je,Xd(Je,Te),Te,Je)}}class un extends class ED{}{constructor(o,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new ol(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Hg(g[1],g,h,o,u),jE(g,this._tNode.index)}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function sA(){const s=Wn();ka(Re()[1],s)}function Ks(s){let o=function KE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(Ci(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const _=s;_.inputs=Gg(s.inputs),_.declaredInputs=Gg(s.declaredInputs),_.outputs=Gg(s.outputs);const b=h.hostBindings;b&&mi(s,b);const I=h.viewQuery,A=h.contentQueries;if(I&&QE(s,I),A&&DP(s,A),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Ci(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(s),b===Ks&&(u=!1)}}o=Object.getPrototypeOf(o)}!function YE(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Bo(h.hostAttrs,u=Bo(u,h.hostAttrs))}}(d)}function Gg(s){return s===nr?{}:s===St?[]:s}function QE(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function DP(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{o(d,h,g),u(d,h,g)}:o}function mi(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let qg=null;function ul(){if(!qg){const s=tn.Symbol;if(s&&s.iterator)qg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(qg=d)}}}return qg}function zf(s){return!!Wg(s)&&(Array.isArray(s)||!(s instanceof Map)&&ul()in s)}function Wg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ot(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function k_(s,o,u,d){const h=Re();return Ot(h,oo(),o)&&(Jt(),la(Dn(),h,s,o,u,d)),k_}function ah(s,o,u,d,h,g){const b=function bo(s,o,u,d){const h=Ot(s,o,u);return Ot(s,o+1,d)||h}(s,function zr(){return Pt.lFrame.bindingIndex}(),u,h);return ui(2),b?o+Ee(u)+d+Ee(h)+g:Wt}function sC(s,o,u,d,h,g,_,b){const I=Re(),A=Jt(),P=s+22,U=A.firstCreatePass?function cA(s,o,u,d,h,g,_,b,I){const A=o.consts,P=Oc(o,s,4,_||null,bi(A,b));Vg(o,u,P,bi(A,I)),ka(o,P);const U=P.tViews=x_(2,P,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,P),U.queries=o.queries.embeddedTView(P)),P}(P,A,I,o,u,d,h,g,_):A.data[P];Ii(U,!1);const Z=I[11].createComment("");Ny(A,I,Z,U),dn(Z,I),Bf(I,I[P]=GE(Z,I,Z,U)),ba(U)&&S_(A,I,U),null!=_&&Lg(I,U,b)}function Wf(s){return function Vi(s,o){return s[o]}(function On(){return Pt.lFrame.contextLView}(),22+s)}function U_(s,o,u){const d=Re();return Ot(d,oo(),o)&&bs(Jt(),Dn(),d,s,o,d[11],u,!1),U_}function cu(s,o,u,d,h){const _=h?"class":"style";Hg(s,u,o.inputs[_],_,d)}function j_(s,o,u,d){const h=Re(),g=Jt(),_=22+s,b=h[11],I=h[_]=de(b,o,function Id(){return Pt.lFrame.currentNamespace}()),A=g.firstCreatePass?function B_(s,o,u,d,h,g,_){const b=o.consts,A=Oc(o,s,2,h,bi(b,g));return Vg(o,u,A,bi(b,_)),null!==A.attrs&&Zs(A,A.attrs,!1),null!==A.mergedAttrs&&Zs(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,g,h,0,o,u,d):g.data[_];Ii(A,!0);const P=A.mergedAttrs;null!==P&&Xl(b,I,P);const U=A.classes;null!==U&&Vy(b,I,U);const Z=A.styles;return null!==Z&&Ly(b,I,Z),64!=(64&A.flags)&&Ny(g,h,I,A),0===function Gl(){return Pt.lFrame.elementDepthCount}()&&dn(I,h),function _d(){Pt.lFrame.elementDepthCount++}(),ba(A)&&(S_(g,h,A),Fg(g,A,h)),null!==d&&Lg(h,A),j_}function Kg(){let s=Wn();xa()?Su():(s=s.parent,Ii(s,!1));const o=s;!function Qh(){Pt.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(ka(u,s),Ca(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ad(s){return 0!=(16&s.flags)}(o)&&cu(u,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ef(s){return 0!=(32&s.flags)}(o)&&cu(u,o,Re(),o.stylesWithoutHost,!1),Kg}function $_(s,o,u,d){return j_(s,o,u,d),Kg(),$_}function dl(s,o,u){const d=Re(),h=Jt(),g=s+22,_=h.firstCreatePass?function dA(s,o,u,d,h){const g=o.consts,_=bi(g,d),b=Oc(o,s,8,"ng-container",_);return null!==_&&Zs(b,_,!0),Vg(o,u,b,bi(g,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,h,d,o,u):h.data[g];Ii(_,!0);const b=d[g]=d[11].createComment("");return Ny(h,d,b,_),dn(b,d),ba(_)&&(S_(h,d,_),Fg(h,_,d)),null!=u&&Lg(d,_),dl}function hl(){let s=Wn();const o=Jt();return xa()?Su():(s=s.parent,Ii(s,!1)),o.firstCreatePass&&(ka(o,s),Ca(s)&&o.queries.elementEnd(s)),hl}function H_(){return Re()}function Yg(s){return!!s&&"function"==typeof s.then}function z_(s){return!!s&&"function"==typeof s.subscribe}const Bc=z_;function G_(s,o,u,d){const h=Re(),g=Jt(),_=Wn();return function uC(s,o,u,d,h,g,_,b){const I=ba(d),P=s.firstCreatePass&&Ws(s),U=o[8],Z=jf(o);let te=!0;if(3&d.type||b){const Je=si(d,o),ot=b?b(Je):Je,Mt=Z.length,ke=b?In=>b(Cn(In[d.index])):d.index;let Vt=null;if(!b&&I&&(Vt=function aC(s,o,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===u&&h[g+1]===d){const b=o[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,d.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=g,Vt.__ngLastListenerFn__=g,te=!1;else{g=lh(d,o,U,g,!1);const In=u.listen(ot,h,g);Z.push(g,In),P&&P.push(h,ke,Mt,Mt+1)}}else g=lh(d,o,U,g,!1);const Te=d.outputs;let je;if(te&&null!==Te&&(je=Te[h])){const Je=je.length;if(Je)for(let ot=0;ot<Je;ot+=2){const Yn=o[je[ot]][je[ot+1]].subscribe(g),wl=Z.length;Z.push(g,Yn),P&&P.push(h,d.index,wl,-(wl+1))}}}(g,h,h[11],_,s,o,0,d),G_}function Qg(s,o,u,d){try{return!1!==u(d)}catch(h){return $f(s,h),!1}}function lh(s,o,u,d,h){return function g(_){if(_===Function)return d;gi(2&s.flags?Sr(s.index,o):o);let I=Qg(o,0,d,_),A=g.__ngNextListenerFn__;for(;A;)I=Qg(o,0,A,_)&&I,A=A.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function lC(s=1){return function bd(s){return(Pt.lFrame.contextLView=function Qp(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function gC(s,o,u,d,h){const g=s[u+1],_=null===o;let b=d?vo(g):Gs(g),I=!1;for(;0!==b&&(!1===I||_);){const P=s[b+1];gA(s[b],o)&&(I=!0,s[b+1]=d?w_(P):v_(P)),b=d?vo(P):Gs(P)}I&&(s[u+1]=d?v_(g):w_(g))}function gA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fo(s,o)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mC(s){return s.substring(Gr.key,Gr.keyEnd)}function K_(s,o){const u=Gr.textEnd;return u===o?-1:(o=Gr.keyEnd=function _C(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Gr.key=o,u),To(s,o,u))}function To(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function ch(s,o,u){return Do(s,o,u,!1),ch}function em(s,o){return Do(s,o,null,!0),em}function tm(s){!function zi(s,o,u,d){const h=Jt(),g=ui(2);h.firstUpdatePass&&bC(h,null,g,d);const _=Re();if(u!==Wt&&Ot(_,g,u)){const b=h.data[cn()];if(yA(b,d)&&!CC(h,g)){let I=d?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(u=we(I,u||"")),cu(h,b,_,u,d)}else!function X_(s,o,u,d,h,g,_,b){h===Wt&&(h=St);let I=0,A=0,P=0<h.length?h[0]:null,U=0<g.length?g[0]:null;for(;null!==P||null!==U;){const Z=I<h.length?h[I+1]:void 0,te=A<g.length?g[A+1]:void 0;let je,Te=null;P===U?(I+=2,A+=2,Z!==te&&(Te=U,je=te)):null===U||null!==P&&P<U?(I+=2,Te=P):(A+=2,Te=U,je=te),null!==Te&&AC(s,o,u,d,Te,je,_,b),P=I<h.length?h[I]:null,U=A<g.length?g[A]:null}}(h,b,_,_[11],_[g+1],_[g+1]=function Yf(s,o,u){if(null==u||""===u)return St;const d=[],h=sa(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,g)}}(ci,Qs,s,!0)}function Qs(s,o){for(let u=function mA(s){return function ha(s){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=s.length}(s),K_(s,To(s,0,Gr.textEnd))}(o);u>=0;u=K_(o,u))ci(s,mC(o),!0)}function Do(s,o,u,d){const h=Re(),g=Jt(),_=ui(2);g.firstUpdatePass&&bC(g,s,_,d),o!==Wt&&Ot(h,_,o)&&AC(g,g.data[cn()],h,h[11],s,h[_+1]=function xC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(sa(s)))),s}(o,u),d,_)}function CC(s,o){return o>=s.expandoStartIndex}function bC(s,o,u,d){const h=s.data;if(null===h[u+1]){const g=h[cn()],_=CC(s,u);yA(g,d)&&null===o&&!_&&(o=!1),o=function J_(s,o,u,d){const h=Zl(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Kf(u=nm(null,s,o,u,d),o.attrs,d),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=nm(h,s,o,u,d),null===g){let I=function IC(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Gs(d))return s[vo(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=nm(null,s,o,I[1],d),I=Kf(I,o.attrs,d),function TC(s,o,u,d){s[vo(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else g=function DC(s,o,u){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Kf(d,s[g].hostAttrs,u);return Kf(d,o.attrs,u)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,d),function fA(s,o,u,d,h,g){let _=g?o.classBindings:o.styleBindings,b=vo(_),I=Gs(_);s[d]=u;let P,A=!1;if(Array.isArray(u)){const U=u;P=U[1],(null===P||fo(U,P)>0)&&(A=!0)}else P=u;if(h)if(0!==I){const Z=vo(s[b+1]);s[d+1]=Mg(Z,b),0!==Z&&(s[Z+1]=Rf(s[Z+1],d)),s[b+1]=function __(s,o){return 131071&s|o<<17}(s[b+1],d)}else s[d+1]=Mg(b,0),0!==b&&(s[b+1]=Rf(s[b+1],d)),b=d;else s[d+1]=Mg(I,0),0===b?b=d:s[I+1]=Rf(s[I+1],d),I=d;A&&(s[d+1]=v_(s[d+1])),gC(s,P,d,!0),gC(s,P,d,!1),function pA(s,o,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&fo(g,o)>=0&&(u[d+1]=w_(u[d+1]))}(o,P,s,d,g),_=Mg(b,I),g?o.classBindings=_:o.styleBindings=_}(h,g,o,u,_,d)}}function nm(s,o,u,d,h){let g=null;const _=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<_&&(g=o[b],d=Kf(d,g.hostAttrs,h),g!==s);)b++;return null!==s&&(u.directiveStylingLast=b),d}function Kf(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ci(s,_,!!u||o[++g]))}return void 0===s?null:s}function AC(s,o,u,d,h,g,_,b){if(!(3&o.type))return;const I=s.data,A=I[b+1];dh(function Pf(s){return 1==(1&s)}(A)?SC(I,o,u,h,Gs(A),_):void 0)||(dh(g)||function IE(s){return 2==(2&s)}(A)&&(g=SC(I,null,u,h,b,_)),function JR(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Xr.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Xr.Important),s.setStyle(u,d,h,g))}}(d,_,so(cn(),u),h,g))}function SC(s,o,u,d,h,g){const _=null===o;let b;for(;h>0;){const I=s[h],A=Array.isArray(I),P=A?I[1]:I,U=null===P;let Z=u[h+1];Z===Wt&&(Z=U?St:void 0);let te=U?Gu(Z,d):P===d?Z:void 0;if(A&&!dh(te)&&(te=Gu(I,d)),dh(te)&&(b=te,_))return b;const Te=s[h+1];h=_?vo(Te):Gs(Te)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(b=Gu(I,d))}return b}function dh(s){return void 0!==s}function yA(s,o){return 0!=(s.flags&(o?16:32))}function _A(s,o=""){const u=Re(),d=Jt(),h=s+22,g=d.firstCreatePass?Oc(d,h,1,o,null):d.data[h],_=u[h]=function M(s,o){return s.createText(o)}(u[11],o);Ny(d,u,_,g),Ii(g,!1)}function MC(s){return ev("",s,""),MC}function ev(s,o,u){const d=Re(),h=function ll(s,o,u,d){return Ot(s,oo(),u)?o+Ee(u)+d:Wt}(d,s,o,u);return h!==Wt&&au(d,cn(),h),ev}function Jf(s,o,u,d,h){const g=Re(),_=ah(g,s,o,u,d,h);return _!==Wt&&au(g,cn(),_),Jf}function nv(s,o,u){const d=Re();if(Ot(d,oo(),o)){const g=Jt(),_=Dn();bs(g,_,d,s,o,function Si(s,o,u){return(null===s||Ci(s))&&(u=function ko(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(Zl(g.data),_,d),u,!0)}return nv}const Hc=void 0;var NA=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PA(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let zc={};function rp(s){const o=function kA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=ip(o);if(u)return u;const d=o.split("-")[0];if(u=ip(d),u)return u;if("en"===d)return NA;throw new De(701,!1)}function om(s){return rp(s)[Lt.PluralCase]}function ip(s){return s in zc||(zc[s]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[s]),zc[s]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Gc="en-US";let rv=Gc;function cv(s,o,u,d,h){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)cv(s[g],o,u,d,h);else{const g=Jt(),_=Re();let b=Mc(s)?s:J(s.provide),I=Jw(s);const A=Wn(),P=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(Mc(s)||!s.multi){const te=new Vo(I,h,ou),Te=hv(b,o,h?P:P+Z,U);-1===Te?(Vs(jo(A,_),g,b),dv(g,s,o.length),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(te),_.push(te)):(u[Te]=te,_[Te]=te)}else{const te=hv(b,o,P+Z,U),Te=hv(b,o,P,P+Z),je=te>=0&&u[te],Je=Te>=0&&u[Te];if(h&&!Je||!h&&!je){Vs(jo(A,_),g,b);const ot=function VP(s,o,u,d,h){const g=new Vo(s,u,ou);return g.multi=[],g.index=o,g.componentProviders=0,pb(g,h,d&&!u),g}(h?gb:oS,u.length,h,d,I);!h&&Je&&(u[Te].providerFactory=ot),dv(g,s,o.length,0),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(ot),_.push(ot)}else dv(g,s,te>-1?te:Te,pb(u[h?Te:te],I,!h&&d));!h&&d&&Je&&u[Te].componentProviders++}}}function dv(s,o,u,d){const h=Mc(o),g=function hD(s){return!!s.useClass}(o);if(h||g){const I=(g?J(o.useClass):o).prototype.ngOnDestroy;if(I){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=A.indexOf(u);-1===P?A.push(u,[d,I]):A[P+1].push(d,I)}else A.push(u,I)}}}function pb(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function hv(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function oS(s,o,u,d){return fv(this.multi,[])}function gb(s,o,u,d){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Us(u,u[1],this.providerFactory.index,d);g=b.slice(0,_),fv(h,g);for(let I=_;I<b.length;I++)g.push(b[I])}else g=[],fv(h,g);return g}function fv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function mb(s,o=[]){return u=>{u.providersResolver=(d,h)=>function fb(s,o,u){const d=Jt();if(d.firstCreatePass){const h=Ci(s);cv(u,d.data,d.blueprint,h,!0),cv(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class hu{}class yb{}function aS(s,o){return new pv(s,o??null)}class pv extends hu{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new P_(this);const d=Ze(o);this._bootstrapComponents=aa(d.bootstrap),this._r3Injector=Ag(o,u,[{provide:hu,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _m extends yb{constructor(o){super(),this.moduleType=o}create(o){return new pv(this.moduleType,o)}}class gv extends hu{constructor(o,u,d){super(),this.componentFactoryResolver=new P_(this),this.instance=null;const h=new pD([...o,{provide:hu,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],u||wg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function gn(s,o,u=null){return new gv(s,o,u).injector}let Ao=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Ky(0,u.type),h=d.length>0?gn([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Me({token:s,providedIn:"environment",factory:()=>new s(or(Rc))}),s})();function pl(s){s.getStandaloneInjector=o=>o.get(Ao).getOrCreateStandaloneInjector(s)}function yh(s,o,u,d){return function Eb(s,o,u,d,h,g){const _=o+u;return Ot(s,_,h)?function Is(s,o,u){return s[o]=u}(s,_+1,g?d.call(g,h):d(h)):function Kc(s,o){const u=s[o];return u===Wt?void 0:u}(s,_+1)}(Re(),function oi(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,u,d)}function Cv(s){return o=>{setTimeout(s,void 0,o)}}const fa=class Ev extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,g=u||(()=>null),_=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(g=Cv(g),h&&(h=Cv(h)),_&&(_=Cv(_)));const b=super.subscribe({next:h,error:g,complete:_});return o instanceof j.w0&&o.add(b),b}};function Tb(){return this._results[ul()]()}class bv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ul(),d=bv.prototype;d[u]||(d[u]=Tb)}get changes(){return this._changes||(this._changes=new fa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=Tr(o);(this._changesDetected=!function Hu(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lp=(()=>{class s{}return s.__NG_ELEMENT_ID__=bm,s})();const cp=lp,Db=class extends cp{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=Og(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(d)),rh(d,h,o),new Fr(h)}};function bm(){return dp(Wn(),Re())}function dp(s,o){return 4&s.type?new Db(o,s,Xd(s,o)):null}let Im=(()=>{class s{}return s.__NG_ELEMENT_ID__=vS,s})();function vS(){return Tv(Wn(),Re())}const wS=Im,Ab=class extends wS{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Xd(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ua(this._hostTNode,this._hostLView);if(ec(o)){const u=ts(o,this._hostLView),d=Fa(o);return new zo(u[1].data[d+8],u)}return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Iv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const _=o.createEmbeddedView(u||{},g);return this.insert(_,h),_}createComponent(o,u,d,h,g){const _=o&&!function Di(s){return"function"==typeof s}(o);let b;if(_)b=u;else{const U=u||{};b=U.index,d=U.injector,h=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const I=_?o:new Hf(O(o)),A=d||this.parentInjector;if(!g&&null==I.ngModule){const Z=(_?A:this.parentInjector).get(Rc,null);Z&&(g=Z)}const P=I.create(A,h,void 0,g);return this.insert(P.hostView,b),P}insert(o,u){const d=o._lView,h=d[1];if(function Aa(s){return Hr(s[3])}(d)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const U=d[3],Z=new Ab(U,U[6],U[3]);Z.detach(Z.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;!function $i(s,o,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=o),d<g-10?(o[4]=u[h],oc(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function ia(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,d,_,g);const b=ky(g,_),I=d[11],A=nl(I,_[7]);return null!==A&&function nt(s,o,u,d,h,g){d[0]=h,d[6]=o,eu(s,d,u,1,h,g)}(h,_[6],I,d,A,b),o.attachToViewContainerRef(),oc(hp(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Iv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=mf(this._lContainer,u);d&&(Ga(hp(this._lContainer),u),tl(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=mf(this._lContainer,u);return d&&null!=Ga(hp(this._lContainer),u)?new Fr(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function Iv(s){return s[8]}function hp(s){return s[8]||(s[8]=[])}function Tv(s,o){let u;const d=o[s.index];if(Hr(d))u=d;else{let h;if(8&s.type)h=Cn(d);else{const g=o[11];h=g.createComment("");const _=si(s,o);_o(g,nl(g,_),h,function QR(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=u=GE(d,o,h,s),Bf(o,u)}return new Ab(u,s,o)}class Av{constructor(o){this.queryList=o,this.matches=null}clone(){return new Av(this.queryList)}setDirty(){this.queryList.setDirty()}}class fp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const _=u.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new fp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Lv(o,u).matches&&this.queries[u].setDirty()}}class Dm{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Sv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Sv(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class pp{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new pp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,u,xv(u,g)),this.matchTNodeWithReadOption(o,u,Ho(u,o,g,!1,!1))}else d===lp?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ho(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Tf||h===Im||h===lp&&4&u.type)this.addMatch(u.index,-2);else{const g=Ho(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function xv(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function Rv(s,o,u,d){return-1===u?function Mv(s,o){return 11&s.type?Xd(s,o):4&s.type?dp(s,o):null}(o,s):-2===u?function ES(s,o,u){return u===Tf?Xd(o,s):u===lp?dp(o,s):u===Im?Tv(o,s):void 0}(s,o,d):Us(s,s[1],u,o)}function xb(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,_=u.matches,b=[];for(let I=0;I<_.length;I+=2){const A=_[I];b.push(A<0?null:Rv(o,g[A],_[I+1],u.metadata.read))}h.matches=b}return h.matches}function Pv(s,o,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const _=xb(s,o,h,u);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)d.push(_[b/2]);else{const A=g[b+1],P=o[-I];for(let U=10;U<P.length;U++){const Z=P[U];Z[17]===Z[3]&&Pv(Z[1],Z,A,d)}if(null!==P[9]){const U=P[9];for(let Z=0;Z<U.length;Z++){const te=U[Z];Pv(te[1],te,A,d)}}}}}return d}function gp(s){const o=Re(),u=Jt(),d=Lo();Jr(d+1);const h=Lv(u,d);if(s.dirty&&function Hl(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Pv(u,o,d,[]):xb(u,o,h,d);s.reset(g,TD),s.notifyOnChanges()}return!0}return!1}function Ov(s,o,u,d){const h=Jt();if(h.firstCreatePass){const g=Wn();(function Fv(s,o,u){null===s.queries&&(s.queries=new Sv),s.queries.track(new pp(o,u))})(h,new Dm(o,u,d),g.index),function CS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function Sm(s,o,u){const d=new bv(4==(4&u));kf(s,o,d,d.destroy),null===o[19]&&(o[19]=new fp),o[19].queries.push(new Av(d))}(h,Re(),u)}function Am(){return function kv(s,o){return s[19].queries[o].queryList}(Re(),Lo())}function Lv(s,o){return s.queries.getByIndex(o)}function Pm(...s){}const Ub=new pn("Application Initializer");let Nm=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Pm,this.reject=Pm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Yg(g))u.push(g);else if(Bc(g)){const _=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});u.push(_)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(or(Ub,8))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Bb=new pn("AppId",{providedIn:"root",factory:function jb(){return`${Gv()}${Gv()}${Gv()}`}});function Gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $b=new pn("Platform Initializer"),KS=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hb=new pn("appBootstrapListener"),YS=new pn("AnimationModuleType");let QS=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qv=new pn("LocaleId",{providedIn:"root",factory:()=>dc(qv,ct.Optional|ct.SkipSelf)||function eN(){return typeof $localize<"u"&&$localize.locale||Gc}()}),JS=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zb{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ex=(()=>{class s{compileModuleSync(u){return new _m(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=aa(Ze(u).declarations).reduce((_,b)=>{const I=O(b);return I&&_.push(new Hf(I)),_},[]);return new zb(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rx=(()=>Promise.resolve(0))();function Zv(s){typeof Zone>"u"?rx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class So{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fa(!1),this.onMicrotaskEmpty=new fa(!1),this.onStable=new fa(!1),this.onError=new fa(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function rN(){let s=tn.requestAnimationFrame,o=tn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function sN(s){const o=()=>{!function ix(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Om(s),s.isCheckStableRunning=!0,Wb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Om(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,_,b)=>{try{return km(s),u.invokeTask(h,g,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Kv(s)}},onInvoke:(u,d,h,g,_,b,I)=>{try{return km(s),u.invoke(h,g,_,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),Kv(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Om(s),Wb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new De(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,iN,Pm,Pm);try{return g.runTask(_,u,d)}finally{g.cancelTask(_)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const iN={};function Wb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Om(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function km(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Kv(s){s._nesting--,Wb(s)}class oN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fa,this.onMicrotaskEmpty=new fa,this.onStable=new fa,this.onError=new fa}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Fm=new pn(""),Zb=new pn("");let Yv,sx=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yv||(function aN(s){Yv=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),Zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(or(So),or(ox),or(Zb))},s.\u0275prov=Me({token:s,factory:s.\u0275fac}),s})(),ox=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Yv?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Yc=null;const ax=new pn("AllowMultipleToken"),Kb=new pn("PlatformDestroyListeners");class cN{constructor(o,u){this.name=o,this.token=u}}function lx(s,o,u=[]){const d=`Platform: ${o}`,h=new pn(d);return(g=[])=>{let _=Yb();if(!_||_.injector.get(ax,!1)){const b=[...u,...g,{provide:h,useValue:!0}];s?s(b):function dN(s){if(Yc&&!Yc.get(ax,!1))throw new De(400,!1);Yc=s;const o=s.get(dx);(function ux(s){const o=s.get($b,null);o&&o.forEach(u=>u())})(s)}(function cx(s=[],o){return Nc.create({name:o,providers:[{provide:Yy,useValue:"platform"},{provide:Kb,useValue:new Set([()=>Yc=null])},...s]})}(b,d))}return function fN(s){const o=Yb();if(!o)throw new De(401,!1);return o}()}}function Yb(){return Yc?.get(dx)??null}let dx=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function fx(s,o){let u;return u="noop"===s?new oN:("zone.js"===s?void 0:s)||new So(o),u}(d?.ngZone,function hx(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:So,useValue:h}];return h.run(()=>{const _=Nc.create({providers:g,parent:this.injector,name:u.moduleType.name}),b=u.create(_),I=b.injector.get(pi,null);if(!I)throw new De(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:P=>{I.handleError(P)}});b.onDestroy(()=>{Jv(this._modules,b),A.unsubscribe()})}),function px(s,o,u){try{const d=u();return Yg(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const A=b.injector.get(Nm);return A.runInitializers(),A.donePromise.then(()=>(function $C(s){ie(s,"Expected localeId to be defined"),"string"==typeof s&&(rv=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(qv,Gc)||Gc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(u,d=[]){const h=gx({},d);return function uN(s,o,u){const d=new _m(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(Qv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Kb,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(or(Nc))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function gx(s,o){return Array.isArray(o)?o.reduce(gx,s):{...s,...o}}let Qv=(()=>{class s{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new k.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),Zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof Xw;if(!this._injector.get(Nm).done)throw!h&&Ce(u),new De(405,false);let _;_=h?u:this._injector.get(If).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const b=function lN(s){return s.isBoundToModule}(_)?void 0:this._injector.get(hu),A=_.create(Nc.NULL,[],d||_.selector,b),P=A.location.nativeElement,U=A.injector.get(Fm,null);return U?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),Jv(this.components,A),U?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Jv(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Hb,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Jv(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(or(So),or(Rc),or(pi))},s.\u0275prov=Me({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Jv(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let yx=!0,_x=!1;function gN(){return _x=!0,yx}function mN(){if(_x)throw new Error("Cannot enable prod mode after platform setup.");yx=!1}let yN=(()=>{class s{}return s.__NG_ELEMENT_ID__=_N,s})();function _N(s){return function vN(s,o,u){if(ps(s)&&!u){const d=Sr(s.index,o);return new Fr(d,d)}return 47&s.type?new Fr(o[16],o):null}(Wn(),Re(),16==(16&s))}class tI{constructor(){}supports(o){return zf(o)}create(o){return new ur(o)}}const Ix=(s,o)=>o;class ur{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ix}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const _=!d||u&&u.currentIndex<nI(d,h,g)?u:d,b=nI(_,h,g),I=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{g||(g=[]);const A=b-h,P=I-h;if(A!=P){for(let Z=0;Z<A;Z++){const te=Z<g.length?g[Z]:g[Z]=0,Te=te+Z;P<=Te&&Te<A&&(g[Z]=te+1)}g[_.previousIndex]=P-A}}b!==I&&o(_,b,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!zf(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,g,_,b)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,b),d=!0),u=u._next}else h=0,function uA(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ul()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,b=>{_=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,b,_,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,_,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new Hn(u,d),g,h),o}_verifyReinsertion(o,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Lm),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Hn{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class t0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Lm{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new t0,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nI(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class rI{constructor(){}supports(o){return o instanceof Map||Wg(o)}create(){return new Tx}}class Tx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Wg(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const d=new Dx(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class Dx{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iI(){return new Vm([new tI])}let Vm=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||iI()),deps:[[s,new Wo,new vs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new De(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:iI}),s})();function sI(){return new n0([new rI])}let n0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||sI()),deps:[[s,new Wo,new vs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new De(901,!1)}}return s.\u0275prov=Me({token:s,providedIn:"root",factory:sI}),s})();const xx=lx(null,"core",[]);let r0=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(or(Qv))},s.\u0275mod=_r({type:s}),s.\u0275inj=Tt({}),s})();function aI(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(wt,Oe,V)=>{V.d(Oe,{Z:()=>De});var c=V(2090),j=V(4859),k=V(6881),re=V(1877);class le{constructor(Ee,_e){this._delegate=Ee,this.firebase=_e,(0,k._addComponent)(Ee,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ee,_e=k._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Ee);return!gt.isInitialized()&&"EXPLICIT"===(null===(_t=gt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:_e})}_removeServiceInstance(Ee,_e=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(_e)}_addComponent(Ee){(0,k._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,k._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function we(){const it=function ve(it){const Ee={},_e={__esModule:!0,initializeApp:function Se(Ge,ue={}){const Ke=k.initializeApp(Ge,ue);if((0,c.r3)(Ee,Ke.name))return Ee[Ke.name];const At=new it(Ke,_e);return Ee[Ke.name]=At,At},app:gt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ge){const ue=Ge.name,Ke=ue.replace("-compat","");if(k._registerComponent(Ge)&&"PUBLIC"===Ge.type){const At=(mt=gt())=>{if("function"!=typeof mt[Ke])throw fe.create("invalid-app-argument",{appName:ue});return mt[Ke]()};void 0!==Ge.serviceProps&&(0,c.ZB)(At,Ge.serviceProps),_e[Ke]=At,it.prototype[Ke]=function(...mt){return this._getService.bind(this,ue).apply(this,Ge.multipleInstances?mt:[])}}return"PUBLIC"===Ge.type?_e[Ke]:null},removeApp:function _t(Ge){delete Ee[Ge]},useAsService:function ze(Ge,ue){return"serverAuth"===ue?null:ue},modularAPIs:k}};function gt(Ge){if(!(0,c.r3)(Ee,Ge=Ge||k._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Ge});return Ee[Ge]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Ie(){return Object.keys(Ee).map(Ge=>Ee[Ge])}}),gt.App=it,_e}(le);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ee(_e){(0,c.ZB)(it,_e)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),it}(),G=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=q;!function Ne(it){(0,k.registerVersion)("@firebase/app-compat","0.2.13",it)}()},6881:(wt,Oe,V)=>{V.r(Oe),V.d(Oe,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Ji,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Ct,_apps:()=>Sn,_clearComponents:()=>nr,_components:()=>Gt,_getProvider:()=>Yr,_registerComponent:()=>tn,_removeServiceInstance:()=>yr,deleteApp:()=>Xn,getApp:()=>Bn,getApps:()=>vn,initializeApp:()=>sn,onLog:()=>er,registerVersion:()=>Qr,setLogLevel:()=>Ei});var c=V(5861),j=V(4859),k=V(1877),re=V(2090);let me,fe;const q=new WeakMap,G=new WeakMap,J=new WeakMap,$e=new WeakMap,Ne=new WeakMap;let Ee={get(oe,ne,Le){if(oe instanceof IDBTransaction){if("done"===ne)return G.get(oe);if("objectStoreNames"===ne)return oe.objectStoreNames||J.get(oe);if("store"===ne)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Se(oe[ne])},set:(oe,ne,Le)=>(oe[ne]=Le,!0),has:(oe,ne)=>oe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in oe};function gt(oe){return"function"==typeof oe?function _t(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ne){return oe.apply(Ie(this),ne),Se(q.get(this))}:function(...ne){return Se(oe.apply(Ie(this),ne))}:function(ne,...Le){const Ve=oe.call(Ie(this),ne,...Le);return J.set(Ve,ne.sort?ne.sort():[ne]),Se(Ve)}}(oe):(oe instanceof IDBTransaction&&function it(oe){if(G.has(oe))return;const ne=new Promise((Le,Ve)=>{const xt=()=>{oe.removeEventListener("complete",$t),oe.removeEventListener("error",fn),oe.removeEventListener("abort",fn)},$t=()=>{Le(),xt()},fn=()=>{Ve(oe.error||new DOMException("AbortError","AbortError")),xt()};oe.addEventListener("complete",$t),oe.addEventListener("error",fn),oe.addEventListener("abort",fn)});G.set(oe,ne)}(oe),((oe,ne)=>ne.some(Le=>oe instanceof Le))(oe,function ve(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ee):oe)}function Se(oe){if(oe instanceof IDBRequest)return function De(oe){const ne=new Promise((Le,Ve)=>{const xt=()=>{oe.removeEventListener("success",$t),oe.removeEventListener("error",fn)},$t=()=>{Le(Se(oe.result)),xt()},fn=()=>{Ve(oe.error),xt()};oe.addEventListener("success",$t),oe.addEventListener("error",fn)});return ne.then(Le=>{Le instanceof IDBCursor&&q.set(Le,oe)}).catch(()=>{}),Ne.set(ne,oe),ne}(oe);if($e.has(oe))return $e.get(oe);const ne=gt(oe);return ne!==oe&&($e.set(oe,ne),Ne.set(ne,oe)),ne}const Ie=oe=>Ne.get(oe),Ge=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ke=new Map;function At(oe,ne){if(!(oe instanceof IDBDatabase)||ne in oe||"string"!=typeof ne)return;if(Ke.get(ne))return Ke.get(ne);const Le=ne.replace(/FromIndex$/,""),Ve=ne!==Le,xt=ue.includes(Le);if(!(Le in(Ve?IDBIndex:IDBObjectStore).prototype)||!xt&&!Ge.includes(Le))return;const $t=function(){var fn=(0,c.Z)(function*(jn,...Qt){const $r=this.transaction(jn,xt?"readwrite":"readonly");let Li=$r.store;return Ve&&(Li=Li.index(Qt.shift())),(yield Promise.all([Li[Le](...Qt),xt&&$r.done]))[0]});return function(Qt){return fn.apply(this,arguments)}}();return Ke.set(ne,$t),$t}!function _e(oe){Ee=oe(Ee)}(oe=>({...oe,get:(ne,Le,Ve)=>At(ne,Le)||oe.get(ne,Le,Ve),has:(ne,Le)=>!!At(ne,Le)||oe.has(ne,Le)}));class mt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function zt(oe){return"VERSION"===oe.getComponent()?.type}(Le)){const Ve=Le.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(Le=>Le).join(" ")}}const dt="@firebase/app",pr=new k.Yd("@firebase/app"),Kr="[DEFAULT]",Pn={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,Gt=new Map;function ht(oe,ne){try{oe.container.addComponent(ne)}catch(Le){pr.debug(`Component ${ne.name} failed to register with FirebaseApp ${oe.name}`,Le)}}function Ct(oe,ne){oe.container.addOrOverwriteComponent(ne)}function tn(oe){const ne=oe.name;if(Gt.has(ne))return pr.debug(`There were multiple attempts to register component ${ne}.`),!1;Gt.set(ne,oe);for(const Le of Sn.values())ht(Le,oe);return!0}function Yr(oe,ne){const Le=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),oe.container.getProvider(ne)}function yr(oe,ne,Le=Kr){Yr(oe,ne).clearInstance(Le)}function nr(){Gt.clear()}const Gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(ne,Le,Ve){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Ji="9.23.0";function sn(oe,ne={}){let Le=oe;"object"!=typeof ne&&(ne={name:ne});const Ve=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},ne),xt=Ve.name;if("string"!=typeof xt||!xt)throw Gn.create("bad-app-name",{appName:String(xt)});if(Le||(Le=(0,re.aH)()),!Le)throw Gn.create("no-options");const $t=Sn.get(xt);if($t){if((0,re.vZ)(Le,$t.options)&&(0,re.vZ)(Ve,$t.config))return $t;throw Gn.create("duplicate-app",{appName:xt})}const fn=new j.H0(xt);for(const Qt of Gt.values())fn.addComponent(Qt);const jn=new qt(Le,Ve,fn);return Sn.set(xt,jn),jn}function Bn(oe=Kr){const ne=Sn.get(oe);if(!ne&&oe===Kr&&(0,re.aH)())return sn();if(!ne)throw Gn.create("no-app",{appName:oe});return ne}function vn(){return Array.from(Sn.values())}function Xn(oe){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(oe){const ne=oe.name;Sn.has(ne)&&(Sn.delete(ne),yield Promise.all(oe.container.getProviders().map(Le=>Le.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function Qr(oe,ne,Le){var Ve;let xt=null!==(Ve=Pn[oe])&&void 0!==Ve?Ve:oe;Le&&(xt+=`-${Le}`);const $t=xt.match(/\s|\//),fn=ne.match(/\s|\//);if($t||fn){const jn=[`Unable to register library "${xt}" with version "${ne}":`];return $t&&jn.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),$t&&fn&&jn.push("and"),fn&&jn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void pr.warn(jn.join(" "))}tn(new j.wA(`${xt}-version`,()=>({library:xt,version:ne}),"VERSION"))}function er(oe,ne){if(null!==oe&&"function"!=typeof oe)throw Gn.create("invalid-log-argument");(0,k.Am)(oe,ne)}function Ei(oe){(0,k.Ub)(oe)}const z="firebase-heartbeat-store";let $=null;function F(){return $||($=function xe(oe,ne,{blocked:Le,upgrade:Ve,blocking:xt,terminated:$t}={}){const fn=indexedDB.open(oe,ne),jn=Se(fn);return Ve&&fn.addEventListener("upgradeneeded",Qt=>{Ve(Se(fn.result),Qt.oldVersion,Qt.newVersion,Se(fn.transaction),Qt)}),Le&&fn.addEventListener("blocked",Qt=>Le(Qt.oldVersion,Qt.newVersion,Qt)),jn.then(Qt=>{$t&&Qt.addEventListener("close",()=>$t()),xt&&Qt.addEventListener("versionchange",$r=>xt($r.oldVersion,$r.newVersion,$r))}).catch(()=>{}),jn}("firebase-heartbeat-database",1,{upgrade:(oe,ne)=>{0===ne&&oe.createObjectStore(z)}}).catch(oe=>{throw Gn.create("idb-open",{originalErrorMessage:oe.message})})),$}function R(){return(R=(0,c.Z)(function*(oe){try{return yield(yield F()).transaction(z).objectStore(z).get(Ze(oe))}catch(ne){if(ne instanceof re.ZR)pr.warn(ne.message);else{const Le=Gn.create("idb-get",{originalErrorMessage:ne?.message});pr.warn(Le.message)}}})).apply(this,arguments)}function Y(oe,ne){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(oe,ne){try{const Ve=(yield F()).transaction(z,"readwrite");yield Ve.objectStore(z).put(ne,Ze(oe)),yield Ve.done}catch(Le){if(Le instanceof re.ZR)pr.warn(Le.message);else{const Ve=Gn.create("idb-set",{originalErrorMessage:Le?.message});pr.warn(Ve.message)}}})).apply(this,arguments)}function Ze(oe){return`${oe.name}!${oe.options.appId}`}class tt{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new kt(Le),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var ne=this;return(0,c.Z)(function*(){const Ve=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=ut();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==xt&&!ne._heartbeatsCache.heartbeats.some($t=>$t.date===xt))return ne._heartbeatsCache.heartbeats.push({date:xt,agent:Ve}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter($t=>{const fn=new Date($t.date).valueOf();return Date.now()-fn<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,c.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Le=ut(),{heartbeatsToSend:Ve,unsentEntries:xt}=function Yt(oe,ne=1024){const Le=[];let Ve=oe.slice();for(const xt of oe){const $t=Le.find(fn=>fn.agent===xt.agent);if($t){if($t.dates.push(xt.date),on(Le)>ne){$t.dates.pop();break}}else if(Le.push({agent:xt.agent,dates:[xt.date]}),on(Le)>ne){Le.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ve}}(ne._heartbeatsCache.heartbeats),$t=(0,re.L)(JSON.stringify({version:2,heartbeats:Ve}));return ne._heartbeatsCache.lastSentHeartbeatDate=Le,xt.length>0?(ne._heartbeatsCache.heartbeats=xt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),$t})()}}function ut(){return(new Date).toISOString().substring(0,10)}class kt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,c.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function O(oe){return R.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Le=this;return(0,c.Z)(function*(){var Ve;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return Y(Le.app,{lastSentHeartbeatDate:null!==(Ve=ne.lastSentHeartbeatDate)&&void 0!==Ve?Ve:$t.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Le=this;return(0,c.Z)(function*(){var Ve;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return Y(Le.app,{lastSentHeartbeatDate:null!==(Ve=ne.lastSentHeartbeatDate)&&void 0!==Ve?Ve:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...ne.heartbeats]})}})()}}function on(oe){return(0,re.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function jr(oe){tn(new j.wA("platform-logger",ne=>new mt(ne),"PRIVATE")),tn(new j.wA("heartbeat",ne=>new tt(ne),"PRIVATE")),Qr(dt,"0.9.13",oe),Qr(dt,"0.9.13","esm2017"),Qr("fire-js","")}("")},4859:(wt,Oe,V)=>{V.d(Oe,{H0:()=>ve,wA:()=>k});var c=V(5861),j=V(2090);class k{constructor(q,G,J){this.name=q,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class le{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const J=new j.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:G});$e&&J.resolve($e)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const J=this.normalizeInstanceIdentifier(q?.identifier),$e=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ne){if($e)return null;throw Ne}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function fe(we){return"EAGER"===we.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(G);try{const Ne=this.getOrInitializeService({instanceIdentifier:$e});J.resolve(Ne)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,J=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Ne,De]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ne)&&De.resolve($e);return $e}onInit(q,G){var J;const $e=this.normalizeInstanceIdentifier(G),Ne=null!==(J=this.onInitCallbacks.get($e))&&void 0!==J?J:new Set;Ne.add(q),this.onInitCallbacks.set($e,Ne);const De=this.instances.get($e);return De&&q(De,$e),()=>{Ne.delete(q)}}invokeOnInitCallbacks(q,G){const J=this.onInitCallbacks.get(G);if(J)for(const $e of J)try{$e(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let J=this.instances.get(q);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(we=q,we===re?void 0:we),options:G}),this.instances.set(q,J),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(J,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,J)}catch{}var we;return J||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new le(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Oe,V)=>{V.d(Oe,{Am:()=>we,Ub:()=>ve,Yd:()=>fe,in:()=>j});const c=[];var j=(()=>{return(q=j||(j={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",j;var q})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},re=j.INFO,le={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},me=(q,G,...J)=>{if(G<q.logLevel)return;const $e=(new Date).toISOString(),Ne=le[G];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ne](`[${$e}]  ${q.name}:`,...J)};class fe{constructor(G){this.name=G,this._logLevel=re,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function ve(q){c.forEach(G=>{G.setLogLevel(q)})}function we(q,G){for(const J of c){let $e=null;G&&G.level&&($e=k[G.level]),J.userLogHandler=null===q?null:(Ne,De,...it)=>{const Ee=it.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");De>=($e??Ne.logLevel)&&q({level:j[De].toLowerCase(),message:Ee,args:it,type:Ne.name})}}}},259:(wt,Oe,V)=>{V.d(Oe,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=V(6881);(0,c.registerVersion)("firebase","9.23.0","app")},9260:(wt,Oe,V)=>{V.d(Oe,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(wt,Oe,V)=>{V.r(Oe);var c=V(5861),j=V(3942),k=V(1389),re=V(2090),fe=(V(6881),V(1877),V(4859));function ve(){return window}function G(){return(G=(0,c.Z)(function*(F,O,R){var Y;const{BuildInfo:Ce}=ve();(0,k.as)(O.sessionId,"AuthEvent did not contain a session ID");const Ze=yield _e(O.sessionId),yt={};return(0,k.at)()?yt.ibi=Ce.packageName:(0,k.au)()?yt.apn=Ce.packageName:(0,k.av)(F,"operation-not-supported-in-this-environment"),Ce.displayName&&(yt.appDisplayName=Ce.displayName),yt.sessionId=Ze,(0,k.aw)(F,R,O.type,void 0,null!==(Y=O.eventId)&&void 0!==Y?Y:void 0,yt)})).apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(F){const{BuildInfo:O}=ve(),R={};(0,k.at)()?R.iosBundleId=O.packageName:(0,k.au)()?R.androidPackageName=O.packageName:(0,k.av)(F,"operation-not-supported-in-this-environment"),yield(0,k.ax)(F,R)})).apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(F,O,R){const{cordova:Y}=ve();let Ce=()=>{};try{yield new Promise((Ze,yt)=>{let be=null;function tt(){var kt;Ze();const on=null===(kt=Y.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof on&&on(),"function"==typeof R?.close&&R.close()}function ut(){be||(be=window.setTimeout(()=>{yt((0,k.az)(F,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===document?.visibilityState&&ut()}O.addPassiveListener(tt),document.addEventListener("resume",ut,!1),(0,k.au)()&&document.addEventListener("visibilitychange",Yt,!1),Ce=()=>{O.removePassiveListener(tt),document.removeEventListener("resume",ut,!1),document.removeEventListener("visibilitychange",Yt,!1),be&&window.clearTimeout(be)}})}finally{Ce()}})).apply(this,arguments)}function _e(F){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(F){const O=gt(F),R=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(R)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(F){if((0,k.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const O=new ArrayBuffer(F.length),R=new Uint8Array(O);for(let Y=0;Y<F.length;Y++)R[Y]=F.charCodeAt(Y);return R}class Ie extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(O)),super.onEvent(O)}initialized(){var O=this;return(0,c.Z)(function*(){yield O.initPromise})()}}function Ge(F){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.Z)(function*(F){const O=yield mt()._get(zt(F));return O&&(yield mt()._remove(zt(F))),O})).apply(this,arguments)}function At(){const F=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<20;R++){const Y=Math.floor(Math.random()*O.length);F.push(O.charAt(Y))}return F.join("")}function mt(){return(0,k.aC)(k.b)}function zt(F){return(0,k.aD)("authEvent",F.config.apiKey,F.name)}function pr(F){if(!F?.includes("?"))return{};const[O,...R]=F.split("?");return(0,re.zd)(R.join("?"))}function ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function lt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Xt(F=(0,re.z$)()){return!("file:"!==lt()&&"ionic:"!==lt()&&"capacitor:"!==lt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const F=self.localStorage,O=k.aL();if(F)return F.setItem(O,"1"),F.removeItem(O),!function hn(F=(0,re.z$)()){return function rn(){return(0,re.w1)()&&11===document?.documentMode}()||function Mn(F=(0,re.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,re.hl)()}catch{return An()&&(0,re.hl)()}return!1}function An(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Un(){return(function Tt(){return"http:"===lt()||"https:"===lt()}()||(0,re.ru)()||Xt())&&!function Rt(){return(0,re.b$)()||(0,re.UG)()}()&&Qn()&&!An()}function gr(){return Xt()&&typeof document<"u"}function ct(){return(ct=(0,c.Z)(function*(){return!!gr()&&new Promise(F=>{const O=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),F(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=k.aA,Fi="persistence";function Pn(F){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(F){yield F._initializationPromise;const O=ht(),R=k.aD(Fi,F.config.apiKey,F.name);O&&O.setItem(R,F._getPersistence())})).apply(this,arguments)}function ht(){var F;try{return(null===(F=function mr(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Ct=k.aA;class tn{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(class Qi{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var R=this;return(0,c.Z)(function*(){const Y=O._key();let Ce=R.eventManagers.get(Y);return Ce||(Ce=new Ie(O),R.eventManagers.set(Y,Ce),R.attachCallbackListeners(O,Ce)),Ce})()}_openPopup(O){(0,k.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,R,Y,Ce){var Ze=this;return(0,c.Z)(function*(){!function Ee(F){var O,R,Y,Ce,Ze,yt,be,tt,ut,Yt;const kt=ve();(0,k.aA)("function"==typeof(null===(O=kt?.universalLinks)||void 0===O?void 0:O.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(R=kt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(Ze=null===(Ce=null===(Y=kt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Ze?void 0:Ze.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(tt=null===(be=null===(yt=kt?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===be?void 0:be.browsertab)||void 0===tt?void 0:tt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(Yt=null===(ut=kt?.cordova)||void 0===ut?void 0:ut.InAppBrowser)||void 0===Yt?void 0:Yt.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const yt=yield Ze._initialize(O);yield yt.initialized(),yt.resetRedirect(),(0,k.aG)(),yield Ze._originValidation(O);const be=function xe(F,O,R=null){return{type:O,eventId:R,urlResponse:null,sessionId:At(),postBody:null,tenantId:F.tenantId,error:(0,k.az)(F,"no-auth-event")}}(O,Y,Ce);yield function ze(F,O){return mt()._set(zt(F),O)}(O,be);const tt=yield function q(F,O,R){return G.apply(this,arguments)}(O,be,R),ut=yield function Ne(F){const{cordova:O}=ve();return new Promise(R=>{O.plugins.browsertab.isAvailable(Y=>{let Ce=null;Y?O.plugins.browsertab.openUrl(F):Ce=O.InAppBrowser.open(F,(0,k.ay)()?"_blank":"_system","location=yes"),R(Ce)})})}(tt);return function De(F,O,R){return it.apply(this,arguments)}(O,yt,ut)})()}_isIframeWebStorageSupported(O,R){throw new Error("Method not implemented.")}_originValidation(O){const R=O._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function J(F){return $e.apply(this,arguments)}(O)),this.originValidationPromises[R]}attachCallbackListeners(O,R){const{universalLinks:Y,handleOpenURL:Ce,BuildInfo:Ze}=ve(),yt=setTimeout((0,c.Z)(function*(){yield Ge(O),R.onEvent(ee())}),500),be=function(){var Yt=(0,c.Z)(function*(kt){clearTimeout(yt);const on=yield Ge(O);let jr=null;on&&kt?.url&&(jr=function Ke(F,O){var R,Y;const Ce=function Yi(F){const O=pr(F),R=O.link?decodeURIComponent(O.link):void 0,Y=pr(R).link,Ce=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return pr(Ce).link||Ce||Y||R||F}(O);if(Ce.includes("/__/auth/callback")){const Ze=pr(Ce),yt=Ze.firebaseError?function dt(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Ze.firebaseError)):null,be=null===(Y=null===(R=yt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===Y?void 0:Y[1],tt=be?(0,k.az)(be):null;return tt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ce,postBody:null}}return null}(on,kt.url)),R.onEvent(jr||ee())});return function(on){return Yt.apply(this,arguments)}}();typeof Y<"u"&&"function"==typeof Y.subscribe&&Y.subscribe(null,be);const tt=Ce,ut=`${Ze.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Yt=(0,c.Z)(function*(kt){if(kt.toLowerCase().startsWith(ut)&&be({url:kt}),"function"==typeof tt)try{tt(kt)}catch(on){console.error(on)}});return function(kt){return Yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,R,Y,Ce){var Ze=this;return(0,c.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openPopup(O,R,Y,Ce)})()}_openRedirect(O,R,Y,Ce){var Ze=this;return(0,c.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openRedirect(O,R,Y,Ce)})()}_isIframeWebStorageSupported(O,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,R)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return gr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,c.Z)(function*(){if(O.underlyingResolver)return;const R=yield function wi(){return ct.apply(this,arguments)}();O.underlyingResolver=R?O.cordovaResolver:O.browserResolver})()}}function Yr(F){return F.unwrap()}function nr(F){return Gn(F)}function Gn(F){const{_tokenResponse:O}=F instanceof re.ZR?F.customData:F;if(!O)return null;if(!(F instanceof re.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(F);const R=O.providerId;if(!R||R===k.p.PASSWORD)return null;let Y;switch(R){case k.p.GOOGLE:Y=k.V;break;case k.p.FACEBOOK:Y=k.U;break;case k.p.GITHUB:Y=k.W;break;case k.p.TWITTER:Y=k.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:Ze,oauthTokenSecret:yt,pendingToken:be,nonce:tt}=O;return Ze||yt||Ce||be?be?R.startsWith("saml.")?k.aO._create(R,be):k.L._fromParams({providerId:R,signInMethod:R,pendingToken:be,idToken:Ce,accessToken:Ze}):new k.X(R).credential({idToken:Ce,accessToken:Ze,rawNonce:tt}):null}return F instanceof re.ZR?Y.credentialFromError(F):Y.credentialFromResult(F)}function qt(F,O){return O.catch(R=>{throw R instanceof re.ZR&&function St(F,O){var R;const Y=null===(R=O.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new Bn(F,k.aq(F,O));else if(Y){const Ce=Gn(O),Ze=O;Ce&&(Ze.credential=Ce,Ze.tenantId=Y.tenantId||void 0,Ze.email=Y.email||void 0,Ze.phoneNumber=Y.phoneNumber||void 0)}}(F,R),R}).then(R=>{const Ce=R.user;return{operationType:R.operationType,credential:nr(R),additionalUserInfo:k.ao(R),user:vn.getOrCreate(Ce)}})}function Ji(F,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(F,O){const R=yield O;return{verificationId:R.verificationId,confirm:Y=>qt(F,R.confirm(Y))}})).apply(this,arguments)}class Bn{constructor(O,R){this.resolver=R,this.auth=function yr(F){return F.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return qt(Yr(this.auth),this.resolver.resolveSignIn(O))}}class vn{constructor(O){this._delegate=O,this.multiFactor=k.ar(O)}static getOrCreate(O){return vn.USER_MAP.has(O)||vn.USER_MAP.set(O,new vn(O)),vn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var R=this;return(0,c.Z)(function*(){return qt(R.auth,k.a0(R._delegate,O))})()}linkWithPhoneNumber(O,R){var Y=this;return(0,c.Z)(function*(){return Ji(Y.auth,k.l(Y._delegate,O,R))})()}linkWithPopup(O){var R=this;return(0,c.Z)(function*(){return qt(R.auth,k.d(R._delegate,O,tn))})()}linkWithRedirect(O){var R=this;return(0,c.Z)(function*(){return yield Pn(k.aH(R.auth)),k.g(R._delegate,O,tn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var R=this;return(0,c.Z)(function*(){return qt(R.auth,k.a1(R._delegate,O))})()}reauthenticateWithPhoneNumber(O,R){return Ji(this.auth,k.r(this._delegate,O,R))}reauthenticateWithPopup(O){return qt(this.auth,k.e(this._delegate,O,tn))}reauthenticateWithRedirect(O){var R=this;return(0,c.Z)(function*(){return yield Pn(k.aH(R.auth)),k.h(R._delegate,O,tn)})()}sendEmailVerification(O){return k.ae(this._delegate,O)}unlink(O){var R=this;return(0,c.Z)(function*(){return yield k.an(R._delegate,O),R})()}updateEmail(O){return k.aj(this._delegate,O)}updatePassword(O){return k.ak(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,R){return k.af(this._delegate,O,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vn.USER_MAP=new WeakMap;const Xn=k.aA;let Rn=(()=>{class F{constructor(R,Y){if(this.app=R,Y.isInitialized())return this._delegate=Y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=R.options;Xn(Ce,"invalid-api-key",{appName:R.name}),Xn(Ce,"invalid-api-key",{appName:R.name});const Ze=typeof window<"u"?tn:void 0;this._delegate=Y.initialize({options:{persistence:er(Ce,R.name),popupRedirectResolver:Ze}}),this._delegate._updateErrorMap(k.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,Y){k.I(this._delegate,R,Y)}applyActionCode(R){return k.a5(this._delegate,R)}checkActionCode(R){return k.a6(this._delegate,R)}confirmPasswordReset(R,Y){return k.a4(this._delegate,R,Y)}createUserWithEmailAndPassword(R,Y){var Ce=this;return(0,c.Z)(function*(){return qt(Ce._delegate,k.a8(Ce._delegate,R,Y))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return k.ad(this._delegate,R)}isSignInWithEmailLink(R){return k.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,c.Z)(function*(){Xn(Un(),R._delegate,"operation-not-supported-in-this-environment");const Y=yield k.j(R._delegate,tn);return Y?qt(R._delegate,Promise.resolve(Y)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Ae(F,O){(0,k.aH)(F)._logFramework(O)}(this._delegate,R)}onAuthStateChanged(R,Y,Ce){const{next:Ze,error:yt,complete:be}=Qr(R,Y,Ce);return this._delegate.onAuthStateChanged(Ze,yt,be)}onIdTokenChanged(R,Y,Ce){const{next:Ze,error:yt,complete:be}=Qr(R,Y,Ce);return this._delegate.onIdTokenChanged(Ze,yt,be)}sendSignInLinkToEmail(R,Y){return k.aa(this._delegate,R,Y)}sendPasswordResetEmail(R,Y){return k.a3(this._delegate,R,Y||void 0)}setPersistence(R){var Y=this;return(0,c.Z)(function*(){let Ce;switch(function Kr(F,O){zn(Object.values(Jn).includes(O),F,"invalid-persistence-type"),(0,re.b$)()?zn(O!==Jn.SESSION,F,"unsupported-persistence-type"):(0,re.UG)()?zn(O===Jn.NONE,F,"unsupported-persistence-type"):An()?zn(O===Jn.NONE||O===Jn.LOCAL&&(0,re.hl)(),F,"unsupported-persistence-type"):zn(O===Jn.NONE||Qn(),F,"unsupported-persistence-type")}(Y._delegate,R),R){case Jn.SESSION:Ce=k.a;break;case Jn.LOCAL:Ce=(yield k.aC(k.i)._isAvailable())?k.i:k.b;break;case Jn.NONE:Ce=k.N;break;default:return k.av("argument-error",{appName:Y._delegate.name})}return Y._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return qt(this._delegate,k._(this._delegate))}signInWithCredential(R){return qt(this._delegate,k.$(this._delegate,R))}signInWithCustomToken(R){return qt(this._delegate,k.a2(this._delegate,R))}signInWithEmailAndPassword(R,Y){return qt(this._delegate,k.a9(this._delegate,R,Y))}signInWithEmailLink(R,Y){return qt(this._delegate,k.ac(this._delegate,R,Y))}signInWithPhoneNumber(R,Y){return Ji(this._delegate,k.s(this._delegate,R,Y))}signInWithPopup(R){var Y=this;return(0,c.Z)(function*(){return Xn(Un(),Y._delegate,"operation-not-supported-in-this-environment"),qt(Y._delegate,k.c(Y._delegate,R,tn))})()}signInWithRedirect(R){var Y=this;return(0,c.Z)(function*(){return Xn(Un(),Y._delegate,"operation-not-supported-in-this-environment"),yield Pn(Y._delegate),k.f(Y._delegate,R,tn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return k.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Jn,F})();function Qr(F,O,R){let Y=F;"function"!=typeof F&&({next:Y,error:O,complete:R}=F);const Ce=Y;return{next:yt=>Ce(yt&&vn.getOrCreate(yt)),error:O,complete:R}}function er(F,O){const R=function Gt(F,O){const R=ht();if(!R)return[];const Y=k.aD(Fi,F,O);switch(R.getItem(Y)){case Jn.NONE:return[k.N];case Jn.LOCAL:return[k.i,k.a];case Jn.SESSION:return[k.a];default:return[]}}(F,O);if(typeof self<"u"&&!R.includes(k.i)&&R.push(k.i),typeof window<"u")for(const Y of[k.b,k.a])R.includes(Y)||R.push(Y);return R.includes(k.N)||R.push(k.N),R}class Ei{constructor(){this.providerId="phone",this._delegate=new k.P(Yr(j.Z.auth()))}static credential(O,R){return k.P.credential(O,R)}verifyPhoneNumber(O,R){return this._delegate.verifyPhoneNumber(O,R)}unwrap(){return this._delegate}}Ei.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Ei.PROVIDER_ID=k.P.PROVIDER_ID;const _r=k.aA;class Br{constructor(O,R,Y=j.Z.app()){var Ce;_r(null===(Ce=Y.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:Y.name}),this._delegate=new k.R(O,R,Y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(F){F.INTERNAL.registerComponent(new fe.wA("auth-compat",O=>{const R=O.getProvider("app-compat").getImmediate(),Y=O.getProvider("auth");return new Rn(R,Y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.Q,FacebookAuthProvider:k.U,GithubAuthProvider:k.W,GoogleAuthProvider:k.V,OAuthProvider:k.X,SAMLAuthProvider:k.Y,PhoneAuthProvider:Ei,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Br,TwitterAuthProvider:k.Z,Auth:Rn,AuthCredential:k.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(wt,Oe,V)=>{function c(k,re,le,me,fe,ve,we){try{var q=k[ve](we),G=q.value}catch(J){return void le(J)}q.done?re(G):Promise.resolve(G).then(me,fe)}function j(k){return function(){var re=this,le=arguments;return new Promise(function(me,fe){var ve=k.apply(re,le);function we(G){c(ve,me,fe,we,q,"next",G)}function q(G){c(ve,me,fe,we,q,"throw",G)}we(void 0)})}}V.d(Oe,{Z:()=>j})},7582:(wt,Oe,V)=>{function re(ie,ee){var Ae={};for(var he in ie)Object.prototype.hasOwnProperty.call(ie,he)&&ee.indexOf(he)<0&&(Ae[he]=ie[he]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(he=Object.getOwnPropertySymbols(ie);Pe<he.length;Pe++)ee.indexOf(he[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,he[Pe])&&(Ae[he[Pe]]=ie[he[Pe]])}return Ae}function J(ie,ee,Ae,he){return new(Ae||(Ae=Promise))(function(Me,lt){function Tt(rn){try{Rt(he.next(rn))}catch(Mn){lt(Mn)}}function Xt(rn){try{Rt(he.throw(rn))}catch(Mn){lt(Mn)}}function Rt(rn){rn.done?Me(rn.value):function Pe(Me){return Me instanceof Ae?Me:new Ae(function(lt){lt(Me)})}(rn.value).then(Tt,Xt)}Rt((he=he.apply(ie,ee||[])).next())})}function Se(ie){return this instanceof Se?(this.v=ie,this):new Se(ie)}function Ie(ie,ee,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,he=Ae.apply(ie,ee||[]),Me=[];return Pe={},lt("next"),lt("throw"),lt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function lt(hn){he[hn]&&(Pe[hn]=function(Qn){return new Promise(function(An,Un){Me.push([hn,Qn,An,Un])>1||Tt(hn,Qn)})})}function Tt(hn,Qn){try{!function Xt(hn){hn.value instanceof Se?Promise.resolve(hn.value.v).then(Rt,rn):Mn(Me[0][2],hn)}(he[hn](Qn))}catch(An){Mn(Me[0][3],An)}}function Rt(hn){Tt("next",hn)}function rn(hn){Tt("throw",hn)}function Mn(hn,Qn){hn(Qn),Me.shift(),Me.length&&Tt(Me[0][0],Me[0][1])}}function ze(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ee=ie[Symbol.asyncIterator];return ee?ee.call(ie):(ie=function it(ie){var ee="function"==typeof Symbol&&Symbol.iterator,Ae=ee&&ie[ee],he=0;if(Ae)return Ae.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&he>=ie.length&&(ie=void 0),{value:ie&&ie[he++],done:!ie}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),Ae={},he("next"),he("throw"),he("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function he(Me){Ae[Me]=ie[Me]&&function(lt){return new Promise(function(Tt,Xt){!function Pe(Me,lt,Tt,Xt){Promise.resolve(Xt).then(function(Rt){Me({value:Rt,done:Tt})},lt)}(Tt,Xt,(lt=ie[Me](lt)).done,lt.value)})}}}V.d(Oe,{FC:()=>Ie,KL:()=>ze,_T:()=>re,mG:()=>J,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=1442)}]);